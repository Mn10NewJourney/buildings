#Bell Nature Mall
#Copyright (c) 2024-Present - Mn10

#Updated November 11, 2024: Switched the freight elevators' fixtures to Signa4.

#MILESTONES:
#1. Project started on: 28 June 2024
#2. Main structure finished: 3 July 2024
#3. First release date: 4 July 2024
#4. Added freight elevators: 29 July 2024
#5. Remaining detail finish date: 14 August 2024

#SCRIPTS TO BE INCLUDED
	#1. My new scripts
	<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>

	#2. ObjectPlus and SROC (credit to EG881)
	<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
	<Include SROC/Scripts/r1_script.txt> #EG881

	#3. My previous scripts
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	<Include data/ACME Floor Indicator/Scripts/Indicators.txt>

##--------------------------------------------------------------------------------##

#Globals
<Globals>
	Name = Bell Nature Mall
	Designer = Mn10 (Fixtures by Windows446 and Vector)
	Location = 510 1st Street, Tranquility City
	Description = A 6-story mall situated in southeastern of the city.
	Version = 1
	CameraFloor = 1
	CameraPosition = -58, -40
	CameraRotation = 0, 180, 0
<EndGlobals>

##--------------------------------------------------------------------------------##

#Textures
<Textures>
	#Commons
	Load data/black.jpg, Black, 1, 1, false
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	Load data/stucco4.jpg, ColumnTex, 0.25, 0.25 #Support columns
	Load data/text16.jpg, WoodSign2, 1, 1, false
	Load data/signs_mod/elevhallsign1a.png, FireSign, 1, 1, false #EG881

	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	#Load data/Melvin/ABH_Tex/walkway-darker.jpg, SidewalkDarker, 0.03125, 0.03125

		#Plants
		Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881
		Load data/ogrebullet/textures/grass.jpg, Grass_Green, 0.01, 0.01
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881
		Load data/EG881/cem_tr2b.jpg, FlowerBed, 0.075225, 0.0625 #EG881

		#Roads
		Load data/grndroad1mid.jpg, Road, 0.04, 0.04
		Load data/Melvin/Roads/4lane-twoway1-90de.png, ParkingEntranceRoad, 0.020833, 0.05
		Load data/Melvin/Roads/2lane-twoway-90de.png, ParkingEntranceRoad2, 0.041667, 0.05

		#Road markings
		Load data/EG881/parkingspacex.png, ParkingSpaceX, 1, 1, false #EG881
		Load data/EG881/parkingspacez.png, ParkingSpaceZ, 1, 1, false #EG881
		Load data/EG881Mod/NoParkingX.png, NoParkingX, 1, 1, false #EG881 #Yellow islands
		Load data/EG881Mod/NoParkingZ.png, NoParkingZ, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandX.png, WhiteIslandX, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandZ.png, WhiteIslandZ, 1, 1, false #EG881
		Load data/EG881/paint_white.png, WhiteLine, 1, 1, false #EG881

	#External facade
	Load data/graniteTexture_0005b.jpg, ExtFacade, 0.05, 0.05, true
	Load data/EG881/Concrete/smoothconcrete1.jpg, ExtFacade2, 0.0625, 0.0625, true #EG881 #Parking garage interior walls
	Load data/granite_0008b.jpg, ExtFacade3, 0.075, 0.075, true #Parking garage exterior walls

	#Windows
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindows, true, 0.05, 1 #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindowsB, true, 1, 1, false #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky1.jpg, MallWindows, true, 0.025, 1 #EG881
	Load data/EG881/windows11h_insideblack.png, MallWindowsInt, 0.025, 1 #EG881

	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, Skylight, true, 1, 1, false #EG881
	Load data/windows11h_inside.gif, SkylightInt, 1, 1, false

	#Lobby deck and railings
	Load data/brick021.jpg, LobbyDeckRailing, 0.2, 0.2
	Load data/EG881/brick040+_brown.jpg, LobbyDeckRailing2, 0.25, 0.25 #EG881
	Load data/brick102.jpg, PG_ER_Railing, 0.15, 0.15 #PG_ER = Parking garage entrance road

	#Main textures
		#Parking areas
		Load data/EG881/cem_tr2b.jpg, ParkingFloor, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr3.jpg, ParkingFloor2, 0.075225, 0.0625 #EG881
		Load data/stucco1.jpg, ParkingWall, 0.15, 0.15
		Load data/EG881/Concrete/smoothconcrete1_white.jpg, ParkingWall2, 0.0625, 0.0625 #EG881 #Railings on B0
		Load data/EG881/cem_tr2b.jpg, ParkingCeiling, 0.075225, 0.0625 #EG881

			#Parking lobbies
			Load data/Carpet0021d_S.jpg, ParkingLobbyFloor, 0.2, 0.2 #Levels B2-B0 (All elevators)
			Load data/Carpet0013b_S.jpg, ParkingLobbyFloor2, 0.2, 0.2 #Levels 1A, 2A, 3A, and 4A (Elevators 9-11)

			Load data/Carpet0021b_S.jpg, ParkingLobbyCarpet, 0.2, 0.2 #Levels 1, 2, 3, and 4 (Elevators 9-11)
			Load data/Carpet0012_S.jpg, ParkingLobbyCarpet2, 0.2, 0.2 #Levels 1, 2, 3, and 4 (Elevators 9-11)

			Load data/EG881/stucco2f_white2.jpg, ParkingLobbyWall, 0.08, 0.08 #EG881 #All other floors
			Load data/EG881/stucco22b_white.jpg, ParkingLobbyWall2, 0.1, 0.1 #EG881 #Levels 1, 2, 3, and 4 (Elevators 9-11)
			Load data/granite_0007e.jpg, ParkingLobbyEscWall, 0.1, 0.1 #EG881 #Escalators between B2-1 (North)/B2-B1 (South)
			Load data/graniteTexture_0001b.jpg, ParkingLobbyEscRail, 0.25, 0.25 #EG881 #Railings around escalators between B2-1 (North)/B2-B1 (South)

			Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeiling, 0.125, 0.125 #EG881
			Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeilingB, 1, 1, false #EG881
			Load data/stucco4.jpg, ParkingLobbyCeiling2, 0.25, 0.25

			#Shaft doors on parking levels
			#SET 1 - Used by the following elevators:
			#1. Elevators 1-2 and 5-8: Level B2 only
			#2. Elevators 3-4: Levels B2-B0

			Load data/EG881/stainlesssteeldoor2stripes.jpg, ParkingShaftDoors, 1, 1, false #EG881
			Load data/EG881/stainlesssteeldoor2stripes.jpg, ParkingShaftDoors2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, ParkingShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, ParkingShaftDoorsSide, 1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, ParkingShaftDoors2Side, -1, 1, false #EG881

			#SET 2 - Used by the following elevators:
			#1. Elevators 9-11: Levels B2-B1, 1A, 2A, 3A, and 4A
			#2. Elevators 12-13: Level B2 only.

			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, Parking2ShaftDoors, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, Parking2ShaftDoors2, 1, 1, false #EG881
			Load data/panel-back3.jpg, Parking2ShaftDoors_Trim, 1, 1, false

		#Level B1
		Load data/floor111b.jpg, B1Floor, 0.25, 0.25
		Load data/Carpet0002_S.jpg, B1Floor2, 0.2, 0.2
		Load data/checker08.jpg, B1Floor3, 0.25, 0.25
		Load data/checker12.jpg, B1RRFloor, 0.25, 0.25 #Restroom floor

		Load data/MT/treatment01.jpg, B1Wall_Lower, 0.2, 0.2 #EG881 #Lower walls and railings
		Load data/stucco22b.jpg, B1Wall, 0.1, 0.1 #Upper walls
		Load data/marble5c.jpg, B1RRWall, 0.2, 0.2, true #Restroom walls
		Load data/EG881/ceilingtile3x3.jpg, B1Ceiling, 0.125, 0.125 #EG881
		
			Load data/EG881_Otis/Doors/otiswhitedoorleft.jpg, B1ShaftDoors, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoorright.jpg, B1ShaftDoors2, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoortrim1.jpg, B1ShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoortrim1.jpg, B1ShaftDoorsSide, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoortrim1.jpg, B1ShaftDoors2Side, -1, 1, false #EG881

		#Levels 1-6
		Load data/floor065.jpg, ShopFloor, 0.25, 0.25
		Load data/EG881/ceilingtile2.jpg, ShopCeiling, 0.125, 0.125 #EG881

			#Atrium bases (AB)
			Load data/EG881/Carpet0034_SGreen.jpg, ABCarpet1, 0.2, 0.2 #EG881
			Load data/EG881/Carpet0034_SPurple.jpg, ABCarpet2, 0.2, 0.2 #EG881
			Load data/Carpet0021b_S.jpg, ABCarpet3, 0.2, 0.2

			#Walls on 1st-6th floors
			Load data/MarbleWhite0047b_S.jpg, ShopWall, 0.1, 0.2
			Load data/marb148.jpg, ShopWall2, 0.15, 0.15 #EG881 #Railings
			Load data/marble5c.jpg, ShopWall3, 0.15, 0.15, true #External shaft walls (Shafts 1-4)

			#Escalator outside walls
			Load data/st_wall2.jpg, WestEscWall, 0.13635, 0.09765 #West Escalators 1-6
			Load data/marble6f.jpg, SoutheastEscWall, 0.125, 0.125 #Southeast Escalators 1-6
			Load data/granite_0007e.jpg, NortheastEscWall, 0.075, 0.075 #Northeast Escalators 5-6

			#Shaft doors for interior elevators
			Load data/EG881/lightaluminumdoor2.jpg, ShopShaftDoors, 1, 1, false #EG881
			Load data/EG881/lightaluminumdoor2.jpg, ShopShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, ShopShaftDoors_Trim, 1, 1, false

			#Glass shaft doors for glass elevators
			Load data/glassdoor_trans.gif, GlassShaftDoors, 1, 1, false
			Load data/glassdoor_trans.gif, GlassShaftDoors2, -1, 1, false
			LoadCropped data/glassdoor_trans.gif, GlassShaftDoorsSide, 236, 0, 20, 512, 1, 1, false
			LoadCropped data/glassdoor_trans.gif, GlassShaftDoors2Side, 236, 0, 20, 512, -1, 1, false
			Load data/panel-back3.jpg, GlassShaftDoors_Trim, 1, 1, false

		#Service/freight elevator lobby
		Load data/brick040+.jpg, ServiceLobbyFloor, 0.2, 0.2
		Load data/wall5b.jpg, ServiceLobbyWall, 0.25, 0.25

		#Drop ceilings
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881 #Restrooms
		Load data/EG881/Ceilings/ceilingtile4single.jpg, SLDropCeiling, 0.5, 0.5 #EG881 #Service elevator lobby

		#Service levels & roof
		Load data/stucco1.jpg, ServiceWall, 0.1, 0.1 #Currently used by the storage on 1-4A
		Load data/EG881/cem_tr2b.jpg, ElevMRIntFloor, 0.075225, 0.0625 #EG881
		Load data/stucco1.jpg, ElevMRIntWall, 0.2, 0.2
		Load data/EG881/cem_tr2b.jpg, ElevMRIntCeiling, 0.075225, 0.0625 #EG881

		Load data/cem_tr_b.jpg, RoofFloor, 0.075, 0.075

	#Doors
		#Main doors
		Load data/miscdoor1.jpg, Door1, 1, 1, false
		LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Black entrance doors
		Load data/EG881/miscdoor8_blacktrans.png, BLKEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky1.jpg, BLKEntDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, BLKEntDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

	#Escalators
	Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false

	#Shafts
	Load data/EG881/cem_tr2b.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881

		#Glass Elevator Shaft
		Load data/EG881/blackdoortrim.jpg, GLEShaftWall, 0.05, 0.05 #EG881
		Load data/stucco1.jpg, GLETrack, 0.1, 0.1
		Load data/EG881/windows11h_insideblack.png, GLEPanel, 1, 1, false #EG881
		Load data/windows11h_inside.gif, GLEPanel2, 1, 1, false

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/panel-back3.jpg, ElevExt2, 1, 1, false
		Load data/metal080.jpg, ElevExt3, 0.5, 0.5, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/panel-back3.jpg, ElevPanel, 1, 1, false
		Load data/MT/panel-back2.gif, ElevPanel2, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels, 1, 1, false
		Load data/Melvin/SDT_Signs/SDTCallPanel.png, ElevExtPanels-Alt, 1, 1, false

		#Glass elevators
		Load data/marb047.jpg, GlassElevFloor, 0.3, 0.3
		Load data/panel-back3.jpg, GlassElevCeiling, 1, 1, false
		Load data/panel-back3.jpg, GlassElevCeiling2, 1, -1, false
		Load data/EG881/Lights/squarelight1_white.jpg, GlassElevCeilingLight, 1, 1, false #EG881
		Load data/otis4_weavefloor.jpg, GlassElevCeilingDeco, 0.5, 0.5, true
		Load data/marble5.jpg, GlassElevWall, 0.2, 0.2
		Load data/hungary05.jpg, GlassElevWallPanel, 0.5, 0.5
		Load data/hungary02.jpg, GlassElevWallPanel2, 0.5, 0.5
		Load data/glasselevator2b.gif, GlassElevWallGlass, 0.5, 1, false
		Load data/panel-back3.jpg, GlassElevPanelMain, 1, 1, false #EG881
		Load data/panel-back3.jpg, GlassElevPanelTop, 1, 0.125, false #EG881
		Load data/glassdoor_trans.gif, GlassElevDoors, 1, 1, false
		Load data/glassdoor_trans.gif, GlassElevDoors2, -1, 1, false
		LoadCropped data/glassdoor_trans.gif, GlassElevDoorsSide, 236, 0, 20, 512, 1, 1, false
		LoadCropped data/glassdoor_trans.gif, GlassElevDoors2Side, 236, 0, 20, 512, -1, 1, false

		#Interior elevators
		Load data/Carpet0012_S.jpg, InteriorElevFloor, 0.2, 0.2
		Load data/EG881/stainlesssteel2.jpg, InteriorElevCeiling, 1, 1, false #EG881
		Load data/EG881/light1x.jpg, InteriorElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, InteriorElevWall, 1, 1, false #EG881
		Load data/checker10.jpg, InteriorElevWallPanel, 0.5, 0.5
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, InteriorElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, InteriorElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, InteriorElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, InteriorElevDoors2, 1, 1, false #EG881

		#Parking elevators
		Load data/Carpet0013b_S.jpg, ParkingElevFloor, 0.2, 0.2
		Load data/EG881/stainlesssteel2.jpg, ParkingElevCeiling, 1, 1, false #EG881
		Load data/EG881/Lights/squarelight1_white.jpg, ParkingElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, ParkingElevWall, 1, 1, false #EG881
		Load data/wood085.jpg, ParkingElevWallPanel, 0.2, 0.2
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, ParkingElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, ParkingElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, ParkingElevDoors, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, ParkingElevDoors2, -1, 1, false #EG881

		#Basement elevators
		Load data/EG881/eg881_Carpet1.jpg, BasementElevFloor, 0.25, 0.25 #EG881
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, BasementElevCeiling, 1, -1, false
		Load data/EG881/light1z.jpg, BasementElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, BasementElevWall, 1, 1, false #EG881
		Load data/checker11.jpg, BasementElevWallPanel, 0.5, 0.5
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, BasementElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, BasementElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, BasementElevDoors, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, BasementElevDoors2, -1, 1, false #EG881

		#Freight elevators
		Load data/Threadplate0055_2_S.jpg, FreightElevFloor, 0.5, 0.5
		#Load data/panel-back3.jpg, FreightElevWall, 1, 1, false
		Load data/metal080.jpg, FreightElevWall, 0.5, 0.5
		Load data/EG881/stainlesssteel2.jpg, FreightElevWallTrim, 1, 1, false #EG881
		#Rotate FreightElevWallTrim, 90

		#Load data/Threadplate0055_2_S.jpg, FreightElevWallPanel, 0.4, 0.4
		Load data/panel-back3.jpg, FreightElevCeiling, 1, -1, false
		Load data/EG881/Lights/squarelight1_white.jpg, FreightElevCeilingLight, 1, 1, false #EG881
		Load data/panel-back3.jpg, FreightElevPanelMain, 1, 1, false #EG881
		Load data/panel-back3.jpg, FreightElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightElevDoors2, 1, 1, false #EG881

			#Shaft doors (Freight)
			#Load data/EG881/elevdoorleft_black.jpg, FreightAShaftDoors, 1, 1, false #EG881
			#Load data/EG881/elevdoorright_black.jpg, FreightAShaftDoors2, 1, 1, false #EG881
			#Load data/EG881/elevdoortrim_black.jpg, FreightAShaftDoors_Trim, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisgraydoorright.jpg, FreightBShaftDoors, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisgraydoorleft.jpg, FreightBShaftDoors2, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisgraydoortrim1.jpg, FreightBShaftDoors_Trim, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightCShaftDoors, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, FreightCShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, FreightCShaftDoors_Trim, 1, 1, false

	#MAD BS fixtures (Passenger elevators)
		#Call buttons
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonUp, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litgreen.gif, MAButtonUpLit, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonDown, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litred.gif, MAButtonDownLit, 1, 1, false #Windows446

		#Lanterns (Originally made by epco_rules, modified by ElevatorFace)
		Load data/Melvin/MT Lanterns/LanternUnlit.gif, MALanternUp, 1, 1, false
		Load data/Melvin/MT Lanterns/LanternBlue.gif, MALanternUpLit, 1, 1, false
		Load data/Melvin/MT Lanterns/LanternUnlit.gif, MALanternDown, 1, -1, false
		Load data/Melvin/MT Lanterns/LanternRed.gif, MALanternDownLit, 1, -1, false

		#Car buttons
		Load data/Other People's Fixtures/MAD BS/button_alarm.gif, MAButtonAlarm, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_phone.gif, MAButtonPhone, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_cancel.gif, MAButtonCancel, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_open.gif, MAButtonOpen, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_close.gif, MAButtonClose, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_unlit.gif, MAButton, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_litred.gif, MAButtonLit, 1, 1, false #Windows446

		#AddText MAButton, MAButtonHold, nimbus_sans_bold_condensed.ttf, 48, DH, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 6, MAButton, MAButton%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 4, MAButton, MAButton%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 0, 2, MAButton, MAButtonB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false

		AddTextRange 1, 6, MAButtonLit, MAButtonLit%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 4, MAButtonLit, MAButtonLit%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 0, 2, MAButtonLit, MAButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false

	#Floor indicators (All MAD BS elevators, both inside and outside)
	Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, MAIndBack, 1, 1, false
	AddTextRange 1, 6, MAIndBack, MAInd_Button%number%, acme_led.ttf, 240, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0
	AddTextRange 1, 4, MAIndBack, MAInd_Button%number%A, acme_led.ttf, 240, %number%A, -1, -1, -1, -1, center, center, 255, 0, 0
	AddTextRange 0, 2, MAIndBack, MAInd_ButtonB%number%, acme_led.ttf, 240, B%number%, -1, -1, -1, -1, center, center, 255, 0, 0

	#Signa 4 fixtures (Basement and Freight Elevators)
		#Hall buttons
		Load data/Other People's Fixtures/signa4/signa4callplate.png, ElevExtPanels-Signa4, 1, 1, false #Vector #Hall buttons
		Load data/Other People's Fixtures/signa4/signa4callplate.png, ElevExtPanels-Signa4-2, 1, 1, false #Vector #Hall lanterns
		Rotate ElevExtPanels-Signa4-2, 90
		Load data/Other People's Fixtures/signa4/signa4callunlit.png, Signa4ButtonUp, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4calllit.png, Signa4ButtonUpLit, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4callunlit.png, Signa4ButtonDown, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4calllit.png, Signa4ButtonDownLit, 1, 1, false #Vector

		#Lanterns
		Load data/Other People's Fixtures/signa4/signa4car.png, ElevIntPanels-Signa4, 1, 1, false #Vector #Door jamb lanterns (Elev. 12-13 only)
		Load data/Other People's Fixtures/signa4/signa4arrowunlit.png, Signa4LanternUp, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4arrowlit.png, Signa4LanternUpLit, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4arrowdnunlit.png, Signa4LanternDown, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4arrowdnlit.png, Signa4LanternDownLit, 1, 1, false #Vector

		#Car buttons
		Load data/Other People's Fixtures/signa4/signa4firecab2.png, Signa4FireCab, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4alarm.png, Signa4ButtonAlarm, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4help.png, Signa4ButtonPhone, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4blink.png, Signa4ButtonBlink, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4dopen.png, Signa4ButtonOpen, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4dclose.png, Signa4ButtonClose, 1, 1, false #Vector

		Load data/Other People's Fixtures/signa4/signa4blankunlit.png, Signa4Button, 1, 1, false #Vector
		Load data/Other People's Fixtures/signa4/signa4blanklit.png, Signa4ButtonLit, 1, 1, false #Vector

		#AddText Signa4Button, Signa4ButtonDH, nimbus_sans_bold_condensed.ttf, 48, DH, 0, 0, 128, 128, center, center, 255, 255, 255, false
		AddTextRange 1, 6, Signa4Button, Signa4Button%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 0, 0, 128, 128, center, center, 255, 255, 255, false
		AddTextRange 1, 4, Signa4Button, Signa4Button%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 0, 0, 128, 128, center, center, 255, 255, 255, false
		AddTextRange 0, 2, Signa4Button, Signa4ButtonB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 0, 0, 128, 128, center, center, 255, 255, 255, false

		AddTextRange 1, 6, Signa4ButtonLit, Signa4ButtonLit%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 0, 0, 128, 128, center, center, 255, 255, 255, false
		AddTextRange 1, 4, Signa4ButtonLit, Signa4ButtonLit%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 0, 0, 128, 128, center, center, 255, 255, 255, false
		AddTextRange 0, 2, Signa4ButtonLit, Signa4ButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 0, 0, 128, 128, center, center, 255, 255, 255, false

		#Floor indicators
		Load data/Other People's Fixtures/signa4/signa4ind.png, Signa4IntIndBack, 1, 1, false #Inside indicators
		AddTextRange 1, 6, Signa4IntIndBack, Signa4IntInd_Button%number%, Mitsubishi-Modern-V2.ttf, 50, %number%, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower
		AddTextRange 1, 4, Signa4IntIndBack, Signa4IntInd_Button%number%A, Mitsubishi-Modern-V2.ttf, 50, %number%A, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower
		AddTextRange 0, 2, Signa4IntIndBack, Signa4IntInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 50, B%number%, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower

		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, Signa4IndBack, 1, 1, false #Outside indicators
		AddTextRange 1, 6, Signa4IndBack, Signa4Ind_Button%number%, Mitsubishi-Modern-V2.ttf, 135, %number%, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower
		AddTextRange 1, 4, Signa4IndBack, Signa4Ind_Button%number%A, Mitsubishi-Modern-V2.ttf, 135, %number%A, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower
		AddTextRange 0, 2, Signa4IndBack, Signa4Ind_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 135, B%number%, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower

	#Miscellaneous
		#Poster(s) above elevator doors
		Load data/Melvin/SentaiTower/Poster7A.png, PosterB1A, 1, 1, false #Elevators 5-8

		#Elevator lobbies
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false

		#Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 4, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 5, 8, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 255, false
		AddTextRange 9, 13, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 0, false
		AddTextRange 14, 15, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Floor signs (Freight Elevators)
		Load data/Melvin/ABH_Tex/NewFS256/FSBack_SapphireService.jpg, FlrSignBack, 1, 1, false
		AddTextRange 1, 6, FlrSignBack, FlrSign%number%, nimbus_sans.ttf, 130, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 4, FlrSignBack, FlrSign%number%A, nimbus_sans.ttf, 130, %number%A, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 0, 2, FlrSignBack, FlrSignB%number%, nimbus_sans.ttf, 130, B%number%, 0, 0, 256, 198, center, center, 0, 0, 0, false

		#Blank floor signs
		AddTextRange 1, 6, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 4, Blank, BlankSign%number%A, nimbus_sans_bold.ttf, 72, %number%A, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 0, 2, Blank, BlankSignB%number%, nimbus_sans_bold.ttf, 72, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Restrooms
		Load data/signs_mod/Restroom1A.png, Sign_Restroom_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM_Brown, 1, 1, false

		#Access control
		#Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881

		#Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false
<EndTextures>

##--------------------------------------------------------------------------------##

#Floor assignments
<Floor -1>
	ID = B1
	Name = Basement Level 1
	Type = Restaurant
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -17.5
<EndFloor>

<Floor -2>
	ID = B2
	Name = Basement Level 2
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -3>
	ID = X
	Name = Elevator Pits
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = B0
	Name = Basement Level 0
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -7.5
<EndFloor>

<Floor 1>
	ID = 1
	Name = Level %floorid%
	Type = Lobby
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 2>
	ID = 1A
	Name = Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 3>
	ID = 2
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 4>
	ID = 2A
	Name = Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 5>
	ID = 3
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 6>
	ID = 3A
	Name = Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 7>
	ID = 4
	Name = Level %floorid%
	Type = Banking
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 8>
	ID = 4A
	Name = Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floors 9 to 10>
	ID = %floor% - 4
	Name = Mall Level %floorid%
	Type = Restaurant
	Height = 18.5
	InterfloorHeight = 1.5
<EndFloors>

#Merge floors
<Floors -2 to 10>
	Group = -2 - 10
<EndFloors>

<Floor 11>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

##--------------------------------------------------------------------------------##

#Landscape
	#Coordinate Set
	Set MainX = -1644
	Set MainZ = 2740 - 15
	Set InBNM = true

	#Tranquility City Landscape
	<Include buildings/KW_Maps/Tranquility City.txt>

	#Downtown ground
	#AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920

	#Ground cuts for building
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	Cut Landscape, -%1%, -1, -%2% - 50, %1%, 1, %2%, false, true
	Cut Landscape, -%1%, -1, %2%, -40 + 48 + 15, 1, %2% + 20, false, true #North plaza cuts
	Cut Landscape, -%1% - 30, -1, 40, -%1%, 1, %2% + 20, false, true #West sidewalk cuts
	Cut Landscape, %1%, -1, 161, %1% + 5.25, 1, %2% + 20, false, true #East sidewalk cuts

	####################

	#South Plaza
	AddFloor landscape, SouthPlaza1, Sidewalk, 0, -%1%, -%2% - 50, -128, -%2%, 0, 0, 0, 0
	AddFloor landscape, SouthPlaza2A, Grass_Dark, 0, -128, -%2% - 50, -80, -%2%, 0, 0, 0, 0
	AddFloor landscape, SouthPlaza2B, Sidewalk, 0, -80, -%2% - 50, 80, -%2%, 0, 0, 0, 0
	AddFloor landscape, SouthPlaza2C, Grass_Dark, 0, 80, -%2% - 50, 128, -%2%, 0, 0, 0, 0
	AddFloor landscape, SouthPlaza3, Sidewalk, 0, 128, -%2% - 50, %1%, -%2%, 0, 0, 0, 0

	#South trees
	AddTree(Tree1, -120, -245.5, 9, 8, 0)
	AddTree(Tree1, -110, -245.5, 9, 8, 0)
	AddTree(Tree1, -100, -245.5, 9, 8, 0)
	AddTree(Tree1, -90, -245.5, 9, 8, 0)

	AddTree(Tree1, 90, -245.5, 9, 8, 0)
	AddTree(Tree1, 100, -245.5, 9, 8, 0)
	AddTree(Tree1, 110, -245.5, 9, 8, 0)
	AddTree(Tree1, 120, -245.5, 9, 8, 0)
	
	####################

	#North Plaza/Entrance Sidewalk
	AddFloor landscape, NorthPlaza1, Sidewalk, 0, -%1%, %2%, -140, %2% + 20, 0, 0, 0, 0
	AddFloor landscape, NorthPlaza2A, Sidewalk, 0, -140, %2%, -120, %2% + 12, 0, 0, 0, 0
	AddFloor landscape, NorthPlaza2B, Grass_Dark, 0, -140, %2% + 12, -120, %2% + 20, 0, 0, 0, 0
	AddFloor landscape, NorthPlaza3, Sidewalk, 0, -120, %2%, -40, %2% + 20, 0, 0, 0, 0
	AddFloor landscape, NorthPlaza4, Grass_Dark, 0, -40, %2%, -40 + 48, %2% + 20, 0, 0, 0, 0
	AddFloor landscape, NorthPlaza5, Sidewalk, 0, -40 + 48, %2%, -40 + 48 + 15, %2% + 20, 0, 0, 0, 0

	#North trees
	AddTree(Tree2, -130, 216.5, 8.25, 11, 0)

	AddTree(Tree2, -32.5, 216.5, 8.25, 11, 0)
	AddTree(Tree2, -22.5, 216.5, 8.25, 11, 0)
	AddTree(Tree2, -12.5, 216.5, 8.25, 11, 0)
	AddTree(Tree2, -2.5, 216.5, 8.25, 11, 0)

	####################

	#West/East Sidewalks
	AddFloor landscape, WestSidewalk, Sidewalk, 0, -%1% - 30, 40, -%1%, %2% + 20, 0, 0, 0, 0
	AddFloor landscape, EastSidewalk, Sidewalk, 0, %1%, 161, %1% + 5.25, %2% + 20, 0, 0, 0, 0

####================================####

#PARKING ENTRANCE ROAD
Set LowerOffset = Floor(0).Base

#West Road Cuts
Cut Landscape, -208, -1, -265, -160, 1, 40, false, true
Cut Landscape, -208, -1, -265 - 0.1, -160, 1, -265 + 0.1, true, false
Cut Landscape, -208, -1, -250 - 0.1, -160, 1, -250 + 0.1, true, false

#East Road Cuts
Cut Landscape, 160, -1, -265, 184, 1, 160, false, true
Cut Landscape, 160, -1, -265 - 0.1, 184, 1, -265 + 0.1, true, false
Cut Landscape, 160, -1, -250 - 0.1, 184, 1, -250 + 0.1, true, false

	#Sidewalk fillers
	DrawWalls = true, true, false, false, false, false
	AddWall landscape, 1stStreet_SWF1A, Sidewalk, 0, -208, -265, -208, -250, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 1stStreet_SWF1B, Grass_Green, 0, -208, -250, -208, -200, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 1stStreet_SWF2A, Sidewalk, 0, -160, -265, -160, -250, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 1stStreet_SWF2B, Sidewalk, 0, -160, -250, -160, -200, 0.5, 0.5, -0.5, -0.5, 0, 0 #Plaza side

	AddWall landscape, 1stStreet_SWF3A, Sidewalk, 0, 160, -265, 160, -250, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 1stStreet_SWF3B, Sidewalk, 0, 160, -250, 160, -200, 0.5, 0.5, -0.5, -0.5, 0, 0 #Plaza side
	AddWall landscape, 1stStreet_SWF4A, Sidewalk, 0, 184, -265, 184, -250, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 1stStreet_SWF4B, Grass_Green, 0, 184, -250, 184, -200, 0.5, 0.5, -0.5, -0.5, 0, 0

	Set FenceThickness = 0.5
	#West railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	AddWall landscape, WestRoad_Rail1, PG_ER_Railing, %FenceThickness%, -208, -200, -208, 40 + %FenceThickness%, 6 + 3.5, 6 + 3.5, Floor(0).Base, Floor(0).Base, 0, 0
	WallOrientation = left
	AddWall landscape, WestRoad_Rail2, PG_ER_Railing, %FenceThickness%, -208, 40, -160, 40, 6 + 3.5, 6 + 3.5, Floor(0).Base, Floor(0).Base, 0, 0

	#East railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	AddWall landscape, EastRoad_Rail1, PG_ER_Railing, %FenceThickness%, 184, -200, 184, 160 + %FenceThickness%, 6 + 3.5, 6 + 3.5, Floor(0).Base, Floor(0).Base, 0, 0
	AddWall landscape, EastRoad_Rail2, PG_ER_Railing, %FenceThickness%, 160, 160, 184, 160, 6 + 3.5, 6 + 3.5, Floor(0).Base, Floor(0).Base, 0, 0

	#Road creation
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false

		#WEST
		AddFloor landscape, WestEntrRoad_Upper1, Road, 0, -208, -265, -160, -265 + 15, -0.5, -0.5, 0, 0
		AddFloor landscape, WestEntrRoad_Upper2, ParkingEntranceRoad, 0, -208, -265 + 15, -160, -200, -0.5, -0.5, 0, 0
		AddFloor landscape, WestEntrRoad_Slope, ParkingEntranceRoad, 0, -208, -200, -160, -200 + 155, -0.5, %LowerOffset%, 0, 0
		AddFloor landscape, WestEntrRoad_Base, Road, 0, -208, -45, -160, 40, %LowerOffset%, %LowerOffset%, 0, 0

		#EAST
		AddFloor landscape, WestEntrRoad_Upper1, Road, 0, 160, -265, 184, -265 + 15, -0.5, -0.5, 0, 0
		AddFloor landscape, WestEntrRoad_Upper2, ParkingEntranceRoad2, 0, 160, -265 + 15, 184, -200, -0.5, -0.5, 0, 0
		AddFloor landscape, WestEntrRoad_Slope, ParkingEntranceRoad2, 0, 160, -200, 184, -200 + 155, -0.5, %LowerOffset%, 0, 0
		AddFloor landscape, WestEntrRoad_Base1, ParkingEntranceRoad2, 0, 160, -45, 184, 80, %LowerOffset%, %LowerOffset%, 0, 0
		AddFloor landscape, WestEntrRoad_Base2, Road, 0, 160, 80, 184, 160, %LowerOffset%, %LowerOffset%, 0, 0

####================================####

#LOBBY DECK
Set DeckBase = Floor(1).Base

#Deck creation
FloorOrientation = top
DrawWalls = true, true, false, false, false, false
AddFloor landscape, SouthLDFloor, Sidewalk, 1, -120, -230, 120, -200, %DeckBase%, %DeckBase%, 0, 0
AddFloor landscape, NorthLDFloor, Sidewalk, 1, -120, 200, -40, 212, %DeckBase%, %DeckBase%, 0, 0
AddFloor landscape, WestFireExit, Sidewalk, 1, -170, 41, -160, 200 - 8, %DeckBase%, %DeckBase%, 0, 0
AddFloor landscape, EastFireExit, Sidewalk, 1, 160, 161, 165, 200 - 8, %DeckBase%, %DeckBase%, 0, 0

#Ramps from street
DrawWalls = false, true, false, false, false, false
AddFloor landscape, SouthLDRamp1, Sidewalk, 0, -128, -240.5, -80, -230.5, 0, %DeckBase%, true, false, 0, 0
AddFloor landscape, SouthLDRampTop, Sidewalk, 0, -80, -240.75, 80, -230, %DeckBase%, %DeckBase%, false, false, 0, 0
AddFloor landscape, SouthLDRamp2, Sidewalk, 0, 80, -240.5, 128, -230.5, %DeckBase%, 0, true, false, 0, 0
AddFloor landscape, NorthLDRamp, Sidewalk, 0, -40, 200, -40 + 48, 212, %DeckBase%, 0, true, false, 0, 0

	####================================####

	#Railings around south stairs/ramps
	Set FenceThickness = 0.25
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, SRampRail1, LobbyDeckRailing, %FenceThickness%, -128, -240.5, -80, -240.5, 3, 7, 0, 0, 0, 0	
		AddWall landscape, SRampRail2, LobbyDeckRailing, %FenceThickness%, 80, -240.5, 128, -240.5, 7, 3, 0, 0, 0, 0	
		WallOrientation = left
		AddWall landscape, SRampRail3, LobbyDeckRailing, %FenceThickness%, -128, -230.5, -80, -230.5, 3, 7, 0, 0, 0, 0	
		AddWall landscape, SRampRail4, LobbyDeckRailing, %FenceThickness%, 80, -230.5, 128, -230.5, 7, 3, 0, 0, 0, 0	

		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, SStairsRail1, LobbyDeckRailing2, %FenceThickness%, -128, -230, -120, -230, 3, 7, 0, 0, 0, 0
		AddWall landscape, SStairsRail2, LobbyDeckRailing2, %FenceThickness%, -120, -230, -80, -230, 7, 7, 0, 0, 0, 0
		AddWall landscape, SStairsRail3, LobbyDeckRailing2, %FenceThickness%, 80, -230, 120, -230, 7, 7, 0, 0, 0, 0
		AddWall landscape, SStairsRail4, LobbyDeckRailing2, %FenceThickness%, 120, -230, 128, -230, 7, 3, 0, 0, 0, 0

		WallOrientation = right
		AddWall landscape, SStairsRail5, LobbyDeckRailing, %FenceThickness%, -80, -248.75, -80, -240.75, 3, 7, 0, 0, 0, 0
		WallOrientation = left
		AddWall landscape, SStairsRail6, LobbyDeckRailing, %FenceThickness%, 80, -248.75, 80, -240.75, 3, 7, 0, 0, 0, 0

	####================================####

	#Railings around north stairs/ramps
	Set FenceThickness = 0.25
		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, NRampRail1, LobbyDeckRailing2, %FenceThickness%, -40, 211.75, -40 + 48, 211.75, 7, 3, 0, 0, 0, 0

		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, NStairsRail1, LobbyDeckRailing2, %FenceThickness%, -128, 211.75, -120, 211.75, 3, 7, 0, 0, 0, 0

		WallOrientation = right
		AddWall landscape, NStairsRail2, LobbyDeckRailing2, %FenceThickness%, -120, 212, -120, 220, 7, 3, 0, 0, 0, 0
		WallOrientation = left
		AddWall landscape, NStairsRail3, LobbyDeckRailing2, %FenceThickness%, -40, 212, -40, 220, 7, 3, 0, 0, 0, 0

	####================================####

	#Railings around west fire exit walkway
	Set FenceThickness = 0.25
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, WestWalkwayRail_West1, LobbyDeckRailing2, %FenceThickness%, -170, 46 + %FenceThickness%, -170, 98.5 - %FenceThickness%, 7, 7, 0, 0, 0, 0
		AddWall landscape, WestWalkwayRail_West2, LobbyDeckRailing2, %FenceThickness%, -170, 108.5 + %FenceThickness%, -170, 161 - %FenceThickness%, 7, 7, 0, 0, 0, 0
		AddWall landscape, WestWalkwayRail_West4, LobbyDeckRailing2, %FenceThickness%, -170, 166 + %FenceThickness%, -170, 200 - 8, 7, 7, 0, 0, 0, 0
		AddWall landscape, WestWalkwayRail_South, LobbyDeckRailing2, %FenceThickness%, -170, 41, -160, 41, 7, 7, 0, 0, 0, 0
		AddWall landscape, WestWalkway_NWStairRail, LobbyDeckRailing2, %FenceThickness%, -170, 200 - 8, -170, 200, 7, 3, 0, 0, 0, 0

		WallOrientation = right
		AddWall landscape, WestWalkwayStairRailA1, LobbyDeckRailing, %FenceThickness%, -170 - 8, 41, -170, 41, 3, 7, 0, 0, 0, 0
		WallOrientation = left
		AddWall landscape, WestWalkwayStairRailA2, LobbyDeckRailing, %FenceThickness%, -170 - 8, 46, -170, 46, 3, 7, 0, 0, 0, 0

		WallOrientation = right
		AddWall landscape, WestWalkwayStairRailB1, LobbyDeckRailing, %FenceThickness%, -170 - 8, 98.5, -170, 98.5, 3, 7, 0, 0, 0, 0
		WallOrientation = left
		AddWall landscape, WestWalkwayStairRailB2, LobbyDeckRailing, %FenceThickness%, -170 - 8, 108.5, -170, 108.5, 3, 7, 0, 0, 0, 0

		WallOrientation = right
		AddWall landscape, WestWalkwayStairRailC1, LobbyDeckRailing, %FenceThickness%, -170 - 8, 161, -170, 161, 3, 7, 0, 0, 0, 0
		WallOrientation = left
		AddWall landscape, WestWalkwayStairRailC2, LobbyDeckRailing, %FenceThickness%, -170 - 8, 166, -170, 166, 3, 7, 0, 0, 0, 0

	####================================####

	#Railings around east fire exit walkway
	Set FenceThickness = 0.25
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall landscape, EastWalkwayRail_South, LobbyDeckRailing2, %FenceThickness%, 160, 161, 165, 161, 7, 7, 0, 0, 0, 0

		WallOrientation = left
		AddWall landscape, EastWalkwayRail_East1, LobbyDeckRailing2, %FenceThickness%, 165, 161 - %FenceThickness%, 165, 200 - 8, 7, 7, 0, 0, 0, 0
		AddWall landscape, EastWalkwayRail_East2, LobbyDeckRailing2, %FenceThickness%, 165, 200 - 8, 165, 200, 7, 3, 0, 0, 0, 0

	####================================####

	#ENTRANCE STAIRS
	#Main entrances
	OP_OrthoStair(landscape, SouthwestEnt_Stairs, Sidewalk, -230, -200, left, -120 - 8, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, SoutheastEnt_Stairs, Sidewalk, -230, -200, right, 120 + 8, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, SouthEnt_Stairs, Sidewalk, -80, 80, front, -248.75, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, NorthEnt_Stairs, Sidewalk, -120, -40, back, 220, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, NorthwestEnt_Stairs, Sidewalk, 200, 212 - 0.25, left, -120 - 8, 8, 1, 0.5, 0, 1)

	#Fire exits
	OP_OrthoStair(landscape, WestFireExit_StairsA, Sidewalk, -170, -160, back, 200, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, WestFireExit_StairsB, Sidewalk, 41, 46, left, -178, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, WestFireExit_StairsC, Sidewalk, 98.5, 108.5, left, -178, 8, 1, 0.5, 0, 1)
	OP_OrthoStair(landscape, WestFireExit_StairsD, Sidewalk, 161, 166, left, -178, 8, 1, 0.5, 0, 1)

	OP_OrthoStair(landscape, EastFireExit_Stairs, Sidewalk, 160, 165, back, 200, 8, 1, 0.5, 0, 1)

##--------------------------------------------------------------------------------##

#Set textures
<Function TexPrefix>
	#Main prefixes
	if[%floor% = -2] Set 5 = Parking
	if[%floor% > 0] Set 5 = Shop
	if[%floor% = -1 | %floor% = 0] Set 5 = B1

	#Freight elevators' shaft doors
	Set 5F = FreightC #Most floors
	if[%floor% < 1] Set 5F = FreightB #Levels B2-B0
<EndFunction>

##--------------------------------------------------------------------------------##

#EXTERIOR & INTERIOR
#A. Parking areas
#Level B2
<Floor -2>
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set texture prefix
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floor(s)
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, Road, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Cuts for island around parking spaces
		CutAll -121 + 18, %interfloorheight% - 0.1, -115, -39 - 18, %interfloorheight% + 1, -39 - 18, false, true #SW Island

		#Islands around parking spaces
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor SWIsland, ParkingFloor2, 0.5, -121 + 18, -115, -39 - 18, -39 - 18, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Road markings
		#Parking spaces
		DrawWalls = false, true, false, false, false, false
		Set Offset = %interfloorheight% + 0.01

			#South
			AddFloor Parking_S4, ParkingSpaceZ, 0, 140 - (9 * 2), -199.5, 140 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S5, ParkingSpaceZ, 0, 100 - (9 * 2), -199.5, 100 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S6, ParkingSpaceZ, 0, 60 - (9 * 2), -199.5, 60 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S7, ParkingSpaceZ, 0, 20 - (9 * 2), -199.5, 20 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			#AddFloor Parking_S8, ParkingSpaceZ, 0, -20 - (9 * 2), -199.5, -20 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S8, ParkingSpaceZ, 0, -39, -199.5, -39 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 2, -1, true
			AddFloor Parking_S9, ParkingSpaceZ, 0, -60 - (9 * 2), -199.5, -60 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S10, ParkingSpaceZ, 0, -100 - (9 * 2), -199.5, -100 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S11, ParkingSpaceZ, 0, -140 - (9 * 2), -199.5, -140 + (9 * 2), -199.5 + 17, %Offset%, %Offset%, 4, -1, true

			#Southwest
			AddFloor Parking_SW1, ParkingSpaceX, 0, -39 - 18, -100 - (9 * 1), -39, -100 + (9 * 2), %Offset%, %Offset%, -1, 3, true
			AddFloor Parking_SW2, ParkingSpaceX, 0, -39 - 18, -60 - (9 * 2), -39, -60, %Offset%, %Offset%, -1, 2, true
			AddFloor Parking_SW3, ParkingSpaceX, 0, -121, -100 - (9 * 1), -121 + 18, -100 + (9 * 2), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_SW4, ParkingSpaceX, 0, -121, -60 - (9 * 2), -121 + 18, -60, %Offset%, %Offset%, 1, 2, true
			AddFloor Parking_SW5, ParkingSpaceZ, 0, -60 - (9 * 2), -39 - 18, -60 + (9 * 2), -39, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_SW6, ParkingSpaceZ, 0, -100 - (9 * 2), -39 - 18, -100 + (9 * 2), -39, %Offset%, %Offset%, 4, -1, true

			#Southeast
			AddFloor Parking_SE1-4_Spacer, NoParkingZ, 0, 79 + 18, -140 - (9 * 2), 121 - 18, -100 + (9 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor Parking_SE1, ParkingSpaceX, 0, 121 - 18, -140 - (9 * 2), 121, -140 + (9 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor Parking_SE2, ParkingSpaceX, 0, 79, -140 - (9 * 2), 79 + 18, -140 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			AddFloor Parking_SE3, ParkingSpaceX, 0, 121 - 18, -100 - (9 * 2), 121, -100 + (9 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor Parking_SE4, ParkingSpaceX, 0, 79, -100 - (9 * 2), 79 + 18, -100 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			AddFloor Parking_SE5-8_Spacer, NoParkingZ, 0, -1 + 18, -140 - (9 * 2), 41 - 18, -100 + (9 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor Parking_SE5, ParkingSpaceX, 0, 41 - 18, -140 - (9 * 2), 41, -140 + (9 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor Parking_SE6, ParkingSpaceX, 0, -1, -140 - (9 * 2), -1 + 18, -140 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			AddFloor Parking_SE7, ParkingSpaceX, 0, 41 - 18, -100 - (9 * 2), 41, -100 + (9 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor Parking_SE8, ParkingSpaceX, 0, -1, -100 - (9 * 2), -1 + 18, -100 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			AddFloor Parking_SE9_Spacer, NoParkingX, 0, 100 - (9 * 2), -60 + 18, 100 + (9 * 2), -39, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_SE10_Spacer, NoParkingX, 0, 20 - (9 * 2), -60 + 18, 20 + (9 * 2), -39, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_SE9, ParkingSpaceZ, 0, 100 - (9 * 2), -60, 100 + (9 * 2), -60 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_SE10, ParkingSpaceZ, 0, 20 - (9 * 2), -60, 20 + (9 * 2), -60 + 18, %Offset%, %Offset%, 4, 1, true

	#Ceiling(s)
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, ParkingCeiling, 0.5, -%1%, -%2%, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true

	#Interior perimeter walls
	Set WallHeight = %height% + Floor(-1).InterfloorHeight
	Set WallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = false, true, false, false, false, false
	AddWall Front, ExtFacade2, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, ExtFacade2, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	AddWall Right, ExtFacade2, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Back, ExtFacade2, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#Levels B1-B0
<Floors -1 to 0>
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set texture prefix
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floor(s)
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, Road, 0.5, -%1%, -40, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling(s)
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, ParkingCeiling, 0.5, -%1%, -40, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true

	#Interior perimeter walls
	Set WallHeight = %height% + Floor(%floor% + 1).InterfloorHeight
	Set WallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2
	if[%floor% = -1] AddWall Left_B1, ExtFacade2, 0.5, -%1%, -40, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, true, false, false, false
	TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall Left_B0, ExtFacade2, 0.5, -%1%, 40, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	if[%floor% = -1] AddWall Right, ExtFacade2, 0.5, %1%, -40, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, true, false, false, false
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall Right_LevelB0_A, ExtFacade2, 0.5, %1%, 160, %1%, 173.5 - 12.5, %height%, %height%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall Right_LevelB0_B, ExtFacade2, 0.5, %1%, 173.5 + 12.5, %1%, %2%, %height%, %height%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, false, false, false, false, false
	if[%floor% = -1] AddWall Back, ExtFacade2, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall BackA, ExtFacade2, 0.5, -%1%, %2%, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall BackB, ExtFacade2, 0.5, 0, %2%, %1%, %2%, %height%, %height%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors -2 to -1>
	#Cuts for island around parking spaces
	CutAll -121 + 18, %interfloorheight% - 0.1, 70 + 18, -39 - 18, %interfloorheight% + 1, 115, false, true #NW Island
	
	#Islands around parking spaces
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor NWIsland, ParkingFloor2, 0.5, -121 + 18, 70 + 18, -39 - 18, 115, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Road markings
	DrawWalls = false, true, false, false, false, false
	Set Offset = %interfloorheight% + 0.01

		#Parking spaces (Levels B2-B1, northwestern side)
			#Northwest
			AddFloor Parking_NW1-4_Spacer, NoParkingX, 0, -100 - (9 * 2), -1 + 18, -60 + (9 * 2), 41 - 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW1, ParkingSpaceZ, 0, -100 - (9 * 2), -1, -100 + (9 * 2), -1 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW2, ParkingSpaceZ, 0, -60 - (9 * 2), -1, -60 + (9 * 2), -1 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW3, ParkingSpaceZ, 0, -100 - (9 * 2), 41 - 18, -100 + (9 * 2), 41, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_NW4, ParkingSpaceZ, 0, -60 - (9 * 2), 41 - 18, -60 + (9 * 2), 41, %Offset%, %Offset%, 4, -1, true

			AddFloor Parking_NW5, ParkingSpaceZ, 0, -100 - (9 * 2), 70, -100 + (9 * 2), 70 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW6, ParkingSpaceZ, 0, -60 - (9 * 2), 70, -60 + (9 * 2), 70 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW7, ParkingSpaceX, 0, -121, 92, -121 + 18, 92 + (9 * 2), %Offset%, %Offset%, 1, 2, true
			AddFloor Parking_NW8, ParkingSpaceX, 0, -39 - 18, 92, -39, 92 + (9 * 2), %Offset%, %Offset%, -1, 2, true

			AddFloor Parking_NW8, ParkingSpaceZ, 0, -20 - (9 * 2), 199.5 - 17, -20 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW9, ParkingSpaceZ, 0, -60 - (9 * 2), 199.5 - 17, -60 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW10, ParkingSpaceZ, 0, -100 - (9 * 2), 199.5 - 17, -100 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_NW11, ParkingSpaceZ, 0, -140 - (9 * 1), 199.5 - 17, -140 + (9 * 2), 199.5, %Offset%, %Offset%, 3, 1, true

		#Parking spaces (Levels B2-B1, northeastern side)
			#North
			AddFloor Parking_N1-3_Spacer, NoParkingX, 0, 60 - (9 * 2), 159 + 18, 100 + (9 * 2), 181, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_N1, ParkingSpaceZ, 0, 100 - (9 * 2), 159, 100 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_N2, ParkingSpaceZ, 0, 60 - (9 * 2), 159, 60 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true

			#East
			AddFloor Parking_E1, ParkingSpaceX, 0, 159.5 - 17, 100 - (9 * 2), 159.5, 100 + (9 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor Parking_E2, ParkingSpaceX, 0, 159.5 - 17, 60 - (9 * 2), 159.5, 60 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			#Center
			AddFloor Parking_C1-4_Spacer, NoParkingZ, 0, 79 + 18, 60 - (9 * 1), 121 - 18, 100 + (9 * 1), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_C1, ParkingSpaceX, 0, 121 - 18, 100 - (9 * 2), 121, 100 + (9 * 1), %Offset%, %Offset%, -1, 3, true
			AddFloor Parking_C2, ParkingSpaceX, 0, 79, 100 - (9 * 2), 79 + 18, 100 + (9 * 1), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_C3, ParkingSpaceX, 0, 121 - 18, 60 - (9 * 1), 121, 60 + (9 * 2), %Offset%, %Offset%, -1, 3, true
			AddFloor Parking_C4, ParkingSpaceX, 0, 79, 60 - (9 * 1), 79 + 18, 60 + (9 * 2), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_C5, ParkingSpaceZ, 0, 20 - (9 * 2), 121 - 17, 20 + (9 * 2), 121, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_C5_Spacer, NoParkingX, 0, 20 - (9 * 2), 102, 20 + (9 * 2), 121 - 17, %Offset%, %Offset%, -2, 1, true

			AddFloor Parking_C6_Spacer, NoParkingX, 0, 79, 109, 121, 112, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_C7_Spacer, NoParkingX, 0, 79, 48, 121, 51, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_C6, ParkingSpaceZ, 0, 100 - (9 * 2), 112, 100 + (9 * 2), 112 + 18, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_C7, ParkingSpaceZ, 0, 100 - (9 * 2), 48 - 18, 100 + (9 * 2), 48, %Offset%, %Offset%, 4, 1, true

			#South
			AddFloor Parking_S1-2_Spacer, NoParkingX, 0, 20 - (9 * 2), -21.5, 100 + (9 * 2), 1 - 18, %Offset%, %Offset%, 6, 1, true
			AddFloor Parking_S1, ParkingSpaceZ, 0, 100 - (9 * 2), 1 - 18, 100 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S2, ParkingSpaceZ, 0, 60 - (9 * 2), 1 - 18, 60 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S3, ParkingSpaceZ, 0, 20 - (9 * 2), 1 - 18, 20 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true

		#Spacers
		if[%floor% = -1] AddFloor B1_EastEntSpacer, NoParkingX, 0, -30, -40, -10, -40 + 5, %Offset%, %Offset%, 2, 1, true
		if[%floor% = -1] AddFloor B1_WestEntSpacer, NoParkingX, 0, -110, -40, -90, -40 + 5, %Offset%, %Offset%, 2, 1, true

		AddFloor PELobbySpacer_East, WhiteIslandZ, 0, 30, 40, 41, 55, %Offset%, %Offset%, 1, 1, true
		AddFloor PELobbySpacer_South, NoParkingX, 0, 0, 30, 41, 40, %Offset%, %Offset%, 2, 1, true
		AddFloor FELobbySpacer_East, WhiteIslandZ, 0, 30, 70, 41, 102, %Offset%, %Offset%, 1, 2, true
		AddFloor FELobbySpacer_West, WhiteIslandZ, 0, -1, 70, 5, 102, %Offset%, %Offset%, 1, 2, true
<EndFloors>

<Floor 0>
	#Cuts for island east of Freight Elevators
	CutAll 30, %interfloorheight% - 0.1, 70, 80.5, %interfloorheight% + 1, 102, false, true
	
	#Islands east of Freight Elevators
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor IslandEastofFE, ParkingFloor2, 0.5, 30, 70, 80.5, 102, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Road markings on level B0
	DrawWalls = false, true, false, false, false, false
	Set Offset = %interfloorheight% + 0.01

		#Parking spaces
			#West
			AddFloor ParkingB0_W1, ParkingSpaceZ, 0, -20 - (9 * 2), 199.5 - 17, -20 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_W2, ParkingSpaceZ, 0, -60 - (9 * 2), 199.5 - 17, -60 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_W3, ParkingSpaceZ, 0, -100 - (9 * 2), 199.5 - 17, -100 + (9 * 2), 199.5, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_W4, ParkingSpaceZ, 0, -140 - (9 * 1), 199.5 - 17, -140 + (9 * 2), 199.5, %Offset%, %Offset%, 3, 1, true

			AddFloor ParkingB0_W5_Line, WhiteLine, 0, -120 + (22 * 5) - 0.5, 84 + 0.25, -120 + (22 * 5), 84 + 8.5 - 0.25, %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingB0_W5, ParkingSpaceX, 0, -120, 84, -120 + (22 * 5), 84 + 8.5, %Offset%, %Offset%, -5, 1, true
			AddFloor ParkingB0_W5_Spacer, NoParkingX, 0, -120, 80.5, -120 + (22 * 5), 84, %Offset%, %Offset%, -5, 1, true

			AddFloor ParkingB0_W6_Line, WhiteLine, 0, -120 + (22 * 9) - 0.5, 35 - 8.5 + 0.25, -120 + (22 * 9), 35 - 0.25, %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingB0_W6, ParkingSpaceX, 0, -120, 35 - 8.5, -120 + (22 * 9), 35, %Offset%, %Offset%, -9, 1, true
			AddFloor ParkingB0_W6_Spacer, NoParkingX, 0, -120, 35, -120 + (22 * 9), 40, %Offset%, %Offset%, -9, 1, true

			#East
			AddFloor ParkingB0_E1, ParkingSpaceZ, 0, 60 - (9 * 2), 121 - 17, 60 + (9 * 2), 121, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingB0_E2, ParkingSpaceZ, 0, 20 - (9 * 2), 121 - 17, 20 + (9 * 2), 121, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingB0_E1-E2_Spacer, NoParkingX, 0, 20 - (9 * 2), 102, 60 + (9 * 2), 121 - 17, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_E3-E4_Spacer, NoParkingX, 0, 60 - (9 * 2), 159 + 18, 100 + (9 * 2), 181, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_E3, ParkingSpaceZ, 0, 100 - (9 * 2), 159, 100 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_E4, ParkingSpaceZ, 0, 60 - (9 * 2), 159, 60 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_E5-6_Spacer, NoParkingX, 0, 60 - (9 * 2), -21.5, 100 + (9 * 2), 1 - 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingB0_E5, ParkingSpaceZ, 0, 100 - (9 * 2), 1 - 18, 100 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingB0_E6, ParkingSpaceZ, 0, 60 - (9 * 2), 1 - 18, 60 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true

		#Spacers
		#AddFloor PELobbySpacer_East, WhiteIslandZ, 0, 30, 40, 41, 55, %Offset%, %Offset%, 1, 1, true
		#AddFloor PELobbySpacer_South, NoParkingX, 0, 0, 30, 41, 40, %Offset%, %Offset%, 2, 1, true
		#AddFloor FELobbySpacer_East, WhiteIslandZ, 0, 30, 70, 41, 102, %Offset%, %Offset%, 1, 2, true
		AddFloor FELobbySpacer_West, NoParkingZ, 0, -120 + (22 * 5), 80.5, 5, 102, %Offset%, %Offset%, 2, 1, true
		AddFloor Stairwell5Spacer1, NoParkingX, 0, 159.5 - 17, 26, 159.5, 34, %Offset%, %Offset%, 1, 1, true
		AddFloor Stairwell5Spacer2, NoParkingZ, 0, 159.5 - 17, 1, 150, 26, %Offset%, %Offset%, -1, 1, true
<EndFloor>

#ELEVATOR LOBBY FLOORS/CEILINGS
<Floors -2 to 0>
	#Elevator lobbies
		#Floor cuts
		CutAll -120, %interfloorheight% - 0.1, 115, -40, %interfloorheight% + 1, 160, false, true #North Lobby (Elevators 3-4)
		if[%floor% < 0] CutAll 0, %interfloorheight% - 0.1, 40, 30, %interfloorheight% + 1, 55, false, true #Center Lobby (Elevators 9-11)
		if[%floor% = -2] CutAll -120, %interfloorheight% - 0.1, -160, -40, %interfloorheight% + 1, -115, false, true #South Lobby 1 (Elevators 1-2)
		if[%floor% = -2] CutAll -20, %interfloorheight% - 0.1, -200, 0, %interfloorheight% + 1, -182.5, false, true #South Lobby 2 (Elevators 12-13)
		if[%floor% = -2] CutAll 40, %interfloorheight% - 0.1, -60, 80, %interfloorheight% + 1, -40, false, true #Southeast Lobby (Elevators 5-8)
	
		#Elevator lobby floors
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor PKElevLobbyFloor-N, ParkingLobbyFloor, 0.5, -120, 115, -40, 160, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% < 0] AddFloor PKElevLobbyFloor-Ctr, Sidewalk, 0.5, 0, 40, 30, 55, %interfloorheight%, %interfloorheight%, false, true, 0, 0, true
		if[%floor% = -2] AddFloor PKElevLobbyFloor-S1, ParkingLobbyFloor, 0.5, -120, -160, -40, -115, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% = -2] AddFloor PKElevLobbyFloor-S2, Sidewalk, 0.5, -20, -200, 0, -182.5, %interfloorheight%, %interfloorheight%, false, true, 0, 0, true
		if[%floor% = -2] AddFloor PKElevLobbyFloor-SE, ParkingLobbyFloor, 0.5, 40, -60, 80, -40, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elevator lobby ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor PKElevLobbyCeil-N, ParkingLobbyCeiling, 0.5, -120, 115, -40, 160, %fullheight%, %fullheight%, 0, 0, true
		if[%floor% = -2] AddFloor PKElevLobbyCeil-S, ParkingLobbyCeiling, 0.5, -120, -160, -40, -115, %fullheight%, %fullheight%, 0, 0, true
		if[%floor% = -2] AddFloor PKElevLobbyCeil-SE, ParkingLobbyCeiling2, 0.5, 40, -60, 80, -40, %height%, %height%, 0, 0, false #Floor mesh

			#Add lights for Southeast Lobby
			if[%floor% = -2] SROC_IntRecessedCeiling(PKElevLobbyCeil-SE_Light, 1, 60, -54.75, 32, 8, %height%, 0.25, ParkingLobbyCeiling2, ParkingLobbyCeilingB, 4, 1)
<EndFloors>

#ELEVATOR LOBBY WALLS
<Floor -2>
	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	#1. South Lobby (Elevators 1-2)
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall SLby_Left, ExtFacade2, 0.5, -120, -160, -120, -115, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall SLby_Front, ExtFacade2, 0.5, -120, -160, -40, -160, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall SLby_Right, ExtFacade2, 0.5, -40, -160, -40, -115, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall SLby_Back1, ExtFacade2, 0.5, -120, -115, -90, -115, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall SLby_Back2, ExtFacade2, 0.5, -70, -115, -40, -115, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Elevator lobby doors (West)
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = -120 + 0.5
		Set Door_MainZ = -130

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D1, , , false, %IntTexture%, %SideTexture%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D2, , , false, %IntTexture%, %SideTexture%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows above doors
			Add3DWindows(SLby_WinAboveDoors1, %Door_MainX% - 0.5, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 1/4, 1)

		#Elevator lobby doors (East)
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = -40 - 0.5
		Set Door_MainZ = -130

		WallOrientation = left
		TextureOverride %IntTexture%, %ExtTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D1, , , false, %IntTexture%, %SideTexture%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %IntTexture%, %ExtTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D2, , , false, %IntTexture%, %SideTexture%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows above doors
			Add3DWindows(SLby_WinAboveDoors2, %Door_MainX% + 0.5, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 1/4, 1)

		#Windows on walls
		Add3DWindows(SLobby_WinFront1, -60, -160, front, 37.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 9/4, 1)
		Add3DWindows(SLobby_WinFront2, -100, -160, front, 37.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 9/4, 1)

		Add3DWindows(SLobby_WinBack1, -104.75, -115, back, 29, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 7/4, 1)
		Add3DWindows(SLobby_WinBack2, -55.25, -115, back, 29, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 7/4, 1)

		Add3DWindows(SLobby_WinLeft1, -120, -121.25, left, 11, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 3/4, 1)
		Add3DWindows(SLobby_WinLeft2, -120, -146, left, 25.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 6/4, 1)

		Add3DWindows(SLobby_WinRight1, -40, -121.25, right, 11, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 3/4, 1)
		Add3DWindows(SLobby_WinRight2, -40, -146, right, 25.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 6/4, 1)

	#2. Southeast Lobby (Elevators 5-8)
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false	

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall SELby_Left, ExtFacade2, 0.5, 40, -60, 40, -50, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall SELby_Front, ExtFacade2, 0.5, 40, -60, 80, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall SELby_Right, ExtFacade2, 0.5, 80, -60, 80, -50, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Elevator lobby doors
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = 60
		Set Door_MainZ = -60 + 0.5

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SELby_D1, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SELby_D2, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows on walls
		Add3DWindows(SELobby_WinFront1, 48.75, -60, front, 16, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 4/4, 1)
		Add3DWindows(SELobby_WinFront2, 71.25, -60, front, 16, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 4/4, 1)

		Add3DWindows(SELobby_WinLeft, 40, -54.75, left, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 2/4, 1)
		Add3DWindows(SELobby_WinRight, 80, -54.75, right, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 2/4, 1)

		#Windows above doors
		Add3DWindows(SELby_WinAboveDoors, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 1/4, 1)
<EndFloor>

<Floors -2 to 0>
	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	#3. North Lobby (Elevators 3-4)
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall NLby_Left, ExtFacade2, 0.5, -120, 115, -120, 160, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall NLby_FR1, ExtFacade2, 0.5, -120, 115, -90, 115, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingWall, ParkingLobbyWall, Blank, Blank, Blank, Blank
	AddWall NLby_FR2, ExtFacade2, 0.5, -70, 115, -40, 115, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	WallOrientation = right
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall NLby_Right, ExtFacade2, 0.5, -40, 115, -40, 160, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	TextureOverride ParkingLobbyWall, ParkingWall, Blank, Blank, Blank, Blank
	AddWall NLby_BK, ExtFacade2, 0.5, -120, 160, -40, 160, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Elevator lobby doors (West)
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = -120 + 0.5
		Set Door_MainZ = 130

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D1, , , false, %IntTexture%, %SideTexture%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D2, , , false, %IntTexture%, %SideTexture%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows above doors
			Add3DWindows(NLby_WinAboveDoors1, %Door_MainX% - 0.5, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 1/4, 1)

		#Elevator lobby doors (East)
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = -40 - 0.5
		Set Door_MainZ = 130

		WallOrientation = left
		TextureOverride %IntTexture%, %ExtTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D1, , , false, %IntTexture%, %SideTexture%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %IntTexture%, %ExtTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_SLby_D2, , , false, %IntTexture%, %SideTexture%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows above doors
			Add3DWindows(NLby_WinAboveDoors2, %Door_MainX% + 0.5, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 1/4, 1)

		#Windows on walls
		Add3DWindows(NLobby_WinFront1, -104.75, 115, front, 29, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 7/4, 1)
		Add3DWindows(NLobby_WinFront2, -55.25, 115, front, 29, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 7/4, 1)

		Add3DWindows(NLobby_WinBack1, -60, 160, back, 37.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 9/4, 1)
		Add3DWindows(NLobby_WinBack2, -100, 160, back, 37.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 9/4, 1)

		Add3DWindows(NLobby_WinLeft1, -120, 121.25, left, 11, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 3/4, 1)
		Add3DWindows(NLobby_WinLeft2, -120, 146, left, 25.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 6/4, 1)

		Add3DWindows(NLobby_WinRight1, -40, 121.25, right, 11, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 3/4, 1)
		Add3DWindows(NLobby_WinRight2, -40, 146, right, 25.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall, 0.5, 6/4, 1)
<EndFloors>

#Levels 1-4A
<Floors 1 to 8>
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set texture prefix
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floor(s)
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, Road, 0.5, 0, -40, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Floor cuts
		CutAll 0, %interfloorheight% - 0.1, -40, 10, %interfloorheight% + 1, 40, false, true
		CutAll 10, %interfloorheight% - 0.1, 32, 30, %interfloorheight% + 1, 40, false, true
	
		#Paths to entrance doors
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor EntrPath1_%floorid%, Sidewalk, 0.5, 0, -40, 10, 40, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor EntrPath2_%floorid%, Sidewalk, 0.5, 10, 32, 30, 40, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Utility area under escalators on 4A
		if[%floor% = 8] CutAll 79, %interfloorheight% - 0.1, 51, 97, %interfloorheight% + 1, 81, false, true
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 8] AddFloor UtilityAreaFloor, ParkingFloor, 0.5, 79, 51, 97, 81, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Road markings
		#Parking spaces
		DrawWalls = false, true, false, false, false, false
		Set Offset = %interfloorheight% + 0.01

			#North
			if[%floor% ! 8] AddFloor Parking_N1-2_Spacer, NoParkingX, 0, 60 - (9 * 2), 159 + 18, 100 + (9 * 2), 181, %Offset%, %Offset%, 4, 1, true
			if[%floor% = 8] AddFloor Parking_N1-2_Spacer, NoParkingX, 0, 20 - (9 * 2), 159 + 18, 100 + (9 * 2), 181, %Offset%, %Offset%, 6, 1, true
			AddFloor Parking_N1, ParkingSpaceZ, 0, 100 - (9 * 2), 159, 100 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor Parking_N2, ParkingSpaceZ, 0, 60 - (9 * 2), 159, 60 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% = 8] AddFloor Parking_N3, ParkingSpaceZ, 0, 20 - (9 * 2), 159, 20 + (9 * 2), 159 + 18, %Offset%, %Offset%, 4, 1, true

			#East
			AddFloor Parking_E1, ParkingSpaceX, 0, 159.5 - 17, 100 - (9 * 2), 159.5, 100 + (9 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor Parking_E2, ParkingSpaceX, 0, 159.5 - 17, 60 - (9 * 2), 159.5, 60 + (9 * 2), %Offset%, %Offset%, 1, 4, true

			#Center
			AddFloor Parking_C1-4_Spacer, NoParkingZ, 0, 79 + 18, 60 - (9 * 1), 121 - 18, 100 + (9 * 1), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_C1, ParkingSpaceX, 0, 121 - 18, 100 - (9 * 2), 121, 100 + (9 * 1), %Offset%, %Offset%, -1, 3, true
			AddFloor Parking_C2, ParkingSpaceX, 0, 79, 100 - (9 * 2), 79 + 18, 100 + (9 * 1), %Offset%, %Offset%, 1, 3, true
			AddFloor Parking_C3, ParkingSpaceX, 0, 121 - 18, 60 - (9 * 1), 121, 60 + (9 * 2), %Offset%, %Offset%, -1, 3, true
			if[%floor% ! 8] AddFloor Parking_C4, ParkingSpaceX, 0, 79, 60 - (9 * 1), 79 + 18, 60 + (9 * 2), %Offset%, %Offset%, 1, 3, true
			#if[%floor% = 8] AddFloor Parking_C4, ParkingSpaceX, 0, 79, 60 - (9 * 1), 79 + 18, 60, %Offset%, %Offset%, 1, 1, true
			AddFloor Parking_C5, ParkingSpaceZ, 0, 20 - (9 * 2), 121 - 17, 20 + (9 * 2), 121, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_C5_Spacer, NoParkingX, 0, 20 - (9 * 2), 102, 20 + (9 * 2), 121 - 17, %Offset%, %Offset%, -2, 1, true

			AddFloor Parking_C6_Spacer, NoParkingX, 0, 79, 109, 121, 112, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_C7_Spacer, NoParkingX, 0, 79, 48, 121, 51, %Offset%, %Offset%, 2, 1, true
			AddFloor Parking_C6, ParkingSpaceZ, 0, 100 - (9 * 2), 112, 100 + (9 * 2), 112 + 18, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_C7, ParkingSpaceZ, 0, 100 - (9 * 2), 48 - 18, 100 + (9 * 2), 48, %Offset%, %Offset%, 4, 1, true

			#South
			if[%floor% ! 8] AddFloor Parking_S1-2_Spacer, NoParkingX, 0, 60 - (9 * 2), -21.5, 100 + (9 * 2), 1 - 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% = 8] AddFloor Parking_S1-3_Spacer, NoParkingX, 0, 20 - (9 * 1), -21.5, 100 + (9 * 2), 1 - 18, %Offset%, %Offset%, 5, 1, true
			AddFloor Parking_S1, ParkingSpaceZ, 0, 100 - (9 * 2), 1 - 18, 100 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true
			AddFloor Parking_S2, ParkingSpaceZ, 0, 60 - (9 * 2), 1 - 18, 60 + (9 * 2), 1, %Offset%, %Offset%, 4, -1, true
			if[%floor% = 8] AddFloor Parking_S3, ParkingSpaceZ, 0, 20 - (9 * 1), 1 - 18, 20 + (9 * 2), 1, %Offset%, %Offset%, 3, -1, true

		#Spacers
		AddFloor ElevLobbySpacer, NoParkingZ, 0, 30, 32, 41, 102, %Offset%, %Offset%, 1, 3, true

	#Ceiling(s)
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, ParkingCeiling, 0.5, 0, -40, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true
<EndFloors>

<Floor 8>
	#Utility room walls (Under escalators from 5 to 6)
	Set WH = %height% + Floor(1).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall UtilityFront, ParkingWall, 0.5, 83, 52, 96.5, 52, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall UtilityLeft, ParkingWall, 0.5, 83, 52, 83, 80, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	AddWall UtilityRight, ParkingWall, 0.5, 96.5, 52, 96.5, 80, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall UtilityBack, ParkingWall, 0.5, 83, 80, 96.5, 80, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	#Utility room doors
		#Door textures
		Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side

		#Door creation
		Set Door_MainX = 83
		Set Door_MainZ = 56

		WallOrientation = left
		AddStdDoor Door Manager, %floorid%_UtilityRM_Door, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor Door Manager, %floorid%_UtilityRM_Door, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

<Floors 0 to 8>
	#Railings on B0-4A
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	if[%floor% > 0] AddWall RightRailA, ExtFacade2, 0.5, %1%, -40, %1%, 13.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	if[%floor% > 0] AddWall RightRailB, ExtFacade2, 0.5, %1%, 13.5 + 12.5, %1%, 173.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	if[%floor% > 0] AddWall RightRailC, ExtFacade2, 0.5, %1%, 173.5 + 12.5, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	Set WallHeight = 4.5 #Change height to prevent overlapping with level B1's walls.
	Set WallOffset = %interfloorheight%
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall RightRailA_B0, ExtFacade2, 0.5, %1%, -40, %1%, 13.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall RightRailB_B0, ExtFacade2, 0.5, %1%, 13.5 + 12.5 + 8, %1%, 160 - 80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	Set WallHeight = %interfloorheight% + 4.5 #Reset values for aboveground levels
	Set WallOffset = 0
	DrawWalls = true, true, false, true, true, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	if[%floor% > 0] AddWall BackRail, ExtFacade2, 0.5, 0, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floor 1>
	#Interfloor covers for level 1's underside (exposed to level B0)
	Set WallHeight = %interfloorheight%
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, false, true
	TextureOverride ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	AddWall LeftIFC, ExtFacade2, 0.5, -%1%, -40, -%1%, 40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

<Floor 9>
	#Interfloor covers for level 5's underside (exposed to level 4A)
	Set WallHeight = %interfloorheight%
	Set WallOffset = 0

	WallOrientation = right
	DrawWalls = true, true, true, true, false, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	AddWall RightIFC-1, ExtFacade2, 0.5, %1%, -40, %1%, 13.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	AddWall RightIFC-2, ExtFacade2, 0.5, %1%, 13.5 + 12.5, %1%, 173.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2
	AddWall RightIFC-3, ExtFacade2, 0.5, %1%, 173.5 + 12.5, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, false, true, false, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	AddWall BackIFC, ExtFacade2, 0.5, 0, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#========================================#

#Opening between B1 and B0
Cut External, 5, Floor(0).Altitude - 1, 40.5, 80, Floor(0).Base + 1, 70, false, true
Cut External, -120, Floor(0).Altitude - 1, 40.5, 5, Floor(0).Base + 1, 80, false, true

<Floor 0>
	#Railings around openings
	#Set WH = %interfloorheight% + 3.5
	Set WH = 0.5 + 4.5
	Set WO = %interfloorheight% - 0.5

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall B0Rail_Front1, ParkingWall2, 0.5, -120, 40.5, 0, 40.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall B0Rail_Front2, ParkingWall2, 0.5, 30, 40.5, 80, 40.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall B0Rail_Left, ParkingWall2, 0.5, -120, 40, -120, 80.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = left
	AddWall B0Rail_Right, ParkingWall2, 0.5, 80, 40, 80, 70.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall B0Rail_Back1, ParkingWall2, 0.5, -120, 80, 5, 80, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall B0Rail_Back2, ParkingWall2, 0.5, 30, 70, 80, 70, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloor>

#========================================#

#Cuts for parking ramps
Cut External, 40, Floor(-2).Base + 1, 199.5 - 18, 120, Floor(8).Base + 1, 199.5, false, true #Up ramp
Cut External, 40, Floor(-2).Base + 1, -40, 120, Floor(8).Base + 1, -40 + 18, false, true #Down ramp

	#Auto area for ramps
	AddFloorAutoArea 40, Floor(-2).Base, 199.5 - 18, 120, Floor(8).Base + 5, 199.5
	AddFloorAutoArea 40, Floor(-2).Base, -40, 120, Floor(8).Base + 5, -40 + 18

<Floors -2 to 8>
	TexPrefix() #Set texture prefixes

	#Parking Ramps
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingCeiling, Road, ParkingCeiling, ParkingCeiling, Blank, Blank
	if[%floor% < 8] AddFloor UpRamp, %5%, 0.5, 40, 199.5 - 18, 120, 199.5, %interfloorheight%, %fullheight% + Floor(%floor% + 1).InterfloorHeight, true, false, 0, 0, true
	TextureOverride ParkingCeiling, Road, ParkingCeiling, ParkingCeiling, Blank, Blank
	if[%floor% < 8] AddFloor DownRamp, %5%, 0.5, 40, -40, 120, -40 + 18, %interfloorheight%, %fullheight% + Floor(%floor% + 1).InterfloorHeight, true, false, 0, 0, true

	#Railings
	WallOrientation = left
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	Set WallOffset2 = %fullheight%

		DrawWalls = true, true, true, true, true, true

		#Straight rails
		WallOrientation = right
		if[%floor% > -2] AddWall UpRamp_FrontRail, ParkingWall, 0.5, 40, 199.5 - 18, 120, 199.5 - 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% = 8] AddWall UpRamp_LeftRail, ParkingWall, 0.5, 40, 199.5 - 18 - 0.5, 40, 199.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% = 8] AddWall DownRamp_LeftRail, ParkingWall, 0.5, 40, -40, 40, -40 + 18 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = left
		if[%floor% > -2] AddWall DownRamp_BackRail, ParkingWall, 0.5, 40, -40 + 18, 120, -40 + 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Sloping rails
		WallOrientation = left
		if[%floor% < 8] AddWall UpRamp_RailA, ParkingWall, 0.5, 40, 199.5 - 18, 120, 199.5 - 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		WallOrientation = right
		if[%floor% > 0 & %floor% < 8] AddWall UpRamp_RailB, ParkingWall, 0.5, 40, 199.5, 120, 199.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true

		WallOrientation = left
		if[%floor% = -2] AddWall DownRamp_RailA, ParkingWall, 0.5, 40, -40, 120, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		WallOrientation = right
		if[%floor% < 8] AddWall DownRamp_RailB, ParkingWall, 0.5, 40, -40 + 18, 120, -40 + 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
<EndFloors>

#========================================#

#B. Shopping areas
#Levels B1 to 4
<Floors -1 to 8>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set texture prefix

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	#if[%floor% = -1] AddFloor MallFloor, %5%Floor, 0.5, -%1%, -%2%, %1%, -40, 0, 0, 0, 0, false
	if[%floor% = -1] AddFloor MallFloor1, %5%Floor, 0.5, -%1%, -%2%, 0, -40, 0, 0, 0, 0, false
	if[%floor% = -1] AddFloor MallFloor2, %5%Floor2, 0.5, 0, -%2%, %1%, -%2% + 25, 0, 0, 0, 0, false
	if[%floor% = -1] AddFloor MallFloor3, %5%Floor3, 0.5, 0, -%2% + 25, %1%, -40 - 25, 0, 0, 0, 0, false
	if[%floor% = -1] AddFloor MallFloor4, %5%Floor2, 0.5, 0, -40 - 25, %1%, -40, 0, 0, 0, 0, false

	if[%floor% > 0 & %Mod% = 1] AddFloor MallFloorA, %5%Floor, 0.5, 0, -%2%, %1%, -40, 0, 0, 0, 0, false
	if[%floor% > 0 & %Mod% = 1] AddFloor MallFloorB, %5%Floor, 0.5, -%1%, -%2%, 0, %2%, 0, 0, 0, 0, false

		#Atrium bases
		#1. Floor cuts
		if[%floor% = 1] Cut 60, %interfloorheight% - 0.1, -160, 100, %interfloorheight% + 0.1, -80, false, true #Southeast
		if[%floor% = 1] Cut -100, %interfloorheight% - 0.1, -110, -60, %interfloorheight% + 0.1, -20, false, true #Southwest
		if[%floor% = 1] Cut -100, %interfloorheight% - 0.1, 20, -60, %interfloorheight% + 0.1, 110, false, true #Northeast

		#2. Floor creations
		if[%floor% = 1] AddFloor SEAtriumBase, ABCarpet1, 0.5, 60, -160, 100, -80, 0, 0, 0, 0, false
		if[%floor% = 1] AddFloor SWAtriumBase, ABCarpet2, 0.5, -100, -110, -60, -20, 0, 0, 0, 0, false
		if[%floor% = 1] AddFloor NWAtriumBase, ABCarpet2, 0.5, -100, 20, -60, 110, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddFloor MallCeiling, %5%Ceiling, 0.5, -%1%, -%2%, %1%, -40, %height%, %height%, 0, 0, false
	if[%floor% > 0 & %Mod% = 0] AddFloor MallCeilingA, %5%Ceiling, 0.5, 0, -%2%, %1%, -40, %height%, %height%, 0, 0, false
	if[%floor% > 0 & %Mod% = 0] AddFloor MallCeilingB, %5%Ceiling, 0.5, -%1%, -%2%, 0, %2%, %height%, %height%, 0, 0, false

	#Mall perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = -1 | %floor% = 1] Set WallHeight = %height%
	if[%floor% = -1 | %floor% = 1] Set WallOffset = %interfloorheight%
	if[%floor% = 0] Set WallHeight = %fullheight% + Floor(1).InterfloorHeight
	if[%floor% = 0] Set WallOffset = 0
	if[%floor% = 8] Set WallHeight = %fullheight% + Floor(9).InterfloorHeight
	if[%floor% = 8] Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, false, false, false, false, false #Do not display inside for level B1

		#1. Front walls
		TextureOverride ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% < 1] AddWall Mall_Front_B1, ExtFacade, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, false, false #ABG = Above ground
		TextureOverride ExtFacade, %5%Wall, ExtFacade, %5%Wall, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Front_ABG_1, ExtFacade, 0.5, -%1%, -%2%, -120, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade, %5%Wall, %5%Wall, %5%Wall, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Front_ABG_2, ExtFacade, 0.5, -40, -%2%, 80, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride ExtFacade, %5%Wall, %5%Wall, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Front_ABG_3, ExtFacade, 0.5, 120, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#2. Left walls
		DrawWalls = true, true, false, false, false, false
		TextureOverride ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Left, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = true, false, false, false, false, false #Do not display inside for level B1
		TextureOverride ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% < 1] AddWall Mall_Left_B1, ExtFacade, 0.5, -%1%, -%2%, -%1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#3. Right walls
		DrawWalls = true, true, false, false, false, false
		if[%floor% < 1] DrawWalls = false, true, false, false, false, false #Do not display inside for level B1
		WallOrientation = Right
		TextureOverride %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall Mall_Right, ExtFacade, 0.5, %1%, -%2%, %1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = true, true, false, false, false, false
		TextureOverride %5%Wall, ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Right_PGDiv, ExtFacade, 0.5, 0, -40 - 0.5, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#4. Back walls
		DrawWalls = true, true, false, false, false, false
		TextureOverride %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 2] AddWall Mall_Back, ExtFacade, 0.5, -%1%, %2%, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, false, false
		TextureOverride %5%Wall, ExtFacade, ExtFacade, %5%Wall, ExtFacade, ExtFacade
		if[%floor% = 1 | %floor% = 2] AddWall Mall_Back, ExtFacade, 0.5, -%1%, %2%, -120, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride %5%Wall, ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade
		if[%floor% = 1 | %floor% = 2] AddWall Mall_Back, ExtFacade, 0.5, -40, %2%, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
		DrawWalls = true, true, false, false, false, false
		TextureOverride %5%Wall, ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 0] AddWall Mall_Back2, ExtFacade, 0.5, 0 - 0.5, -40, %1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = false, true, false, false, false, false #Do not display inside for level B1
		TextureOverride %5%Wall, ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% < 1] AddWall Mall_Back2_B1, ExtFacade, 0.5, -%1%, -40, %1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = true, true, false, false, false, false
		if[%floor% = -1] AddWall Mall_Back2_IFC, ExtFacade2, 0.5, 40, -40, 120, -40, 0.5, 0.5, %interfloorheight% - 0.5, %interfloorheight% - 0.5, 0, 0, true #Interfloor cover at the parking ramp
<EndFloors>

#Set door textures for restrooms
<Function RR_DTex>
	Set DTex = Door6
	if[%floor% > 0] Set DTex = Door8
	Set DSTex = %DTex%Side
<EndFunction>

<Function UpperLevels_RR>
	#A. Set texture prefixes
	TexPrefix()

	#B. Set heights
	Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	if[%floor% > 8] Set RRHeight = %height%
	Set RRCeiHeight = 8.5

	#========================================#

	#1. WEST RESTROOMS
		#Dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor %floorid%F_WestRR_DropCei, DropCeiling, 0.5, -160, 0, -160 + 40, 41.25, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

		#Perimeter walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall WestRR_%floorid%F_Front, %5%Wall, 0.5, -160, 0, -160 + 40, 0, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall WestRR_%floorid%F_Right, %5%Wall, 0.5, -160 + 40, 0, -160 + 40, 41.25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall WestRR_%floorid%F_Back, %5%Wall, 0.5, -160, 41.25, -160 + 40, 41.25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = center
		AddWall WestRR_%floorid%F_Mid, %5%Wall, 1, -160 + 20, 0, -160 + 20, 41.25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		WallOrientation = right
		DrawWalls = true, true, false, true, false, false
		AddWall WestRR_%floorid%F_HallDiv, %5%Wall, 0.75, -150, 50, -160 + 40, 50, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, WestRR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, -140 + 2.5, 40.75, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, WestRR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, -140 - 2.5, 40.75, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -140 + 2.5, 40.75, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -140 - 2.5, 40.75, 3, 7, 0, true, 0, 0, false

		#Restroom signs
		Set BoxTex = WoodSign2
		Set SignSuffix = _Brown

			#Signs at hallways
			AddBoxSign(%floorid%F_WestRR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, -120 + 0.75, 50 - 0.375, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(%floorid%F_WestRR1_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -140 + 2.5, 41.25 + 0.025, 1.5, 1.5, 7.5, false)
			AddBoxSign(%floorid%F_WestRR2_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -140 - 2.5, 41.25 + 0.025, 1.5, 1.5, 7.5, false)

	#========================================#

	#2. SOUTHEAST RESTROOMS
		#Dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor %floorid%F_SERR_DropCei, DropCeiling, 0.5, 0, -200, 0 + 30, -200 + 40, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

		#Perimeter walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall SERR_%floorid%F_Left, %5%Wall, 0.5, 0, -200, 0, -200 + 40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall SERR_%floorid%F_Right, %5%Wall, 0.5, 0 + 30, -200, 0 + 30, -200 + 40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall SERR_%floorid%F_Back, %5%Wall, 0.5, 0, -200 + 40, 0 + 30, -200 + 40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = center
		AddWall SERR_%floorid%F_Mid, %5%Wall, 1, 0, -200 + 20, 0 + 30, -200 + 20, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		WallOrientation = right
		DrawWalls = true, true, false, true, false, false
		AddWall SERR_%floorid%F_HallDiv, %5%Wall, 0.75, 0 + 40, -200, 0 + 40, -200 + 40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%F_SERR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, 29.5, -180 + 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%F_SERR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, 29.5, -180 - 2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 29.5, -180 + 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 29.5, -180 - 2.5, 3, 7, 0, false, 0, 0, false

		#Restroom signs
		Set BoxTex = WoodSign2
		Set SignSuffix = _Brown

			#Signs at hallways
			AddBoxSign(%floorid%F_SERR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, false, true, true, 30 - 0.25, -160 + 0.75, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(%floorid%F_SERR1_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, 30 + 0.025, -180 + 2.5, 1.5, 1.5, 7.5, false)
			AddBoxSign(%floorid%F_SERR2_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, 30 + 0.025, -180 - 2.5, 1.5, 1.5, 7.5, false)
<EndFunction>

<Floors 1 to 7>
	#Restrooms
	RR_DTex() #Set door textures

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Restroom creation
	if[%Mod% = 1] UpperLevels_RR()
<EndFloors>

<Floor -1>
	#Inside perimeter walls for level B1
		#SET WALL ATTRIBUTES
		#Lower walls
		Set WallHeight = 4.5
		Set WallOffset = %interfloorheight%

		#Upper walls
		Set WallHeight2 = (%height% + Floor(0).FullHeight) - %WallHeight%

		#CREATE WALLS
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false

		AddWall_CustomTex(Front_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)
		AddWall_CustomTex(Left_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -%1%, -%2%, -%1%, -40, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)

		WallOrientation = right
		DrawWalls = true, false, false, false, false, false
		AddWall_CustomTex(Right_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, %1%, -%2%, %1%, -40, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)
		#AddWall_CustomTex(Back_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -%1%, -40, %1%, -40, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)
		AddWall_CustomTex(BackA_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -%1%, -40, -80, -40, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)
		AddWall_CustomTex(BackB_Int_B1, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -80 + 30, -40, %1%, -40, %WallHeight%, %WallHeight2%, 0, %WallOffset%, true)

	#========================================#

	#Restrooms on level B1
	TexPrefix() #Set texture prefixes
	RR_DTex() #Set door textures
	Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	Set RRCeiHeight = 8.5

		#Restrooms' floor
		CutAll -80, %interfloorheight% - 0.1, -40 - 30, -80 + 30 - 0.5, %interfloorheight% + 1, -40, false, true

		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor B1RR_Floor, B1RRFloor, 0.5, -80, -40 - 30, -80 + 30 - 0.5, -40, 0, 0, 0, 0, false

		#Restrooms' dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor B1RR_DropCei, DropCeiling, 0.5, -80, -40 - 30, -80 + 30, -40, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom exterior walls
		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall_CustomTex(B1RR_Left, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -80, -40 - 30, -80, -40, %WallHeight%, %RRHeight% - %WallHeight%, 0, 0, false)
		AddWall_CustomTex(B1RR_Front, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -80, -40 - 30, -80 + 30, -40 - 30, %WallHeight%, %RRHeight% - %WallHeight%, 0, 0, false)
		WallOrientation = right
		DrawWalls = false, true, false, false, false, false
		AddWall_CustomTex(B1RR_Right, 2, B1Wall_Lower, B1Wall, Blank, 0.5, -80 + 30, -40 - 30, -80 + 30, -40, %WallHeight%, %RRHeight% - %WallHeight%, 0, 0, false)

		#Restroom interior walls
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		AddWall B1RR_Left, %5%RRWall, 0.5, -80, -40 - 30, -80, -40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall B1RR_Front, %5%RRWall, 0.5, -80, -40 - 30, -80 + 30, -40 - 30, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		DrawWalls = true, false, false, false, false, false
		AddWall B1RR_Right, %5%RRWall, 0.5, -80 + 30, -40 - 30, -80 + 30, -40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall B1RR_Back, %5%RRWall, 0.5, -80, -40, -80 + 30, -40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall B1RR_Mid, %5%RRWall, 1, -80, -40 - 15, -80 + 30, -40 - 15, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restroom hallway divider walls
		WallOrientation = right
		DrawWalls = true, true, true, false, false, false
		AddWall_CustomTex(B1RR_HallDiv, 2, B1Wall_Lower, B1Wall, Blank, 0.75, -80 + 40, -40 - 30, -80 + 40, -40, %WallHeight%, %RRHeight% - %WallHeight%, 0, 0, false)

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, RR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, -50.5, -55 + 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, RR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, -50.5, -55 - 2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -50.5, -55 + 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -50.5, -55 - 2.5, 3, 7, 0, false, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		Set SignSuffix = _Brown

			#Signs at hallways
			AddBoxSign(B1RR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, false, true, true, -40 - 0.375, -70 - 0.75, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(B1RR1_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, -50 + 0.025, -55 + 2.5, 1.5, 1.5, 7.5, false)
			AddBoxSign(B1RR2_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, -50 + 0.025, -55 - 2.5, 1.5, 1.5, 7.5, false)
<EndFloor>

#Levels 5 to 6
<Floors 9 to 10>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set texture prefix

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor UpperMallFloor, %5%Floor, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false

		#Atrium bases
		#1. Floor cuts
		if[%floor% = 9] Cut 60, %interfloorheight% - 0.1, 40, 100, %interfloorheight% + 0.1, 120, false, true

		#2. Floor creations
		if[%floor% = 9] AddFloor NEAtriumBase, ABCarpet3, 0.5, 60, 40, 100, 120, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor UpperMallCeiling, %5%Ceiling, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	#========================================#

	#Mall perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 9] Set WallHeight = %height%
	if[%floor% = 9] Set WallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = true, true, false, true, false, false #ABG = Above ground
	TextureOverride ExtFacade, %5%Wall, ExtFacade, %5%Wall, ExtFacade, ExtFacade
	AddWall Upper_FrontA, ExtFacade, 0.5, -%1%, -%2%, -120, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, true, true, false, false
	TextureOverride ExtFacade, %5%Wall, %5%Wall, %5%Wall, ExtFacade, ExtFacade
	AddWall Upper_FrontB, ExtFacade, 0.5, -40, -%2%, 80, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, true, false, false, false
	TextureOverride ExtFacade, %5%Wall, %5%Wall, ExtFacade, ExtFacade, ExtFacade
	AddWall Upper_FrontC, ExtFacade, 0.5, 120, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	AddWall Upper_Left, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	AddWall Upper_Right, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	AddWall Upper_Back, ExtFacade, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#========================================#

	#Restrooms
	RR_DTex() #Set door textures

		#1. WEST AND SOUTHEAST RESTROOMS
		#-------------------------------
		UpperLevels_RR()
		
		#2. NORTHEAST RESTROOMS
		#----------------------
		#Dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor %floorid%F_NERR_DropCei, DropCeiling, 0.5, 120, 60, 160, 100, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

		#Perimeter walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall NERR_%floorid%F_Front, %5%Wall, 0.5, 120, 60, 160, 60, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall NERR_%floorid%F_Left, %5%Wall, 0.5, 120, 60, 120, 100, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall NERR_%floorid%F_Back, %5%Wall, 0.5, 120, 100, 160, 100, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = center
		AddWall NERR_%floorid%F_Mid, %5%Wall, 1, 140, 60, 140, 100, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		WallOrientation = left
		DrawWalls = true, true, true, false, false, false
		AddWall NERR_%floorid%F_HallDiv, %5%Wall, 0.75, 120, 50, 160, 50, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restroom doors
		WallOrientation = right
		AddStdDoor Floor %floor%, NERR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, 140 + 2.5, 60.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, NERR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, 140 - 2.5, 60.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 140 + 2.5, 60.5, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 140 - 2.5, 60.5, 3, 7, 0, true, 0, 0, false

		#Restroom signs
		Set BoxTex = WoodSign2
		Set SignSuffix = _Brown

			#Signs at hallways
			AddBoxSign(%floorid%F_NERR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, 120 - 0.75, 50 + 0.375, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(%floorid%F_NERR1_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, 140 + 2.5, 60 - 0.025, 1.5, 1.5, 7.5, false)
			AddBoxSign(%floorid%F_NERR2_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, 140 - 2.5, 60 - 0.025, 1.5, 1.5, 7.5, false)
<EndFloors>

#========================================#

#WINDOWS
<Floors 1 to 7>
	TexPrefix()

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Windows on 1st-4th floors
	Set IFloorType = 2
	if[%floor% = 1] Set IFloorType = 1
	Set WinHeight = %height% + Floor(%floor% + 1).FullHeight
	Set WinPrefix = Mall

	SetAutoSize = true, false
	if[%Mod% = 1] AddCustomWindows(FrontWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -120, -%2%, -40, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	if[%Mod% = 1] AddCustomWindows(FrontWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, 80, -%2%, 120, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	if[%floor% = 1] AddCustomWindows(BackWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, -120, %2%, -40, %2%, %WinHeight%, 0, 0, 3, ExtFacade, %5%Wall)
	SetAutoSize = true, true
<EndFloors>

<Floors 9 to 10>
	TexPrefix()

	#Windows on 5th-6th floors
	Set IFloorType = 2
	Set WinHeight = %height%
	Set WinPrefix = Mall

	SetAutoSize = true, false
	AddCustomWindows(FrontWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -120, -%2%, -40, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	AddCustomWindows(FrontWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, 80, -%2%, 120, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	SetAutoSize = true, true
<EndFloors>

#========================================#

#ENTRANCE DOORS
<Floor 1>
	#Door creation
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorExt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		#1. North doors
		#Access point N1
		Set Door_MainX = -105
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = -95
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Access point N2
		Set Door_MainX = -65
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = -55
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#2. Southwest doors
		#Access point SW1
		Set Door_MainX = -105
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = -95
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Access point SW2
		Set Door_MainX = -65
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = -55
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#3. Southeast doors
		#Access point SE1
		Set Door_MainX = 95
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = 105
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

	#Service entrance doors
		Set DTex = ServiceDoor3
		Set DTex_Ext = %DTex%
		Set DSTex = %DTex%Side

		#Doors creation
		Set Door_MainX = -%1%
		Set Door_MainZ = 103.5

		WallOrientation = left
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Exit sign
		AddBoxSign(ServDoor_ExitSign, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %Door_MainX% + 0.55, %Door_MainZ%, 1.8, 0.9, 7.2, false)
<EndFloor>

#========================================#

#Atrium cuts
<Floors 2 to 10>
	#Southeast atrium
	if[%floor% > 2] CutAll 60, %interfloorheight% - 1, -160, 100, %interfloorheight% + 1, -80, false, true
	if[%floor% < 10] CutAll 60, %fullheight% - 1, -160, 100, %fullheight% + 1, -80, false, true

		#Extra cuts for escalators
		if[%floor% > 2] CutAll 60 - 4.5, %interfloorheight% - 1, -120 - 15, 60, %interfloorheight% + 1, -120 + 15, false, true
		if[%floor% < 10] CutAll 60 - 4.5, %fullheight% - 1, -120 - 15, 60, %fullheight% + 1, -120 + 15, false, true
		if[%floor% > 2] CutAll 100, %interfloorheight% - 1, -120 - 15, 100 + 4.5, %interfloorheight% + 1, -120 + 15, false, true
		if[%floor% < 10] CutAll 100, %fullheight% - 1, -120 - 15, 100 + 4.5, %fullheight% + 1, -120 + 15, false, true

	#Southwest atrium
	if[%floor% > 2] CutAll -100, %interfloorheight% - 1, -120, -60, %interfloorheight% + 1, -70 - 4.5, false, true
	if[%floor% > 2] CutAll -95, %interfloorheight% - 1, -70 - 4.5, -65, %interfloorheight% + 1, -70 + 4.5, false, true
	if[%floor% > 2] CutAll -100, %interfloorheight% - 1, -70 + 4.5, -60, %interfloorheight% + 1, -20, false, true

	if[%floor% < 10] CutAll -100, %fullheight% - 1, -120, -60, %fullheight% + 1, -70 - 4.5, false, true
	if[%floor% < 10] CutAll -95, %fullheight% - 1, -70 - 4.5, -65, %fullheight% + 1, -70 + 4.5, false, true
	if[%floor% < 10] CutAll -100, %fullheight% - 1, -70 + 4.5, -60, %fullheight% + 1, -20, false, true

	#Northwest atrium
		#1st-2nd floors
		if[%floor% = 3] CutAll -100, %interfloorheight% - 1, 20, -60, %interfloorheight% + 1, 120, false, true
		if[%floor% = 2] CutAll -100, %fullheight% - 1, 20, -60, %fullheight% + 1, 120, false, true

		#2nd-5th floors
		if[%floor% > 4 & %floor% < 10] CutAll -100, %interfloorheight% - 1, 20, -60, %interfloorheight% + 1, 70 - 4.5, false, true
		if[%floor% > 4 & %floor% < 10] CutAll -95, %interfloorheight% - 1, 70 - 4.5, -65, %interfloorheight% + 1, 70 + 4.5, false, true
		if[%floor% > 4 & %floor% < 10] CutAll -100, %interfloorheight% - 1, 70 + 4.5, -60, %interfloorheight% + 1, 120, false, true
	
		if[%floor% > 3 & %floor% < 9] CutAll -100, %fullheight% - 1, 20, -60, %fullheight% + 1, 70 - 4.5, false, true
		if[%floor% > 3 & %floor% < 9] CutAll -95, %fullheight% - 1, 70 - 4.5, -65, %fullheight% + 1, 70 + 4.5, false, true
		if[%floor% > 3 & %floor% < 9] CutAll -100, %fullheight% - 1, 70 + 4.5, -60, %fullheight% + 1, 120, false, true
	
		#5th-6th floors
		if[%floor% = 10] CutAll -100, %interfloorheight% - 1, 20, -60, %interfloorheight% + 1, 70 - 4.5, false, true
		if[%floor% = 10] CutAll -95, %interfloorheight% - 1, 70 - 4.5, -60, %interfloorheight% + 1, 70 + 4.5, false, true
		if[%floor% = 10] CutAll -100, %interfloorheight% - 1, 70 + 4.5, -60, %interfloorheight% + 1, 120, false, true
	
		if[%floor% = 9] CutAll -100, %fullheight% - 1, 20, -60, %fullheight% + 1, 70 - 4.5, false, true
		if[%floor% = 9] CutAll -95, %fullheight% - 1, 70 - 4.5, -60, %fullheight% + 1, 70 + 4.5, false, true
		if[%floor% = 9] CutAll -100, %fullheight% - 1, 70 + 4.5, -60, %fullheight% + 1, 120, false, true
<EndFloors>

<Floors 9 to 10>
	#Northeast atrium
	if[%floor% > 9] CutAll 60, %interfloorheight% - 1, 40, 100, %interfloorheight% + 1, 120, false, true
	if[%floor% < 10] CutAll 60, %fullheight% - 1, 40, 100, %fullheight% + 1, 120, false, true
<EndFloors>

#Atrium railings
<Function SWAtriumRail>
	TexPrefix() #Set texture prefixes
	Set WH = %interfloorheight% + 3.5 + 0.25
	Set WO = -%interfloorheight% - 0.25
	
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	
	AddWall SWAtrium_FrontRail_A, %5%Wall2, 0.5, -100, -120, -90, -120, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_FrontRail_B, %5%Wall2, 0.5, -70, -120, -60, -120, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_LeftRail_A, %5%Wall2, 0.5, -100, -120 - 0.5, -100, -70 - 4.5 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_LeftRail_B, %5%Wall2, 0.5, -100, -70 + 4.5 - 0.5, -100, -20 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	WallOrientation = left
	AddWall SWAtrium_RightRail_A, %5%Wall2, 0.5, -60, -120 - 0.5, -60, -70 - 4.5 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_RightRail_B, %5%Wall2, 0.5, -60, -70 + 4.5 - 0.5, -60, -20 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 3] AddWall SWAtrium_BackRail, %5%Wall2, 0.5, -100, -20, -60, -20, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 3] AddWall SWAtrium_BackRail, %5%Wall2, 0.5, -100 + 8, -20, -60, -20, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	AddWall SWAtrium_EscLink1, %5%Wall2, 0.5, -100, -70 - 4.5, -95, -70 - 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_EscLink2, %5%Wall2, 0.5, -65, -70 - 4.5, -60, -70 - 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	WallOrientation = right
	AddWall SWAtrium_EscLink3, %5%Wall2, 0.5, -100, -70 + 4.5, -95, -70 + 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SWAtrium_EscLink4, %5%Wall2, 0.5, -65, -70 + 4.5, -60, -70 + 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	if[%floor% = 10] AddWall SWAtrium_EscLink5, %5%Wall2, 0.5, -95, -70, -95, -70 + 4, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 3] AddWall SWAtrium_EscLink5, %5%Wall2, 0.5, -95, -70 - 4, -95, -70, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	WallOrientation = left
	if[%floor% = 3] AddWall SWAtrium_EscLink6, %5%Wall2, 0.5, -65, -70, -65, -70 + 4, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 10] AddWall SWAtrium_EscLink6, %5%Wall2, 0.5, -65, -70 - 4, -65, -70, %WH%, %WH%, %WO%, %WO%, 0, 0, false
<EndFunction>

<Function NWAtriumRail>
	TexPrefix() #Set texture prefixes
	Set WH = %interfloorheight% + 3.5 + 0.5
	Set WO = -%interfloorheight% - 0.5
	
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	
	if[%floor% ! 3] AddWall NWAtrium_FrontRail, %5%Wall2, 0.5, -100, 20, -60, 20, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 3] AddWall NWAtrium_FrontRail, %5%Wall2, 0.5, -100 + 8, 20, -60, 20, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 3] AddWall NWAtrium_LeftRail_A, %5%Wall2, 0.5, -100, 20 - 0.5, -100, 70 - 4.5 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 3] AddWall NWAtrium_LeftRail_B, %5%Wall2, 0.5, -100, 70 + 4.5 - 0.5, -100, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 3] AddWall NWAtrium_LeftRail, %5%Wall2, 0.5, -100, 20 - 0.5, -100, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	WallOrientation = left
	if[%floor% ! 10] AddWall NWAtrium_RightRail_A, %5%Wall2, 0.5, -60, 20 - 0.5, -60, 70 - 4.5 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 10] AddWall NWAtrium_RightRail_B, %5%Wall2, 0.5, -60, 70 + 4.5 - 0.5, -60, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 10] AddWall NWAtrium_RightRail, %5%Wall2, 0.5, -60, 20 - 0.5, -60, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall NWAtrium_BackRail_A, %5%Wall2, 0.5, -100, 120, -90, 120, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall NWAtrium_BackRail_B, %5%Wall2, 0.5, -70, 120, -60, 120, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	if[%floor% ! 3] AddWall NWAtrium_EscLink1, %5%Wall2, 0.5, -100, 70 - 4.5, -95, 70 - 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 10] AddWall NWAtrium_EscLink2, %5%Wall2, 0.5, -65, 70 - 4.5, -60, 70 - 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	WallOrientation = right
	if[%floor% ! 3] AddWall NWAtrium_EscLink3, %5%Wall2, 0.5, -100, 70 + 4.5, -95, 70 + 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% ! 10] AddWall NWAtrium_EscLink4, %5%Wall2, 0.5, -65, 70 + 4.5, -60, 70 + 4.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
<EndFunction>

<Function SEAtriumRail_Lower>
	TexPrefix() #Set texture prefixes
	Set WH = %interfloorheight% + 3.5 + 0.25
	Set WO = -%interfloorheight% - 0.25
	
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	AddWall SEAtrium_FrontRail, %5%Wall2, 0.5, 60, -160, 100, -160, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_LeftRail_A, %5%Wall2, 0.5, 60, -160 - 0.5, 60, -120 - 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_LeftRail_B, %5%Wall2, 0.5, 60 - 4.5, -120 - 15, 60 - 4.5, -120 + 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_LeftRail_C, %5%Wall2, 0.5, 60, -120 + 15, 60, -80 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	if[%floor% = 10] AddWall SEAtrium_Left_EscLink, %5%Wall2, 0.5, 60 - 5, -120 - 15, 60 - 0.5, -120 - 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	if[%floor% = 10] AddWall SEAtrium_Right_EscLink, %5%Wall2, 0.5, 100 + 0.5, -120 - 15, 100 + 5, -120 - 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false

	WallOrientation = left
	AddWall SEAtrium_RightRail_A, %5%Wall2, 0.5, 100, -160 - 0.5, 100, -120 - 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_RightRail_B, %5%Wall2, 0.5, 100 + 4.5, -120 - 15, 100 + 4.5, -120 + 15, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_RightRail_C, %5%Wall2, 0.5, 100, -120 + 15, 100, -80 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall SEAtrium_BackRail, %5%Wall2, 0.5, 60, -80, 100, -80, %WH%, %WH%, %WO%, %WO%, 0, 0, false
<EndFunction>

<Floors 3 to 10>
	if[%floor% ! 4 & %floor% ! 6 & %floor% ! 8] SWAtriumRail() #Southwest
	if[%floor% ! 4 & %floor% ! 6 & %floor% ! 8] NWAtriumRail() #Northwest

	if[%floor% ! 4 & %floor% ! 6 & %floor% ! 8] SEAtriumRail_Lower() #Southeast
<EndFloors>

<Floor 10>
	#Northeast atrium railings
	TexPrefix() #Set texture prefixes
	Set WH = %interfloorheight% + 3.5 + 0.25
	Set WO = -%interfloorheight% - 0.25
	
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	AddWall NEAtrium_FrontRail1, %5%Wall2, 0.5, 60, 40, 88, 40, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall NEAtrium_FrontRail2, %5%Wall2, 0.5, 96, 40, 100, 40, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall NEAtrium_LeftRail, %5%Wall2, 0.5, 60, 40 - 0.5, 60, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	WallOrientation = left
	AddWall NEAtrium_RightRail, %5%Wall2, 0.5, 100, 40 - 0.5, 100, 120 + 0.5, %WH%, %WH%, %WO%, %WO%, 0, 0, false
	AddWall NEAtrium_BackRail, %5%Wall2, 0.5, 60, 120, 100, 120, %WH%, %WH%, %WO%, %WO%, 0, 0, false
<EndFloor>

#========================================#

#PARKING ELEVATOR LOBBY (1 to 4A)
<Floors 1 to 8>
	#Floor cuts for parking elevator lobby
	if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] CutAll 0 - 1, %interfloorheight%, 50, 0.5 + 1, %fullheight%, 70, true, false #Wall cuts
	if[%floor% > 1] CutAll 0 - 0.5, %interfloorheight% - 1, 40, 30, %interfloorheight% + 1, 80, false, true #Floor cuts
	if[%floor% = 1] CutAll 0 - 0.5, %interfloorheight% - 0.1, 40, 30, %interfloorheight% + 1, 80, false, true #Floor cuts

	#Set textures
	Set 5 = ParkingLobby

		#Elevator lobby floors
		if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] Set Suffix = Carpet2
		if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set Suffix = Floor2

		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor PKElevLobby-Ctr-Flr, %5%%Suffix%, 0.5, 0 - 0.5, 40, 30, 80, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] AddFloor PKElevLobby-Ctr-Carpet, ParkingLobbyCarpet, 0.5, 0 - 0.5, 50 + 3.5, 30, 70 - 3.5, %interfloorheight% + 0.001, %interfloorheight% + 0.001, 0, 0, true

		#Elevator lobby ceilings
		Set ExtraEP = 0 #EP = Endpoint
		if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] Set ExtraEP = 0.5

		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor PKElevLobby-Ctr-Cei, ParkingLobbyCeiling2, 0.5, 0 - %ExtraEP%, 40, 30, 80, %height%, %height%, 0, 0, false #Floor mesh

			#Add lights
			SROC_IntRecessedCeiling(PKElevLobby_Light, 1, 15, 60, 24, 16, %height%, 0.25, ParkingLobbyCeiling2, ParkingLobbyCeilingB, 3, 2)

		#Elevator lobby walls
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddWall LeftLobbyWall, ParkingLobbyWall, 0.75, 0, 50, 0, 70, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

		Set WH = %height% + Floor(%floor% + 1).InterfloorHeight
		Set WO = %interfloorheight%

		if[%floor% > 2] Set WH = %fullheight% + Floor(%floor% + 1).InterfloorHeight
		if[%floor% > 2] Set WO = 0

		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride ParkingLobbyWall2, ParkingWall, Blank, Blank, Blank, Blank
		if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] AddWall RightLobbyWall, ParkingWall, 0.5, 30, 50, 30, 70, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloors>

<Floor 9>
	#Elevator lobby interfloor covers
	Set WH = %interfloorheight% - 0.5
	Set WO = 0

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall RightLobbyIFCover, ParkingWall, 0.5, 30, 50, 30, 70, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloor>

<Function PKElevEntranceDoors> #Entrance at Parking Elevators
	#Elevator lobby doors
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = 30
	Set Door_MainZ = 60

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D1, , , false, %IntTexture%, %SideTexture%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D2, , , false, %IntTexture%, %SideTexture%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall2, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Windows around doors
		Add3DWindows(PKElev_Win1, %Door_MainX%, %Door_MainZ% - 6.5, right, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 2/4, 1)
		Add3DWindows(PKElev_Win2, %Door_MainX%, %Door_MainZ% + 6.5, right, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 2/4, 1)
		Add3DWindows(PKElev_Win3, %Door_MainX%, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 1/4, 1)
<EndFunction>

<Function PKEntranceDoors> #Entrance at Interior Elevators
	#Elevator lobby doors (Southeast)
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = 5.5
	Set Door_MainZ = -40

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D3, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D4, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows around doors
		Add3DWindows(PKE_D3_Win1, %Door_MainX% - 3.75, %Door_MainZ%, back, 1, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
		Add3DWindows(PKE_D3_Win2, %Door_MainX% + 3.75, %Door_MainZ%, back, 1, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
		Add3DWindows(PKE_D3_Win3, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
<EndFunction>

<Function PKEntranceDoors_B1>
	#Elevator lobby doors (Southwest)
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = -100
	Set Door_MainZ = -40

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D5, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D6, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows around doors
		Add3DWindows(PKE_D5_Win1, %Door_MainX% - 6.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 2/4, 1)
		Add3DWindows(PKE_D5_Win2, %Door_MainX% + 6.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 2/4, 1)
		Add3DWindows(PKE_D5_Win3, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)

	#Elevator lobby doors (South-center)
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = -20
	Set Door_MainZ = -40

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D7, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_D8, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows around doors
		Add3DWindows(PKE_D7_Win1, %Door_MainX% - 6.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 2/4, 1)
		Add3DWindows(PKE_D7_Win2, %Door_MainX% + 6.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 2/4, 1)
		Add3DWindows(PKE_D7_Win3, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
<EndFunction>

<Floor -1>
	TexPrefix() #Reset texture prefixes

	#PKEntranceDoors() #Southeast
	PKEntranceDoors_B1() #Southwest
<EndFloor>

<Floors 1 to 7>
	TexPrefix() #Reset texture prefixes

	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6] PKElevEntranceDoors() #North
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6] PKEntranceDoors() #South
<EndFloors>

#========================================#

#Freight Elevator Lobby (Elevators 14-15)
<Floors -2 to 10>
	#TexPrefix()
	
	Set WestEnd = 0 - 0.5
	if[%floor% < 1 | %floor% > 8] Set WestEnd = 5

	#Floor cuts
	CutAll %WestEnd%, %interfloorheight% - 0.1, 80, 30, %interfloorheight% + 1, 90 + 12, false, true

	#Wall cuts
	Set Base = %interfloorheight%
	Set Extra = Floor(%floor% + 1).InterfloorHeight
	if[%floor% > 8] Set Extra = 0
	if[%floor% > 0 & %floor% < 9] CutAll 0 - 0.1, %Base%, 80, 0 + 0.1, %fullheight% + %Extra%, 90, true, false

	########################################

	#Floor creation
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor FELbyFloor, ServiceLobbyFloor, 0.5, %WestEnd%, 80, 30, 90 + 12, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling creation
	Set CeiTex = SLDropCeiling
	Set ServHeight = %interfloorheight% + 10

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 8] AddFloor ServLobbyCeil, %CeiTex%, 0.5, %WestEnd%, 80, 30, 90, %ServHeight%, %ServHeight%, 0, 0, true

	########################################

	#Walls creation
	Set ExtTex = ParkingWall
	if[%floor% > 8] Set ExtTex = ShopWall

	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5
	if[%floor% = -1] Set WH = %height% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% > 8] Set WH = %height%
	Set WO = %interfloorheight%

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 0 & %floor% < 9] DrawWalls = false, true, false, false, false, false
	TextureOverride %ExtTex%, ServiceLobbyWall, Blank, Blank, Blank, Blank
	AddWall FELbyLeft, ServiceLobbyWall, 0.5, %WestEnd%, 80, %WestEnd%, 90, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	TextureOverride ServiceLobbyWall, %ExtTex%, Blank, Blank, Blank, Blank
	AddWall FELbyRight, ServiceLobbyWall, 0.5, 30, 80, 30, 90, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	########################################

	#Doors creation
		#WEST (LEFT) DOORS
		Set DTex = ServiceDoor1
		if[%floor% > 0] Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side
	
		Set Door_MainX = %WestEnd% #West doors
		Set Door_MainZ = 85
		
		WallOrientation = left
		if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStdDoor DoorManager, %floorid%_FELby_D1, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStdDoor DoorManager, %floorid%_FELby_D2, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#EAST (RIGHT) DOORS
		Set DTex = ServiceDoor1
		if[%floor% > 8] Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side

		Set Door_MainX = 30 #East doors
		Set Door_MainZ = 85
		
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_FELby_D3, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_FELby_D4, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloors>

#========================================#

#EXTERNAL SHAFT AND STAIRWELL WALLS

#Cut west wall for stairwell walls
Cut external, -159.5 - 0.1, Floor(-2).Altitude, -106.5 - 12, -159.5 + 0.1, Floor(11).Altitude, -106.5 + 12, true, false #Southwest
Cut external, -159.5 - 0.1, Floor(-2).Altitude, 53.5 - 12, -159.5 + 0.1, Floor(11).Altitude, 53.5 + 12, true, false #West-Central
Cut external, -159.5 - 0.1, Floor(-2).Altitude, 173.5 - 12, -159.5 + 0.1, Floor(11).Altitude, 173.5 + 12, true, false #Northwest

#Cut east wall for stairwell walls
Cut external, 159.5 - 0.1, Floor(-2).Altitude, -133.5 - 12, 159.5 + 0.1, Floor(11).Altitude, -133.5 + 12, true, false #Southeast

Cut external, 159.5 - 0.1, Floor(-2).Altitude, 13.5 - 12, 159.5 + 0.1, Floor(1).Altitude, 13.5 + 12, true, false #East-Central
Cut external, 159.5 - 0.1, Floor(9).Base, 13.5 - 12, 159.5 + 0.1, Floor(11).Altitude, 13.5 + 12, true, false #East-Central

Cut external, 159.5 - 0.1, Floor(-2).Altitude, 173.5 - 12, 159.5 + 0.1, Floor(1).Altitude, 173.5 + 12, true, false #Northeast
Cut external, 159.5 - 0.1, Floor(9).Base, 173.5 - 12, 159.5 + 0.1, Floor(11).Altitude, 173.5 + 12, true, false #Northeast

#Sets for stairwell walls
<Function ExtStaSets> #All other floors
	#Set textures
	TexPrefix()

	#Set heights
	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% = 9 | %floor% = 10] Set WH = %height%
	Set WO = 0
<EndFunction>

<Function ExtStaSets_RF> #Roof only
	#Set heights
	Set WH = %height%
	Set WO = %interfloorheight%
<EndFunction>

### Stairwell walls
<Floor -2>
	ExtStaSets() #Set parameters

	#Southwest Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, -106.5, 5, 12.5, SW_Stairs_B2, %WH%, %WO%, true, false, true, true, false, false, false)

	#West-Central Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 53.5, 5, 12.5, WCtr_Stairs_B2, %WH%, %WO%, true, false, true, true, false, false, false)

	#Northwest Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 173.5, 5, 12.5, NW_Stairs_B2, %WH%, %WO%, true, false, true, true, false, false, false)

	#Southeast Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, -133.5, 5, 12.5, SE_Stairs_B2, %WH%, %WO%, true, true, false, true, false, false, false)
<EndFloor>

<Floors -1 to 0>
	ExtStaSets() #Set parameters
	Set 5 = Parking #Override for stairwells in parking area

	#West-Central Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 53.5, 5, 12.5, WCtr_Stairs_%floorid%, %WH%, %WO%, true, false, true, true, false, false, false)

	#Northwest Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 173.5, 5, 12.5, NW_Stairs_%floorid%, %WH%, %WO%, true, false, true, true, false, false, false)
<EndFloors>

<Floors -2 to 8>
	Set 5 = Parking #Override for stairwells in parking area

	#East-Central Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, ExtFacade3, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, 13.5, 5, 12.5, ECtr_Stairs_%floorid%, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)

	#Northeast Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, ExtFacade3, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, 173.5, 5, 12.5, NE_Stairs_%floorid%, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)
<EndFloors>

<Floor -1>
	Set WH_B1 = %height% + Floor(0).FullHeight

	#Southwest Stairwell
	CreateShaftWall(B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall, B1Wall, 0.5, -155, -106.5, 5, 12.5, SW_Stairs_Lower, 4.5, 0, true, false, true, true, false, false, false)
	CreateShaftWall(B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, 0.5, -155, -106.5, 5, 12.5, SW_Stairs_Upper, %WH_B1% - 4.5, 4.5, true, false, true, true, false, false, false)

	#Southeast Stairwell
	CreateShaftWall(B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall, B1Wall, 0.5, 155, -133.5, 5, 12.5, SE_Stairs_Lower, 4.5, 0, true, true, false, true, false, false, false)
	CreateShaftWall(B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, 0.5, 155, -133.5, 5, 12.5, SE_Stairs_Upper, %WH_B1% - 4.5, 4.5, true, true, false, true, false, false, false)
<EndFloor>

<Floors 1 to 10>
	ExtStaSets() #Set parameters

	#Southwest Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, -106.5, 5, 12.5, SW_Stairs, %WH%, %WO%, true, false, true, true, false, false, false)

	#West-Central Stairwell
	if[%floor% > 0] CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 53.5, 5, 12.5, WCtr_Stairs, %WH%, %WO%, false, false, true, true, false, false, false)

	#Northwest Stairwell
	if[%floor% > 0] CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, -155, 173.5, 5, 12.5, NW_Stairs, %WH%, %WO%, true, false, true, true, false, false, false)

	#Southeast Stairwell
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, -133.5, 5, 12.5, SE_Stairs, %WH%, %WO%, true, true, false, true, false, false, false)

	#East-Central Stairwell
	if[%floor% > 8] CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, 13.5, 5, 12.5, ECtr_Stairs_%floorid%, %WH%, %WO%, true, true, false, true, false, false, false)

	#Northeast Stairwell
	if[%floor% > 8] CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 155, 173.5, 5, 12.5, NE_Stairs_%floorid%, %WH%, %WO%, true, true, false, true, false, false, false)
<EndFloors>

### Interior Elevators
#Cut walls for shaft
Cut external, 40, Floor(-1).Altitude, -40.5 - 0.1, 80, Floor(9).Base, -40.5 + 0.1, true, false

<Floor -2>
	#Interior elevators
	Set WH = %height% + Floor(-1).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	CreateShaftWall(ParkingLobbyWall, ParkingWall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.5, 60, -45, 20, 5, IntElevShaft, %WH%, %WO%, true, true, true, true, false, false, true)
<EndFloor>

<Floor -1>
	#Interior elevators
	Set WH_B1 = %height% + Floor(0).FullHeight

	CreateShaftWall(B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall, B1Wall, 0.5, 60, -45, 20, 5, IntElevShaft_Lower, 4.5, 0, true, true, true, false, false, false, false)
	CreateShaftWall(B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, 0.5, 60, -45, 20, 5, IntElevShaft_Upper, %WH_B1% - 4.5, 4.5, true, true, true, false, false, false, false)
<EndFloor>

<Floors 1 to 7>
	TexPrefix() #Set texture prefixes

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Interior elevators
	Set WH = %height% + Floor(%floor% + 1).FullHeight
	Set WO = 0

	if[%Mod% = 1] CreateShaftWall(%5%Wall3, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 60, -45, 20, 5, IntElevShaft, %WH%, %WO%, true, true, true, false, false, false, false)
<EndFloors>

<Floors 9 to 10>
	TexPrefix() #Set texture prefixes

	#Interior elevators
	Set WH = %height%
	Set WO = 0

	CreateShaftWall(%5%Wall3, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 60, -45, 20, 5, IntElevShaft, %WH%, %WO%, true, true, true, true, false, false, false)
<EndFloors>

<Floor 11>
	TexPrefix() #Set texture prefixes

	#Interior elevators
	Set WH = %height%
	Set WO = %interfloorheight%

	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.5, 60, -45, 20, 5, IntElevShaft, %WH%, %WO%, true, true, true, true, true, false, true)
<EndFloor>

### Parking Elevators and Stairs
<Floors -2 to 0>
	ExtStaSets() #Set parameters

	if[%floor% < 1] Set 5 = Parking #Override for underground parking
	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set 5 = Parking #Override for half floors
	Set 5E = %5% #Override for full floors
	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set 5E = ParkingLobby #Override for half floors

	#Parking Stairwell
	#CreateShaftWall(%5E%Wall, %5%Wall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.5, 17.5, 75, 12.5, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)
	CreateShaftWall(%5E%Wall, %5%Wall, ParkingWall, ServiceLobbyWall, %5%Wall, %5%Wall, 0.5, 17.5, 75, 12.5, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)

	#Parking Elevators
	CreateShaftWall(ParkingWall, %5%Wall, ParkingWall, %5E%Wall, %5%Wall, %5%Wall, 0.5, 15, 45, 15, 5, PKElevShaft, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)

	#Freight Elevators
	CreateShaftWall(ServiceLobbyWall, ParkingWall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.5, 17.5, 96, 12.5, 6, FreightElevShaft, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)
<EndFloors>

<Floors 1 to 8>
	ExtStaSets() #Set parameters

	if[%floor% < 1] Set 5 = Parking #Override for underground parking
	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set 5 = Parking #Override for half floors

	Set 5E = ParkingLobby
	Set Suffix = Wall
	if[%floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7] Set Suffix = Wall2 #Override for mall levels

	#Parking Stairwell
	#CreateShaftWall(%5E%%Suffix%, %5%Wall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.5, 15 - 0.25, 75, 15.25, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, false, true, true, false, false, true)
	CreateShaftWall(%5E%%Suffix%, %5%Wall, ParkingWall, ServiceLobbyWall, %5%Wall, %5%Wall, 0.5, 15 - 0.25, 75, 15.25, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, false, true, true, false, false, true)

	#Parking Elevators
	CreateShaftWall(ParkingWall, %5%Wall, ParkingWall, %5E%%Suffix%, %5%Wall, %5%Wall, 0.5, 15 - 0.25, 45, 15.25, 5, PKElevShaft, %WH%, %WO% + %interfloorheight%, true, false, true, true, false, false, true)

	#Freight Elevators
	CreateShaftWall(ServiceLobbyWall, %5%Wall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.5, 15 - 0.25, 96, 15.25, 6, FreightElevShaft, %WH%, %WO% + %interfloorheight%, true, false, true, true, false, false, true)
<EndFloors>

<Floors 9 to 10>
	ExtStaSets() #Set parameters

	#Parking Stairwell
	#CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 17.5, 75, 12.5, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)
	CreateShaftWall(%5%Wall3, %5%Wall, %5%Wall, ServiceLobbyWall, %5%Wall, %5%Wall, 0.5, 17.5, 75, 12.5, 5, PK_Stairs, %WH%, %WO% + %interfloorheight%, true, true, true, true, false, false, true)

	#Parking Elevators
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall3, %5%Wall, %5%Wall, 0.5, 15, 45, 15, 5, PKElevShaft, %WH%, %WO%, true, true, true, true, false, false, false)

	#Freight Elevators
	CreateShaftWall(ServiceLobbyWall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.5, 17.5, 96, 12.5, 6, FreightElevShaft, %WH%, %WO%, true, true, true, true, false, false, false)
<EndFloors>

#All stairwell and shaft tops on roof level
<Floor 11>
	#West-Central Stairwell (Stairwell #2)
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.5, -155, 53.5, 5, 12.5, WCtr_Stairs_Roof, %fullheight%, 0, true, true, true, true, true, false, true)

	#East-Central Stairwell (Stairwell #5)
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.5, 155, 13.5, 5, 12.5, ECtr_Stairs_Roof, %fullheight%, 0, true, true, true, true, true, false, true)

	#Parking Stairwell (Stairwell #7)
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ElevMRIntWall, ExtFacade, ExtFacade, 0.5, 17.5, 75, 12.5, 5, PK_Stairs_Roof, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Parking Elevators
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.5, 15, 45, 15, 5, PKElevShaft_Roof, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Freight Elevators
	CreateShaftWall(ElevMRIntWall, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.5, 17.5, 96, 12.5, 6, FreightElevShaft_RF, %height%, %interfloorheight%, true, true, true, true, true, false, true)
<EndFloor>

<Floors 1 to 8>
	#Storage west of Parking Stairwell (Stairwell #7)
		#Walls
		CreateWallBox2 external, %floorid%_Storage1Inside, ServiceWall, 2.5, 75, 5 - 1, 10 - 1, %height%, 0, 0, 0, true, false, false, false 
	
		#Doors	
		Set DTex = Door1 #Levels 1, 2, 3, and 4
		if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set DTex = ServiceDoor3 #Levels 1A, 2A, 3A and 4A

		Set DSTex = %DTex%Side #Side texture

		Set Door_MainX = 2.5
		Set Door_MainZ = 70

		WallOrientation = left
		AddStdDoor DoorManager, %floorid%_Storage1_Door, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX%, %Door_MainZ%, 2.75, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 2.75, 7, %interfloorheight%, true, 0, 0, true

	########################################

	#Storage west of Freight Elevators
		Set SWH = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5 #Storage wall height

		#Walls
		CreateWallBox2 external, %floorid%_Storage2Inside, ServiceWall, 2.5, 96, 5 - 1, 12 - 1, %SWH%, 0, 0, 0, true, false, false, false 
	
		#Doors	
		Set DTex = ServiceDoor1
		Set DSTex = %DTex%Side #Side texture

		Set Door_MainX = 2.5
		Set Door_MainZ = 90

		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_Storage2_Door, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX%, %Door_MainZ%, 2.75, 7,  0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 2.75, 7, 0, true, 0, 0, false
<EndFloors>

### Basement Elevators
#Cut walls for shaft
Cut external, -20, Floor(-2).Base, -199.5 - 0.1, 0, Floor(3).Altitude, -199.5 + 0.1, true, false

<Floor -2>
	#Interior elevators
	Set WH = %height% + Floor(-1).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	CreateShaftWall(ParkingWall, ParkingWall, ParkingWall, ParkingWall, %5%Wall, %5%Wall, 0.33, -10, -195, 10, 5, BasementElevShaft, %WH%, %WO%, false, true, true, true, false, false, true)
<EndFloor>

<Floor -1>
	#Interior elevators
	Set WH_B1 = %height% + Floor(0).FullHeight

	CreateShaftWall(B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall_Lower, B1Wall, B1Wall, 0.33, -10, -195, 10, 5, BasementElevShaft_L, 4.5, 0, false, true, true, true, false, false, false)
	CreateShaftWall(B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, B1Wall, 0.33, -10, -195, 10, 5, BasementElevShaft_U, %WH_B1% - 4.5, 4.5, false, true, true, true, false, false, false)
<EndFloor>

<Floor 1>
	TexPrefix() #Set texture prefixes

	#Interior elevators
	Set WH = %height% + Floor(2).FullHeight
	Set WO = 0

	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -10, -195, 10, 5, BasementElevShaft, %WH%, %WO%, false, true, false, true, false, false, false)
<EndFloor>

#--------------------

#Mall and Parking Garage Supports
<Floors -2 to 10>
	#Set Values
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z
	TexPrefix() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 40 #Distance between supports Z

	#Set SupportHeight = %fullheight%
	#Set SupportOffset = -%interfloorheight%
	Set SupportHeight = %height% + Floor(%floor% + 1).InterfloorHeight
	Set SupportOffset = 0
	if[%floor% = -2] Set SupportHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% = -2] Set SupportOffset = -%interfloorheight%
	Set ShowTop = false

	#Row A
	Set Prefix = A
	Set SupportZ = -%2% + 1.25
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row B
	Set Prefix = B
	Set SupportZ = -%2% + (%DistanceZ% * 1)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row C
	Set Prefix = C
	Set SupportZ = -%2% + (%DistanceZ% * 2)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ% + 6.5, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ% + 6.5, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row D
	Set Prefix = D
	Set SupportZ = -%2% + (%DistanceZ% * 3)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row E
	Set Prefix = E
	Set SupportZ = -%2% + (%DistanceZ% * 4)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row F
	Set Prefix = F
	Set SupportZ = -%2% + (%DistanceZ% * 5)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row G
	Set Prefix = G
	Set SupportZ = -%2% + (%DistanceZ% * 6)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row H
	Set Prefix = H
	Set SupportZ = -%2% + (%DistanceZ% * 7)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 1] CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 9] CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row I
	Set Prefix = I
	Set SupportZ = -%2% + (%DistanceZ% * 8)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ% - 6.5, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ% - 6.5, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row J
	Set Prefix = J
	Set SupportZ = -%2% + (%DistanceZ% * 9)
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row K
	Set Prefix = K
	Set SupportZ = %2% - 1.25
	CreateWallBox2 external, Support%Prefix%1, ColumnTex, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, ColumnTex, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, ColumnTex, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, ColumnTex, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, ColumnTex, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, ColumnTex, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, ColumnTex, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, ColumnTex, -%1% + (%DistanceX% * 7), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%9, ColumnTex, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

#--------------------
#Roof
<Floor 11>
	Set 1 = 160 #Building Dimension X
	Set 2 = 200 #Building Dimension Z

	#Roof floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, RoofFloor, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elevator machine room floor (Freight Elevators)
		CutAll 5, %interfloorheight% - 0.5, 80, 30, %interfloorheight% + 0.5, 90 + 12, false, true #Floor cuts
	
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor ElevMRFloor, ElevMRIntFloor, 0.5, 5, 80, 30, 90 + 12, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elevator machine room ceiling (Freight Elevators)
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		TextureOverride ElevMRIntCeiling, ExtFacade, Blank, Blank, Blank, Blank
		AddFloor ElevMRCeiling, ElevMRIntCeiling, 0.5, 5, 80, 30, 90, %fullheight%, %fullheight%, 0, 0, true

	#Elevator machine room walls (Freight Elevators)
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade, ElevMRIntWall, Blank, Blank, Blank, Blank
	AddWall ElevMRLeft, ExtFacade, 0.5, 5, 80, 5, 90, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	WallOrientation = right
	TextureOverride ElevMRIntWall, ExtFacade, Blank, Blank, Blank, Blank
	AddWall ElevMRLeft, ExtFacade, 0.5, 30, 80, 30, 90, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elev MR. Area access doors
		Set DTex = Door1
		Set DSTex = %DTex%Side
	
		Set Door_MainX = 5 #West doors
		Set Door_MainZ = 85
		
		WallOrientation = left
		AddStdDoor DoorManager, %floorid%_EMRAccess_D1, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_EMRAccess_D2, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		Set Door_MainX = 30 #East doors
		Set Door_MainZ = 85
		
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_EMRAccess_D3, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_EMRAccess_D4, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Exit signs
		AddBoxSign(EMREntLeft_Exit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, 5.5 + 0.05, 85, 1.8, 0.9, %interfloorheight% + 7.2, true)
		AddBoxSign(EMREntRight_Exit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, 29.5 - 0.05, 85, 1.8, 0.9, %interfloorheight% + 7.2, true)

	#Roof railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	AddWall FrontRFRail, ExtFacade, 0.5, -%1% + 0.5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#AddWall LeftRFRail, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRFRail-A, ExtFacade, 0.5, -%1%, -%2%, -%1%, 53.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRFRail-B, ExtFacade, 0.5, -%1%, 53.5 + 12.5, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	#AddWall RightRFRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RightRFRail-A, ExtFacade, 0.5, %1%, -%2%, %1%, 13.5 - 12.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RightRFRail-B, ExtFacade, 0.5, %1%, 13.5 + 12.5, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackRFRail, ExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

##--------------------------------------------------------------------------------##

#ATRIUM SKYLIGHT
<Floors 10 to 11>
	### EAST SKYLIGHTS ###
	#Cuts for southeast skylight
	if[%floor% > 10] CutAll 60, %interfloorheight% - 1, -155, 100, %interfloorheight% + 1, -85, false, true
	if[%floor% < 11] CutAll 60, %fullheight% - 1, -155, 100, %fullheight% + 1, -85, false, true

	#Cuts for northeast skylight
	if[%floor% > 10] CutAll 60, %interfloorheight% - 1, 45, 100, %interfloorheight% + 1, 115, false, true
	if[%floor% < 11] CutAll 60, %fullheight% - 1, 45, 100, %fullheight% + 1, 115, false, true


	### WEST SKYLIGHTS ###
	#Cuts for southwest skylight
	if[%floor% > 10] CutAll -100, %interfloorheight% - 1, -110, -60, %interfloorheight% + 1, -20, false, true
	if[%floor% < 11] CutAll -100, %fullheight% - 1, -110, -60, %fullheight% + 1, -20, false, true

	#Cuts for northwest skylight
	if[%floor% > 10] CutAll -100, %interfloorheight% - 1, 20, -60, %interfloorheight% + 1, 110, false, true
	if[%floor% < 11] CutAll -100, %fullheight% - 1, 20, -60, %fullheight% + 1, 110, false, true

		#Skylight
		DrawWalls = true, true, false, false, false, false
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 11] AddFloor SoutheastSkylight, SkylightInt, 0, 60, -155, 100, -85, %interfloorheight%, %interfloorheight%, 4/4, 7, true
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 11] AddFloor NortheastSkylight, SkylightInt, 0, 60, 45, 100, 115, %interfloorheight%, %interfloorheight%, 4/4, 7, true

		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 11] AddFloor SouthwestSkylight, SkylightInt, 0, -100, -110, -60, -20, %interfloorheight%, %interfloorheight%, 4/4, 9, true
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 11] AddFloor NorthwestSkylight, SkylightInt, 0, -100, 20, -60, 110, %interfloorheight%, %interfloorheight%, 4/4, 9, true

		#Skylight atrium covers
		if[%floor% = 10] CreateWallBox2 floor, SoutheastSL_AtriumCOVER, ShopWall2, 80, -120, 40, 70, Floor(11).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 10] CreateWallBox2 floor, NortheastSL_AtriumCOVER, ShopWall2, 80, 80, 40, 70, Floor(11).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 10] CreateWallBox2 floor, SouthwestSL_AtriumCOVER, ShopWall2, -80, -65, 40, 90, Floor(11).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 10] CreateWallBox2 floor, NorthwestSL_AtriumCOVER, ShopWall2, -80, 65, 40, 90, Floor(11).InterfloorHeight, %height%, 0, 0, true, false, false, false
<EndFloors>

##--------------------------------------------------------------------------------##

#SHAFTS

#South Glass Elevators (1st Street side)
AddShaft 1, -80, -120, -3, 11
ShaftCut 1, -9.67 + 0.33, -4.67 + 0.33, 9.67 - 0.33, 4.67 - 0.33, 0, 5
ShowFullShaft 1 = true
ShaftShowFloors 1 = -2 - 10
ShaftShowOutside 1 = -2 - 10

#Shaft pit and base
<Floors -3 to 0>
	Set 8 = -80 #Center X
	Set 9 = -120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -3] AddShaftFloor %12%, Shaft%12%-PitBase, %SHWallTex%, %FloorThick%, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>

#Main walls
<Floors 1 to 10>
	Set 8 = -80 #Center X
	Set 9 = -120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%LeftEX, %SHWallTex%, %WallThick%, -%10%, 0, -%10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, 0, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%RightEX, %SHWallTex%, %WallThick%, %10%, 0, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, 0, %fullheight%, %fullheight%, 0, 0, 0, 0
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
<EndFloors>

#Machine room
<Floor 11>
	Set 8 = -80 #Center X
	Set 9 = -120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture
	Set SHWallTex2 = ShaftIntWall #Wall Texture (Machine Room)

	#Shaft Floors
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %SHWallTex%, %SHWallTex2%, Blank, Blank, Blank, Blank
	if[%floor% = 11] AddShaftFloor %12%, Shaft%12%-MRBase, %SHWallTex%, %FloorThick%, -%10% + %WallThick%, -%11% + %WallThick%, %10% - %WallThick%, %11% - %WallThick%, %interfloorheight%, %interfloorheight%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddShaftFloor %12%, Shaft%12%-MRTop, %SHWallTex2%, %FloorThick%, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Interfloor walls, to match with the shaft's main part
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0

	#Machine room walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%MRFront, %SHWallTex2%, %WallThick%, -%10%, -%11%, %10%, -%11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRLeft, %SHWallTex2%, %WallThick%, -%10%, -%11%, -%10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%MRRight, %SHWallTex2%, %WallThick%, %10%, -%11%, %10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRBack, %SHWallTex2%, %WallThick%, -%10%, %11%, %10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
<EndFloor>

<Floors -3 to 11>
	Set WallHeight = %fullheight%
	if[%floor% = 11] Set WallHeight = %interfloorheight%

	#Divider walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Divider1, GLEShaftWall, 0.66, 0, -%11%, 0, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0

	#Glass elevator tracks
	Set EachElevWidth = 6.5 #Estimated width for each glass elevator's area
	Set TrackEndpoint = %EachElevWidth% / 2

	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	AddShaftWall %12%, Shaft%12%Track1, GLETrack, 1, -%10% - 0.33, 0, -5 - %TrackEndpoint%, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, true, false, false
	AddShaftWall %12%, Shaft%12%Track2, GLETrack, 1, -5 + %TrackEndpoint%, 0, 5 - %TrackEndpoint%, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	AddShaftWall %12%, Shaft%12%Track3, GLETrack, 1, 5 + %TrackEndpoint%, 0, %10% + 0.33, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
<EndFloors>

#Glass panels
<Floor 1>
	Set WallHeight = 8
	if[%floor% = -1] Set WallHeight = %height% + Floor(0).FullHeight
	Set TileZ = 1

	Set GLEPanelTex = GLEPanel
	#if[%floor% < 1] Set GLEPanelTex = GLEPanel2

	#Shaft 1
	Set 12 = 1 #Shaft Number
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! 0] AddWall Shaft%12%PanelBack, %GLEPanelTex%, 0, -89.34, -115.66, -70.66, -115.66, %WallHeight%, %WallHeight%, 0, 0, 4/4, %TileZ%, false
	if[%floor% ! 0] AddWall Shaft%12%PanelLeft, %GLEPanelTex%, 0, -89.34, -120, -89.34, -115.66, %WallHeight%, %WallHeight%, 0, 0, 1/4, %TileZ%, false
	if[%floor% ! 0] AddWall Shaft%12%PanelRight, %GLEPanelTex%, 0, -70.66, -120, -70.66, -115.66, %WallHeight%, %WallHeight%, 0, 0, 1/4, %TileZ%, false
<EndFloor>

#External shaft walls for shaft 1
#B2
<Floor -2>
	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight
	Set WO = %interfloorheight%

	#Shaft 1
	CreateShaftWall(ParkingLobbyWall, ParkingLobbyWall, ParkingLobbyWall, ParkingWall, ParkingWall, ParkingWall, 0.33, -80, -120, 10, 5, SH1_Basement, %WH%, %WO%, true, true, true, true, false, false, true)
<EndFloor>

#B1
<Floor -1>
	TexPrefix() #Set texture prefix
	Set WH = %height% + Floor(%floor% + 1).FullHeight
	Set WO = 0

	#Shaft 1
	CreateShaftWall(%5%Wall_Lower, %5%Wall_Lower, %5%Wall_Lower, %5%Wall_Lower, %5%Wall, %5%Wall, 0.33, -80, -120, 10, 5, SH1_Mall, 4.5, %WO%, true, true, true, true, false, false, false)
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -80, -120, 10, 5, SH1_Mall, %WH% - 4.5, 4.5, true, true, true, true, false, false, false)
<EndFloor>

#1 to 4
<Floors 1 to 7>
	TexPrefix() #Set texture prefix
	Set WH = %fullheight% + Floor(%floor% + 1).FullHeight
	Set WO = -%interfloorheight%
	if[%floor% = -1 | %floor% = 1] Set WH = %height% + Floor(%floor% + 1).FullHeight
	if[%floor% = -1 | %floor% = 1] Set WO = 0

	#Shaft 1
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6] CreateShaftWall(%5%Wall3, %5%Wall3, %5%Wall3, %5%Wall3, %5%Wall, %5%Wall, 0.33, -80, -120 - 2.5, 10, 2.5, SH1_Mall, %WH%, %WO%, true, true, true, false, false, false, false)
<EndFloors>

#5 to 6
<Floors 9 to 10>
	TexPrefix() #Set texture prefix
	Set WH = %fullheight%
	Set WO = -%interfloorheight%

	#Shaft 1
	CreateShaftWall(%5%Wall3, %5%Wall3, %5%Wall3, %5%Wall3, %5%Wall, %5%Wall, 0.33, -80, -120 - 2.5, 10, 2.5, SH1_Mall, %WH%, %WO%, true, true, true, false, false, false, false)
<EndFloors>

#Roof
<Floor 11>
	Set WH = %height%
	Set WO = %interfloorheight%

	#Shaft 1
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.33, -80, -120, 10, 5, SH1_Roof, %WH%, %WO%, true, true, true, true, true, false, true)

		#Machine room doors
		Set DTex = ServiceDoor1
		Set DSTex = %DTex%Side
	
		Set Door_MainX = -80
		Set Door_MainZ = -120 - 5
	
		WallOrientation = left
		AddStdDoor DoorManager, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#North Glass Elevators (2nd Street side)
AddShaft 2, -80, 120, -3, 11
ShaftCut 2, -9.67 + 0.33, -4.67 + 0.33, 9.67 - 0.33, 4.67 - 0.33, 0, 5
ShowFullShaft 2 = true
ShaftShowFloors 2 = -2 - 10
ShaftShowOutside 2 = -2 - 10

#Shaft pit and base
<Floors -3 to 0>
	Set 8 = -80 #Center X
	Set 9 = 120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 2 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -3] AddShaftFloor %12%, Shaft%12%-PitBase, %SHWallTex%, %FloorThick%, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>

#Main walls
<Floors 1 to 10>
	Set 8 = -80 #Center X
	Set 9 = 120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 2 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%LeftEX, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, 0, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, 0, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% = -1 | %floor% = 1] AddShaftWall %12%, Shaft%12%RightEX, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, 0, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, 0, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>

#Machine room
<Floor 11>
	Set 8 = -80 #Center X
	Set 9 = 120 #Center Z
	Set 10 = 9.67 #Cut X
	Set 11 = 4.67 #Cut Z
	Set 12 = 2 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture
	Set SHWallTex2 = ShaftIntWall #Wall Texture (Machine Room)

	#Shaft Floors
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %SHWallTex%, %SHWallTex2%, Blank, Blank, Blank, Blank
	if[%floor% = 11] AddShaftFloor %12%, Shaft%12%-MRBase, %SHWallTex%, %FloorThick%, -%10% + %WallThick%, -%11% + %WallThick%, %10% - %WallThick%, %11% - %WallThick%, %interfloorheight%, %interfloorheight%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddShaftFloor %12%, Shaft%12%-MRTop, %SHWallTex2%, %FloorThick%, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Interfloor walls, to match with the shaft's main part
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0

	#Machine room walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%MRFront, %SHWallTex2%, %WallThick%, -%10%, -%11%, %10%, -%11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRLeft, %SHWallTex2%, %WallThick%, -%10%, -%11%, -%10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%MRRight, %SHWallTex2%, %WallThick%, %10%, -%11%, %10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRBack, %SHWallTex2%, %WallThick%, -%10%, %11%, %10%, %11%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0
<EndFloor>

<Floors -3 to 11>
	Set WallHeight = %fullheight%
	if[%floor% = 11] Set WallHeight = %interfloorheight%

	#Divider walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Divider1, GLEShaftWall, 0.66, 0, 0, 0, %11%, %WallHeight%, %WallHeight%, 0, 0, 0, 0

	#Glass elevator tracks
	Set EachElevWidth = 6.5 #Estimated width for each glass elevator's area
	Set TrackEndpoint = %EachElevWidth% / 2

	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	AddShaftWall %12%, Shaft%12%Track1, GLETrack, 1, -%10% - 0.33, 0, -5 - %TrackEndpoint%, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, true, false, false
	AddShaftWall %12%, Shaft%12%Track2, GLETrack, 1, -5 + %TrackEndpoint%, 0, 5 - %TrackEndpoint%, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	AddShaftWall %12%, Shaft%12%Track3, GLETrack, 1, 5 + %TrackEndpoint%, 0, %10% + 0.33, 0, %WallHeight%, %WallHeight%, 0, 0, 0, 0
<EndFloors>

#Glass panels
<Floor 1>
	Set WallHeight = 8
	if[%floor% = -1] Set WallHeight = %height% + Floor(0).FullHeight
	Set TileZ = 1

	Set GLEPanelTex = GLEPanel

	#Shaft 2
	Set 12 = 2 #Shaft Number
	DrawWalls = true, true, false, false, false, false
	AddWall Shaft%12%PanelFront, %GLEPanelTex%, 0, -89.34, 115.66, -70.66, 115.66, %WallHeight%, %WallHeight%, 0, 0, 4/4, %TileZ%, false
	AddWall Shaft%12%PanelLeft, %GLEPanelTex%, 0, -89.34, 115.66, -89.34, 120, %WallHeight%, %WallHeight%, 0, 0, 1/4, %TileZ%, false
	AddWall Shaft%12%PanelRight, %GLEPanelTex%, 0, -70.66, 115.66, -70.66, 120, %WallHeight%, %WallHeight%, 0, 0, 1/4, %TileZ%, false
<EndFloor>

#External shaft walls for shaft 2
#B2 to B0
<Floors -2 to 0>
	Set WH = %height% + Floor(%floor% + 1).InterfloorHeight
	Set WO = %interfloorheight%

	#Shaft 2
	CreateShaftWall(ParkingWall, ParkingLobbyWall, ParkingLobbyWall, ParkingLobbyWall, ParkingWall, ParkingWall, 0.33, -80, 120, 10, 5, SH2_Basement, %WH%, %WO%, true, true, true, true, false, false, true)
<EndFloors>

#1 to 4
<Floors 1 to 7>
	TexPrefix() #Set texture prefix
	Set WH = %fullheight% + Floor(%floor% + 1).FullHeight
	Set WO = -%interfloorheight%
	if[%floor% = 1] Set WH = %height% + Floor(%floor% + 1).FullHeight
	if[%floor% = 1] Set WO = 0

	#Shaft 2
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6] CreateShaftWall(%5%Wall3, %5%Wall3, %5%Wall3, %5%Wall3, %5%Wall, %5%Wall, 0.33, -80, 120 + 2.5, 10, 2.5, SH2_Mall, %WH%, %WO%, false, true, true, true, false, false, false)
<EndFloors>

#5 to 6
<Floors 9 to 10>
	TexPrefix() #Set texture prefix
	Set WH = %fullheight%
	Set WO = -%interfloorheight%

	#Shaft 2
	CreateShaftWall(%5%Wall3, %5%Wall3, %5%Wall3, %5%Wall3, %5%Wall, %5%Wall, 0.33, -80, 120 + 2.5, 10, 2.5, SH2_Mall, %WH%, %WO%, false, true, true, true, false, false, false)
<EndFloors>

#Roof
<Floor 11>
	Set WH = %height%
	Set WO = %interfloorheight%

	#Shaft 2
	CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.33, -80, 120, 10, 5, SH2_Roof, %WH%, %WO%, true, true, true, true, true, false, true)

		#Machine room doors
		Set DTex = ServiceDoor1
		Set DSTex = %DTex%Side
	
		Set Door_MainX = -80
		Set Door_MainZ = 120 + 5
	
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_Shaft2MR_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft2MR_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#Interior Elevators
AddStdShaft(3, 1, 60, -45, 19.67, 4.67, -3, 11, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#Machine room doors
<Floor 11>	
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side
	
	Set Door_MainX = 60
	Set Door_MainZ = -45 - 5
	
	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#Parking Elevators
AddStdShaft(4, 1, 15, 45, 14.67, 4.67, -3, 11, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#Machine room doors
<Floor 11>	
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side
	
	Set Door_MainX = 15
	Set Door_MainZ = 45 + 5

	WallOrientation = right
	AddStdDoor DoorManager, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#Basement elevators (MRL)
AddStdShaft(5, 2, -10, -195, 9.67, 4.67, -3, 2, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)

#========================================#

#Freight Elevators	
AddStdShaft(6, 1, 17.5, 96, 12.17, 5.67, -3, 11, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#Machine room doors
<Floor 11>
	Set DTex = ServiceDoor1
	Set DSTex = %DTex%Side
	
	Set Door_MainX = 17.5
	Set Door_MainZ = 96 - 6

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#ELEVATORS
#Disable idle sounds, enabling the movement sounds to be heard more clearly.
<Elevators 1 to 15>
	CarIdleSound = 
<EndElevators>

#South Glass Elevators
<Elevator 1>
	Name = Glass Elevator 1
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 1
	CreateElevator true, -5, -1.92, 1
<EndElevator>

<Elevator 2>
	Name = Glass Elevator 2
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 1
	CreateElevator true, 5, -1.92, 1
<EndElevator>

#Button creation function (Elevators 1-2)
#This set of buttons is later used by Elevators 5-8.
<Function BtnPanelE1-2and5-8>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton
	
	Set FirstRow = 1
	if[%elevator% > 4] Set FirstRow = 2

	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, %FirstRow%, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, %FirstRow% + 1, 2, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, %FirstRow% + 2, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, %FirstRow% + 3, 2, 5, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, %FirstRow%, 1, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, %FirstRow% + 1, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, %FirstRow% + 2, 1, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, %FirstRow% + 3, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, %FirstRow% + 5, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, %FirstRow% + 5, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, %FirstRow% + 6, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, %FirstRow% + 6, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 2>
	Set Prefix = Glass
	AutoEnable = false
	DisplayFloors = -2 - 1, 3, 5, 7, 9 - 10 #Also display B0 despite not serviced.

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt2, %Prefix%ElevFloor, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6, 3.84, 8, 1.5, 0.2, false, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1, 1, 1, 0.2, true, false, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Interior walls detailing
		#1. Panoramic cab
		#Floors and ceiling
		DrawWalls = true, false, false, false, false, false
		AddCustomFloor elevator, FloorInt, %Prefix%ElevFloor, -3, 1.92, -3, 1.92 + 2, -1.5, 1.92 + 3.66, 1.5, 1.92 + 3.66, 3, 1.92 + 2, 3, 1.92, 0, 0, 0
		DrawWalls = false, true, false, false, false, false
		AddCustomFloor elevator, FloorExt, ElevExt2, -3, 1.92, -3, 1.92 + 2, -1.5, 1.92 + 3.66, 1.5, 1.92 + 3.66, 3, 1.92 + 2, 3, 1.92, -1.5, 0, 0
		DrawWalls = true, true, false, false, false, false
		AddCustomFloor elevator, Ceiling, Blank, -3, 1.92, -3, 1.92 + 2, -1.5, 1.92 + 3.66, 1.5, 1.92 + 3.66, 3, 1.92 + 2, 3, 1.92, 8 + 1.5, 0, 0

		#Floor covering walls
		DrawWalls = true, true, false, false, false, false
		AddWall GlassWall1_Ext, ElevExt2, 0, -3, 1.92, -3, 1.92 + 2, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall2_Ext, ElevExt2, 0, -3, 1.92 + 2, -1.5, 1.92 + 3.66, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall3_Ext, ElevExt2, 0, -1.5, 1.92 + 3.66, 1.5, 1.92 + 3.66, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall4_Ext, ElevExt2, 0, 1.5, 1.92 + 3.66, 3, 1.92 + 2, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall5_Ext, ElevExt2, 0, 3, 1.92, 3, 1.92 + 2, 1.5, 1.5, -1.5, -1.5, 0, 0

		#Glass walls
		DrawWalls = true, true, false, false, false, false
		AddWall GlassWall1, %Prefix%ElevWallGlass, 0, -3, 1.92, -3, 1.92 + 2, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall2, %Prefix%ElevWallGlass, 0, -3, 1.92 + 2, -1.5, 1.92 + 3.66, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall3, %Prefix%ElevWallGlass, 0, -1.5, 1.92 + 3.66, 1.5, 1.92 + 3.66, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall4, %Prefix%ElevWallGlass, 0, 1.5, 1.92 + 3.66, 3, 1.92 + 2, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall5, %Prefix%ElevWallGlass, 0, 3, 1.92, 3, 1.92 + 2, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0

		#2. Walls
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		AddWall LeftInt-Link, %Prefix%ElevWall, 0, -3, 1.92, -2.8, 1.92, 8, 8, 0, 0, 0, 0
		AddWall RightInt-Link, %Prefix%ElevWall, 0, 2.8, 1.92, 3, 1.92, 8, 8, 0, 0, 0, 0
		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		AddWall CeilingDeco, %Prefix%ElevCeilingDeco, 0.01, -3, 1.92, 3, 1.92, 1.5, 1.5, 8, 8, 0, 0

		#3. Ceiling lights
		CreateWallBox2 elevator, Light1A, %Prefix%ElevCeilingLight, -2.8 + 0.75, 0.1 - 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light1B, %Prefix%ElevCeilingLight, -2.8 + 0.75, 0.1 + 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2A, %Prefix%ElevCeilingLight, 2.8 - 0.75, 0.1 - 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2B, %Prefix%ElevCeilingLight, 2.8 - 0.75, 0.1 + 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true

		#4. Panels on walls
		Set WPTex = %Prefix%ElevWallPanel

		CreateWallBox2 elevator, Panel_Left, %WPTex%, -2.8 + 0.01, 0.1, 0.02, 2, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_Right, %WPTex%, 2.8 - 0.01, 0.1, 0.02, 2, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%Side, 0.2, right, 0.8, 0.6, 0, -1.92, 2, -1.92, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2Side, 0.2, left, 0.8, 0.6, -2, -1.92, 0, -1.92, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -(2 * 2), -2.12, 2 * 2, -1.92, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.4 #Right panel
	Set Position2 = 2.4 #Left panel

		#Panel
		CreatePanel , 7, 2, back, %Position%, -1.72 + 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 7, 2, back, %Position2%, -1.72 + 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE1-2and5-8(1)
			BtnPanelE1-2and5-8(2)

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -1.72 + 0.001, 0 + 0.25, -1.72 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicators
	AddFloorIndicator MAInd_Button, back, %Position%, -1.72 + 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, back, %Position2%, -1.72 + 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 9.5, 0
		RopeTexture = Ropes
	
		#Counterweight
		if[%elevator% = 1] Set Position = -3 - 0.75
		if[%elevator% = 2] Set Position = 3 + 0.75
	
		CreateCounterweight CWeight_Frame, CWeight, %Position%, -0.5, 0.5, 6, 2, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, %Position%, -0.5, true, 1 + 0.06, 0.1
<EndElevators>

#North Glass Elevators
<Elevator 3>
	Name = Glass Elevator 3
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 1, 3, 5, 7, 9 - 10
	AssignedShaft = 2
	CreateElevator true, 5, 1.92, 1
<EndElevator>

<Elevator 4>
	Name = Glass Elevator 4
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 1, 3, 5, 7, 9 - 10
	AssignedShaft = 2
	CreateElevator true, -5, 1.92, 1
<EndElevator>

#Button creation function (Elevators 3-4)
<Function BtnPanelE3-4>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 1, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 2, 2, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 3, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 4, 2, 5, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 1, 1, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 2, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B0, %BtnPrefix%LitB0, 3, 1, 0, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 4, 1, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 5, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 7, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 7, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 8, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 8, 2, alarm, 1, 1
<EndFunction>

<Elevators 3 to 4>
	Set Prefix = Glass
	AutoEnable = false
	DisplayFloors = -2 - 1, 3, 5, 7, 9 - 10

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt2, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6, 3.84, 8, 1.5, 0.2, false, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1, 1, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Interior walls detailing
		#1. Panoramic cab
		#Floors and ceiling
		DrawWalls = true, false, false, false, false, false
		AddCustomFloor elevator, FloorInt, %Prefix%ElevFloor, -3, -1.92, -3, -1.92 - 2, -1.5, -1.92 - 3.66, 1.5, -1.92 - 3.66, 3, -1.92 - 2, 3, -1.92, 0, 0, 0
		DrawWalls = false, true, false, false, false, false
		AddCustomFloor elevator, FloorExt, ElevExt2, -3, -1.92, -3, -1.92 - 2, -1.5, -1.92 - 3.66, 1.5, -1.92 - 3.66, 3, -1.92 - 2, 3, -1.92, -1.5, 0, 0
		DrawWalls = true, true, false, false, false, false
		AddCustomFloor elevator, Ceiling, Blank, -3, -1.92, -3, -1.92 - 2, -1.5, -1.92 - 3.66, 1.5, -1.92 - 3.66, 3, -1.92 - 2, 3, -1.92, 8 + 1.5, 0, 0

		#Floor covering walls
		DrawWalls = true, true, false, false, false, false
		AddWall GlassWall1_Ext, ElevExt2, 0, -3, -1.92 - 2, -3, -1.92, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall2_Ext, ElevExt2, 0, -3, -1.92 - 2, -1.5, -1.92 - 3.66, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall3_Ext, ElevExt2, 0, -1.5, -1.92 - 3.66, 1.5, -1.92 - 3.66, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall4_Ext, ElevExt2, 0, 1.5, -1.92 - 3.66, 3, -1.92 - 2, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall5_Ext, ElevExt2, 0, 3, -1.92 - 2, 3, -1.92, 1.5, 1.5, -1.5, -1.5, 0, 0

		#Glass walls
		DrawWalls = true, true, false, false, false, false
		AddWall GlassWall1, %Prefix%ElevWallGlass, 0, -3, -1.92 - 2, -3, -1.92, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall2, %Prefix%ElevWallGlass, 0, -3, -1.92 - 2, -1.5, -1.92 - 3.66, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall3, %Prefix%ElevWallGlass, 0, -1.5, -1.92 - 3.66, 1.5, -1.92 - 3.66, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall4, %Prefix%ElevWallGlass, 0, 1.5, -1.92 - 3.66, 3, -1.92 - 2, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall5, %Prefix%ElevWallGlass, 0, 3, -1.92 - 2, 3, -1.92, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0

		#2. Walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall LeftInt-Link, %Prefix%ElevWall, 0, -3, -1.92, -2.8, -1.92, 8, 8, 0, 0, 0, 0
		AddWall RightInt-Link, %Prefix%ElevWall, 0, 2.8, -1.92, 3, -1.92, 8, 8, 0, 0, 0, 0
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall CeilingDeco, %Prefix%ElevCeilingDeco, 0.01, -3, -1.92, 3, -1.92, 1.5, 1.5, 8, 8, 0, 0

		#3. Ceiling lights
		CreateWallBox2 elevator, Light1A, %Prefix%ElevCeilingLight, -2.8 + 0.75, -0.1 - 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light1B, %Prefix%ElevCeilingLight, -2.8 + 0.75, -0.1 + 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2A, %Prefix%ElevCeilingLight, 2.8 - 0.75, -0.1 - 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2B, %Prefix%ElevCeilingLight, 2.8 - 0.75, -0.1 + 0.9, 1.25, 1.6, 0.08, 8 - 0.08, 0, 0, false, true, true, true

		#4. Panels on walls
		Set WPTex = %Prefix%ElevWallPanel2

		CreateWallBox2 elevator, Panel_Left, %WPTex%, -2.8 + 0.01, -0.1, 0.02, 2, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_Right, %WPTex%, 2.8 - 0.01, -0.1, 0.02, 2, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%Side, 0.2, left, 0.8, 0.6, -2, 1.92, 0, 1.92, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2Side, 0.2, right, 0.8, 0.6, 0, 1.92, 2, 1.92, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -(2 * 2), 1.92, 2 * 2, 2.12, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.4 #Right panel
	Set Position2 = -2.4 #Left panel

		#Panel
		CreatePanel , 8, 2, front, %Position%, 1.72 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 8, 2, front, %Position2%, 1.72 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE3-4(1)
			BtnPanelE3-4(2)

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 1.72 - 0.001, 0 + 0.25, 1.72 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicators
	AddFloorIndicator MAInd_Button, front, %Position%, 1.72 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, front, %Position2%, 1.72 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 9.5, 0
		RopeTexture = Ropes
	
		#Counterweight
		if[%elevator% = 3] Set Position = 3 + 0.75
		if[%elevator% = 4] Set Position = -3 - 0.75
	
		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0.5, 0.5, 6, 2, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, %Position%, 0.5, true, 1 + 0.06, 0.1
<EndElevators>

#Interior Elevators
#To let random people use these elevators, enable "Service Access" for each person.

<Elevator 5>
	Name = Interior Elevator 1
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 3
	CreateElevator true, -15, -0.59, 1
<EndElevator>

<Elevator 6>
	Name = Interior Elevator 2
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 3
	CreateElevator true, -5, -0.59, 1
<EndElevator>

<Elevator 7>
	Name = Interior Elevator 3
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 3
	CreateElevator true, 5, -0.59, 10
<EndElevator>

<Elevator 8>
	Name = Interior Elevator 4
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 3
	CreateElevator true, 15, -0.59, 10
<EndElevator>

<Elevators 5 to 8>
	DisplayFloors = -2 - 1, 3, 5, 7, 9 - 10 #Also display B0 despite not serviced.
	Set Prefix = Interior

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt3, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, false, true, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, true, false, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, 0, 0 + 1.5, 6, 2.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 0, 0 - 1.5, 6, 2.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.6 * 1/4), 3.05 - 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.6 * 1/4), 3.05 - 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.3 + 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.3 - 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP% - 0.2, 2 + (2 * 1), %IDP%, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.65 #Right (Main) panel
	Set Position2 = 2.65 #Left (Secondary) panel

		#Panels
		CreatePanel ElevPanel2, 9, 2, back, %Position%, -3.05 + 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel ElevPanel2, 9, 2, back, %Position2%, -3.05 + 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE1-2and5-8(1)
			BtnPanelE1-2and5-8(2)
	#--------------------
	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -3.05 + 0.001, 0 + 0.25, -3.05 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Indicator sets
	AddFloorIndicator MAInd_Button, back, %Position%, -3.05 + 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, back, %Position2%, -3.05 + 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3.25 + 0.75
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#Parking Elevators
<Elevator 9>
	Name = Parking Elevator 1
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1 - 10
	AssignedShaft = 4
	CreateElevator true, 10, 0.59, 1
<EndElevator>

<Elevator 10>
	Name = Parking Elevator 2
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1 - 10
	AssignedShaft = 4
	CreateElevator true, 0, 0.59, 1
<EndElevator>

<Elevator 11>
	Name = Parking Elevator 3
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1 - 10
	AssignedShaft = 4
	CreateElevator true, -10, 0.59, 10
<EndElevator>

#Button creation function (Elevators 9-11)
<Function BtnPanelE9-11>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 2, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 3, 2, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4A, %BtnPrefix%Lit4A, 4, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 5, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3A, %BtnPrefix%Lit3A, 6, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 7, 2, 5, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2A, %BtnPrefix%Lit2A, 2, 1, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 3, 1, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1A, %BtnPrefix%Lit1A, 4, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 6, 1, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 7, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 9, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 9, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 10, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 10, 2, alarm, 1, 1
<EndFunction>

<Elevators 9 to 11>
	DisplayFloors = -2 - -1, 1 - 10 #Level B0 is not displayed here.
	Set Prefix = Parking

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt3, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, true, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, E%elevator%_Light1/1, %Prefix%ElevCeilingLight, -3.3 + 0.8, 0 - 2, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/2, %Prefix%ElevCeilingLight, -3.3 + 0.8, 0, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/3, %Prefix%ElevCeilingLight, -3.3 + 0.8, 0 + 2, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true

	CreateWallBox2 elevator, E%elevator%_Light2/1, %Prefix%ElevCeilingLight, 3.3 - 0.8, 0 - 2, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/2, %Prefix%ElevCeilingLight, 3.3 - 0.8, 0, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/3, %Prefix%ElevCeilingLight, 3.3 - 0.8, 0 + 2, 1.5, 1.8, 0.05, 8 - 0.05, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0 + (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.3 + 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.3 - 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP%, 2 + (2 * 1), %IDP% + 0.2, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right (Main) panel
	Set Position2 = -2.65 #Left (Secondary) panel

		#Panels
		CreatePanel ElevPanel2, 11, 2, front, %Position%, 3.05 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel ElevPanel2, 11, 2, front, %Position2%, 3.05 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE9-11(1)
			BtnPanelE9-11(2)
	#--------------------
	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 3.05 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Indicator sets
	AddFloorIndicator MAInd_Button, front, %Position%, 3.05 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, front, %Position2%, 3.05 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#BASEMENT ELEVATORS
<Elevator 12>
	Name = Basement Elevator 1
	Type = Express
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1
	AssignedShaft = 5
	MotorPosition = 0, Floor(3).Altitude - 0.5, 0
	CreateElevator true, 5, 0.59, 1
<EndElevator>

<Elevator 13>
	Name = Basement Elevator 2
	Type = Express
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1
	AssignedShaft = 5
	MotorPosition = 0, Floor(3).Altitude - 0.5, 0
	CreateElevator true, -5, 0.59, 1
<EndElevator>

<Function BtnPanelE12-13>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %PanelNumber% + 1
	Set BtnPrefix = Signa4Button

	AddButton %PanelNumber2%, , %BtnPrefix%1, %BtnPrefix%Lit1, 1, 1, 1, 1, 1
	AddButton %PanelNumber2%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 2, 1, -1, 1, 1
	AddButton %PanelNumber2%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 3, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 5, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 5, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 6, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 6, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber2%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 7, 1, off, 2, 1
<EndFunction>

<Elevators 12 to 13>
	DisplayFloors = -2 - -1, 1
	Set Prefix = Basement

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, true, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.4, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, -3.3 + 0.67, -0.1, 1.34, 5.9, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 3.3 - 0.67, -0.1, 1.34, 5.9, 0.05, 8 - 0.05, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, -0.1 - (5.9 * 1/4), 0.02, (5.9 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.3 + 0.01, -0.1 + (5.9 * 1/4), 0.02, (5.9 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, -0.1 - (5.9 * 1/4), 0.02, (5.9 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.3 - 0.01, -0.1 + (5.9 * 1/4), 0.02, (5.9 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP%, 2 + (2 * 1), %IDP% + 0.2, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right (Main) panel
	Set Position2 = -2.65 #Left (Secondary) panel

		#Panels
		CreatePanel , 7, 2, front, %Position%, 2.85 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Panel 1: Control buttons (Right)
		CreatePanel , 7, 1, front, %Position%, 2.85 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Panel 2: Floor & phone buttons (Right)
		CreatePanel , 7, 2, front, %Position2%, 2.85 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Panel 3: Control buttons (Left)
		CreatePanel , 7, 1, front, %Position2%, 2.85 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Panel 4: Floor buttons (Left)

			#Buttons
			BtnPanelE12-13(1)
			BtnPanelE12-13(3)
	#--------------------
	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 2.85 - 0.001, 0 + 0.25, 2.85 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Signa4, Signa4LanternUp, Signa4LanternUpLit, Signa4LanternDown, Signa4LanternDownLit, 2 - 0.001, 3.25 - 0.2, 5.5, left, 0.35, 0.7, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Signa4, Signa4LanternUp, Signa4LanternUpLit, Signa4LanternDown, Signa4LanternDownLit, -2 + 0.001, 3.25 - 0.2, 5.5, right, 0.35, 0.7, true, 0, 0
	#--------------------
	#Indicator sets
	AddFloorIndicator Signa4IntInd_Button, front, %Position%, 2.85 - 0.001, 0.5, 0.5, 6 + 0.25 - 0.25

	#Fire service cabinet
	DrawWalls = true, false, false, false, false, false
	AddWall FireCab, Signa4FireCab, 0, %Position% - 0.25, 2.85 - 0.001, %Position% + 0.25, 2.85 - 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#FREIGHT ELEVATORS
#Elevator 14: Full floors only
<Elevator 14>
	Name = Freight 1
	Type = Freight
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	DisplayFloors = -2 - -1, 1, 3, 5, 7, 9 - 10
	AssignedShaft = 6
	CreateElevator true, -6.25, 0, 1
<EndElevator>

#Elevator 15: All floors
<Elevator 15>
	Name = Freight 2
	Type = Freight
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 10
	AssignedShaft = 6
	CreateElevator true, 6.25, 0, 1
<EndElevator>

#Button creation function (Freight Elevators)
<Function BtnPanelFE1>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %PanelNumber% + 1
	Set BtnPrefix = Signa4Button

	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 1, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 1, 1, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 2, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 2, 1, 5, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 3, 2, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 3, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 4, 2, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 4, 1, -2, 1, 1

	#if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%DH, %BtnPrefix%DH, 6, 2, hold, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 7, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 7, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber2%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 8, 1, off, 2, 1
<EndFunction>

<Function BtnPanelFE2>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %PanelNumber% + 1
	Set BtnPrefix = Signa4Button

	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 1, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 1, 1, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4A, %BtnPrefix%Lit4A, 2, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 2, 1, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3A, %BtnPrefix%Lit3A, 3, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 3, 1, 5, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2A, %BtnPrefix%Lit2A, 4, 2, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 4, 1, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1A, %BtnPrefix%Lit1A, 5, 2, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B0, %BtnPrefix%LitB0, 6, 2, 0, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 6, 1, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 7, 2, -2, 1, 1

	#if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%DH, %BtnPrefix%DH, 9, 2, hold, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 9, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 9, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 10, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 10, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber2%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 11, 1, off, 2, 1
<EndFunction>

<Elevators 14 to 15>
	Set Prefix = Freight
	AutoEnable = false

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7.5, 9.28, 8, 0.2, 0.2, false, true, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 0.25, 1, 0.2, true, false, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, -1.5, 0, 1, 6.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 0, 0, 1, 6.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light3, %Prefix%ElevCeilingLight, 1.5, 0, 1, 6.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Wall trims
	Set WPTex = %Prefix%ElevWallTrim
	Set WPanelHeight = 8
	Set Direction = %param2%

		#Back
		CreateWallBox2 elevator, E%elevator%_BackWT1, %WPTex%, -1.25, 4.44 - 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		#CreateWallBox2 elevator, E%elevator%_BackWT2, %WPTex%, 0, 4.44 - 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_BackWT3, %WPTex%, 1.25, 4.44 - 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left
		CreateWallBox2 elevator, E%elevator%_LeftWT1, %WPTex%, -3.55 + 0.01, -1.5, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_LeftWT2, %WPTex%, -3.55 + 0.01, 1.5, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Right
		CreateWallBox2 elevator, E%elevator%_RightWT1, %WPTex%, 3.55 - 0.01, -1.5, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_RightWT2, %WPTex%, 3.55 - 0.01, 1.5, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set InitialDoorPos = -4.64

	WallOrientation = right
	AddDoorComponent 1, FreightDoor1, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.4, 0.3, -3.5, %InitialDoorPos%, -3.5 + (1.75 * 1), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor2, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.8, 0.6, -3.5 + (1.75 * 1), %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 2), %InitialDoorPos% - (0.15 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor3, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.8, 0.6, -3.5 + (1.75 * 2), %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 3), %InitialDoorPos% - (0.15 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor4, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.4, 0.3, -3.5 + (1.75 * 3), %InitialDoorPos%, -3.5 + (1.75 * 4), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -3.5 - (1.75 * 1), %InitialDoorPos% - (0.15 * 2), 3.5 + (1.75 * 1), %InitialDoorPos%, 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, -3.5 + (1.75 * 1), %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 3), %InitialDoorPos%, 7, 7, 0, 0
	#--------------------
	#Button Panels
	Set Position = -3.55 + 0.051 #Right panel
	Set Position2 = 3.55 - 0.051 #Left panel
	Set PanelCenter = -4.44 + 0.75

		#Panel back
		CreateWallBox2 elevator, RightPB, ElevPanel, %Position% - 0.051 + 0.025, %PanelCenter%, 0.05, 0.75, 5, 2, 0, 0, false, true, true, true
		#CreateWallBox2 elevator, LeftPB, ElevPanel, %Position2% + 0.051 - 0.025, %PanelCenter%, 0.05, 0.75, 2.25, 2.5, 0, 0, false, true, true, true

		#Panels
		Set Rows = 8
		if[%elevator% = 15] Set Rows = 11
		CreatePanel , %Rows%, 2, right, %Position%, %PanelCenter%, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Right panel
		CreatePanel , %Rows%, 1, right, %Position%, %PanelCenter%, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Right panel, phone button only

		#CreatePanel , %Rows%, 2, left, %Position2%, %PanelCenter%, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Left panel
		#CreatePanel , %Rows%, 1, left, %Position2%, %PanelCenter%, 0.25, 0.125, 0.2, 0.2, 3.5, 0, 0 #Left panel, phone button only

			#Buttons (Right panel)
			if[%elevator% = 14] BtnPanelFE1(1)
			if[%elevator% = 15] BtnPanelFE2(1)

			#Buttons (Left panel)
			#if[%elevator% = 14] BtnPanelFE1(3)
			#if[%elevator% = 15] BtnPanelFE2(3)
	#--------------------
	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712
	Set PScanTex = HIDScanGreen

	DrawWalls = false, true, false, false, false, false
	AddWall ProximityScanner, %PScanTex%, 0, %Position%, %PanelCenter% - (%PScanWidth% / 2), %Position%, %PanelCenter% + (%PScanWidth% / 2), %PSscanHeight%, %PSscanHeight%, 4.55 + 0.1, 4.55 + 0.1, 0, 0

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position%, %PanelCenter% - 0.25, %Position%, %PanelCenter% + 0.25, 0.5, 0.5, 6.5, 6.5, 0, 0
	#AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -4.44 + 0.001, 0 + 0.25, -4.44 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Indicator sets
	AddFloorIndicator Signa4IntInd_Button, right, %Position% + 0.001, %PanelCenter%, 0.5, 0.5, 6 + 0.25 - 0.25

	#Fire service cabinet
	DrawWalls = false, true, false, false, false, false
	AddWall FireCab, Signa4FireCab, 0, %Position% + 0.001, %PanelCenter% - 0.25, %Position% + 0.001, %PanelCenter% + 0.25, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.75 - 0.8
		if[%elevator% = 13] Set Position = 3.75 + 0.8
		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3.75 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

########################################

#HALL STATIONS
#Set textures (Glass elevators)
<Function ElevHallTex>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	if[%Glass2% = true & %floor% < 1] Set 5 = Parking #Override for shaft doors on B1 and B0
	Set DoorTexture = %5%ShaftDoors

	Set 5EX = %5%
	if[%floor% > 0] Set 5EX = Glass #Override for glass elevators' shaft doors
	Set DoorTextureEX = %5EX%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim
		if[%Glass% = true & %floor% > 0] Set DoorTrimTexture = %DoorTextureEX%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 9.5
		Set TopDecoH = 2.5

		if[%floor% < -1] Set SideDecoH = 7.2
		if[%floor% < -1] Set TopDecoH = 0.2

	#Deco dimensions (Elevators 3-4 only)
		Set SideDecoH2 = %SideDecoH%
		Set TopDecoH2 = %TopDecoH%

		if[%floor% < 1] Set SideDecoH2 = 7.2
		if[%floor% < 1] Set TopDecoH2 = 0.2

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > -2] Set ExtraLateralOffset = 0.05
		
		#Lateral offset for lantern panels (Elevators 3-4 only)
		Set ExtraLateralOffset2 = %ExtraLateralOffset%
		if[%floor% = -1 | %floor% = 0] Set ExtraLateralOffset2 = 0
<EndFunction>

#1a. ELEVATORS 1-2
<Function HallStn-E1-2>
	#Shaft Doors
	Set Glass = true
	Set Glass2 = false
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 1 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -1.92 - 0.3

	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(1, 1, -5 - 4, -5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(2, 1, 5 - 4, 5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -80 #1st shaft for elevator bank
	Set Shaft1CZ = -120

		#1st shaft
		AddDecoObject(Elev1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX%, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0

		#Signs
		DrawWalls = true, false, false, false, false, false
		AddWall E1-2HallSign, FireSign, 0, %Shaft1CX% - 0.25, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 0.25, %Shaft1CZ% - 5 - 0.001, 0.75, 0.75, 2.6, 2.6, 0, 0, false
		AddWall E1-2FloorSign, BlankSign%floorid%, 0, %Shaft1CX% - 0.75, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 0.75, %Shaft1CZ% - 5 - 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	if[%floor% < -1] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(front, 1, %Shaft1CX% - 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(front, 2, %Shaft1CX% + 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
<EndFunction>

#1b. ELEVATORS 3-4
<Function HallStn-E3-4>
	#Shaft Doors
	Set Glass = true
	Set Glass2 = true #Special value for elevators 3-4 only
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 3 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 1.92 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(3, 2, 5 - 4, 5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(4, 2, -5 - 4, -5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -80 #1st shaft for elevator bank
	Set Shaft1CZ = 120

		#1st shaft
		AddDecoObject(Elev3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH2%, %TopDecoH2%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH2%, %TopDecoH2%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 3, 4
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX%, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		DrawWalls = false, true, false, false, false, false
		AddWall E3-4HallSign, FireSign, 0, %Shaft1CX% - 0.25, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 0.25, %Shaft1CZ% + 5 + 0.001, 0.75, 0.75, 2.6, 2.6, 0, 0, false
		AddWall E3-4FloorSign, BlankSign%floorid%, 0, %Shaft1CX% - 0.75, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 0.75, %Shaft1CZ% + 5 + 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	if[%floor% < 1] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(back, 3, %Shaft1CX% + 5, %Shaft1CZ% + 5 + %ExtraLateralOffset2%, %Offset%, -2, 10)
		ACMELobbyInds(back, 4, %Shaft1CX% - 5, %Shaft1CZ% + 5 + %ExtraLateralOffset2%, %Offset%, -2, 10)
<EndFunction>

<Floors -2 to 1>
	if[%floor% ! 0] HallStn-E1-2()
	HallStn-E3-4()
<EndFloors>

<Floors 3 to 10>
	if[%floor% ! 4 & %floor% ! 6 & %floor% ! 8] HallStn-E1-2()
	if[%floor% ! 4 & %floor% ! 6 & %floor% ! 8] HallStn-E3-4()
<EndFloors>

#Set textures (Interior elevators)
<Function ElevHallTex_Int>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = %height% + Floor(%floor% + 1).FullHeight
		Set TopDecoH = %SideDecoH% - 7
		if[%floor% = -1] Set SideDecoH = 9.5
		if[%floor% = -1] Set TopDecoH = 2.5
		if[%floor% < -1] Set SideDecoH = 7.2
		if[%floor% < -1] Set TopDecoH = 0.2
		if[%floor% > 8] Set SideDecoH = %height%
		if[%floor% > 8] Set TopDecoH = %height% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > -2] Set ExtraLateralOffset = 0.05
<EndFunction>

#2. Interior elevators (No. 5-8)
<Function HallStn-E5-8>
	#Shaft Doors
	ElevHallTex_Int() #Set shaft door and panel textures
	Set StartNo = 5 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25 - 0.3

	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(5, 3, -15 - 4, -15 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(6, 3, -5 - 4, -5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(7, 3, 5 - 4, 5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(8, 3, 15 - 4, 15 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 60 #1st shaft for elevator bank
	Set Shaft1CZ = -45

		#1st shaft
		AddDecoObject(Elev5_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 15, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev6_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev7_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev8_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 15, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 5, 6, 7, 8
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 10, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 0, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 10, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0

		#Signs
		DrawWalls = true, false, false, false, false, false
		AddWall E5-8HallSign, FireSign, 0, %Shaft1CX% - 0.25, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 0.25, %Shaft1CZ% - 5 - 0.001, 0.75, 0.75, 2.6, 2.6, 0, 0, false
		AddWall E5-8FloorSign1, BlankSign%floorid%, 0, %Shaft1CX% - 10 - 0.75, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% - 10 + 0.75, %Shaft1CZ% - 5 - 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false
		#AddWall E5-8FloorSign1A, BlankSign%floorid%, 0, %Shaft1CX% - 0.75, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 0.75, %Shaft1CZ% - 5 - 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false
		AddWall E5-8FloorSign2, BlankSign%floorid%, 0, %Shaft1CX% + 10 - 0.75, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 10 + 0.75, %Shaft1CZ% - 5 - 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#Poster above doors
	DrawWalls = true, false, false, false, false, false
	if[%floor% = -1] AddWall E5-8Poster, Poster%floorid%A, 0, %Shaft1CX% - 16, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 16, %Shaft1CZ% - 5 - 0.001, 4, 4, %interfloorheight% + 11, %interfloorheight% + 11, 0, 0, true

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% = -1] Set Offset = 7.75
	if[%floor% < -1] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(front, 5, %Shaft1CX% - 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(front, 6, %Shaft1CX% - 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(front, 7, %Shaft1CX% + 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(front, 8, %Shaft1CX% + 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -2, 10)
<EndFunction>

<Floors -2 to -1>
	HallStn-E5-8()
<EndFloors>

<Floors 1 to 10>
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] HallStn-E5-8()
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] HallStn-E5-8()
<EndFloors>

#Set textures (Parking elevators)
<Function ElevHallTex_PK>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	if[%floor% < 1] Set 5 = Parking2
	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set 5 = Parking2
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% > 8] Set SideDecoH = %height%
		if[%floor% > 8] Set TopDecoH = %height% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > 8] Set ExtraLateralOffset = 0.05
<EndFunction>

#3. Parking elevators (No. 9-11)
<Function HallStn-E9-11>
	#Shaft Doors
	ElevHallTex_PK() #Set shaft door and panel textures
	Set StartNo = 9 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(9, 4, 10 - 4, 10 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(10, 4, 0 - 4, 0 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(11, 4, -10 - 4, -10 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 15 #1st shaft for elevator bank
	Set Shaft1CZ = 45
	Set Mesh = external

		#1st shaft
		AddDecoObject(Elev9_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 10, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %Mesh%)
		AddDecoObject(Elev10_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX%, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %Mesh%)
		AddDecoObject(Elev11_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 10, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %Mesh%)

	#****************************************#

	#Call buttons
	CallButtonElevators = 9, 10, 11
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		DrawWalls = false, true, false, false, false, false
		AddWall E9-11HallSign, FireSign, 0, %Shaft1CX% + 5 - 0.25, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 5 + 0.25, %Shaft1CZ% + 5 + 0.001, 0.75, 0.75, 2.6, 2.6, 0, 0, false
		AddWall E9-11FloorSign1, BlankSign%floorid%, 0, %Shaft1CX% + 5 - 0.75, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 5 + 0.75, %Shaft1CZ% + 5 + 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false
		AddWall E9-11FloorSign2, BlankSign%floorid%, 0, %Shaft1CX% - 5 - 0.75, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% - 5 + 0.75, %Shaft1CZ% + 5 + 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.5
	#if[%floor% = -1] Set Offset = 7.75
	if[%floor% = -1] Set Offset = 8
	if[%floor% > 8] Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(back, 9, %Shaft1CX% + 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(back, 10, %Shaft1CX%, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -2, 10)
		ACMELobbyInds(back, 11, %Shaft1CX% - 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -2, 10)
<EndFunction>

<Floors -2 to 10>
	if[%floor% ! 0] HallStn-E9-11()
<EndFloors>

#4. Basement elevators (No. 12-13)
#Set textures (Basement elevators)
<Function ElevHallTex_B>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	if[%floor% = -2] Set 5 = Parking2
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% = -1] Set SideDecoH = 9.5
		if[%floor% = -1] Set TopDecoH = 2.5
		if[%floor% = 1] Set SideDecoH = %height% + Floor(%floor% + 1).FullHeight
		if[%floor% = 1] Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels-Signa4
	Set ButtonPrefix = Signa4Button

	#Lantern panels
	#Set LPanelTexture = %BPanelTexture%
	Set LPanelTexture = ElevExtPanels-Signa4-2
	Set LanternPrefix = Signa4Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > -2] Set ExtraLateralOffset = 0.05
<EndFunction>

<Function HallStn-E12-13>
	#Shaft Doors
	ElevHallTex_B() #Set shaft door and panel textures
	Set StartNo = 12 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(12, 5, 5 - 4, 5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(13, 5, -5 - 4, -5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -10 #1st shaft for elevator bank
	Set Shaft1CZ = -195

		#1st shaft
		AddDecoObject(Elev12_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev13_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 12, 13
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX%, %Shaft1CZ% + 5 + 0.001, 3.5 + 0.5 - 0.4, back, 0.4, 0.8, true, 0, 0

		#Signs
		DrawWalls = false, true, false, false, false, false
		AddWall E12-13HallSign, FireSign, 0, %Shaft1CX% - 0.25, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 0.25, %Shaft1CZ% + 5 + 0.001, 0.75, 0.75, 2.6, 2.6, 0, 0, false
		AddWall E12-13FloorSign, BlankSign%floorid%, 0, %Shaft1CX% - 0.75, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 0.75, %Shaft1CZ% + 5 + 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% = -1] Set Offset = 7.75
	if[%floor% < -1] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, Signa4Ind_Button)

		#Indicator creation
		ACMELobbyInds(back, 12, %Shaft1CX% + 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -2, 1)
		ACMELobbyInds(back, 13, %Shaft1CX% - 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -2, 1)
<EndFunction>

<Floors -2 to 1>
	if[%floor% ! 0] HallStn-E12-13()
<EndFloors>

#****************************************#

#Set textures (Freight elevators)
<Function ElevHallTex_FE>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5F%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2

	#Call button panels
	#Set BPanelTexture = ElevExtPanels-Alt
	Set BPanelTexture = ElevExtPanels-Signa4
	Set ButtonPrefix = Signa4Button

	#Lantern panels
	#Set LPanelTexture = %BPanelTexture%
	Set LPanelTexture = ElevExtPanels-Signa4-2
	Set LanternPrefix = Signa4Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
<EndFunction>

#Elevator 14: Full floors only
<Function E14HallStation>
	#Shaft Doors
	ElevHallTex_FE() #Set shaft door and panel textures

		#Elevator 14
		Set InitialDoorPos = -4.64 - (0.15 * 2) - 0.1

		WallOrientation = right

		AddShaftDoorComponent 14, 1, FreightDoor1, %DoorTexture%, %DoorTexture%, 0.15, left, 0.4, 0.3, -3.5, %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 1), %InitialDoorPos% - (0.15 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 14, 1, FreightDoor2, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, -3.5 + (1.75 * 1), %InitialDoorPos%, -3.5 + (1.75 * 2), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 14, 1, FreightDoor3, %DoorTexture%2, %DoorTexture%2, 0.15, right, 0.8, 0.6, -3.5 + (1.75 * 2), %InitialDoorPos%, -3.5 + (1.75 * 3), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 14, 1, FreightDoor4, %DoorTexture%, %DoorTexture%, 0.15, right, 0.4, 0.3, -3.5 + (1.75 * 3), %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 4), %InitialDoorPos% - (0.15 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 14, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(14, 6, -6.25 - 3.5 - 1.75, -6.25 + 3.5 + 1.75, -5.34, -5.34 + 0.3, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#Top fillers
	AddShaftTrack(14, 6, -6.25 - 1.75, -6.25 + 1.75, -5.34, -5.34 + 0.15, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = 17.5 #1st shaft for elevator bank
	Set Shaft1CZ = 96

		#1st shaft
		AddDecoObject(FE1, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 6.25, %Shaft1CZ% - 6, 7, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#Call buttons
	CallButtonElevators = 14
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 6.25 + 3.5 + 1.25, %Shaft1CZ% - 6 - 0.001, 3.5 + 0.5 - 0.4, front, 0.4, 0.8, true, 0, 0

		#Signs
		DrawWalls = true, false, false, false, false, false
		#AddWall E12FloorSign, BlankSign%floorid%, 0, %Shaft1CX% - 6.25 + 4.75 - 0.75, %Shaft1CZ% - 6 - 0.001, %Shaft1CX% - 6.25 + 4.75 + 0.75, %Shaft1CZ% - 6 - 0.001, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false
		AddWall E12FloorSign, FlrSign%floorid%, 0, %Shaft1CX% - 0.5, %Shaft1CZ% - 6 - 0.001, %Shaft1CX% + 0.5, %Shaft1CZ% - 6 - 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#Indicator sets
	Set Offset = 7.5
	if[%floor% > 8] Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, Signa4Ind_Button)

		#Indicator creation
		ACMELobbyInds(front, 14, %Shaft1CX% - 6.25, %Shaft1CZ% - 6 - %ExtraLateralOffset%, %Offset%, -2, 10)
<EndFunction>

<Floors -2 to 1>
	if[%floor% ! 0] E14HallStation()
<EndFloors>

<Floors 3 to 5>
	if[%floor% ! 4] E14HallStation()
<EndFloors>

<Floors 7 to 10>
	if[%floor% ! 8] E14HallStation()
<EndFloors>

#Elevator 15: All floors
<Floors -2 to 10>
	#Shaft Doors
	ElevHallTex_FE() #Set shaft door and panel textures

		#Elevator 15
		Set InitialDoorPos = -4.64 - (0.15 * 2) - 0.1

		WallOrientation = right

		AddShaftDoorComponent 15, 1, FreightDoor1, %DoorTexture%, %DoorTexture%, 0.15, left, 0.4, 0.3, -3.5, %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 1), %InitialDoorPos% - (0.15 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 15, 1, FreightDoor2, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, -3.5 + (1.75 * 1), %InitialDoorPos%, -3.5 + (1.75 * 2), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 15, 1, FreightDoor3, %DoorTexture%2, %DoorTexture%2, 0.15, right, 0.8, 0.6, -3.5 + (1.75 * 2), %InitialDoorPos%, -3.5 + (1.75 * 3), %InitialDoorPos%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 15, 1, FreightDoor4, %DoorTexture%, %DoorTexture%, 0.15, right, 0.4, 0.3, -3.5 + (1.75 * 3), %InitialDoorPos% - (0.15 * 1), -3.5 + (1.75 * 4), %InitialDoorPos% - (0.15 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 15, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(15, 6, 6.25 - 3.5 - 1.75, 6.25 + 3.5 + 1.75, -5.34, -5.34 + 0.3, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#Top fillers
	AddShaftTrack(15, 6, 6.25 - 1.75, 6.25 + 1.75, -5.34, -5.34 + 0.15, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = 17.5 #1st shaft for elevator bank
	Set Shaft1CZ = 96

		#1st shaft
		AddDecoObject(FE2, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 6.25, %Shaft1CZ% - 6, 7, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#Call buttons
	CallButtonElevators = 15
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.25 - 3.5 - 1.25, %Shaft1CZ% - 6 - 0.001, 3.5 + 0.5 - 0.4, front, 0.4, 0.8, true, 0, 0

		#Signs
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddWall E13FloorSign, FlrSign%floorid%, 0, %Shaft1CX% + 6.25 - 4.75 - 0.5, %Shaft1CZ% - 6 - 0.001, %Shaft1CX% + 6.25 - 4.75 + 0.5, %Shaft1CZ% - 6 - 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#Indicator sets
	Set Offset = 7.5
	if[%floor% > 8] Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, Signa4Ind_Button)

		#Indicator creation
		ACMELobbyInds(front, 15, %Shaft1CX% + 6.25, %Shaft1CZ% - 6 - %ExtraLateralOffset%, %Offset%, -2, 10)
<EndFloors>

########################################

#GLOBAL SETTINGS
<Elevators 1 to 11>
	#Recall Floor
	RecallFloor = 1

	#Notifications
	UpChimeSound 1 = KW_Sounds/tk_us_upchime.wav
	DownChimeSound 1 = KW_Sounds/tk_us_downchime.wav
	NotifyEarly = 1
	QueueResets = true

	#Motor sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

<Elevators 1 to 4>
	#Beep sound
	BeepSound = Other People's Fixtures/ThyssenKrupp Studio/tkstudiobeep.wav #Vector, gooper1, et al.

	#Leveling
	LevelingOpen = 0.2

	#Door settings
	DoorTimer 1 = 12000
	QuickClose 1 = 8000
	OpenSound 1 = EG881Sounds/elevopen2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclose2.wav #EG881

	#Elevator movement sounds
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>

<Elevators 5 to 11>
	#Beep sound
	if[%elevator% < 9] BeepSound = Other People's Fixtures/signa4/tkbeep.wav #Vector, gooper1, et al.

	#Door settings
	if[%elevator% < 9] DoorTimer 1 = 15000
	if[%elevator% < 9] QuickClose 1 = 10000
	if[%elevator% > 8] DoorTimer 1 = 12000
	if[%elevator% > 8] QuickClose 1 = 8000
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881

	#Elevator movement sounds
	CarStartSound = EG881Sounds/elevstart12.wav #EG881
	CarMoveSound = EG881Sounds/elevmove12.wav #EG881
	CarStopSound = EG881Sounds/elevstop12.wav #EG881
<EndElevators>

#****************************************#

<Elevators 12 to 13>
	#Recall Floors
	RecallFloor = 1
	AlternateRecallFloor = -2

	#Notifications
	UpChimeSound 1 = Other People's Fixtures/signa4/tkup.wav #Vector, gooper1, et al.
	DownChimeSound 1 = Other People's Fixtures/signa4/tkdn.wav #Vector, gooper1, et al.
	BeepSound = Other People's Fixtures/signa4/tkbeep.wav #Vector, gooper1, et al.
	NotifyEarly = 1
	QueueResets = true

	#Door settings
	DoorTimer 1 = 9000
	QuickClose 1 = 6000
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881

	#Motor sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881

	#Car sounds
	CarStartSound = EG881Sounds/slowelevstart.wav #EG881
	CarMoveSound = EG881Sounds/slowelevmove.wav #EG881
	CarStopSound = EG881Sounds/slowelevstop.wav #EG881
<EndElevators>

#****************************************#

<Elevators 14 to 15>
	#Recall Floor
	RecallFloor = 1

	#Notifications
	UpChimeSound 1 = Other People's Fixtures/signa4/tkup.wav #Vector, gooper1, et al.
	DownChimeSound 1 = Other People's Fixtures/signa4/tkdn.wav #Vector, gooper1, et al.
	BeepSound = Other People's Fixtures/signa4/tkbeep.wav #Vector, gooper1, et al.
	NotifyEarly = 1
	QueueResets = true

	#Door settings
	DoorTimer 1 = 15000
	QuickClose 1 = 10000
	OpenSound 1 = EG881Sounds/freightelevatoropen1.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose1.wav #EG881

	#Motor sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881

	#Elevator movement sounds
	CarStartSound = EG881Sounds/slowelevstart.wav #EG881
	CarMoveSound = EG881Sounds/slowelevmove.wav #EG881
	CarStopSound = EG881Sounds/slowelevstop.wav #EG881
<EndElevators>

##--------------------------------------------------------------------------------##

#STAIRWELLS
<Function StairwellSets>
	#Set Values
	Set NumSteps = 10 #Total: 20 steps

	#Floors with double stairs (40 steps instead of the usual 20)
	Set DblStairs = false
	if[%floor% = 9 | %floor% = 10] Set DblStairs = true
<EndFunction>

#Southwest Stairwell
CreateStairwell 1, -155, -106.5, -2, 10
CutStairwell 1, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = -155 #Center X
	Set 22 = -106.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 4, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, 9.5, 9.5, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 0 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, %24% - 2, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = -1] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 1] Set SignTex = ExitSignUp

	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddBoxSign(Stair%25%_MainExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_SLExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#West-Central Stairwell
CreateStairwell 2, -155, 53.5, -2, 11
CutStairwell 2, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 11>
	StairwellSets() #Determine stairs' size

	Set 21 = -155 #Center X
	Set 22 = 53.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 11] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, %24% - 5 - %NumSteps%, -%23% + 4, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 11] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 11] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 11] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, -%24% + 0.001, %SignCenterPoint% + 1, -%24% + 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0

		#Emergency exit
		SetLock 1, 0
		WallOrientation = left
		TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
		if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, -%23% - 0.5, -%24% + 2, 3, 7, 0, 0, 0
		SetLock 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 1] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		if[%floor% = 11] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 1] Set SignTex = ExitSignUp

	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddBoxSign(Stair%25%_MainExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Northwest Stairwell
CreateStairwell 3, -155, 173.5, -2, 10
CutStairwell 3, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = -155 #Center X
	Set 22 = 173.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, %24% - 5 - %NumSteps%, -%23% + 4, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, 9.5, 9.5, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, -%24% + 0.001, %SignCenterPoint% + 1, -%24% + 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0

		#Emergency exit
		SetLock 1, 0
		WallOrientation = left
		TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
		if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, -%23% - 0.5, -%24% + 2, 3, 7, 0, 0, 0
		SetLock 0, 0

	#WallOrientation = right
	#TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	#if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 1] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 1] Set SignTex = ExitSignUp

	if[%floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddBoxSign(Stair%25%_MainExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Southeast Stairwell
CreateStairwell 4, 155, -133.5, -2, 10
CutStairwell 4, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = 155 #Center X
	Set 22 = -133.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 4 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, 9.5, 9.5, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 0 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = -1] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 1] Set SignTex = ExitSignUp

	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% ! 4 & %floor% ! 6 & %floor% ! 8] AddBoxSign(Stair%25%_MainExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#East-Central Stairwell
CreateStairwell 5, 155, 13.5, -2, 11
CutStairwell 5, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 11>
	StairwellSets() #Determine stairs' size

	Set 21 = 155 #Center X
	Set 22 = 13.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 5 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 11] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 11] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	Set DoorOpen = true
	if[%floor% = 0 | %floor% > 8] Set DoorOpen = false

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0

		#Manual filler walls for external mesh
		WallOrientation = left
		if[%floor% < 9 | %floor% = 11] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_MainExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Northeast Stairwell
CreateStairwell 6, 155, 173.5, -2, 10
CutStairwell 6, -4.5, -12, 4.5, 12, 0, 5

<Floors -2 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = 155 #Center X
	Set 22 = 173.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 6 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, %24% - 5 - %NumSteps%, %23%, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, 9.5, 9.5, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% ! 10] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% ! 10] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, -%24% + 0.001, %SignCenterPoint% + 1, -%24% + 0.001, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#Doors
	Set DoorOpen = true
	if[%floor% > 8] Set DoorOpen = false

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0

		#Emergency Exit
		SetLock 2, 0
		WallOrientation = right
		TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
		if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
		SetLock 0, 0

		#Manual filler walls for external mesh
		WallOrientation = left
		if[%floor% < 9] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		WallOrientation = right
		if[%floor% = 1] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 1] Set SignTex = ExitSignUp

	AddBoxSign(Stair%25%_MainExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_FireExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)

	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | (%floor% > 7 & %floor% < 11)] AddBoxSign(Stair%25%_HallSign, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, -110, 45.5, 1.8, 0.9, %height% - 0.9, false)
<EndFloors>

#Parking Stairwell
CreateStairwell 7, 17.5, 75, -2, 11
CutStairwell 7, -12, -4.5, 12 + 0.5, 4.5, 0, 5

<Floors -2 to 11>
	StairwellSets() #Determine stairs' size

	Set 21 = 17.5 #Center X
	Set 22 = 75 #Center Z
	Set 23 = 12 #Cut X
	Set 24 = 4.5 #Cut Z
	Set 25 = 7 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, -%23% + 5, 0, -%23% + 5 + %NumSteps%, 0, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 11] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23% + 5 + %NumSteps%, -%24%, -%23% + 5 + %NumSteps%, -%24% + 4, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%24%, -%24% + 4, right, -%23% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 11] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %24% - 4, %24%, left, -%23% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%24%, -%24% + 4, right, -%23% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %24% - 4, %24%, left, -%23% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23% + 0.5, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23% + 5 + %NumSteps%, -%24%, %23% + 0.5, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 11] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, -%23% + 5, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23% + 5 + %NumSteps%, -%24%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, -%23% + 5, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %23% - 0.001, %SignCenterPoint% - 0.75, %23% - 0.001, %SignCenterPoint% + 0.75, 1.5, 1.5, 3.75, 3.75, 0, 0

	#Doors
	Set DoorOpen = true
	if[%floor% > 8] Set DoorOpen = false

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0 & %floor% ! 11] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 11] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0

		#Manual filler walls for external mesh
		WallOrientation = left
		if[%floor% ! 11] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		if[%floor% = 11] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0 & %floor% ! 11] AddBoxSign(Stair%25%_MainExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 11] AddBoxSign(Stair%25%_ExitFromRoof, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

##--------------------------------------------------------------------------------##
#ESCALATORS
#--------------------#
#Set escalator properties
	OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
	OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)
	OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
	OP_EscTruss(SilverBalustrade, ParkingLobbyEscWall, 0.5, 3.5, 0, 0, 0, 0)

#--------------------#

#Extra cuts for B2-1 North Escalators
<Floors -2 to 0>
	if[%floor% > -2] CutAll -87, %interfloorheight% - 1, 158.5 - 20, -70, %interfloorheight% + 1, 158.5, false, true
	if[%floor% < 0] CutAll -87, %fullheight% - 1, 158.5 - 20, -70, %fullheight% + 1, 158.5, false, true
<EndFloors>

<Floors 0 to 1>
	if[%floor% > 0] CutAll -87, %interfloorheight% - 1, 158.5 - 12, -70, %interfloorheight% + 1, 158.5, false, true
	if[%floor% < 1] CutAll -87, %fullheight% - 1, 158.5 - 12, -70, %fullheight% + 1, 158.5, false, true
<EndFloors>

#Railings around escalators
<Floors -1 to 1>
	#Set textures
	TexPrefix() #Set texture prefixes
	if[%floor% < 1] Set 5 = ParkingLobby #Override
	Set Suffix = Wall2
	if[%floor% < 1] Set Suffix = EscRail

	#Set heights
	Set WH = %interfloorheight% + 3.5
	Set WO = 0
	
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false

	Set ESO = 0 #ESO = Extra South Offset
	if[%floor% = 1] Set ESO = 8
	
	#Add railings
	AddWall NorthEsc_BackRail, %5%%Suffix%, 0.5, -87 - 0.5, 158.5, -70 + 0.5, 158.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	if[%floor% = -1 | %floor% = 1] AddWall NorthEsc_RightRail, %5%%Suffix%, 0.5, -70, 138.5 + %ESO%, -70, 158.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	if[%floor% = 0] AddWall NorthEsc_RightRail, %5%%Suffix%, 0.5, -70, 138.5 + 8, -70, 158.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	WallOrientation = right
	if[%floor% = 1] AddWall NorthEsc_LeftRail, %5%%Suffix%, 0.5, -87, 138.5 + %ESO%, -87, 158.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	if[%floor% = 0] AddWall NorthEsc_LeftRail, %5%%Suffix%, 0.5, -87, 138.5, -87, 158.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	if[%floor% = -1] AddWall NorthEsc_LeftRail, %5%%Suffix%, 0.5, -87, 138.5 + 8, -87, 158.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall NorthEsc_FrontRail, %5%%Suffix%, 0.5, -87 - 0.5, 138.5 + %ESO%, -70 + 0.5, 138.5 + %ESO%, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloors>

#--------------------#

#Extra cuts for B2-1 (Skipping B0) South Escalators
<Floors -2 to -1>
	if[%floor% > -2] CutAll -87, %interfloorheight% - 1, -158.5, -70, %interfloorheight% + 1, -158.5 + 12, false, true
	if[%floor% < -1] CutAll -87, %fullheight% - 1, -158.5, -70, %fullheight% + 1, -158.5 + 12, false, true
<EndFloors>

<Floors 0 to 1>
	if[%floor% > 0] CutAll -82, %interfloorheight% - 1, -158.5, -57, %interfloorheight% + 1, -158.5 + 12, false, true
	if[%floor% < 1] CutAll -82, %fullheight% - 1, -158.5, -57, %fullheight% + 1, -158.5 + 12, false, true
<EndFloors>

#Railings around escalators
<Floor -1>
	#Set textures
	TexPrefix() #Set texture prefixes
	Set Suffix = Wall_Lower

	#Set heights
	Set WH = %interfloorheight% + 3.5
	Set WO = 0
	
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	
	#Add railings
	AddWall SouthEsc_BackRail, %5%%Suffix%, 0.5, -87 - 0.5, -138.5 - 8, -70 + 0.5, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall SouthEsc_RightRail, %5%%Suffix%, 0.5, -70, -158.5, -70, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	AddWall SouthEsc_LeftRail, %5%%Suffix%, 0.5, -87, -158.5 + 8, -87, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall SouthEsc_FrontRail, %5%%Suffix%, 0.5, -87 - 0.5, -158.5, -70 + 0.5, -158.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloor>

#Railings around escalators
<Floor 1>
	#Set textures
	TexPrefix() #Set texture prefixes
	Set Suffix = Wall2

	#Set heights
	Set WH = %interfloorheight% + 3.5
	Set WO = 0
	
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	
	#Add railings
	AddWall SouthEsc_BackRail, %5%%Suffix%, 0.5, -82 - 0.5, -138.5 - 8, -57 + 0.5, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall SouthEsc_RightRail, %5%%Suffix%, 0.5, -57, -158.5, -57, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	AddWall SouthEsc_LeftRail, %5%%Suffix%, 0.5, -82, -158.5 + 8, -82, -138.5 - 8, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall SouthEsc_FrontRail, %5%%Suffix%, 0.5, -82 - 0.5, -158.5, -57 + 0.5, -158.5, %WH%, %WH%, %WO%, %WO%, 0, 0, true
<EndFloor>

#--------------------#
#Escalators creation

#A. NORTH ESCALATORS B2-1
<Floor -2>
	OP_Escalator(B2_EscN1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, 152.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(B2_EscN2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, 156.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor -1>
	OP_Escalator(B1_EscN1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, -70, 144.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(B1_EscN2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, -70, 140.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 0>
	OP_Escalator(B0_EscN1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, 152.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(B0_EscN2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, 156.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#B. SOUTH ESCALATORS B2-1 (Skipping B0)
<Floor -2>
	OP_Escalator(B2_EscS1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, -156.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(B2_EscS2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -87, -152.5, 3, 2/3, 1, 15, 0, 0, 0, 0) #EG881
<EndFloor>

OP_EscTruss(SilverBalustrade, B1Wall, 0.5, 3.5, 0, 0, 0, 0) #B1 to 1

<Floor -1>
	OP_Escalator(B1_EscS1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -82, -156.5, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(B1_EscS2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -82, -152.5, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#Reset landing texture for front/back escalators
OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)
OP_EscTruss(SilverBalustrade, WestEscWall, 0.5, 3.5, 0, 0, 0, 0) #Mall levels

#C. ESCALATORS FROM 1 to 2
<Floor 1>
	OP_Escalator(1to2_Esc1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -98, -20, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(1to2_Esc2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -98 + 4, -20, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881

	OP_Escalator(1to2_Esc3, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -98, 20, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(1to2_Esc4, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -98 + 4, 20, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#Reset landing texture for left/right escalators
OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)

#D. NORTH ESCALATORS 2-6
<Floors 3 to 7>
	if[%floor% ! 4 & %floor% ! 6] OP_Escalator(%floorid%_NorthEsc1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, 70 - 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 4 & %floor% ! 6] OP_Escalator(%floorid%_NorthEsc2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, 70 + 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

<Floor 9>
	OP_Escalator(%floorid%_NorthEsc1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, 70 - 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_NorthEsc2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, 70 + 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#E. SOUTH ESCALATORS 2-6
<Function EscDirections>
	if[%floor% = 3 | %floor% = 7] Set DirectionA = down
	if[%floor% = 5 | %floor% = 9] Set DirectionA = up

	if[%floor% = 3 | %floor% = 7] Set DirectionB = up
	if[%floor% = 5 | %floor% = 9] Set DirectionB = down
<EndFunction>

<Floors 3 to 7>
	EscDirections() #Set escalator directions

	if[%floor% ! 4 & %floor% ! 6] OP_Escalator(%floorid%_NorthEsc1, %DirectionA%, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, -70 - 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 4 & %floor% ! 6] OP_Escalator(%floorid%_NorthEsc2, %DirectionB%, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, -65, -70 + 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

<Floor 9>
	EscDirections() #Set escalator directions

	OP_Escalator(%floorid%_NorthEsc1, %DirectionA%, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -95, -70 - 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_NorthEsc2, %DirectionB%, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, -65, -70 + 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#F. SOUTHEAST ESCALATORS 1-6
	#Set textures
	OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)
	OP_EscTruss(SilverBalustrade, SoutheastEscWall, 0.5, 3.5, 0, 0, 0, 0)

#Escalators creation
<Floors 1 to 7>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 1] OP_Escalator(%floorid%_SoutheastEsc1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 57.5, -105, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%Mod% = 1] OP_Escalator(%floorid%_SoutheastEsc2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 102.5, -105, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 9>
	OP_Escalator(%floorid%_SoutheastEsc1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 57.5, -105, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_SoutheastEsc2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 102.5, -105, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#--------------------#

#G. NORTHEAST ESCALATORS 5-6
	#Set textures
	OP_EscTruss(SilverBalustrade, NortheastEscWall, 0.5, 3.5, 0, 0, 0, 0)
	
<Floor 9>
	OP_Escalator(%floorid%_NE-Esc1, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, 94, 40, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_NE-Esc2, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, 90, 40, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>