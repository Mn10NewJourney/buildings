#Denver Remston Hospital - San Rafael Building
#Copyright (c) 2024-Present - Mn10
#Entire hospital copyright (c) 2020-Present - Mn10

#Start date: 23 August 2024
#Major detail finish date: 20 September 2024

#SCRIPTS TO BE INCLUDED
	#1. My new scripts
	<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>
	
	#2. ObjectPlus and SROC (credit to EG881)
	<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
	<Include SROC/Scripts/r1_script.txt> #EG881

	#3. My previous scripts
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	<Include data/ACME Floor Indicator/Scripts/Indicators.txt>

############################################################

#Globals
<Globals>
	Name = Denver Remston Hospital - San Rafael Building
	Designer = Mn10
	Location = 806 11th Street, Tranquility City
	CameraFloor = 0
	CameraPosition = -70, -20
	CameraRotation = 0, 90, 0
<EndGlobals>

#Textures
<Textures>
	#Commons
	Load data/black.jpg, Black, 1, 1, false
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	#Load data/text16.jpg, WoodSign2, 1, 1, false
	Load data/signs_mod/elevhallsign1a.png, FireSign, 1, 1, false #EG881

	#Landscapes
	#Load data/downtown.jpg, Downtown, 1, 1
	#Load data/grndroad1mid.jpg, Road, 0.04, 0.04
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	
		#Plants
		Load data/ogrebullet/textures/grass.jpg, Grass, 0.005, 0.005
		#Load data/ogrebullet/materials/textures/grass_1024.jpg, Grass_Light, 0.005, 0.005
		#Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881

	########################################

	#Windows
	Load data/daley.jpg, MainWindows, 0.0666, 1
	Load data/windows11e_inside.gif, MainWindowsInt, 0.0666, 1
	Load data/daley.jpg, LobbyWindows, 0.0333, 1
	Load data/windows11e_inside.gif, LobbyWindowsInt, 0.0333, 1
	Load data/daley.jpg, MainWindowsB, 1, 1, false
	Load data/windows11e_inside.gif, MainWindowsIntB, 1, 1, false

		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, BridgeWindows, true, 0.05, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, BridgeWindowsInt, 0.05, 1 #EG881
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, BridgeWindowsB, true, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, BridgeWindowsIntB, 1, 1, false #EG881

	########################################

	#External facades
	Load data/cutston3.jpg, ExtFacade, 0.0625, 0.0625, true
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade_Inner, 0.075, 0.075, true #EG881
	Load data/EG881/Concrete/smoothconcrete1.jpg, ExtFacade2, 0.075, 0.075, true #EG881 #Shaft tops

	#Main textures
		#1st-3rd floors
		Load data/floor065.jpg, HospitalFloor, 0.25, 0.25
		Load data/marb148.jpg, HospitalWall, 0.15, 0.15
		Load data/EG881/ceilingtile3x3.jpg, HospitalCeiling, 0.125, 0.125 #EG881

			#Blood Donation Center (3rd floor, North)
			Load data/Carpet0013b_S.jpg, BDCFloor, 0.2, 0.2
			Load data/EG881/stucco2f_white2.jpg, BDCWall, 0.08, 0.08 #EG881
			Load data/EG881/ceilingtile2.jpg, BDCCeiling, 0.125, 0.125 #EG881

			#Blood Lab (3rd floor, South)
			Load data/Carpet0012_S.jpg, BLFloor, 0.2, 0.2
			Load data/stucco22b.jpg, BLWall, 0.125, 0.125

			#Shaft doors on 1st-2nd floors (West Elevators only)
			Load data/EG881/lightaluminumdoor2.jpg, LobbyShaftDoors, 1, 1, false #EG881
			Load data/EG881/lightaluminumdoor2.jpg, LobbyShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, LobbyShaftDoors_Trim, 1, 1, false

			#Shaft doors on 3rd, 5th, and 6th floors
			#(Also used on the 1st-2nd floors for the East Elevators)
			Load data/EG881/elevdoorright_black.jpg, HospitalShaftDoors, -1, 1, false #EG881
			Load data/EG881/elevdoorleft_black.jpg, HospitalShaftDoors2, -1, 1, false #EG881
			Load data/EG881/elevdoortrim_black.jpg, HospitalShaftDoors_Trim, 1, 1, false #EG881

		#4th floor
		Load data/Carpet0013b_S.jpg, 4FFloor, 0.2, 0.2
		Load data/black_granite.jpg, 4FWall, 0.1, 0.1
		Load data/EG881/ceilingtile3x3.jpg, 4FCeiling, 0.125, 0.125 #EG881

			#Health Check-Up Center (4th floor)
			Load data/floor111b.jpg, 4FClinicFloor, 0.25, 0.25
			Load data/st_wall.jpg, 4FClinicWall, 0.1875, 0.1344
			Load data/EG881/ceilingtile2b.jpg, 4FClinicCeiling, 0.125, 0.125 #EG881

			#Shaft doors on the 4th floor
			Load data/dark muntz door.jpg, 4FShaftDoors, 1, 1, false
			Load data/dark muntz door.jpg, 4FShaftDoors2, -1, 1, false
			Load data/EG881/stainlesssteel2.jpg, 4FShaftDoors_Trim, 1, 1, false #EG881

		#5th-6th floors
		#Load data/floor065.jpg, 5FFloor, 0.25, 0.25
		Load data/MarbleWhite0047b_S.jpg, 5FFloor, 0.3, 0.15
		Rotate 5FFloor, 90
		Load data/rose_marble.jpg, 5FWall, 0.175, 0.175
		Load data/EG881/ceilingtile2b.jpg, 5FCeiling, 0.125, 0.125 #EG881

			#Clinics on 5th-6th floors
			Load data/checker08.jpg, 5FClinicFloor, 0.35, 0.35
			Load data/EG881/stucco22b_white.jpg, 5FClinicWall, 0.25, 0.25 #EG881
			Load data/EG881/ceilingtile3x3.jpg, 5FClinicCeiling, 0.125, 0.125 #EG881
			Load data/checker03.jpg, 6FClinicFloor, 0.35, 0.35
			Load data/stucco22.jpg, 6FClinicWall, 0.125, 0.125
			Load data/EG881/ceilingtile3x3.jpg, 6FClinicCeiling, 0.125, 0.125 #EG881

			#Shaft doors
			Load data/EG881/brassdoor2schindler.jpg, 5FShaftDoors, -1, 1, false #EG881
			Load data/EG881/brassdoor2.jpg, 5FShaftDoors2, -1, 1, false #EG881
			Load data/EG881/brass2.jpg, 5FShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881/brass3.jpg, 5FShaftDoors_TrimTop, 1, 1, false #EG881

		#7th-8th floors
		Load data/MarbleWhite0047b_S.jpg, 8FFloor, 0.3, 0.15
		Rotate 8FFloor, 90
		Load data/marble2.jpg, 8FWall, 0.175, 0.175
		Load data/EG881/ceilingtile2.jpg, 8FCeiling, 0.125, 0.125 #EG881

			#Shaft doors
			Load data/EG881/stainlesssteeldoorschindler.jpg, 8FShaftDoors, -1, 1, false #EG881
			Load data/EG881/stainlesssteeldoor.jpg, 8FShaftDoors2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, 8FShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, 8FShaftDoors_TrimTop, 1, 1, false #EG881

			#Vaccination Center (7th floor)
			Load data/EG881/eg881_Carpet1.jpg, VaccineFloor, 0.2, 0.2 #EG881
			Load data/EG881/lopacwall3stripe.jpg, VaccineWall, 0.15, 0.3 #EG881
			Load data/EG881/ceilingtile2b.jpg, VaccineCeiling, 0.125, 0.125 #EG881

			#Skin Center (8th floor)
			Load data/Carpet0021d_S.jpg, SkinFloor, 0.2, 0.2
			Load data/st_wall2.jpg, SkinWall, 0.13635, 0.09765
			Load data/EG881/ceilingtile3x3.jpg, SkinCeiling, 0.125, 0.125 #EG881

		#Bridge to San Francisco Building
		Load data/marb047.jpg, BridgeFloor, 0.2, 0.2
		Load data/Carpet0013_S.jpg, BridgeCarpet, 0.2, 0.2
		Load data/st_wall2.jpg, BridgeWall, 0.13635, 0.09765
		Load data/EG881/ceilingtile2b.jpg, BridgeCeiling, 0.125, 0.125 #EG881

		#Restrooms
		Load data/checker12.jpg, RRFloor, 0.4, 0.4
		Load data/marble5c.jpg, RRWall, 0.2, 0.2, true

		#Drop ceilings
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881 #Restrooms

		#Roof
		Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881

	########################################

	#Doors
		#Main doors
		Load data/miscdoor1.jpg, Door1, 1, 1, false
		LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Black entrance doors
		Load data/EG881/miscdoor8_blacktrans.png, BLKEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3j.jpg, BLKEntDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, BLKEntDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

	########################################

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

		#Lobby stairs
		Load data/floor065.jpg, LBStairs, 0.25, 0.25
		Load data/floor065.jpg, LBStairsFloor, 0.25, 0.25
		Load data/Other People's Textures/marb044.png, LBStairsWall, 0.3, 0.3

	########################################

	#Shafts
	Load data/EG881/cem_tr2b.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881

	#Elevators
	#Main components
	Load data/metal1.jpg, ElevExt, 0.25, 0.25
	Load data/counterweight.png, CWeight, 1, 1, false
	Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
	Load data/ropes.png, Ropes, 1, 1, false
	Load data/metal080.jpg, ElevRail, 0.5, 0.5
	Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
	Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
	Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
	Load data/panel-back3.jpg, ElevPanel, 1, 1, false
	Load data/panel-back3.jpg, ElevExtPanels, 1, 1, false
	Load data/panel-back4.jpg, ElevExtPanels2, 1, 1, false

	#West elevators
	Load data/Carpet0013b_S.jpg, WestElevFloor, 0.2, 0.2
	Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, WestElevCeiling, 1, 1, false
	Rotate WestElevCeiling, 270
	Load data/EG881/light1x.jpg, WestElevCeilingLight, 2, 1, false #EG881
	Load data/panel-back3.jpg, WestElevCeilingTrim, 1, 1, false
	Rotate WestElevCeilingTrim, 90
	Load data/EG881/blackdoortrim.jpg, WestElevWall, 1, 1, false #EG881
	Load data/checker23.jpg, WestElevWallPanel, 0.5, 0.5
	Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, WestElevPanelMain, 1, 1, false
	Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, WestElevPanelTop, 1, 0.0667, false

		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, WestElevDoors, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, WestElevDoors2, -1, 1, false

	#East elevators
	Load data/Carpet0012_S.jpg, EastElevFloor, 0.2, 0.2
	Load data/EG881/stainlesssteel2.jpg, EastElevCeiling, 1, 1, false #EG881
	Load data/EG881/Lights/squarelight1_white.jpg, EastElevCeilingLight, 1, 1, false #EG881
	Load data/panel-back3.jpg, EastElevCeilingTrim, 1, 1, false
	Load data/panel-back3.jpg, EastElevCeilingTrim2, 1, 1, false
	Rotate EastElevCeilingTrim2, 90
	Load data/EG881/stucco2f_white2.jpg, EastElevWall, 0.15, 0.15 #EG881
	Load data/marb148.jpg, EastElevWallPanel, 0.26, 0.26
	Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, EastElevPanelMain, 1, 1, false #EG881
	Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, EastElevPanelTop, 1, 0.0667, false #EG881

		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, EastElevDoors, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, EastElevDoors2, -1, 1, false #EG881

	####################

	#Schindler RT fixtures
	#Hall buttons
	Load data/Vector's Fixtures/SchindlerRT/rtcallunlit.png, RTButtonUp, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtcall.png, RTButtonUpLit, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtcallunlit.png, RTButtonDown, 1, -1, false
	Load data/Vector's Fixtures/SchindlerRT/rtcall.png, RTButtonDownLit, 1, -1, false

	#Car buttons
	Load data/Vector's Fixtures/SchindlerRT/rtblankunlit.png, RTButton, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtblanklit.png, RTButtonLit, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtdopen.png, RTButtonOpen, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtdclose.png, RTButtonClose, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtstop.png, RTButtonStop, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtalarm.png, RTButtonAlarm, 1, 1, false

	AddTextRange 1, 8, RTButton, RTButton%number%, nimbus_sans.ttf, 40, %number%, 5, 0, 128, 128, center, center, 255, 255, 255
	AddTextRange 1, 8, RTButtonLit, RTButtonLit%number%, nimbus_sans.ttf, 40, %number%, 5, 0, 128, 128, center, center, 255, 255, 255
	#--------------------
	#Indicators and lanterns
	Load data/Vector's Fixtures/SchindlerRT/rtuplanternunlit.png, RTLanternUp, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtuplanternlit.png, RTLanternUpLit, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtdnlanternunlit.png, RTLanternDown, 1, 1, false
	Load data/Vector's Fixtures/SchindlerRT/rtdnlanternlit.png, RTLanternDownLit, 1, 1, false

	Load data/ACME Floor Indicator/Resized/ACME Floor Indicator 2.jpg, IndBack, 1, 1, false
	AddTextRange 1, 8, IndBack, Ind_Button%number%, acme_led.ttf, 240, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0

	########################################

	#Miscellaneous
		#1. Restrooms
		Load data/text16.jpg, WoodSign2, 1, 1, false
		Load data/signs_mod/Restroom1A.png, Sign_Restroom_Brown, 1, 1, false
		Load data/signs_mod/Restroom1.png, Sign_Restroom_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM_Gray, 1, 1, false

		#2. Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false

		#3. Floor signs (Black)
		AddTextRange 1, 8, BlackTrim, Sign%number%, nimbus_sans_bold.ttf, 96, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#4. Floor signs (Transparent or blank)
		AddTextRange 1, 8, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#5. Signs at elevator lobbies
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false

			#Floor numbers
			Load data/bluegradient.jpg, ELFlrSignSide, 1, 1, false
			Load data/Melvin/DRH/bluegradient_DRH.jpg, ELFlrSignBack, 1, 1, false
			Load data/graygradient.jpg, ELFlrSignBack4F, 1, 1, false #4th floor
			Load data/Melvin/ABH_Tex/NewFS256/FloorSignBack_Monica.png, ELFlrSignBack5F, 1, 1, false #5th-6th floors
			Load data/Melvin/ABH_Tex/NewFS256/FloorSignBack.png, ELFlrSignBack8F, 1, 1, false #7th-8th floors
	
			AddTextRange 1, 3, ELFlrSignBack, ELFlrSign%number%, nimbus_sans_bold_condensed.ttf, 130, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
			AddText ELFlrSignBack4F, ELFlrSign4, nimbus_sans_bold.ttf, 128, 4, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddTextRange 5, 6, ELFlrSignBack5F, ELFlrSign%number%, nimbus_sans_condensed.ttf, 130, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddTextRange 7, 8, ELFlrSignBack8F, ELFlrSign%number%, nimbus_sans.ttf, 117, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#6a. Elevator number signs (Outside)
		Load data/Melvin/transparent128.png, ElevNoBack_Blank, 1, 1, false
		AddTextRange 1, 6, ElevNoBack_Blank, ElevNo%number%, nimbus_sans_bold.ttf, 65, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		#AddTextRange 1, 6, ElevNoBack_Blank, ElevNo%number%_Black, nimbus_sans_bold.ttf, 65, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#6b. Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 6, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#AddTextRange 4, 6, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 0, false

		#7. Access control
		#Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881

		#8. Clinic signs
		Load data/Melvin/Sign-LightBlue2.png, Sign_LightBlue, 1, 1, false
		Load data/Melvin/Sign-LightBlue-Long.png, Sign_LB_Long, 1, 1, false
		#AddText Sign_LB_Long, Sign_StaffOnly, nimbus_sans_bold.ttf, 90, Staff Only, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#3rd floor
			Load data/Melvin/DRH/09-2024/SignBDC.png, Sign_Clinic301, 1, 1, false

			#AddText Sign_LB_Long, Sign_Clinic301Temp, nimbus_sans_bold.ttf, 85, Blood Donation, 0, 15, 1024, 128, center, center, 0, 0, 0, false
			#AddText Sign_Clinic301Temp, Sign_Clinic301, nimbus_sans_bold.ttf, 85, Center, 0, 128, 1024, 226, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_Clinic302, nimbus_sans_bold.ttf, 90, Blood Lab, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#4th floor
			#AddText Sign_LB_Long, Sign_Clinic401, nimbus_sans_bold_condensed.ttf, 90, Family Medicine, -1, -1, -1, -1, center, center, 0, 0, 0, false
			#AddText Sign_LB_Long, Sign_Clinic402, nimbus_sans_bold.ttf, 90, Psycho Clinic, -1, -1, -1, -1, center, center, 0, 0, 0, false
			Load data/Melvin/DRH/NewDir_202501/SignHCC.png, Sign_Clinic401, 1, 1, false

			#5th floor
			Load data/Melvin/DRH/09-2024/SignSODept.png, Sign_Clinic501, 1, 1, false

			#AddText Sign_LB_Long, Sign_Clinic501, nimbus_sans_bold_condensed.ttf, 82, Surgery Department, -1, -1, -1, -1, center, center, 0, 0, 0, false
			#AddText Sign_LB_Long, Sign_Clinic502, nimbus_sans_bold_condensed.ttf, 90, Orthopedic Center, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#6th floor
			Load data/Melvin/DRH/09-2024/SignIMDept.png, Sign_Clinic601, 1, 1, false

			#7th-8th floors
			AddText Sign_LB_Long, Sign_Clinic701, nimbus_sans_bold_condensed.ttf, 90, Vaccination Center, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_Clinic801, nimbus_sans_bold.ttf, 90, Skin Center, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#9. Other signs
		Load data/Melvin/DRH/NewDir_202501/Dir_SR.png, MainDir, 1, 1, false #Floor directory
		Load data/signs_mod/Parking_Blue.png, ParkingSign, 1, 1, false
<EndTextures>

############################################################

#Floor Assignments
<Floor -1>
	ID = %floor%
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -11.5
<EndFloor>

<Floors 0 to 1>
	ID = %floor% + 1
	Name = Level %floorid%
	if[%floor% = 0] Type = Lobby
	if[%floor% ! 0] Type = Hospital
	Height = 9.5
	InterfloorHeight = 1.5
	if[%floor% = 0] Altitude = -1.5

		#Merge floors
		if[%floor% = 0] Group = 1
		if[%floor% = 1] Group = 0
<EndFloors>

<Floors 2 to 7>
	ID = %floor% + 1
	Name = Hospital Level %floorid%
	Type = Hospital
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloors>

<Floor 8>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

##--------------------------------------------------------------------------------##

#Landscape
Set 1 = 75 #Building Dimension X
Set 2 = 45 #Building Dimension Z

	#Downtown ground
	#AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920
	#Cut Landscape, -%1% - 15, -1, -%2% - 30, %1% + 15, 1, %2% + 15, false, true

	#Perimeter floors
	DrawWalls = false, true, false, false, false, false
	
	#1. Front
	AddFloor landscape, FrontSidewalk1, Sidewalk, 0, -60, -%2% - 10, %1% + 15, -%2%, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, FrontSidewalk2, Sidewalk, 0, -60, -%2% - 30, -45, -%2% - 10, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, FrontSidewalk3, Sidewalk, 0, 45, -%2% - 30, 60, -%2% - 10, Floor(0).Base, Floor(0).Base, 0, 0

	AddFloor landscape, FrontGrass1, Grass, 0, -%1% - 15, -%2% - 30, -60, -%2%, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, FrontGrass2, Grass, 0, -45, -%2% - 30, 45, -%2% - 10, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, FrontGrass3, Grass, 0, 60, -%2% - 30, %1% + 15, -%2% - 10, Floor(0).Base, Floor(0).Base, 0, 0

	#2. Left
	AddFloor landscape, LeftGrass, Grass, 0, -%1% - 15, -%2%, -%1%, %2%, Floor(0).Base, Floor(0).Base, 0, 0

	#3. Right
	AddFloor landscape, RightGrass1, Grass, 0, %1%, -%2%, %1% + 15, -5, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, RightGrass2, Grass, 0, %1%, 5, %1% + 15, %2%, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, RightSidewalk, Sidewalk, 0, %1%, -5, %1% + 15, 5, Floor(0).Base, Floor(0).Base, 0, 0

	#4. Back
	AddFloor landscape, BackGrass1A, Grass, 0, -%1% - 15, %2%, -10, 102.5 - 10, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackGrass1B, Grass, 0, -%1% - 15, 102.5 + 10, -10, %2% + 115, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackGrass2A, Grass, 0, 10, %2%, %1% + 15, 102.5 - 10, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackGrass2B, Grass, 0, 10, 102.5 + 10, %1% + 15, %2% + 115, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackSidewalk, Sidewalk, 0, -10, %2%, 10, %2% + 115, Floor(0).Base, Floor(0).Base, 0, 0
	#Cut Landscape, -%1%, Floor(0).Base - 1, -%2%, %1%, Floor(0).Base + 1, %2%, false, true

#Extra path to Tennerland Street
AddFloor landscape, PathtoTennerlandSt., Sidewalk, 0, 10, 102.5 - 10, %1% + 15, 102.5 + 10, Floor(0).Base, Floor(0).Base, 0, 0

#Extra path to parking garage
AddFloor landscape, PathtoPG, Sidewalk, 0, -%1% - 15, 102.5 - 10, -10, 102.5 + 10, Floor(0).Base, Floor(0).Base, 0, 0

#South trees
AddTree(Tree1, -67.5, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5 - 15, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5 + 15, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5 + 30, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5 + 45, -65, 13.5, 12, 0)
AddTree(Tree1, -22.5 + 60, -65, 13.5, 12, 0)
AddTree(Tree1, 67.5, -65, 13.5, 12, 0)

#North trees	
	#Eastern branch path to Tennerland Street
	AddTree(Tree1, 20, 85, 13.5, 12, 0)
	AddTree(Tree1, 20 + 15, 85, 13.5, 12, 0)
	AddTree(Tree1, 20 + 30, 85, 13.5, 12, 0)
	AddTree(Tree1, 20 + 45, 85, 13.5, 12, 0)
	AddTree(Tree1, 20 + 60, 85, 13.5, 12, 0)
	
	AddTree(Tree1, 20, 120, 13.5, 12, 0)
	AddTree(Tree1, 20 + 15, 120, 13.5, 12, 0)
	AddTree(Tree1, 20 + 30, 120, 13.5, 12, 0)
	AddTree(Tree1, 20 + 45, 120, 13.5, 12, 0)
	AddTree(Tree1, 20 + 60, 120, 13.5, 12, 0)
	
	#Western branch path to SR Bldg.
	AddTree(Tree2, -20, 85, 12, 16, 0)
	AddTree(Tree2, -20 - 15, 85, 12, 16, 0)
	AddTree(Tree2, -20 - 30, 85, 12, 16, 0)
	AddTree(Tree2, -20 - 45, 85, 12, 16, 0)
	AddTree(Tree2, -20 - 60, 85, 12, 16, 0)
	
	AddTree(Tree2, -20, 120, 12, 16, 0)
	AddTree(Tree2, -20 - 15, 120, 12, 16, 0)
	AddTree(Tree2, -20 - 30, 120, 12, 16, 0)
	AddTree(Tree2, -20 - 45, 120, 12, 16, 0)
	AddTree(Tree2, -20 - 60, 120, 12, 16, 0)

##--------------------------------------------------------------------------------##

#Set texture prefixes/suffixes
<Function TexPrefix>
	#Main prefixes
	Set 5 = Hospital
	if[%floor% = 3] Set 5 = %floorid%F
	if[%floor% = 4 | %floor% = 5] Set 5 = 5F
	if[%floor% = 6 | %floor% = 7] Set 5 = 8F
	
	#Special textures on 4th-8th floors
	Set 5A = %5%
	if[%floor% = 3 | %floor% = 4 | %floor% = 5] Set 5A = %floorid%FClinic
	if[%floor% = 6] Set 5A = Vaccine
	if[%floor% = 7] Set 5A = Skin

	#Special textures
		#Blood Donation Center (3rd floor, North)
		Set 5B = %5%
		if[%floor% = 2] Set 5B = BDC

		#Blood Lab (3rd floor, South)
		Set 5D = %5%
		if[%floor% = 2] Set 5D = BL

		#Clinics on 4th-6th floors
		if[%floor% = 3 | %floor% = 4 | %floor% = 5] Set 5B = %floorid%FClinic #North wall sets
		if[%floor% = 3 | %floor% = 4 | %floor% = 5] Set 5D = %floorid%FClinic #South wall sets

		#Vaccination Center (7th floor)
		if[%floor% = 6] Set 5B = Vaccine #North wall sets
		if[%floor% = 6] Set 5D = Vaccine #South wall sets
		
		#Skin Center (8th floor)
		if[%floor% = 7] Set 5B = Skin #North wall sets
		if[%floor% = 7] Set 5D = Skin #South wall sets

		#Special sets for selected walls
		Set 5ABO = %5%
		if[%floor% = 3] Set 5ABO = %floorid%F
		if[%floor% = 4 | %floor% = 5] Set 5ABO = 5F
		if[%floor% = 6 | %floor% = 7] Set 5ABO = 8F

		Set 5RH = %5A%
		if[%floor% = 3] Set 5RH = %floorid%F
		if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 5RH = 5F
		if[%floor% = 6 | %floor% = 7] Set 5RH = 8F
<EndFunction>

##--------------------------------------------------------------------------------##

#Exterior & interior
#1st-8th floors
<Floors 0 to 7>
	Set 1 = 75 #Building Dimension X
	Set 2 = 45 #Building Dimension Z
	TexPrefix() #Set texture prefix/suffix

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddFloor %floorid%F_Floor, %5%Floor, 0.5, -%1% + 30, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% ! 1] AddFloor Floor, %5%Floor, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Blood Donation Center (3rd floor, North)
		if[%floor% = 2] CutAll -33, %interfloorheight% - 0.1, 5.5, 33, %interfloorheight% + 0.1, %2%, false, true
		if[%floor% = 2] AddFloor BDCFloor, BDCFloor, 0.5, -33, 5.5, 33, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Blood Lab (3rd floor, South)
		if[%floor% = 2] CutAll -13, %interfloorheight% - 0.1, -%2%, 33, %interfloorheight% + 0.1, -5.5, false, true
		if[%floor% = 2] CutAll -33, %interfloorheight% - 0.1, -%2%, -13, %interfloorheight% + 0.1, -30, false, true

		if[%floor% = 2] AddFloor BloodLabFloor1, BLFloor, 0.5, -13, -%2%, 33, -5.5, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% = 2] AddFloor BloodLabFloor2, BLFloor, 0.5, -33, -%2%, -13, -30, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Clinics/departments on 4th-8th floors
		if[%floor% > 2] CutAll -13, %interfloorheight% - 0.1, -%2%, 33, %interfloorheight% + 0.1, %2%, false, true
		if[%floor% > 2] CutAll -33, %interfloorheight% - 0.1, -%2%, -13, %interfloorheight% + 0.1, -30, false, true
		if[%floor% > 2] CutAll -33, %interfloorheight% - 0.1, -5 - 0.3, -13, %interfloorheight% + 0.1, %2%, false, true

		if[%floor% > 2] AddFloor %floorid%F_%5A%Floor1, %5A%Floor, 0.5, -13, -%2%, 33, %2%, 0, 0, 0, 0, false
		if[%floor% > 2] AddFloor %floorid%F_%5A%Floor1A, %5A%Floor, 0.5, -33, -%2%, -13, -30, 0, 0, 0, 0, false
		if[%floor% > 2] AddFloor %floorid%F_%5A%Floor2, %5A%Floor, 0.5, -33, -5 - 0.3, -13, %2%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddFloor %floorid%F_Ceiling, %5%Ceiling, 0.5, -%1% + 30, -%2%, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% ! 0] AddFloor Ceiling, %5%Ceiling, 0.5, -%1%, -%2%, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true

		#Blood Donation Center (3rd floor, North)
		if[%floor% = 2] CutAll -33, %fullheight% - 0.1, 5.5, 33, %fullheight% + 0.1, %2%, false, true
		if[%floor% = 2] AddFloor BDCCeiling, BDCCeiling, 0.5, -33, 5.5, 33, %2%, %fullheight%, %fullheight%, 0, 0, true

		#Different ceilings on the 4th-8th floors
		if[%floor% > 2] CutAll -13, %fullheight% - 0.1, -%2%, 33, %fullheight% + 0.1, %2%, false, true
		if[%floor% > 2] CutAll -33, %fullheight% - 0.1, -%2%, -13, %fullheight% + 0.1, -30, false, true
		if[%floor% > 2] CutAll -33, %fullheight% - 0.1, -5, -13, %fullheight% + 0.1, %2%, false, true

		if[%floor% > 2] AddFloor %floorid%FCeiling1, %5B%Ceiling, 0.5, -13, -%2%, 33, %2%, %height%, %height%, 0, 0, false
		if[%floor% > 2] AddFloor %floorid%FCeiling1A, %5B%Ceiling, 0.5, -33, -%2%, -13, -30, %height%, %height%, 0, 0, false
		if[%floor% > 2] AddFloor %floorid%FCeiling2, %5B%Ceiling, 0.5, -33, -5, -13, %2%, %height%, %height%, 0, 0, false

	#Railings on 2nd floor
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 1] AddWall %floorid%_LeftRail, %5%Wall, 0.5, -%1% + 30, -15, -%1% + 30, 20 - 8, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#====================#

	#Windows
	Set MyIFloorType = 2
	if[%floor% = 0] Set MyIFloorType = 3
	Set WinPrefix = Main

	SetAutoSize = true, false
	AddCustomWindows(FrontWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -%2%, %1%, -%2%, %height%, 0, 0, %MyIFloorType%, ExtFacade, %6%)
	AddCustomWindows(LeftWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -%2%, -%1%, %2%, %height%, 0, 0, %MyIFloorType%, ExtFacade, %6%)
	AddCustomWindows(RightWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -%2%, %1%, %2%, %height%, 0, 0, %MyIFloorType%, %6%, ExtFacade)
	AddCustomWindows(BackWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, -%1%, %2%, %1%, %2%, %height%, 0, 0, %MyIFloorType%, %6%, ExtFacade)
	SetAutoSize = true, true
<EndFloors>

<Floor 0>
	#Floor Directory
	Set DirHeight = 7.5
	Set DirWidth = %DirHeight% * 0.75
	Set DirTex = MainDir

	DrawWalls = false, true, false, false, false, false
	AddWall SR_WestDir, %DirTex%, 0, -41 - (%DirWidth% / 2), -15 + 0.001, -41 + (%DirWidth% / 2), -15 + 0.001, %DirHeight%, %DirHeight%, 1.5, 1.5, 0, 0, false
	AddWall SR_EastDir, %DirTex%, 0, 41 - (%DirWidth% / 2), -15 + 0.001, 41 + (%DirWidth% / 2), -15 + 0.001, %DirHeight%, %DirHeight%, 1.5, 1.5, 0, 0, false
<EndFloor>

<Floors 0 to 1>
	TexPrefix() #Set texture prefix/suffix

	#Lobby stairs
		#Stairs creation
		if[%floor% < 1] OP_OrthoStair(floor, LBStairs_Lower, LBStairs, -57, -52, front, 20, 11, 1, 0.5, 0, 0.5)
		if[%floor% < 1] OP_OrthoStair(floor, LBStairs_Upper, LBStairs, -50, -45, back, 20 + 11, 11, 1, 0.5, 0.5 * 11, 0.5)
	
		#Stairs landing
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		if[%floor% < 1] AddFloor LBStairsLowerLanding, LBStairsFloor, 0.5, -57, 20 + 11, -45, 20 + 11 + 5, 0.5 * 11, 0.5 * 11, 0, 0, false
		if[%floor% > 0] AddFloor LBStairsUpperLanding, LBStairsFloor, 0.5, -50, 20 - 8, -45, 20, 0, 0, 0, 0, false

	#Railings next to stair steps
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (0.5 * 11) - 0.5
	Set RailOffsetU2 = (0.5 * 22) - 0.5

	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% < 1] AddWall LBS-LowerRailRight, LBStairsWall, 0.25, -52, 20, -52, 20 + 11, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
	WallOrientation = right
	if[%floor% < 1] AddWall LBS-LowerRailLeft, LBStairsWall, 0.25, -57, 20, -57, 20 + 11, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
	if[%floor% < 1] AddWall LBS-UpperRailLeft, LBStairsWall, 0.25, -50, 20, -50, 20 + 11, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0, false
	if[%floor% < 1] AddWall LBS-LLandingLeft, LBStairsWall, 0.25, -57, 20 + 11, -57, 20 + 16.25, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
	WallOrientation = left
	if[%floor% < 1] AddWall LBS-LLandingBack, LBStairsWall, 0.25, -57, 20 + 16, -45, 20 + 16, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
	DrawWalls = true, true, true, true, true, false
	if[%floor% < 1] AddWall LBS-LLandingFront, LBStairsWall, 0.25, -52, 20 + 11, -50, 20 + 11, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% > 0] AddWall LBS-ULandingLeft, LBStairsWall, 0.25, -50, 20 - 8.25, -50, 20, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
	if[%floor% > 0] AddWall LBS-ULandingFront, LBStairsWall, 0.25, -50, 20 - 8, -45, 20 - 8, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 0] AddWall LBS-LLandingRight-IFloor, %5%Wall, 0.25, -45, 20 - 8, -45, 20, %interfloorheight% - 0.5, %interfloorheight% - 0.5, -%interfloorheight%, -%interfloorheight%, 0, 0, false
<EndFloors>

#Cut windows for perimeter walls
	#North side
	Cut external, -45, Floor(0).Base, 45 - 0.5, -45 + 15, Floor(8).Altitude, 45 + 0.5, true, false
	Cut external, 45 - 15, Floor(0).Base, 45 - 0.5, 45, Floor(8).Altitude, 45 + 0.5, true, false

	#South side
	Cut external, -45, Floor(0).Base, -45 - 0.5, -45 + 15, Floor(8).Altitude, -45 + 0.5, true, false
	Cut external, 45 - 15, Floor(0).Base, -45 - 0.5, 45, Floor(8).Altitude, -45 + 0.5, true, false

	#South side (Extra cuts for 1st floor)
	Cut external, -45 - 15, Floor(0).Base, -45 - 0.5, -45, Floor(1).Altitude, -45 + 0.5, true, false
	Cut external, 45, Floor(0).Base, -45 - 0.5, 45 + 15, Floor(1).Altitude, -45 + 0.5, true, false

	#North side (Extra cuts for 1st floor)
	Cut external, -10, Floor(0).Base, 45 - 0.5, 10, Floor(1).Altitude, 45 + 0.5, true, false

	#East side (Extra cuts for 1st floor)
	#Cut external, -75 - 0.5, Floor(0).Base, -30, -75 + 0.5, Floor(1).Altitude, -20, true, false
	Cut external, 75 - 0.5, Floor(0).Base, -5, 75 + 0.5, Floor(1).Altitude, 5, true, false

<Floors 0 to 7>
	#Perimeter walls
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, false, true, false, false
		TextureOverride %5B%Wall, ExtFacade, %5%Wall, %5B%Wall, %5%Wall, %5%Wall
		AddWall BackWall_A, ExtFacade, 0.5, -45, %2%, -45 + 15, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride %5B%Wall, ExtFacade, %5B%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall BackWall_B, ExtFacade, 0.5, 45 - 15, %2%, 45, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, false, true, false, false
		TextureOverride ExtFacade, %5D%Wall, %5%Wall, %5D%Wall, %5%Wall, %5%Wall
		AddWall FrontWall_A, ExtFacade, 0.5, -45, -%2%, -45 + 15, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride ExtFacade, %5D%Wall, %5D%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall FrontWall_B, ExtFacade, 0.5, 45 - 15, -%2%, 45, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floor 0>
	#Perimeter walls (1st floor)
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, true, true, true, false
		TextureOverride ExtFacade, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall FrontWall_A, ExtFacade, 0.5, -45 - 15, -%2%, -45, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall FrontWall_B, ExtFacade, 0.5, 45, -%2%, 45 + 15, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Left walls
		#WallOrientation = left
		#DrawWalls = true, true, true, true, true, false
		#TextureOverride ExtFacade, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		#AddWall LeftWall, ExtFacade, 0.5, -%1%, -30, -%1%, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Right walls
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		TextureOverride %5%Wall, ExtFacade, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall RightWall, ExtFacade, 0.5, %1%, -5, %1%, 5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Back wall
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		TextureOverride %5%Wall, ExtFacade, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall BackWall, ExtFacade, 0.5, -10, %2%, 10, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#--------------------------------------------------------------------------------#

	#Entrance doors
		#1. South doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorExt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		#Access point S1
		Set Door_MainX = -52.5
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0

		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		Add3DWindows(S1_WinTop, %Door_MainX%, %Door_MainZ%, front, 6, %height% - 7.5, 7.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(S1_WinSide1, %Door_MainX% - 3 - 2.25, %Door_MainZ%, front, 4, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(S1_WinSide2, %Door_MainX% + 3 + 2.25, %Door_MainZ%, front, 4, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)

		#Access point S2
		Set Door_MainX = 52.5
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0

		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		Add3DWindows(S2_WinTop, %Door_MainX%, %Door_MainZ%, front, 6, %height% - 7.5, 7.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(S2_WinSide1, %Door_MainX% - 3 - 2.25, %Door_MainZ%, front, 4, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(S2_WinSide2, %Door_MainX% + 3 + 2.25, %Door_MainZ%, front, 4, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)

		#--------------------------------------------------------------------------------#

		#2. West doors (NOT IN USE)
		#Set DTex = BLKEntDoorInt
		#Set DTex_Ext = BLKEntDoorExt
		##Set DSTex = %DTex%Side
		#Set DSTex = BLKEntDoorSide

		#Access point W1
		#Set Door_MainX = -%1%
		#Set Door_MainZ = -25

		#WallOrientation = left
		#TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		#AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		#TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		#AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0

		#AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Add3DWindows(W1_WinTop, %Door_MainX%, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		#Add3DWindows(W1_WinSide1, %Door_MainX%, %Door_MainZ% - 3 - 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)
		#Add3DWindows(W1_WinSide2, %Door_MainX%, %Door_MainZ% + 3 + 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %5%Wall, 0.5, 1/3, 1)

		#2a. North doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorExt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		#Access point N1
		Set Door_MainX = 0
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0

		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		Add3DWindows(N1_WinTop, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(N1_WinSide1, %Door_MainX% - 3 - 3.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 2/3, 1)
		Add3DWindows(N1_WinSide2, %Door_MainX% + 3 + 3.5, %Door_MainZ%, back, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 2/3, 1)

		#--------------------------------------------------------------------------------#

		#3. East doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorExt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		#Access point E1
		Set Door_MainX = %1%
		Set Door_MainZ = 0

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0

		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		Add3DWindows(E1_WinTop, %Door_MainX%, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(E1_WinSide1, %Door_MainX%, %Door_MainZ% - 3 - 1, right, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 1/3, 1)
		Add3DWindows(E1_WinSide2, %Door_MainX%, %Door_MainZ% + 3 + 1, right, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %5%Wall, 0.5, 1/3, 1)
<EndFloor>

################################################################################

#Bridge to San Francisco Building
Set BHeight = Floor(2).Height #Bridge's ceiling height
Set BUHeight = Floor(3).InterfloorHeight #Height for upper walls above the bridge's ceiling

	#Cut west windows for bridge's walls
	Cut external, -75 - 0.5, Floor(2).Altitude, -10, -75 + 0.5, Floor(3).Base, 10, true, false

	#Bridge creation
	<Floor 2>
		TexPrefix() #Set texture prefixes

		#External walls
		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall BridgeEast_Lower, ExtFacade, 0.5, -%1%, -10, -%1%, 10, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0, true
		AddWall BridgeEast_Upper, ExtFacade, 0.5, -%1%, -10, -%1%, 10, %BUHeight%, %BUHeight%, %interfloorheight% + %BHeight%, %interfloorheight% + %BHeight%, 0, 0, true

		DrawWalls = true, true, true, true, false, false
		TextureOverride BridgeWall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall
		AddWall BridgeEast_Main, BridgeWall, 0.5, -%1%, -10, -%1%, 10, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
	
		#Access doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorInt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		Set Door_MainX = -%1%
		Set Door_MainZ = 0

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows around doors
			Add3DWindows(BAcc_WinTop, %Door_MainX%, %Door_MainZ%, left, 6, %BHeight% - 7.5, 7.25, BridgeWindowsIntB, BridgeWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(BAcc_WinSide1, %Door_MainX%, %Door_MainZ% - 3 - 3.5, left, 6.5, %BHeight% - 0.5, 0.25, BridgeWindowsIntB, BridgeWindowsIntB, %5%Wall, 0.5, 2/4, 1)
			Add3DWindows(BAcc_WinSide2, %Door_MainX%, %Door_MainZ% + 3 + 3.5, left, 6.5, %BHeight% - 0.5, 0.25, BridgeWindowsIntB, BridgeWindowsIntB, %5%Wall, 0.5, 2/4, 1)
	
		#Bridge's interiors
		FloorOrientation = top
		DrawWalls = true, true, false, false, true, true
		TextureOverride ExtFacade, BridgeFloor, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddFloor BridgeFloor_SR3rdFloor, BridgeFloor, 1.5, -%1% - 15, -10, -%1%, 10, %interfloorheight%, %interfloorheight%, 0, 0, true

		FloorOrientation = bottom
		DrawWalls = true, true, false, false, true, true
		TextureOverride BridgeCeiling, ExtFacade, BridgeWall, ExtFacade, ExtFacade, ExtFacade
		AddFloor BridgeCeil_SR3rdFloor, BridgeCeiling, 1.5, -%1% - 15, -10, -%1%, 10, %interfloorheight% + %BHeight%, %interfloorheight% + %BHeight%, 0, 0, true

		WallOrientation = left
		DrawWalls = true, true, false, false, true, false
		AddWall BridgeCeil_SR3rdFloor_Ext, ExtFacade, 20, -%1% - 15, -10, -%1%, -10, 2, 0, %fullheight% + Floor(3).InterfloorHeight, %fullheight% + Floor(3).InterfloorHeight, 0, 0, true
		DrawWalls = true, false, false, false, false, false
		AddWall BridgeCeil_SR3rdFloor_Int, BridgeWall, 20, -%1% - 15, -10, -%1% - 15, 10, 2, 2, %fullheight%, %fullheight%, 0, 0, true

		#Carpeting above the bridge's floor
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor BridgeCarpet1, BridgeCarpet, 1.5, -%1% - 15, -10 + 4, -%1%, 10 - 4, %interfloorheight% + 0.001, %interfloorheight% + 0.001, 0, 0, true

		#Bridge's windows
		SetAutoSize = true, false
		DrawWalls = true, true, false, false, false, false
		TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
		AddWall BNorthWindows1, MainWindows, 0, -%1% - 15, 10, -%1%, 10, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
		AddWall BNorthWindows2, MainWindows, 0, -%1% - 15, -10, -%1%, -10, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		SetAutoSize = true, true
	<EndFloor>


################################################################################

#Hallway walls on 3rd floor
<Floor 2>
	TexPrefix() #Set texture prefix/suffix

	#North hallway
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %5A%Wall, %5B%Wall, Blank, Blank, Blank, Blank
	AddWall NorthHall_B1, %5%Wall, 0.5, -33 - 0.5, 5, 33 + 0.5, 5, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %5A%Wall, %5B%Wall, Blank, Blank, Blank, Blank
	AddWall NorthHall_B2, %5%Wall, 0.5, -33 - 0.5, 5, -33 - 0.5, 20, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %5B%Wall, %5A%Wall, Blank, Blank, Blank, Blank
	AddWall NorthHall_B3, %5%Wall, 0.5, 33, 5, 33, 20, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#South hallway
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	TextureOverride %5D%Wall, %5A%Wall, Blank, Blank, Blank, Blank
	AddWall SouthHall_B1B, %5%Wall, 0.5, -13, -5, 33.5, -5, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	WallOrientation = right
	TextureOverride %5D%Wall, %5A%Wall, Blank, Blank, Blank, Blank
	AddWall SouthHall_B3, %5%Wall, 0.5, 33.5, -15, 33.5, -5, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
<EndFloor>

#Hallway walls on 4th-8th floors
<Floors 3 to 7>
	TexPrefix() #Set texture prefix/suffix

	#West walls
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	TextureOverride %5%Wall, %5B%Wall, Blank, Blank, Blank, Blank
	AddWall WestWall_%floorid%F, %5%Wall, 0.5, -33, -5, -33, 20, %height%, %height%, 0, 0, 0, 0, false

	#East walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %5B%Wall, %5%Wall, Blank, Blank, Blank, Blank
	AddWall EastWall_%floorid%F, %5%Wall, 0.5, 33, -15, 33, 20, %height%, %height%, 0, 0, 0, 0, false

	#Manager's room (7th-8th floor only)
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 6 | %floor% = 7] AddWall ManagerDivider, %5B%Wall, 0.5, -13, -%2%, -13, -30, %height%, %height%, 0, 0, 0, 0, false

	#Doors inside the clinic/department (7th-8th floors only)
		#Manager's Room
		Set Door_MainX = -13.5
		Set Door_MainZ = -32
		Set DTex = Door9b
		Set DSTex = %DTex%Side
	
		WallOrientation = left
		if[%floor% = 6 | %floor% = 7] AddStdDoor Floor %floor%, %floorid%F_ManagerDoor, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		if[%floor% = 6 | %floor% = 7] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false

		#Windows around door
		if[%floor% = 6 | %floor% = 7] Add3DWindows(%floorid%F_ManagerWindows, %Door_MainX% + 0.5, %Door_MainZ% - 5, right, 6, 4, 7 - 4, MainWindowsIntB, MainWindowsIntB, %5D%Wall, 0.5, 2/3, 1)

	#Room doors
		#West
		Set Door_MainX = -33
		Set Door_MainZ = 7.5
		Set DTex = Door88
		Set DSTex = %DTex%Side

		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%F_DoorW1, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%F_DoorW2, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5B%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

			#Windows around doors
			Add3DWindows(%floorid%F_ClinicN_WinTop, %Door_MainX% - 0.5, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_ClinicN_WinSide1, %Door_MainX% - 0.5, %Door_MainZ% - 3 - 4.75, left, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 3/3, 1)
			Add3DWindows(%floorid%F_ClinicN_WinSide2, %Door_MainX% - 0.5, %Door_MainZ% + 3 + 4.75, left, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 3/3, 1)

			#Signs
			Set SignHeight = 1.5
			if[%floor% ! 6 & %floor% ! 7] Set SignHeight = 3
			Set SignOffset = 5.5
			if[%floor% ! 6 & %floor% ! 7] Set SignOffset = 4.75
			AddBoxSign(Clinic%floorid%01_SignWest, Sign_Clinic%floorid%01, Sign_LB_Long, Sign_LB_Long, 0.1, false, true, true, -33.5 - 0.05, -9, 6, %SignHeight%, %SignOffset%, false)

		#East
		Set Door_MainX = 33
		Set Door_MainZ = 7.5
		Set DTex = Door88
		Set DSTex = %DTex%Side

		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%F_DoorE1, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%F_DoorE2, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5B%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

			#Windows around doors
			Add3DWindows(%floorid%F_ClinicN_WinTop, %Door_MainX% + 0.5, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_ClinicN_WinSide1, %Door_MainX% + 0.5, %Door_MainZ% - 3 - 4.75, right, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 3/3, 1)
			Add3DWindows(%floorid%F_ClinicN_WinSide2, %Door_MainX% + 0.5, %Door_MainZ% + 3 + 4.75, right, 9, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 3/3, 1)

			#Signs
			Set SignHeight = 1.5
			if[%floor% ! 6 & %floor% ! 7] Set SignHeight = 3
			Set SignOffset = 5.5
			if[%floor% ! 6 & %floor% ! 7] Set SignOffset = 4.75
			AddBoxSign(Clinic%floorid%01_SignEast, Sign_LB_Long, Sign_Clinic%floorid%01, Sign_LB_Long, 0.1, false, true, true, 33.5 + 0.05, -9, 6, %SignHeight%, %SignOffset%, false)
<EndFloors>

<Floor 2>
	TexPrefix() #Set texture prefix/suffix

	#Blood Donation Center (3rd floor, North)
		#1. West doors
		Set Door_MainX = -25
		Set Door_MainZ = 5.5
		Set DTex = Door88
		Set DSTex = %DTex%Side

		WallOrientation = right
		AddStdDoor DoorManager, %floorid%F_BDCDoor1A, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%F_BDCDoor1B, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %5B%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows around doors
			Add3DWindows(%floorid%F_BDC1_WinTop, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_BDC1_WinSide1, %Door_MainX% - 3 - 1, %Door_MainZ% - 0.5, front, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_BDC1_WinSide2, %Door_MainX% + 3 + 1, %Door_MainZ% - 0.5, front, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)

			#Sign(s)
			WallOrientation = right
			DrawWalls = true, false, true, true, true, true
			AddBoxSign(Clinic%floorid%01_Sign, Sign_Clinic%floorid%01, Sign_LB_Long, Sign_LB_Long, 0.1, true, false, false, -16.5, 5, 6, 3, 4.75 + %interfloorheight%, true)

		#2. East doors
		Set Door_MainX = 25
		Set Door_MainZ = 5.5
		Set DTex = Door88
		Set DSTex = %DTex%Side

		SetLock 1, 0
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%F_BDCDoor2A, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%F_BDCDoor2B, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %5B%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
		SetLock 0, 0

			#Windows around doors
			Add3DWindows(%floorid%F_BDC2_WinTop, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_BDC2_WinSide1, %Door_MainX% - 3 - 1, %Door_MainZ% - 0.5, front, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)
			Add3DWindows(%floorid%F_BDC2_WinSide2, %Door_MainX% + 3 + 1, %Door_MainZ% - 0.5, front, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5B%Wall, 0.5, 1/3, 1)

	#Blood Lab (3rd floor, South)
		#Divider walls
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		AddWall BloodLabMGRDivider, %5D%Wall, 0.5, -13, -%2%, -13, -30, %height%, %height%, 0, 0, 0, 0, false

		#1. West doors
		Set Door_MainX = -5
		Set Door_MainZ = -5.5
		Set DTex = Door6
		Set DSTex = %DTex%Side

		WallOrientation = left
		AddStdDoor DoorManager, %floorid%F_BloodLabDoor1A, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%F_BloodLabDoor1B, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Sign(s)
			WallOrientation = left
			DrawWalls = false, true, true, true, true, true
			AddBoxSign(Clinic%floorid%02_Sign1, Sign_LB_Long, Sign_Clinic%floorid%02, Sign_LB_Long, 0.1, true, false, false, %Door_MainX%, %Door_MainZ% + 0.5, 3, 0.75, 7.5 + %interfloorheight%, true)

		#2. East doors
		Set Door_MainX = 25
		Set Door_MainZ = -5.5
		Set DTex = Door6
		Set DSTex = %DTex%Side

		WallOrientation = left
		AddStdDoor DoorManager, %floorid%F_BloodLabDoor1A, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%F_BloodLabDoor1B, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#3. Blood Lab Manager's Room
		Set Door_MainX = -13.5
		Set Door_MainZ = -32
		Set DTex = Door9b
		Set DSTex = %DTex%Side
	
		WallOrientation = left
		AddStdDoor Floor %floor%, 3F_BloodLabMGRDoor, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false

		#Windows around door
		Add3DWindows(3F_BloodLabMGRWindows, %Door_MainX% + 0.5, %Door_MainZ% - 5, right, 6, 4, 7 - 4, MainWindowsIntB, MainWindowsIntB, %5D%Wall, 0.5, 2/3, 1)
<EndFloor>

#Set door textures for restrooms
<Function RR_DTex>
	Set DTex = Door8
	if[%floor% = 4 | %floor% = 5] Set DTex = Door9b
	if[%floor% = 6] Set DTex = Door9b
	Set DSTex = %DTex%Side
<EndFunction>

<Floors 0 to 1>
	#Restrooms on 1st-2nd floors
	TexPrefix() #Set texture prefixes
	RR_DTex() #Set door textures
	Set RRHeight = %height%
	Set RRCeiHeight = 8.5

		#Restrooms' floors
		CutAll -33, %interfloorheight% - 0.1, -35, -13, %interfloorheight% + 1, -15.5 + 0.2, false, true

		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor RR_Floor, RRFloor, 0.5, -33, -35, -13, -15.5, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor RR_FloorTrim, BlackTrim, 0.5, -33, -15.5, -13, -15.5 + 0.2, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Restrooms' dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor RR_DropCeiling, DropCeiling, 0.5, -33, -35, -13, -15, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom walls
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		AddWall RR_Left, RRWall, 0.5, -33, -35, -33, -15, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		DrawWalls = true, true, false, false, false, false
		TextureOverride %5%Wall, RRWall, Blank, Blank, Blank, Blank
		AddWall RR_Front, RRWall, 0.5, -33, -35, -13, -35, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride RRWall, %5%Wall, Blank, Blank, Blank, Blank
		AddWall RR_Right, RRWall, 0.5, -13, -35, -13, -15, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		TextureOverride RRWall, %5A%Wall, Blank, Blank, Blank, Blank
		AddWall RR_Back, RRWall, 0.5, -33, -15, -13, -15, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall RR_Middle, RRWall, 1, -23, -35, -23, -15, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, RR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, -23 + 2.5, -15.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, RR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, -23 - 2.5, -15.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -23 + 2.5, -15.5, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -23 - 2.5, -15.5, 3, 7, 0, true, 0, 0, false
	
		#Restroom signs
		Set BoxTex = BlackTrim
		Set SignSuffix = _Gray
		if[%floor% > 3] Set BoxTex = WoodSign2
		if[%floor% > 3] Set SignSuffix = _Brown

			#Signs at hallways
			#AddBoxSign(RR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.1, false, true, true, -33 + 0.5, -15 + 0.75, 1.5, 1.5, 7.5, false)

			#Signs above doors
			AddBoxSign(RR1_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -23 + 2.5, -15 + 0.025, 1.25, 1.25, 7.25, false)
			AddBoxSign(RR2_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -23 - 2.5, -15 + 0.025, 1.25, 1.25, 7.25, false)

	#--------------------------------------------------------------------------------#

	#Storage south of restrooms
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall Storage1Wall, %5%Wall, 0.5, -13, -%2%, -13, -35, %height%, %height%, 0, 0, 0, 0, false

		#Storage doors
		Set Door_MainX = -13.5 #Storage 1 (West)
		Set Door_MainZ = -37
		Set DTex = Door9b
		Set DSTex = %DTex%Side

		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_Str1Door, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false
<EndFloors>

<Floors 2 to 7>
	#Restrooms on 3rd-8th floors
	TexPrefix() #Set texture prefixes
	RR_DTex() #Set door textures
	Set RRHeight = %height%
	Set RRCeiHeight = 8.5

		#Restrooms' floors
		CutAll -33, %interfloorheight% - 0.1, -30, -13, %interfloorheight% + 1, -5.5 + 0.2, false, true

		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor RR_Floor, RRFloor, 0.5, -33, -30, -13, -5.5, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor RR_FloorTrim, BlackTrim, 0.5, -33, -5.5, -13, -5.5 + 0.2, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Restrooms' dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor RR_DropCeiling, DropCeiling, 0.5, -33, -30, -13, -5, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom walls
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		AddWall RR_Left, RRWall, 0.5, -33, -30, -33, -5, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		DrawWalls = true, false, false, true, false, false
		AddWall RR_Left_Ext, %5RH%Wall, 0.5, -33 - 0.5, -15, -33 - 0.5, -5, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		DrawWalls = true, true, false, false, false, false
		TextureOverride %5D%Wall, RRWall, Blank, Blank, Blank, Blank
		AddWall RR_Front, RRWall, 0.5, -33, -30, -13, -30, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride RRWall, %5D%Wall, Blank, Blank, Blank, Blank
		AddWall RR_Right, RRWall, 0.5, -13, -30, -13, -5, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		TextureOverride RRWall, %5A%Wall, Blank, Blank, Blank, Blank
		AddWall RR_Back, RRWall, 0.5, -33, -5, -13, -5, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true

		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall RR_Middle, RRWall, 1, -23, -30, -23, -5, %RRHeight%, %RRHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Restroom doors
		WallOrientation = left
		AddStdDoor DoorManager, RR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, -23 + 2.5, -5.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, RR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, -23 - 2.5, -5.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -23 + 2.5, -5.5, 3, 7, %interfloorheight%, true, 0, 0, true
		AddFillerWalls ConnectionWall, 0.5, -23 - 2.5, -5.5, 3, 7, %interfloorheight%, true, 0, 0, true
	
		#Restroom signs
		Set BoxTex = BlackTrim
		Set SignSuffix = _Gray
		if[%floor% > 2] Set BoxTex = WoodSign2
		if[%floor% > 2] Set SignSuffix = _Brown

			#Signs above doors
			AddBoxSign(RR1_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -23 + 2.5, -5 + 0.025, 1.25, 1.25, 7.25 + %interfloorheight%, true)
			AddBoxSign(RR2_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -23 - 2.5, -5 + 0.025, 1.25, 1.25, 7.25 + %interfloorheight%, true)
<EndFloors>

#Support columns
<Floors 0 to 7>
	#Set Values
	Set 1 = 75 #Building Dimension X
	Set 2 = 45 #Building Dimension Z
	TexPrefix() #Set wall texture
	Set DistanceX = 30 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#Corner Supports
	CreateWallBox2 External, SupportNW, %5%Wall, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportNE, %5%Wall, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportSW, %5%Wall, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportSE, %5%Wall, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#North Supports
	#CreateWallBox2 External, SupportN1, %5%Wall, -%1% + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportN2, %5B%Wall, -%1% + (%DistanceX% * 2), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportN3, %5B%Wall, -%1% + (%DistanceX% * 3), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportN4, %5%Wall, -%1% + (%DistanceX% * 4), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#South Supports
	#CreateWallBox2 External, SupportS1, %5%Wall, -%1% + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS2, %5D%Wall, -%1% + (%DistanceX% * 2), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS3, %5D%Wall, -%1% + (%DistanceX% * 3), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportS4, %5%Wall, -%1% + (%DistanceX% * 4), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#West Supports
	CreateWallBox2 External, SupportW1, %5%Wall, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportW2, %5%Wall, -%1% + 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#East Supports
	CreateWallBox2 External, SupportE1, %5%Wall, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportE2, %5%Wall, %1% - 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
<EndFloors>

#Roof
<Floor 8>
	Set 1 = 75 #Building Dimension X
	Set 2 = 45 #Building Dimension Z
	FloorTex() #Set floor Texture

	#Roof floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, RoofFloor, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Roof railings
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall FrontRail1, ExtFacade, 0.5, -%1% + 0.5, -%2%, -45, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall FrontRail2, ExtFacade, 0.5, -45 + 12, -%2%, 45 - 12, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall FrontRail3, ExtFacade, 0.5, 45, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade, ExtFacade, ExtFacade_Inner, ExtFacade_Inner
	AddWall LeftRail, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade, ExtFacade, ExtFacade_Inner, ExtFacade_Inner
	AddWall RightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall BackRail1, ExtFacade, 0.5, -%1% + 0.5, %2%, 45 - 12, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall BackRail2, ExtFacade, 0.5, 45, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#========================================#

#EXTERNAL SHAFT AND STAIRWELL WALLS
#Cut inner walls for shafts/stairwell walls
	#North side
	Cut external, -45, Floor(0).Base, 44.5 - 0.1, -45 + 12, Floor(8).Altitude, 44.5 + 0.1, true, false
	Cut external, 45 - 12, Floor(0).Base, 44.5 - 0.1, 45, Floor(8).Altitude, 44.5 + 0.1, true, false

	#South side
	Cut external, -45, Floor(0).Base, -44.5 - 0.1, -45 + 12, Floor(8).Altitude, -44.5 + 0.1, true, false
	Cut external, 45 - 12, Floor(0).Base, -44.5 - 0.1, 45, Floor(8).Altitude, -44.5 + 0.1, true, false

#Sets for all walls
<Function ExtSHSets> #1st-8th floors
	#Set textures
	TexPrefix()

	#Set heights
	Set WH = %height%
	Set WO = %interfloorheight%
	
		if[%floor% = 1] Set WH = %fullheight%
		if[%floor% = 1] Set WO = 0
<EndFunction>

<Function ExtSHSets_RF> #Roof only
	#Set heights
	Set WH = %fullheight%
	Set WO = 0
<EndFunction>

### Shaft and stairwell walls
<Floors 0 to 7>
	ExtSHSets() #Set parameters

	#West Elevators
	CreateShaftWall(%5%Wall, %5RH%Wall, %5D%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -39, -30, 6, 15, WestElev, %WH%, %WO%, false, true, true, true, false, false, true)

	#East Elevators
	CreateShaftWall(%5%Wall, %5D%Wall, %5RH%Wall, %5ABO%Wall, %5%Wall, %5%Wall, 0.33, 39, -30, 6, 15, EastElev, %WH%, %WO%, false, true, true, true, false, false, true)

	#West Stairwell
	CreateShaftWall(%5RH%Wall, %5%Wall, %5B%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -39, 32.5, 6, 12.5, WestST, %WH%, %WO%, true, true, true, false, false, false, true)

	#East Stairwell
	CreateShaftWall(%5RH%Wall, %5B%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, 39, 32.5, 6, 12.5, EastST, %WH%, %WO%, true, true, true, false, false, false, true)
<EndFloors>

<Floor 8>
	ExtSHSets_RF() #Set parameters
	
		Set WH2_RF = %interfloorheight% + 4.5
		Set WH3_RF = %fullheight% - %WH2_RF%

	#West Elevators
	CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, -39, -30, 6, 15, WestElev, %WH%, %WO%, false, true, true, true, true, false, true)

		#Extra walls to match with roof railings
		CreateShaftWall(ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, -39, -30, 6, 15, WestElevA, %WH2_RF%, 0, true, false, false, false, false, false, true)
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, -39, -30, 6, 15, WestElevB, %WH3_RF%, %WH2_RF%, true, false, false, false, false, false, true)

	#East Elevators
	CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, 39, -30, 6, 15, EastElev, %WH%, %WO%, false, true, true, true, true, false, true)

			#Extra walls to match with roof railings
			CreateShaftWall(ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, 39, -30, 6, 15, EastElevA, %WH2_RF%, 0, true, false, false, false, false, false, true)
			CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, 39, -30, 6, 15, EastElevB, %WH3_RF%, %WH2_RF%, true, false, false, false, false, false, true)

	#East Stairwell
	CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, 39, 32.5, 6, 12.5, EastST, %WH%, %WO%, true, true, true, false, true, false, true)

		#Extra walls to match with roof railings
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, 0.33, 39, 32.5, 6, 12.5, EastST_A, %WH2_RF%, 0, false, false, false, true, false, false, true)
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, 0.33, 39, 32.5, 6, 12.5, EastST_B, %WH3_RF%, %WH2_RF%, false, false, false, true, false, false, true)
<EndFloor>

##--------------------------------------------------------------------------------##

#SHAFTS
#West elevators (No. 1-3)
AddStdShaft(1, 1, -39, -30, 5.67, 14.67, -1, 8, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)
ShowFullShaft 1 = true

#East elevators (No. 4-6)
AddStdShaft(2, 1, 39, -30, 5.67, 14.67, -1, 8, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

	<Floor 8>
		#Machine room doors
		Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side

		#Shaft 1 (West)
		Set Door_MainX = -39 - 6
		Set Door_MainZ = -30
	
		WallOrientation = left
		AddStdDoor DoorManager, %floorid%_Shaft1MR_D1, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft1MR_D2, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Shaft 2 (East)
		Set Door_MainX = 39 + 6
		Set Door_MainZ = -30
	
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_Shaft2MR_D1, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft2MR_D2, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	<EndFloor>

##--------------------------------------------------------------------------------##

#ELEVATORS
#Set idle sounds
<Elevators 1 to 6>
	CarIdleSound = EG881Sounds/MTelevidle.wav #EG881
<EndElevators>

#West Elevators
<Elevator 1>
	Name = Elevator 1
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2 - 7
	AssignedShaft = 1
	CreateElevator true, 0, 10.5, 0
<EndElevator>

<Elevator 2>
	Name = Elevator 2
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2 - 7
	AssignedShaft = 1
	CreateElevator true, 0, 0.5, 0
<EndElevator>

<Elevator 3>
	Name = Elevator 3
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2 - 7
	AssignedShaft = 1
	CreateElevator true, 0, -9.5, 7
<EndElevator>

<Function BtnPanelE1-3>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %param1% + 1
	Set ButtonPrefix = RTButton

	AddButton %PanelNumber%, , %ButtonPrefix%8, %ButtonPrefix%Lit8, 1, 2, 7, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 1, 1, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 2, 2, 5, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 2, 1, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 3, 2, 3, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , ParkingSign, ParkingSign, 3, 1, off, 0.4, 0.8, -0.76, 0
	AddButton %PanelNumber2%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 4, 1, 0, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 7, 1, 1, 1, 0, 0, 1, run, stop, %ButtonPrefix%Stop, %ButtonPrefix%Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 3>
	Set Prefix = West

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 7.5, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.25, 0.25, 0.5, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Lights
	Set LightWidth = 8.88
	Set LightLength = 1.25
	Set TrimWidth = 0.15

	CreateWallBox2 elevator, CL_Light1, %Prefix%ElevCeilingLight, 0, -2.8 + (%LightLength% / 2), %LightWidth%, %LightLength%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Light2, %Prefix%ElevCeilingLight, 0, 2.8 - (%LightLength% / 2), %LightWidth%, %LightLength%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true

	#1a. Trims around lights
	CreateWallBox2 elevator, CL_Trim_Front, %Prefix%ElevCeilingTrim, 0, -2.8 + %LightLength% + (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Trim_Back, %Prefix%ElevCeilingTrim, 0, 2.8 - %LightLength% - (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 7.5 - 0.5
	
		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (8.88 * 1/3), -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0, -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F3, %WPTex%, 0 + (8.88 * 1/3), -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (8.88 * 1/3), 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0, 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B3, %WPTex%, 0 + (8.88 * 1/3), 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 4.44 - 0.01, 0 - (5.6 * 1/4), 0.02, (5.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 4.44 - 0.01, 0 + (5.6 * 1/4), 0.02, (5.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -4.64

	WallOrientation = right
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.15, left, 0.8, 0.6, %IDP% - (0.15 * 1), 2.75 - (2.25 * 1), %IDP% - (0.15 * 1), 2.75, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.15, left, 0.4, 0.3, %IDP%, 2.75 - (2.25 * 2), %IDP%, 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - (0.15 * 2) - 0.01, 2.75 - (2.25 * 3), %IDP%, 2.75, 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP% - (0.15 * 1), 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 7, 0, 0

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, 2.75, %IDP%, 3, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.275 #Z-Coordinate
	Set PanelCenter = -4.44 + 0.05 + 0.001 #X-Coordinate

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel, %PanelCenter% - 0.051 + 0.025, %Position%, 0.05, 0.825, 4.75, 2.25, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 7, 2, right, %PanelCenter%, %Position%, 0.26, 0.13, 0.15, 0.2, 3.5, 0, 0 #All other buttons
		CreatePanel , 7, 1, right, %PanelCenter%, %Position%, 0.26, 0.13, 0.15, 0.2, 3.5, 0, 0 #1st floor button only

			#Buttons
			BtnPanelE1-3(1)

	#Indicator
	AddFloorIndicator Ind_Button, right, %PanelCenter%, %Position%, 0.5, 0.286, 5.85 + 0.25 - 0.143

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = false, true, false, false, false, false
	AddWall ProximityScanner, HIDScanGreen, 0, %PanelCenter%, %Position% - (%PScanWidth% / 2), %PanelCenter%, %Position% + (%PScanWidth% / 2), %PSscanHeight%, %PSscanHeight%, 4.5, 4.5, 0, 0
	#--------------------
	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %PanelCenter%, %Position% - 0.25, %PanelCenter%, %Position% + 0.25, 0.5, 0.5, 6.25, 6.25, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 7.5 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3 - 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#East Elevators
<Elevator 4>
	Name = Elevator 4
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 7
	AssignedShaft = 2
	CreateElevator true, 0, -9.5, 0
<EndElevator>

<Elevator 5>
	Name = Elevator 5
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 7
	AssignedShaft = 2
	CreateElevator true, 0, 0.5, 0
<EndElevator>

<Elevator 6>
	Name = Elevator 6
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 7
	AssignedShaft = 2
	CreateElevator true, 0, 10.5, 7
<EndElevator>

<Function BtnPanelE4-6>
	Set PanelNumber = %param1%
	Set ButtonPrefix = RTButton

	AddButton %PanelNumber%, , %ButtonPrefix%8, %ButtonPrefix%Lit8, 1, 2, 7, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 1, 1, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 2, 2, 5, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 2, 1, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 3, 2, 3, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , ParkingSign, ParkingSign, 3, 1, off, 0.4, 0.8, -0.76, 0
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 4, 2, 1, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 4, 1, 0, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 7, 1, 1, 1, 0, 0, 1, run, stop, %ButtonPrefix%Stop, %ButtonPrefix%Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 4 to 6>
	Set Prefix = East

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 7.5, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.25, 0.25, 0.5, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Lights
	Set LightWidth = 4.5
	Set LightLength = 3
	Set TrimWidth = 0.2

	CreateWallBox2 elevator, CL_Main, %Prefix%ElevCeilingLight, 0, 0, %LightWidth%, %LightLength%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true

	#1a. Trims around lights
	CreateWallBox2 elevator, CL_Trim_Front, %Prefix%ElevCeilingTrim2, 0, 0 - (%LightLength% / 2) - (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Trim_Back, %Prefix%ElevCeilingTrim2, 0, 0 + (%LightLength% / 2) + (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 7.5 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Trim_Left, %Prefix%ElevCeilingTrim, 0 - (%LightWidth% / 2) - (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 7.5 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Trim_Right, %Prefix%ElevCeilingTrim, 0 + (%LightWidth% / 2) + (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 7.5 - 0.05, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 7.5
	
		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -2.8 + 0.01, 4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0, 2.8 - 0.01, 4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -4.44 + 0.01, 0, 0.02, 2.5, %WPanelHeight%, 0, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64

	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.8, 0.6, %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), %IDP% + (0.15 * 1), 2.75, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.4, 0.3, %IDP%, 2.75 - (2.25 * 2), %IDP%, 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, 2.75 - (2.25 * 3), %IDP% + (0.15 * 2) + 0.01, 2.75, 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP%, 2.75 - (2.25 * 1), %IDP% + (0.15 * 1), 2.75, 7, 7, 0, 0

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, 2.75, %IDP%, 3, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.275 #Z-Coordinate
	Set PanelCenter = 4.44 - 0.05 - 0.001 #X-Coordinate

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel, %PanelCenter% + 0.051 - 0.025, %Position%, 0.05, 0.825, 4.75, 2.25, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 7, 2, left, %PanelCenter%, %Position%, 0.26, 0.13, 0.15, 0.2, 3.5, 0, 0

			#Buttons
			BtnPanelE4-6(1)

	#Indicator
	AddFloorIndicator Ind_Button, left, %PanelCenter%, %Position%, 0.5, 0.286, 5.85 + 0.25 - 0.143

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = true, false, false, false, false, false
	AddWall ProximityScanner, HIDScanGreen, 0, %PanelCenter%, %Position% - (%PScanWidth% / 2), %PanelCenter%, %Position% + (%PScanWidth% / 2), %PSscanHeight%, %PSscanHeight%, 4.5, 4.5, 0, 0
	#--------------------
	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %PanelCenter%, %Position% - 0.25, %PanelCenter%, %Position% + 0.25, 0.5, 0.5, 6.25, 6.25, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 7.5 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3 - 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

########################################

#HALL STATIONS
#Set textures
<Function ElevHallTex>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	if[(%floor% = 0 | %floor% = 1) & %West% = true] Set 5 = Lobby
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%
		if[%floor% > 3] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop

	#Deco dimensions
		Set SideDecoH = %height%
		Set TopDecoH = %height% - 7
		#if[%floor% = 7] Set SideDecoH = 7.2
		#if[%floor% = 7] Set TopDecoH = 0.2

		#Special values for West Elevators
		Set SideDecoH2 = %SideDecoH%
		Set TopDecoH2 = %TopDecoH%
		if[%floor% = 0] Set SideDecoH2 = %height% + Floor(1).FullHeight
		if[%floor% = 0] Set TopDecoH2 = %SideDecoH2% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	if[%floor% = 4 | %floor% = 5] Set BPanelTexture = ElevExtPanels2
	Set ButtonPrefix = RTButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = RTLantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0.05
		if[%floor% = 3] Set ExtraLateralOffset = 0
<EndFunction>

#Elevators 1-3
<Function E1-3HallStation>
	#Shaft Doors
	Set West = true #Use different shaft doors for the 1st floor
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 1 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -4.64 - 0.4

		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% - (0.15 * 1), 2.75 - (2.25 * 2), %IDP% - (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false
		
		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% - (0.15 * 1), 2.75 - (2.25 * 2), %IDP% - (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false
		
		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% - (0.15 * 1), 2.75 - (2.25 * 2), %IDP% - (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(1, 1, -5.34, -5.04, 11 - 4.5, 11 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(2, 1, -5.34, -5.04, 1 - 4.5, 1 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(3, 1, -5.34, -5.04, -9 - 4.5, -9 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

		#Top fillers
		AddShaftTrack(1, 1, -5.34, -5.34 + 0.15, 11, 11 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
		AddShaftTrack(2, 1, -5.34, -5.34 + 0.15, 1, 1 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
		AddShaftTrack(3, 1, -5.34, -5.34 + 0.15, -9, -9 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
	
	#Gap filler for elevators 1-3
		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev1, ElevExt, 0.15 * 2, -5.34, 11 + 2.25, -5.34, 11 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev2, ElevExt, 0.15 * 2, -5.34, 1 + 2.25, -5.34, 1 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev3, ElevExt, 0.15 * 2, -5.34, -9 + 2.25, -5.34, -9 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = -39 #1st shaft for elevator bank
	Set Shaft1CZ = -30
	Set DecoType = external

		#1st shaft
		if[%floor% ! 3] AddDecoObject(E1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 6, %Shaft1CZ% + 11, 4.5, 7, %SideDecoH2%, %TopDecoH2%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! 3] AddDecoObject(E2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 6, %Shaft1CZ% + 1, 4.5, 7, %SideDecoH2%, %TopDecoH2%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! 3] AddDecoObject(E3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 6, %Shaft1CZ% - 9, 4.5, 7, %SideDecoH2%, %TopDecoH2%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)

			#4th floor only
			WallOrientation = left
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% - 6, %Shaft1CZ% + 11, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 1
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% - 6, %Shaft1CZ% + 1, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 2
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% - 6, %Shaft1CZ% - 9, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 3

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2, 3
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 6 - 0.001, %Shaft1CZ% - 5 + 1, 3.5 + 0.5 - 0.4, left, 0.4, 0.8, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 6 - 0.001, %Shaft1CZ% + 5 + 1, 3.5 + 0.5 - 0.4, left, 0.4, 0.8, true, 0, 0

		#Signs
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		AddBoxSign(E1-3_FS1, ELFlrSign%floorid%, ELFlrSign%floorid%, ELFlrSignSide, 0, false, false, false, %Shaft1CX% - 6.001, %Shaft1CZ% - 5 + 1, 1, 1, 5.5, false)
		AddBoxSign(E1-3_FS2, ELFlrSign%floorid%, ELFlrSign%floorid%, ELFlrSignSide, 0, false, false, false, %Shaft1CX% - 6.001, %Shaft1CZ% + 5 + 1, 1, 1, 5.5, false)
		if[%floor% > 2] AddWall E1-3HallSign, FireSign, 0, %Shaft1CX% - 6.001, %Shaft1CZ% + 6 - 0.25, %Shaft1CX% - 6.001, %Shaft1CZ% + 6 + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set IndOffset = 7.5
	if[%floor% = 0] Set IndOffset = 8

		#Set textures
		ACMEInd_LanternTex(RTLanternUp, RTLanternUpLit, RTLanternDown, RTLanternDownLit, %BPanelTexture%, Ind_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(left, 1, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% + 11, %IndOffset%, 0, 7)
		if[%floor% = 0] ACMELobbyInds(left, 2, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% + 1, %IndOffset%, 0, 7)
		if[%floor% = 0] ACMELobbyInds(left, 3, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% - 9, %IndOffset%, 0, 7)

		if[%floor% ! 0] ACMELobbyLanterns(left, 1, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% + 11, %IndOffset%, 0, 7)
		if[%floor% ! 0] ACMELobbyLanterns(left, 2, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% + 1, %IndOffset%, 0, 7)
		if[%floor% ! 0] ACMELobbyLanterns(left, 3, %Shaft1CX% - 6 - %ExtraLateralOffset%, %Shaft1CZ% - 9, %IndOffset%, 0, 7)

	#****************************************#

	#Elevator number signs
	Set Offset = 9
	if[%floor% ! 0] Set Offset = 8.375
	Set Suffix =  
	#if[%floor% > 3 & %floor% < 6] Set Suffix = _Black

	DrawWalls = true, false, false, false, false, false
	AddWall E1Sign, ElevNo1%Suffix%, 0, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% + 11) - 0.5, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% + 11) + 0.5, 1, 1, %Offset%, %Offset%, 0, 0, false
	AddWall E2Sign, ElevNo2%Suffix%, 0, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% + 1) - 0.5, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% + 1) + 0.5, 1, 1, %Offset%, %Offset%, 0, 0, false
	AddWall E3Sign, ElevNo3%Suffix%, 0, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% - 9) - 0.5, %Shaft1CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft1CZ% - 9) + 0.5, 1, 1, %Offset%, %Offset%, 0, 0, false
<EndFunction>

<Floors 0 to 7>
	if[%floor% ! 1] E1-3HallStation()
<EndFloors>

#Floor signs
<Elevators 1 to 3>
	AddFloorSigns 1, true, Sign, back, -4.64 - 0.7 - 0.33, 0.5 - 2.25 + 0.001, 0.35, 0.35, 4.825
	AddFloorSigns 1, true, Sign, front, -4.64 - 0.7 - 0.33, 0.5 + 2.25 - 0.001, 0.35, 0.35, 4.825
<EndElevators>

#Elevators 4-6
<Floors 0 to 7>
	#Shaft Doors
	Set West = false
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 4 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64 + 0.4

		WallOrientation = left
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% + (0.15 * 1), 2.75 - (2.25 * 2), %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false
		
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% + (0.15 * 1), 2.75 - (2.25 * 2), %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false
		
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, %DoorTexture%2, %DoorTexture%2, 0.15, left, 0.4, 0.3, %IDP% + (0.15 * 1), 2.75 - (2.25 * 2), %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(4, 2, 5.04 - 0.01, 5.34, -9 - 4.5, -9 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(5, 2, 5.04 - 0.01, 5.34, 1 - 4.5, 1 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(6, 2, 5.04 - 0.01, 5.34, 11 - 4.5, 11 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

		#Top fillers
		AddShaftTrack(4, 2, 5.34 - 0.15, 5.34, -9, -9 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
		AddShaftTrack(5, 2, 5.34 - 0.15, 5.34, 1, 1 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
		AddShaftTrack(6, 2, 5.34 - 0.15, 5.34, 11, 11 + 2.25, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)
	
	#Gap filler for elevators 4-6
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 2, GapFiller_Elev4, ElevExt, 0.15 * 2, 5.34, -9 + 2.25, 5.34, -9 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 2, GapFiller_Elev5, ElevExt, 0.15 * 2, 5.34, 1 + 2.25, 5.34, 1 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 2, GapFiller_Elev6, ElevExt, 0.15 * 2, 5.34, 11 + 2.25, 5.34, 11 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = 39 #1st shaft for elevator bank
	Set Shaft1CZ = -30
	Set DecoType = floor

		#1st shaft
		if[%floor% ! 3] AddDecoObject(E4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 9, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! 3] AddDecoObject(E5_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% + 1, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! 3] AddDecoObject(E6_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% + 11, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)

			#4th floor only
			WallOrientation = right
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 9, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 4
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% + 1, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 5
			if[%floor% = 3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% + 11, 4.5, 7, %interfloorheight%, false, 0, 0, true #Elevator 6

	#****************************************#

	#Call buttons
	CallButtonElevators = 4, 5, 6
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6 + 0.001, %Shaft1CZ% - 5 + 1, 3.5 + 0.5 - 0.4, right, 0.4, 0.8, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6 + 0.001, %Shaft1CZ% + 5 + 1, 3.5 + 0.5 - 0.4, right, 0.4, 0.8, true, 0, 0

		#Signs
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(E4-6_FS1, ELFlrSign%floorid%, ELFlrSign%floorid%, ELFlrSignSide, 0, false, false, false, %Shaft1CX% + 6.001, %Shaft1CZ% - 5 + 1, 1, 1, 5.5, false)
		AddBoxSign(E4-6_FS2, ELFlrSign%floorid%, ELFlrSign%floorid%, ELFlrSignSide, 0, false, false, false, %Shaft1CX% + 6.001, %Shaft1CZ% + 5 + 1, 1, 1, 5.5, false)
		if[%floor% > 2] AddWall E4-6HallSign, FireSign, 0, %Shaft1CX% + 6.001, %Shaft1CZ% + 6 - 0.25, %Shaft1CX% + 6.001, %Shaft1CZ% + 6 + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set IndOffset = 7.5

		#Set textures
		ACMEInd_LanternTex(RTLanternUp, RTLanternUpLit, RTLanternDown, RTLanternDownLit, %BPanelTexture%, Ind_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(right, 4, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 9, %IndOffset%, 0, 7)
		if[%floor% = 0] ACMELobbyInds(right, 5, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 1, %IndOffset%, 0, 7)
		if[%floor% = 0] ACMELobbyInds(right, 6, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 11, %IndOffset%, 0, 7)

		if[%floor% ! 0] ACMELobbyLanterns(right, 4, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 9, %IndOffset%, 0, 7)
		if[%floor% ! 0] ACMELobbyLanterns(right, 5, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 1, %IndOffset%, 0, 7)
		if[%floor% ! 0] ACMELobbyLanterns(right, 6, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 11, %IndOffset%, 0, 7)

	#****************************************#

	#Elevator number signs
	Set Suffix =  
	#if[%floor% > 3 & %floor% < 6] Set Suffix = _Black

	DrawWalls = false, true, false, false, false, false
	AddWall E4Sign, ElevNo4%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 9) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 9) + 0.5, 1, 1, 8.375, 8.375, 0, 0, false
	AddWall E5Sign, ElevNo5%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 1) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 1) + 0.5, 1, 1, 8.375, 8.375, 0, 0, false
	AddWall E6Sign, ElevNo6%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 11) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 11) + 0.5, 1, 1, 8.375, 8.375, 0, 0, false
<EndFloors>

#Floor signs
<Elevators 4 to 6>
	AddFloorSigns 1, true, Sign, back, 4.64 + 0.7 + 0.33, 0.5 - 2.25 + 0.001, 0.35, 0.35, 4.825
	AddFloorSigns 1, true, Sign, front, 4.64 + 0.7 + 0.33, 0.5 + 2.25 - 0.001, 0.35, 0.35, 4.825
<EndElevators>

#Elevator global settings
<Elevators 1 to 6>
	#Door settings
	DoorTimer 1 = 12000
	QuickClose 1 = 8000
	OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881

	#Notifications
	NotifyEarly = 1
	QueueResets = true
	UpChimeSound 1 = EG881Sounds/MTupchime2.wav #EG881
	DownChimeSound 1 = EG881Sounds/MTdownchime2.wav #EG881
	BeepSound = EG881Sounds/MTbeep2.wav #EG881

	#MovementSounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881

	CarStartSound = EG881Sounds/elevstart10.wav #EG881
	CarMoveSound = EG881Sounds/elevmove10.wav #EG881
	CarStopSound = EG881Sounds/elevstop10.wav #EG881
<EndElevators>

##--------------------------------------------------------------------------------##

#STAIRWELLS
<Function StairwellSets>
	#Set Values
	Set NumSteps = 11 #Total: 22 steps
<EndFunction>

#West Stairwell
CreateStairwell 1, -39, 32.5, 0, 7
CutStairwell 1, -5.5, -12, 5.5, 12, 0, 5
ShowFullStairs 1 = always

<Floors 0 to 7>
	StairwellSets() #Determine stairs' size

	Set 21 = -39 #Center X
	Set 22 = 32.5 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 7] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, %24% - 5 - %NumSteps%, -%23% + 5, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 7] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 7] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 5, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 7] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 5, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 0] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 7] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, -%24% + 0.001, %SignCenterPoint% + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, %23% - 2, -%24%, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, -%23% + 2, -%24% - 0.5, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% > 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% - 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	Set SignPos = 0 #For signs at the hallway
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set SignPos = 7.5 #For signs at the hallway

	if[%floor% > 0] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% - 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% > 0] AddBoxSign(Stair%25%_SignHallway, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, false, true, true, %21% + %23% - 2, %SignPos%, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGroundLevel, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#East Stairwell
CreateStairwell 2, 39, 32.5, 0, 8
CutStairwell 2, -5.5, -12, 5.5, 12, 0, 5
ShowFullStairs 2 = always

<Floors 0 to 8>
	StairwellSets() #Determine stairs' size

	Set 21 = 39 #Center X
	Set 22 = 32.5 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5, %24% - 5 - %NumSteps%, %23%, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 5, %23%, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 5, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 0] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 8] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, -%24% + 0.001, %SignCenterPoint% + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, -%23% + 2, -%24%, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, %23% - 2, -%24% - 0.5, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% > 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% - 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	Set SignPos = 0 #For signs at the hallway
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set SignPos = 7.5 #For signs at the hallway

	if[%floor% > 0 & %floor% < 8] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% - 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = 8] AddBoxSign(Stair%25%_SignRoof, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% - 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% > 0 & %floor% < 8] AddBoxSign(Stair%25%_SignHallway, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, false, true, true, %21% - %23% + 2, %SignPos%, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGroundLevel, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>