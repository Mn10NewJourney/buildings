#Skyscraper School (V3) - Priscilla Steveson Building (formerly Student Center)
#Copyright (c) 2021-Present - Mn10

#Include my scripts
<Include CustomObjects2018/Scripts/r1_script.txt>
<Include Shaft Wall Creator/Scripts/r1_script.txt>
<Include data/ACME Floor Indicator/Scripts/Indicators.txt> 

#Determinant X: Set the value to determine the passenger elevator (Elevator 1)'s serviced floors.
Set DeterminantX = 1
#Set DeterminantX = 2

#1: All floors open, except 3rd-4th floors (elevator lobby doors on 3rd-4th floors are also locked).
#2: All floors open (lobby doors on 3rd-4th floors are unlocked).

#Determinant Y: Set the day to determine the opening of service elevator (Elevator 2)'s lobby doors.
Set DeterminantY = 1
#Set DeterminantY = 2

#1: Lobby doors on 3rd-4th floors are locked.
#2: Lobby doors on 3rd-4th floors are unlocked.

#Remarks: The service elevator always serves all floors, even when its lobby doors on the 3rd-4th floors are locked.

<Globals>
	Name = Skyscraper School - Priscilla Steveson Building
	Designer = Mn10
	Location = Skyscraper School
	Description = This is a multi-purpose annex building to Matrix Building in front.
	Version = 3
	CameraFloor = 0
	CameraPosition = 10, -20
	CameraRotation = 0, 0, 0
<EndGlobals>

<Textures>
	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	#Load data/grndroad1mid.jpg, Road, 0.04, 0.04
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125

	#Concrete
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade, 0.075, 0.075 #EG881 #Main facade
	Load data/EG881/Concrete/smoothconcrete1.jpg, RoofTex, 0.075, 0.075 #EG881 #Rooftop
	#Load data/stucco4b.jpg, RoofTex, 0.125, 0.125 #Rooftop

	#Load data/stucco2.jpg, ExtFacade2A, 0.0625, 0.0625
	#Load data/stucco2.jpg, IntFacade, 0.0625, 0.0625
	Load data/EG881/cem_tr2b.jpg, Concrete1, 0.075225, 0.0625 #EG881
	Load data/stucco4.jpg, ColumnTex, 0.0625, 0.0625
	Load data/stucco2.jpg, ColumnTex2, 0.0625, 0.0625

	#Temporary textures
	#Load data/cem_tr.jpg, TempFlr, 0.0625, 0.0625
	#Load data/stucco3.jpg, TempWall, 0.25, 0.25
	#Load data/cutston.jpg, TempCeiling, 0.25, 0.25
	#Load data/metal080.jpg, ColumnTex, 0.5, 0.5

	#Windows and vents
	LoadAlphaBlend data/windows11h.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindowsB, true, 1, 1, false
	Load data/windows11h.jpg, MainWindowsB2, 1, 1, false
	Load data/windows11h_inside.gif, MainWindowsIntB, 1, 1, false
	Load data/vents1b.jpg, VentsExt, 1, 1, false
	Load data/vents1b.jpg, VentsInt, 1, 1, false

	#Main textures
	Load data/EG881/cem_tr2b.jpg, CourtFloor, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2c.jpg, CourtFloor2, 0.075225, 0.0625 #EG881
	Load data/granite_0007e.jpg, CourtsideFloor, 0.1, 0.1
	Load data/floor065.jpg, MainFloor, 0.25, 0.25
	Load data/marble6f.jpg, CanteenFloor, 0.1, 0.1
	Load data/floor111b.jpg, LibraryFloor, 0.25, 0.25
	Load data/marble3.jpg, CompLabFloor, 0.1, 0.1
	Load data/symb5.jpg, HallFloor, 0.2, 0.2
	Load data/MarbleWhite0047b_S.jpg, HallEntranceFloor, 0.1, 0.2

	Load data/windows11e_inside.gif, MezRail, 0.0666, 1
	Load data/windows11e_inside.gif, MezRailB, 1, 1, false

	Load data/stucco1b.jpg, LobbyCeiling, 0.125, 0.125
	Load data/ceilinglight1.jpg, CanteenCeiling, 0.2, 0.2
	Load data/EG881/ceilingtile2b.jpg, LibraryCeiling, 0.16666, 0.16666 #EG881
	Load data/EG881/ceilingtile3x3.jpg, HallCeiling, 0.16666, 0.16666 #EG881
	Load data/ceilinglight1.jpg, HallCeiling2, 0.16666, 0.16666

	Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881

	Load data/st_wall2.jpg, LobbyWall, 0.1818, 0.1302
	Load data/marble5c.jpg, CanteenWall, 0.25, 0.25
	Load data/lopacwall1.jpg, LibraryWall, 0.2, 0.074074
	Load data/text13.jpg, LibraryEntWall, 0.3, 0.3
	Load data/windows11e_inside2.gif, LibraryAlarm, 1, 2, false

	Load data/diamond18d.jpg, CompLabWallLower, 0.29, 0.29
	#Load data/stucco22b.jpg, CompLabWallUpper, 0.125, 0.125
	Load data/EG881/stucco22b_white.jpg, CompLabWallUpper, 0.125, 0.125 #EG881
	Load data/ceilinglight1.jpg, CompLabCeiling, 0.2, 0.2
	Load data/diamond18c.jpg, CompLabRailWall, 0.2, 0.2

	Load data/marbl3.jpg, HallWall, 0.125, 0.125

	Load data/st_wall.jpg, LobbyWall2, 0.25, 0.1792
	Load data/text12.jpg, CanteenWall2, 0.3, 0.3
	Load data/stone.jpg, CanteenWall3, 0.2, 0.2
	Load data/text16.jpg, LibraryWall2, 0.4, 0.4
	Load data/text16.jpg, HallWall2, 0.4, 0.4
	#Load data/rose_marble.jpg, HallWall2A, 0.085, 0.085
	Load data/marble4.jpg, HallWall2A, 0.125, 0.125
	Load data/windows11h_inside.gif, HallGlassRail, 0.05, 1
	Load data/windows11h_inside.gif, HallGlassRail2, 1, 1, false

	#Stairwells
		#Main stairwells
		Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
		Load data/cinderblocks.jpg, StairsWall, 0.25, 0.25
		Load data/stucco1.jpg, StairsWall_Center, 0.25, 0.25
		Load data/cutston.jpg, StairsCeiling, 0.25, 0.25
	
		Load data/floor065b.jpg, StairsFloor2, 0.25, 0.25
		Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
		Load data/wall5b.jpg, StairsWall2M, 0.25, 0.25

		#Library stairs
		Load data/floor111.jpg, LibraryStairs, 0.25, 0.25
		Load data/diamond18h.jpg, LibraryStairsWall, 0.2, 0.2
		Load data/text13.jpg, LibraryStairsWall2, 0.3, 0.3

		#Service stairs
		Load data/MT/treatment01.jpg, HallServiceStairs, 0.15, 0.15 #Level 7, east & west
		Load data/MT/treatment02.jpg, HallServiceStairsWall, 0.15, 0.15

		Load data/floor065b.jpg, ServiceStairs, 0.25, 0.25 #Level 1, west
		Load data/marble5.jpg, ServiceStairsWall, 0.22, 0.22

		#Sports department stairs
		Load data/floor065b.jpg, SportStairs, 0.25, 0.25 #Level 1, east
		Load data/marble5c.jpg, SportStairsWall, 0.22, 0.22

	#Doors
	Load data/miscdoor6.jpg, Door6, 1, 1, false
	LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
	Load data/miscdoor8.jpg, Door8, 1, 1, false
	LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
	Load data/miscdoor88.gif, Door88, 1, 1, false
	LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false

	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	Load data/EG881/miscdoor8_blacktrans.png, Door88Trans_Int, 1, 1, false #EG881
	Load data/EG881/miscdoor8_blacktranstinted.jpg, Door88Trans_Ext, 1, 1, false #EG881
	LoadCropped data/EG881/miscdoor8_blacktrans.png, Door88Trans_Side, 236, 0, 20, 512, 1, 1, false #EG881

	Load data/miscdoor9b.jpg, Door9b, 1, 1, false
	Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

	Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
	LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
	Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881

	Load data/Melvin/Skyscraper School (V3)/miscdoor88_emer.png, Door88_Emer, 1, 1, false #EG881
	Load data/Melvin/Skyscraper School (V3)/servicedoor2bl_emer.png, ServiceDoor2BL_Emer, 1, 1, false #EG881
	Load data/Melvin/Skyscraper School (V3)/servicedoor2br_emer.png, ServiceDoor2BR_Emer, -1, 1, false #EG881

	Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
	Load data/servicedoor3_trans.gif, ServiceDoor3Trans, 1, 1, false
	LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false
	
	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/panel-back4.jpg, ElevPanel, 1, 1, false
		Load data/panel-back3.jpg, ElevPanel2, 1, 1, false
		#Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881

		#Passenger elevator
		Load data/Carpet0021d_S.jpg, PassengerElevFloor, 0.2, 0.2
		#Load data/MarbleWhite0047b_S.jpg, PassengerElevWall, 0.25, 0.5
		Load data/marb047.jpg, PassengerElevWall, 0.5, 0.5
		Load data/diamond18i.jpg, PassengerElevWallPanel, 0.45, 0.45
		Load data/marb047.jpg, PassengerElevPanelMain, 0.5, 0.5
		Load data/marb047.jpg, PassengerElevPanelTop, 0.5, 0.5
		Load data/MT/CeilingC.jpg, PassengerElevCeiling, 1, 1, false
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsC, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsC2, 1, 1, false #EG881

		#Service elevator
		Load data/metal072.jpg, ServiceElevFloor, 0.29, 0.29
		Load data/MetalBare0085_3_S.jpg, ServiceElevWall, 0.25, 0.25
		Load data/metal080.jpg, ServiceElevPanelMain, 0.5, 0.5
		Load data/metal080.jpg, ServiceElevPanelTop, 0.5, 0.5
		Load data/MT/CeilingD.jpg, ServiceElevCeiling, 1, 1, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD2, 1, 1, false #EG881

		#Shaft doors & outside panels
		Load data/panel-back4.jpg, ElevExtPanels, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels2, 1, 1, false
		Load data/Melvin/SDT_Signs/SDTCallPanel.png, ElevExtPanels2A, 1, 1, false

			#Passenger elevator
			Load data/EG881/elevdoorleft_tan.jpg, ElevDoorsA, 1, 1, false #EG881 #1st-2nd floors
			Load data/EG881/elevdoorright_tan.jpg, ElevDoorsA2, 1, 1, false #EG881

			Load data/EG881/elevdoorleft_brown.jpg, ElevDoorsDY, 1, 1, false #EG881 #3rd-5th floors
			Load data/EG881/elevdoorright_brown.jpg, ElevDoorsDY2, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsM, -1, 1, false #EG881 #6th floor
			Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, ElevDoorsM2, -1, 1, false #EG881
			#Load data/panel-back4.jpg, ElevDoorsM_Trim, 1, 1, false #EG881

			#Service elevator
			Load data/EG881/elevdoorleft_white.jpg, ElevDoorsB, 1, 1, false #EG881 #1st-2nd floors
			Load data/EG881/elevdoorright_white.jpg, ElevDoorsB2, 1, 1, false #EG881

			Load data/EG881/elevdoorleft_black.jpg, ElevDoorsDX, 1, 1, false #EG881 #3rd-5th floors
			Load data/EG881/elevdoorright_black.jpg, ElevDoorsDX2, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsL, -1, 1, false #EG881 #6th floor
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ElevDoorsL2, -1, 1, false #EG881
			#Load data/panel-back3.jpg, ElevDoorsL_Trim, 1, 1, false #EG881

		#Fixtures
		Load data/callbutton2.gif, ButtonUp, 1, 1, false
		Load data/callbutton2_litamber.gif, ButtonUpLit, 1, 1, false
		Load data/callbutton2.gif, ButtonDown, 1, -1, false
		Load data/callbutton2_litamber.gif, ButtonDownLit, 1, -1, false
		
		Load data/callbutton3.gif, GoldButtonUp, 1, 1, false
		Load data/callbutton3_litamber.gif, GoldButtonUpLit, 1, 1, false
		Load data/callbutton3.gif, GoldButtonDown, 1, -1, false
		Load data/callbutton3_litamber.gif, GoldButtonDownLit, 1, -1, false
		
		Load data/MT/MT.gif, Button, 1, 1, false
		Load data/MT/MTlit.gif, ButtonLit, 1, 1, false
		Load data/MT/Open.gif, ButtonOpen, 1, 1, false
		Load data/MT/Close.gif, ButtonClose, 1, 1, false
		Load data/MT/Stop.gif, ButtonStop, 1, 1, false
		Load data/MT/Alarm.gif, ButtonAlarm, 1, 1, false

		AddTextRange 1, 6, Button, Button%number%Temp, nimbus_sans_bold_condensed.ttf, 63, %number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 6, ButtonLit, ButtonLit%number%Temp, nimbus_sans_bold_condensed.ttf, 63, %number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 2, Button, ButtonM%number%Temp, nimbus_sans_bold_condensed.ttf, 63, M%number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonLit, ButtonLitM%number%Temp, nimbus_sans_bold_condensed.ttf, 63, M%number%, 16, 55, 135, 148, center, center, 255, 255, 255

		AddTextRange 1, 6, Button%number%Temp, Button%number%, braille.ttf, 25, $%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 6, ButtonLit%number%Temp, ButtonLit%number%, braille.ttf, 25, $%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonM%number%Temp, ButtonM%number%, braille.ttf, 25, ;M$%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonLitM%number%Temp, ButtonLitM%number%, braille.ttf, 25, ;M$%number%, 16, 148, 135, 194, center, center, 255, 255, 255

		#Lanterns
		Load data/darrow_unlit_red.gif, LanternUp, 1, 1, false
		Load data/darrow_lit_red.gif, LanternUpLit, 1, 1, false
		Load data/darrow_unlit_red.gif, LanternDown, 1, -1, false
		Load data/darrow_lit_red.gif, LanternDownLit, 1, -1, false
	
		Load data/black.jpg, IndBack, 1, 1, false
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator 2.jpg, IndBack_Outside, 1, 1, false
		AddTextRange 1, 6, IndBack, Ind_Button%number%, acme_led.ttf, 75, _%number%, -1, -1, -1, -1, center, center, 0, 255, 0
		AddTextRange 1, 2, IndBack, Ind_ButtonM%number%, acme_led.ttf, 75, M%number%, -1, -1, -1, -1, center, center, 0, 255, 0
		AddTextRange 1, 6, IndBack_Outside, OutsideInd_Button%number%, acme_led.ttf, 240, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0
		AddTextRange 1, 2, IndBack_Outside, OutsideInd_ButtonM%number%, acme_led.ttf, 240, M%number%, -1, -1, -1, -1, center, center, 255, 0, 0

	#Signs
		#Elevator instruction signs
		Load data/signs_mod/elevhallsign1.png, ElevHallSign, 1, 1, false
		#Load data/signs_mod/elevcarsign1.png, ElevCarSign, 1, 1, false

		#Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 2, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 45, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Elevator lobbies
		Load data/signs_mod/Elev1.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev2.png, Sign_ServiceElev, 1, 1, false

		#Main textures
		Load data/panel-back3.jpg, SignHolder, 1, 1, false
		Load data/EG881/brownwood.jpg, WoodSign, 0.23, 0.212, true #EG881
		#Load data/EG881Mod/brownwood_long1.jpg, WoodSignLong1, 1, 1, false
		Load data/EG881Mod/brownwood_long2.jpg, WoodSignLong2, 1, 1, false

		#Rooms/offices (level 1)
		AddText WoodSignLong2, SignLockerRoom, nimbus_sans_bold.ttf, 45, Locker Room, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText WoodSignLong2, SignSportEquipmentRoom, nimbus_sans_bold_condensed.ttf, 45, Sports Equipment, -1, -1, -1, -1, center, center, 255, 255, 255, false
	
		#Office (level M1) - Sport department is accessed from level 1
		AddText WoodSignLong2, SignSportsDept, nimbus_sans_bold.ttf, 45, Sports Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Offices (level M2)
		AddText WoodSignLong2, SignAudioVisualDept, nimbus_sans_bold.ttf, 43, Audio & Visual, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText WoodSignLong2, SignPurchasingDept, nimbus_sans_bold_condensed.ttf, 45, Purchasing Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText WoodSignLong2, SignBuildingDept, nimbus_sans_bold.ttf, 45, Building Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText WoodSignLong2, SignCanteenManagement, nimbus_sans_bold.ttf, 43, Canteen Mgnt., -1, -1, -1, -1, center, center, 255, 255, 255, false

		#5th floor rooms
		AddText WoodSignLong2, SignCompTeachers, nimbus_sans_bold.ttf, 40, Comp. Teachers', -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText WoodSignLong2, SignRobotClub, nimbus_sans_bold.ttf, 45, Robot Club, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 2, WoodSignLong2, SignPhotoStudio%number%, nimbus_sans_bold.ttf, 45, Photo Studio %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 2, WoodSignLong2, SignCompLab%number%, nimbus_sans_bold.ttf, 45, Comp. Lab %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Priscilla Steveson Hall
		Load data/Melvin/Skyscraper School (V3)/PriscillaHall.png, PSHallSign, 1, 1, false

		#Floor signs
		Load data/Melvin/transparent128.png, Blank, 1, 1, false
		AddTextRange 1, 7, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 2, Blank, BlankSignM%number%, nimbus_sans_bold.ttf, 72, M%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Restrooms
		Load data/signs_mod/Restroom1.png, Sign_Restroom, 1, 1, false
		Load data/signs_mod/Restroom4.png, Sign_RestroomW, 1, 1, false
		Load data/signs_mod/Restroom5.png, Sign_RestroomM, 1, 1, false

		#Building signs
			Load data/Melvin/Skyscraper School (V3)/StudentCenterSign.png, StudentCenter, 1, 1, false
			Load data/Melvin/Skyscraper School (V3)/StudentCenterSign2.png, StudentCenter2, 1, 1, false

		#Elevator lobby signs
			LoadRange 1, 2, data/Melvin/Skyscraper School (V3)/Priscilla_Elev%number%.png, PriscillaElev%number%, 1, 1, false
	#--------------------
	#Exit signs
	Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
	Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
	Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
	Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
	Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
<EndTextures>

#########################################################################

#Floor Assignments
<Floor -1>
	ID = -
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -11.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Lobby
	Type = Lobby
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -1.5
	Group = 1, 2
<EndFloor>

<Floor 1>
	ID = M1
	Name = Mezzanine Level 1
	Type = Mezzanine
	Height = 9
	InterfloorHeight = 1.5
	Group = 0, 2
<EndFloor>

<Floor 2>
	ID = M2
	Name = Mezzanine Level 2
	Type = Mezzanine
	Height = 13.5
	InterfloorHeight = 1.5
	Group = 0, 1
<EndFloor>

<Floor 3>
	ID = %floor% - 1
	Name = Canteen
	Type = Restaurant #Closest to a school canteen.
	Height = 13.5
	InterfloorHeight = 1.5
<EndFloor>

<Floors 4 to 5>
	ID = %floor% - 1
	Name = Library
	Type = Recreation
	Height = 13.5
	InterfloorHeight = 1.5
	if[%floor% = 4] Group = 5 - 6
	if[%floor% = 5] Group = 4, 6
<EndFloors>

<Floor 6>
	ID = %floor% - 1
	Name = Computer Labs
	Type = Office
	Height = 13.5
	InterfloorHeight = 1.5
	Group = 4 - 5
<EndFloor>

<Floor 7>
	ID = %floor% - 1
	Name = Priscilla Hall
	Type = Ballroom
	Height = 13.5
	InterfloorHeight = 1.5
	Group = 8
<EndFloor>

<Floor 8>
	ID = %floor% - 1
	Name = Hall Mezzanine
	Type = Mezzanine
	Height = 22
	InterfloorHeight = 1.5
	Group = 7
<EndFloor>

<Floor 9>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

#Landscape
AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920
Cut Landscape, -74 - 10, -1, -78 - 10, 74 + 10, 1, 78 + 10, false, true

AddFloor landscape, SidewalkA, Sidewalk, 0, -74 - 10, -78, 74 + 10, 78, 0, 0, 0, 0
AddFloor landscape, SidewalkB, Sidewalk, 0, -74 - 10, -78 - 10, -74 + 23, -78, 0, 0, 0, 0
AddFloor landscape, CourtExt-Back, CourtFloor2, 0, -74 + 23, -78 - 10, 74 - 23, -78, 0, 0, 0, 0
AddFloor landscape, SidewalkC, Sidewalk, 0, 74 - 23, -78 - 10, 74 + 10, -78, 0, 0, 0, 0

AddFloor landscape, SidewalkD, Sidewalk, 0, -74 - 10, 78, -74 + 23, 78 + 10, 0, 0, 0, 0
AddFloor landscape, CourtExt-Front, CourtFloor2, 0, -74 + 23, 78, 74 - 23, 78 + 10, 0, 0, 0, 0
AddFloor landscape, SidewalkE, Sidewalk, 0, 74 - 23, 78, 74 + 10, 78 + 10, 0, 0, 0, 0

Cut Landscape, -74, -1, -78, 74, 1, 78, false, true
Cut Landscape, 74, -1, -78 + 35 + 3, 74 + 10, 1, -78 + 45 + 3, false, true
Cut Landscape, 74, -1, 78 - 10, 74 + 10, 1, 78, false, true

#Functions
<Include buildings/SkyscraperSchool (V3)/Functions.txt>

#########################################################################

#Exterior and interior
#Set textures
<Function FloorTex>
	if[%floor% = 0] Set 5 = CourtsideFloor #Floor Texture #Level 1
	if[%floor% = 1 | %floor% = 2] Set 5 = MainFloor #Floor Texture #Levels M1 and M2
	if[%floor% = 3] Set 5 = CanteenFloor #Floor Texture
	if[%floor% = 4 | %floor% = 5] Set 5 = LibraryFloor #Floor Texture
	if[%floor% = 6] Set 5 = CompLabFloor #Floor Texture
	if[%floor% > 6] Set 5 = HallFloor #Floor Texture
<EndFunction>

<Function WallTex>
	if[%floor% < 3] Set 6 = LobbyWall #Wall Texture
	if[%floor% = 3] Set 6 = CanteenWall #Wall Texture
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 6 = LibraryWall #Wall Texture
	if[%floor% > 6] Set 6 = HallWall #Wall Texture

	#Override wall texture for support columns
	if[%floor% < 3] Set 6A = LobbyWall2 #Wall Texture
	if[%floor% = 3] Set 6A = CanteenWall2 #Wall Texture
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 6A = LibraryWall2 #Wall Texture
	if[%floor% > 6] Set 6A = HallWall2 #Wall Texture
<EndFunction>

<Function CeilingTex>
	if[%floor% < 3] Set 7 = LobbyCeiling #Ceiling Texture
	if[%floor% = 3] Set 7 = CanteenCeiling #Ceiling Texture
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 7 = LibraryCeiling #Ceiling Texture
	if[%floor% > 6] Set 7 = HallCeiling2 #Ceiling Texture
	Set 7A = %7%
	if[%floor% > 6] Set 7A = HallCeiling #Ceiling Texture
<EndFunction>

#Link area creation
<Function LinkArea>
	Set Front = %param1%
	Set Back = %param2%
	Set ExtFacadeTexture = %param3%
	Set TZ = 1
	#if[%floor% = 0] Set TZ = 2

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	TextureOverride %ExtFacadeTexture%, %6%, %ExtFacadeTexture%, %ExtFacadeTexture%, %6%, %6%
	AddWall FrontFacade-IFloorCover, %ExtFacadeTexture%, 1, %1%, %Front%, %1% + 10, %Front%, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, 0, 0, true
	AddWall FrontFacade-Extra, %6%, 1, %1% - 0.5, %Front%, %1%, %Front%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindowsB, MainWindowsIntB, Blank, Blank, Blank, Blank
	AddWall FrontFacade-Windows, %ExtFacadeTexture%, 0, %1%, %Front%, %1% + 10, %Front%, %height% - 3.5, %height% - 3.5, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0.5, %TZ%, true

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	TextureOverride %6%, %ExtFacadeTexture%, %ExtFacadeTexture%, %ExtFacadeTexture%, %6%, %6%
	AddWall BackFacade-IFloorCover, %ExtFacadeTexture%, 1, %1%, %Back%, %1% + 10, %Back%, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, 0, 0, true
	DrawWalls = true, false, true, true, true, false
	AddWall BackFacade-Extra, %6%, 1, %1% - 0.5, %Back%, %1%, %Back%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindowsIntB, MainWindowsB, Blank, Blank, Blank, Blank
	AddWall BackFacade-Windows, %ExtFacadeTexture%, 0, %1%, %Back%, %1% + 10, %Back%, %height% - 3.5, %height% - 3.5, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0.5, %TZ%, true
<EndFunction>

<Floors 0 to 8>
	Set 1 = 74 #Building Dimension X
	Set 2 = 78 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 2 & %floor% ! 6 & %floor% ! 7 & %floor% ! 8] AddFloor MainFloor, %5%, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	if[%floor% = 0] AddFloor MainFloor_Left, %5%, 0.5, -%1%, -%2%, -%1% + 23, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor MainFloor_Center, CourtFloor, 0.5, -%1% + 23, -%2%, %1% - 23, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor MainFloor_Right, %5%, 0.5, %1% - 23, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	if[%floor% = 7] AddFloor HallFloor1, %5%, 0.5, %1% - 15 + 0.5, -%2%, %1%, -%2% + 25 + 3, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 7] AddFloor HallFloor2, %5%, 0.5, -%1%, -%2%, %1% - 15 + 0.5, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 7] AddFloor HallFloor3, %5%, 0.5, %1% - 15 + 0.5, %2% - 10, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 7] AddFloor HallEntranceFloor, HallEntranceFloor, 0.5, %1% - 15 + 0.5, -%2% + 25 + 3, %1%, %2% - 10, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor MainBuildingLink, %5%, 0.5, %1%, %2% - 10, %1% + 10, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor MainBuildingLink, %5%, 0.5, %1%, -%2% + 35 + 3, %1% + 10, -%2% + 45 + 3, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% > 2 & %floor% < 7] AddFloor MainBuildingLink_Upper, %5%, 0.5, %1%, -%2% + (28 * 2), %1% + 10, -%2% + (28 * 3), %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 7] AddFloor MainBuildingLink_Upper, HallEntranceFloor, 0.5, %1%, -%2% + (28 * 2), %1% + 10, -%2% + (28 * 3), %interfloorheight%, %interfloorheight%, 0, 0, true

	DrawWalls = false, true, true, true, true, true
	if[%floor% = 8] AddFloor MainBuildingLink_Upper, ExtFacade, %interfloorheight% + 3.5, %1%, -%2% + (28 * 2), %1% + 10, -%2% + (28 * 3), %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, true

	Set ExtraFlrOffset = 0
	if[%floor% = 1] Set ExtraFlrOffset = 5.5

	if[%floor% = 1 | %floor% = 3] AddFloor MainBuildingLinkCA, ExtFacade, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %1%, -%2% + 35 + 3, %1% + 10, -%2% + 45 + 3, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %interfloorheight% + 3.5 + %ExtraFlrOffset%, 0, 0, true
	if[%floor% = 1 | %floor% = 3] AddFloor MainBuildingLinkCB, ExtFacade, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %1%, %2% - 10, %1% + 10, %2%, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %interfloorheight% + 3.5 + %ExtraFlrOffset%, 0, 0, true

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 5 & %floor% ! 7] AddFloor MainCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor MainBuildingLinkA, %7%, 0.5, %1%, -%2% + 35 + 3, %1% + 10, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor MainBuildingLinkB, %7%, 0.5, %1%, %2% - 10, %1% + 10, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 2] AddFloor MainBuildingLink_Upper, ExtFacade, 0.5, %1%, -%2% + (28 * 2), %1% + 10, -%2% + (28 * 3), %fullheight%, %fullheight%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddFloor MainBuildingLink_Upper, %7A%, 0.5, %1%, -%2% + (28 * 2), %1% + 10, -%2% + (28 * 3), %fullheight%, %fullheight%, 0, 0, true

	if[%floor% = 1] AddFloor MainBuildingLink_Lower_CA, ExtFacade, 0.5, %1%, -%2% + 35 + 3, %1% + 10, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor MainBuildingLink_Lower_CB, ExtFacade, 0.5, %1%, %2% - 10, %1% + 10, %2%, %fullheight%, %fullheight%, 0, 0, true
<EndFloors>

<Floors 0 to 1>
	#Level M1 service area
	FloorTex() #Floor Texture
	#WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddFloor WestServiceFlr, %5%, 0.5, -%1%, -%2%, -%1% + 15, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 1] AddFloor EastOfficeFlr, %5%, 0.5, %1% - 15, -30, %1%, 40, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddFloor WestServiceCei, %7%, 0.5, -%1%, -%2%, -%1% + 15, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 0] AddFloor EastOfficeCei, %7%, 0.5, %1% - 15, -30, %1%, 40, %fullheight%, %fullheight%, 0, 0, true
<EndFloors>

<Floor 9>
	Set 1 = 74 #Building Dimension X
	Set 2 = 78 #Building Dimension Z

	#Roof structure
	FloorOrientation = top
	DrawWalls = false, true, true, true, true, true
	AddFloor RoofMain, RoofTex, 2, -%1%, -%2%, %1%, %2%, 2, 2, 0, 0, true
	AddFloor RoofMid, RoofTex, 2.5, -%1% + 10, -%2% + 5, %1% - 10, %2% - 5, 4.5, 4.5, 0, 0, true
	DrawWalls = true, true, true, true, true, true
	AddFloor RoofTop, RoofTex, 3.5, -%1% + 2.5, -%2% + 2.5, %1% - 2.5, %2% - 2.5, 8, 8, 0, 0, true
<EndFloor>

#Mezzanine level 2 (M2)
<Floor 2>
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor MezzanineFlr_West, %5%, %interfloorheight%, -%1%, -%2%, -%1% + 17 + 5, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor MezzanineFlr_East, %5%, %interfloorheight%, %1% - 17 - 5, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	
	#Mezzanine railings
	WallOrientation = right
	Set WallHeight = %interfloorheight% + 0.5
	Set WallOffset = 0

	DrawWalls = true, true, true, true, true, false
	AddWall West_Rail1, %6%, 0.5, -%1% + 17 + 5, -%2%, -%1% + 17 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall West_Rail2, %6%, 0.5, -%1% + 10 + 5, %2%, -%1% + 17 + 5 - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = left
	AddWall West_Rail3, %6%, 0.5, -%1% + 10 + 5, -%2%, -%1% + 17 + 5 - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	AddWall East_Rail1, %6%, 0.5, %1% - 17 - 5 + 0.5, -%2%, %1% - 10 - 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall East_Rail2, %6%, 0.5, %1% - 17 - 5, -%2%, %1% - 17 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall East_Rail3, %6%, 0.5, %1% - 17 - 5 + 0.5, %2%, %1% - 10 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	SetAutoSize = true, false
	Set WallHeight = 3
	Set WallOffset = %interfloorheight% + 0.5
	
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall West_Rail1A_Glass, MezRailB, 0, -%1% + 17 + 5, -%2%, -%1% + 17 + 5, -70, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	AddWall West_Rail1B_Glass, MezRail, 0, -%1% + 17 + 5, -70, -%1% + 17 + 5, 70, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall West_Rail1C_Glass, MezRailB, 0, -%1% + 17 + 5, 70, -%1% + 17 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	AddWall West_Rail2_Glass, MezRailB, 0, -%1% + 10 + 5, %2%, -%1% + 17 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	WallOrientation = left
	AddWall West_Rail3_Glass, MezRailB, 0, -%1% + 10 + 5, -%2%, -%1% + 17 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true

	AddWall East_Rail1_Glass, MezRailB, 0, %1% - 17 - 5, -%2%, %1% - 10 - 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	AddWall East_Rail2A_Glass, MezRailB, 0, %1% - 17 - 5, -%2%, %1% - 17 - 5, -70, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	AddWall East_Rail2B_Glass, MezRail, 0, %1% - 17 - 5, -70, %1% - 17 - 5, 70, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall East_Rail2C_Glass, MezRailB, 0, %1% - 17 - 5, 70, %1% - 17 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	WallOrientation = right
	AddWall East_Rail3_Glass, MezRailB, 0, %1% - 17 - 5, %2%, %1% - 10 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	SetAutoSize = true, true
<EndFloor>

#Library
<Floors 4 to 5>
	WallTex() #Set wall texture
	Set WallHeight = 3.5
	Set WallOffset = %interfloorheight%

	#Entrance walls
	WallOrientation = left
	DrawWalls = true, true, true, false, true, false
	AddWall LibEnt1, LibraryEntWall, 0.75, 52 - 5, 5, %1% - 10 - 5, 5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall LibEnt2, LibraryEntWall, 0.75, 52 - 5, -22, %1% - 10 - 5, -22, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = center
	DrawWalls = true, true, true, true, true, false
	AddWall LibEnt3, LibraryEntWall, 1.5, 52 - 5, -22 + 13.5, %1% - 2.5, -22 + 13.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Library alarms
	AddWall AlarmA1, LibraryAlarm, 0, 54 - 5 - 2, 5 - 0.1, 54 - 5 - 0.1, 5, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddWall AlarmA2, LibraryAlarm, 0, 54 - 5 - 2, 5 - 6, 54 - 5, 5 - 6, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddWall AlarmA3, LibraryAlarm, 0, 54 - 5 - 2, 5 - 12, 54 - 5, 5 - 12, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true

	AddWall AlarmB1, LibraryAlarm, 0, 54 - 5 - 2, -22 + 0.1, 54 - 5, -22 + 0.1, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddWall AlarmB2, LibraryAlarm, 0, 54 - 5 - 2, -22 + 6, 54 - 5, -22 + 6, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddWall AlarmB3, LibraryAlarm, 0, 54 - 5 - 2, -22 + 12, 54 - 5, -22 + 12, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0, true
<EndFloors>

#Computer lab area
<Floor 6>
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor ComputerLab_West, %5%, %interfloorheight%, -%1%, -58, -%1% + 22 + 3, 58, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor ComputerLab_EastA, %5%, %interfloorheight%, %1% - 22 - 3, -36.5, %1%, 48, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor ComputerLab_EastB, %5%, %interfloorheight%, %1% - 15, -%2% + 25 + 3, %1%, -36.5, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7%, %5%, Blank, Blank, Blank, Blank
	AddFloor ComputerLab_Center, %5%, %interfloorheight%, -%1% + 22 + 3, -36.5, %1% - 22 - 3, 36.5, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Railings
	WallOrientation = left
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	Set 6X = CompLabRailWall

	DrawWalls = true, true, true, true, true, false
	AddWall West_Rail1, %6X%, 0.5, -%1% + 15, -58, -%1% + 22 + 3 - 0.5, -58, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall West_Rail2, %6X%, 0.5, -%1% + 22 + 3, -58, -%1% + 22 + 3, -36.5 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall West_Rail3, %6X%, 0.5, -%1% + 22 + 3, 36.5 - 0.5, -%1% + 22 + 3, 58, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall West_Rail4, %6X%, 0.5, -%1% + 15, 58, -%1% + 22 + 3 - 0.5, 58, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = left
	#AddWall East_Rail1, %6X%, 0.5, %1% - 22 - 3 + 0.5, -48, %1% - 15, -48, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#AddWall East_Rail2, %6X%, 0.5, %1% - 22 - 3, -48, %1% - 22 - 3, -36.5 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall East_Rail3, %6X%, 0.5, %1% - 22 - 3, 36.5 - 0.5, %1% - 22 - 3, 48, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall East_Rail4, %6X%, 0.5, %1% - 22 - 3 + 0.5, 48, %1% - 15, 48, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = left
	AddWall Center_Rail1, %6X%, 0.5, -%1% + 22 + 3, -36.5, %1% - 15, -36.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall Center_Rail2, %6X%, 0.5, -%1% + 22 + 3, 36.5, %1% - 22 - 3, 36.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Walls
	Set WallHeight = %height%
	Set WallOffset = %interfloorheight%
	Set 6 = CompLabWall

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall_CustomTex(CompLabLeft, 2, CompLabWallLower, CompLabWallUpper, Blank, 0.5, -%1% + 25 - 0.5, -26, %1% - 25 + 0.5, -26, 4, %WallHeight% - 4, 0, %WallOffset%, true)
	AddWall_CustomTex(CompLabFront, 2, CompLabWallLower, CompLabWallUpper, Blank, 0.5, -%1% + 25 - 0.5, -26, -%1% + 25 - 0.5, 26, 4, %WallHeight% - 4, 0, %WallOffset%, true)
	WallOrientation = right
	AddWall_CustomTex(CompLabRight, 2, CompLabWallLower, CompLabWallUpper, Blank, 0.5, %1% - 25 + 0.5, -26, %1% - 25 + 0.5, 26, 4, %WallHeight% - 4, 0, %WallOffset%, true)
	AddWall_CustomTex(CompLabBack, 2, CompLabWallLower, CompLabWallUpper, Blank, 0.5, -%1% + 25 - 0.5, 26, %1% - 25 + 0.5, 26, 4, %WallHeight% - 4, 0, %WallOffset%, true)

	WallOrientation = center
	AddWall_CustomTex(CompLabDividerA, 2, CompLabWallLower, CompLabWallUpper, Blank, 1, -%1% + 25 - 0.5, 0, %1% - 25 + 0.5, 0, 4, %WallHeight% - 4, 0, %WallOffset%, true)
	AddWall_CustomTex(CompLabDividerB, 2, CompLabWallLower, CompLabWallUpper, Blank, 1, 0, -26, 0, 26, 4, %WallHeight% - 4, 0, %WallOffset%, true)
	AddWall_CustomTex(CompLabDividerC, 2, CompLabWallLower, CompLabWallUpper, Blank, 1, -26, -26, -26, 0, 4, %WallHeight% - 4, 0, %WallOffset%, true)

	#Windows
	WindowsZ2(CompRooms_Windows1A, -31 - 0.25, -26, front, 9, 6.5, 0.5, MainWindowsB2, MainWindowsIntB, CompLabWallUpper, 0.5, 1)
	WindowsZ2(CompRooms_Windows1B, -18 + 1.25, -26, front, 13.5, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, CompLabWallUpper, 0.75, 1)
	WindowsZ2(CompRooms_Windows2A, -28, 26, back, 10, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, CompLabWallUpper, 0.5, 1)
	WindowsZ2(CompRooms_Windows2B, -15, 26, back, 10, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, CompLabWallUpper, 0.5, 1)

	#Ceilings
	Set RoomHeight = 10.5
	Set RoomCeilingHeight = %interfloorheight% + %RoomHeight%
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor CompLabCeiling, CompLabCeiling, 0.5, -%1% + 22 + 2.5, -26, %1% - 22 - 2.5, 26, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, true

	#Doors
		#Lab 1
		Set DTex = Door88
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 22 - 3 + 0.5, -26 + 0.5 + 2, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %1% - 22 - 3 + 0.5, -26 + 0.5 + 2, 3, 7, %interfloorheight%, false, 0, 0, true

		#Lab 2
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 22 - 3 + 0.5, 26 - 0.5 - 2, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %1% - 22 - 3 + 0.5, 26 - 0.5 - 2, 3, 7, %interfloorheight%, false, 0, 0, true

		#Robot Club (South)
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, -5 + 1.5, -26 + 0.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, -5 - 1.5, -26 + 0.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -5, -26 + 0.5, 6, 7, %interfloorheight%, true, 0, 0, true

		#Photo studio 1
		Set DTex = Door88Trans
		TextureOverride %DTex%_Ext, %DTex%_Int, %DTex%_Side, %DTex%_Side, %DTex%_Side, %DTex%_Side
		AddExternalDoor , , false, %DTex%_Int, 0.2, 6, 75, -45 + 3 + 1.5, -26 + 0.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%_Ext, %DTex%_Int, %DTex%_Side, %DTex%_Side, %DTex%_Side, %DTex%_Side
		AddExternalDoor , , false, %DTex%_Int, 0.2, 7, 75, -45 + 3 - 1.5, -26 + 0.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -45 + 3, -26 + 0.5, 6, 7, %interfloorheight%, true, 0, 0, true

		#Robot Club (North)
		Set DTex = Door88
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, -5 + 1.5, 26 - 0.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, -5 - 1.5, 26 - 0.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -5, 26 - 0.5, 6, 7, %interfloorheight%, true, 0, 0, true

		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, -45 + 3 + 1.5, 26 - 0.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, -45 + 3 - 1.5, 26 - 0.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -45 + 3, 26 - 0.5, 6, 7, %interfloorheight%, true, 0, 0, true

		#Robot Club (Connection doors)
		Set DTex = Door9b
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, -12.5 + 1.5, 0.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, -12.5 - 1.5, 0.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 1, -12.5, 0.5, 6, 7, %interfloorheight%, true, 0, 0, true

	#Sign holders
	Set SignOffset = %interfloorheight% + 8.5
		AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, %1% - 22 - 3 + 0.5 + 1.25, -26 + 0.5 + 2, 2.5, 0.1, %SignOffset%, true)
		AddBoxSign(Room%floorid%02_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, %1% - 22 - 3 + 0.5 + 1.25, 26 - 0.5 - 2, 2.5, 0.1, %SignOffset%, true)
		AddBoxSign(Room%floorid%03A_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, false, true, true, -5, -26 - 1.25, 2.5, 0.1, %SignOffset%, true)
		AddBoxSign(Room%floorid%03B_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, false, true, true, -45 + 3, -26 - 1.25, 2.5, 0.1, %SignOffset%, true)
		AddBoxSign(Room%floorid%04_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, false, true, true, -5, 26 + 1.25, 2.5, 0.1, %SignOffset%, true)

	#Signs
	Set SignOffset = %interfloorheight% + 8
		AddBoxSign(Room%floorid%01_Sign, SignCompLab1, SignCompLab1, WoodSign, 0.1, true, true, true, %1% - 22 - 3 + 0.5 + 1.25, -26 + 0.5 + 2, 2, 0.5, %SignOffset%, true)
		AddBoxSign(Room%floorid%02_Sign, SignCompLab2, SignCompLab2, WoodSign, 0.1, true, true, true, %1% - 22 - 3 + 0.5 + 1.25, 26 - 0.5 - 2, 2, 0.5, %SignOffset%, true)
		AddBoxSign(Room%floorid%03A_Sign, SignRobotClub, SignRobotClub, WoodSign, 0.1, false, true, true, -5, -26 - 1.25, 2, 0.5, %SignOffset%, true) #South access
		AddBoxSign(Room%floorid%03B_Sign, SignPhotoStudio1, SignPhotoStudio1, WoodSign, 0.1, false, true, true, -45 + 3, -26 - 1.25, 2, 0.5, %SignOffset%, true)
		AddBoxSign(Room%floorid%04_Sign, SignRobotClub, SignRobotClub, WoodSign, 0.1, false, true, true, -5, 26 + 1.25, 2, 0.5, %SignOffset%, true) #North access
<EndFloor>

<Floor 7>
	WallTex() #Set wall texture

	#Hall Entrance Area
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall HallEnt-Wall, %6%, 0.5, %1% - 15, -%2% + 35 + 3, %1% - 15, 43 - 3, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Doors
		Set DTex = Door9b
		Set TrimTex = Door9bSide
		Set MainZ = -8
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 14.5, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 14.5, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		AddFillerWalls %TrimTex%, 0.5, %1% - 14.5, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Set MainZ = -8 + 8
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 14.5, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 14.5, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		AddFillerWalls %TrimTex%, 0.5, %1% - 14.5, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Set MainZ = -8 - 8
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 14.5, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 14.5, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		AddFillerWalls %TrimTex%, 0.5, %1% - 14.5, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true
		
		Set MainZ = -8 - 20
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 14.5, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 14.5, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		AddFillerWalls %TrimTex%, 0.5, %1% - 14.5, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true
	
	#Exit sign
	AddBoxSign(PSHall_LinktoExit, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, true, true, true, %1% - 15 - 3.5, -8, 1.8, 0.9, %fullheight% - 0.9, true)
	AddBoxSign(PSHall_ExitSign1, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %1% - 15 - 0.01, -8 - 8, 1.8, 0.9, %interfloorheight% + 8.5, true)
	AddBoxSign(PSHall_ExitSign2, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %1% - 15 - 0.01, -8, 1.8, 0.9, %interfloorheight% + 8.5, true)
	AddBoxSign(PSHall_ExitSign3, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %1% - 15 - 0.01, -8 + 8, 1.8, 0.9, %interfloorheight% + 8.5, true)

	#Hall Sign
	Set SignHeight = 1.6
	Set SignWidth = %SignHeight% * 9
	Set SignOffset = 8.5 + %interfloorheight%

	DrawWalls = false, true, false, false, false, false
	AddWall PriscillaHallSign, PSHallSign, 0, %1% - 14.5 + 0.01, -8 - (%SignWidth% / 2), %1% - 14.5 + 0.01, -8 + (%SignWidth% / 2), %SignHeight%, %SignHeight%, %SignOffset%, %SignOffset%, 0, 0, true
<EndFloor>

<Floor 8>
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %7A%, %5%, Blank, Blank, Blank, Blank
	AddFloor HallMezzanine_South, %5%, %interfloorheight%, -%1% + 17 + 5, -%2%, %1% - 17 - 5, -%2% + 9, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7A%, %5%, Blank, Blank, Blank, Blank
	AddFloor HallMezzanine_West, %5%, %interfloorheight%, -%1%, -%2%, -%1% + 17 + 5, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7A%, %5%, Blank, Blank, Blank, Blank
	AddFloor HallMezzanine_East, %5%, %interfloorheight%, %1% - 17 - 5, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	TextureOverride %7A%, %5%, Blank, Blank, Blank, Blank
	AddFloor HallMezzanine_North, %5%, %interfloorheight%, -%1% + 17 + 5, %2% - 12, %1% - 17 - 5, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Hall mezzanine railings
	WallOrientation = right
	Set WallHeight = %interfloorheight% + 0.5
	Set WallOffset = 0

	DrawWalls = true, true, false, true, true, false
	AddWall HallMez_LeftRail, HallWall2A, 0.5, -%1% + 17 + 5, -%2% + 8.5, -%1% + 17 + 5, %2% - 12 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = left
	AddWall HallMez_RightRail, HallWall2A, 0.5, %1% - 17 - 5, -%2% + 8.5, %1% - 17 - 5, %2% - 12 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, true, true, true, false
	AddWall HallMez_BackRail, HallWall2A, 0.5, -%1% + 17 + 5, %2% - 12, %1% - 17 - 5, %2% - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	Set WallHeight = 3
	Set WallOffset = %interfloorheight% + 0.5
	SetAutoSize = true, false
	AddWall HallMez_LeftRail, HallGlassRail, 0, -%1% + 17 + 5, -%2% + 9, -%1% + 17 + 5, %2% - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall HallMez_RightRail, HallGlassRail, 0, %1% - 17 - 5, -%2% + 9, %1% - 17 - 5, %2% - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	SetAutoSize = true, true
	AddWall HallMez_BackRail, HallGlassRail2, 0, -%1% + 17 + 5, %2% - 12, %1% - 17 - 5, %2% - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 5.25, 0, true
<EndFloor>

<Floors 7 to 8>
	#Service area
	if[%floor% = 7] Set WallHeight = %height%
	if[%floor% = 7] Set WallOffset = %interfloorheight%
	if[%floor% = 8] Set WallHeight = %fullheight%
	if[%floor% = 8] Set WallOffset = 0

	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall ServiceArea_FrontMain, %6%, 0.5, -%1% + 10 + 5, -%2% + 9, %1% - 10 - 5, -%2% + 9, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Access doors
		#East
		Set DTex = ServiceDoor2
		Set MainX = 60.5 - 5
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %MainX%, -69.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -69.5, 3, 7, %interfloorheight%, true, 0, 0, true

		#West
		Set DTex = ServiceDoor2
		Set MainX = -60.5 + 5
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %MainX%, -69.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -69.5, 3, 7, %interfloorheight%, true, 0, 0, true
<EndFloors>

<Floors 0 to 8>
	Set 1 = 74 #Building Dimension X
	Set 2 = 78 #Building Dimension Z
	WallTex() #Set wall texture

	#Rear Service/Office Area
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0 | %floor% = 1 | %floor% > 3] AddWall RearService_Right_Set1, %6%, 0.5, -%1% + 10 + 5, -%2% + 35 + 3, -%1% + 10 + 5, %2% - 25 - 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% = 2] AddWall RearService_Right_Set2, %6%, 0.5, -%1% + 10 + 5, -%2% + 35 + 3 + 10, -%1% + 10 + 5, %2% - 25 - 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	WallOrientation = left
	if[%floor% ! 3 & %floor% ! 8] AddWall RearService_Front, %6%, 0.5, -%1%, -%2% + 45 + 3, -%1% + 10 + 5, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	WallOrientation = center
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 8] AddWall RearService_Divider1, %6%, 1, -%1%, 0, -%1% + 10 + 5, 0, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% ! 3 & %floor% ! 8] AddWall RearService_Divider2, %6%, 1, -%1%, 26, -%1% + 10 + 5, 26, %fullheight%, %fullheight%, 0, 0, 0, 0, true


	#Front Service/Office Area
	WallOrientation = left
	if[%floor% = 8] AddWall FrontService_LeftP, %6%, 0.5, %1% - 10 - 5, -%2% + 35 + 3, %1% - 10 - 5, %2% - 10 - 25 - 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% > 6] AddWall FrontService_LeftQ, %6%, 0.5, %1% - 10 - 5, -%2%, %1% - 10 - 5, -%2% + 25 + 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	if[%floor% < 2] AddWall PassengerElevLobby, %6%, 0.5, %1% - 10 - 5, -40, %1% - 10 - 5, -30, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	if[%floor% > 2 & %floor% < 7] AddWall FrontService_LeftA, %6%, 0.5, %1% - 10 - 5, -%2% + 35 + 3, %1% - 10 - 5, -%2% + (28 * 2), %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% > 3 & %floor% < 7] AddWall FrontService_LeftB, %6%, 0.5, %1% - 10 - 5, -%2% + (28 * 3) - 1, %1% - 10 - 5, %2% - 35 - 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% < 3] AddWall FrontService_Left, %6%, 0.5, %1% - 10 - 5, -%2% + 45 + 3, %1% - 10 - 5, %2% - 10 - 25 - 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% < 3] AddWall FrontService_Left2, %6%, 0.5, %1% - 10 - 5, -%2% + 0.5, %1% - 10 - 5, -%2% + 25 + 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	#if[%floor% ! 7] AddWall FrontService_Front, %6%, 0.5, %1% - 10 - 5, -%2% + 45 + 3, %1%, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% < 3] AddWall FrontService_FrontA, %6%, 0.5, %1% - 10 - 5, -%2% + 45 + 3, %1%, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	if[%floor% ! 1 & %floor% ! 3] AddWall FrontService_FrontB, %6%, 0.5, %1% - 10 - 5, -%2% + (28 * 3) - 1, %1% - 0.5, -%2% + (28 * 3) - 1, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	WallOrientation = right
	if[%floor% > 2 & %floor% < 7] AddWall FrontService_Back, %6%, 0.5, %1% - 10 - 5, -%2% + (28 * 2), %1%, -%2% + (28 * 2), %fullheight%, %fullheight%, 0, 0, 0, 0, true

		#Passenger elevator lobby doors
		Set DTex = Door88
		if[%floor% = 8] Set DTex = ServiceDoor2
		Set MainZ = -%2% + 45 + 1.5
		WallOrientation = right

		if[%DeterminantX% = 1 & (%floorid% = 3 | %floorid% = 4)] SetLock 3, 0
		if[%DeterminantX% = 2] SetLock 0, 0

		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 2 & %floor% < 7] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, 64 - 5 + 0.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 2 & %floor% < 7] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, 64 - 5 + 0.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% > 2 & %floor% < 7] AddFillerWalls ConnectionWall, 0.5, 64 - 5 + 0.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		SetLock 0, 0

			#Signs (Used on 2nd-5th floors)
			if[%floor% > 2 & %floor% < 7] AddBoxSign(ElevLbySign, Sign_Elev, Sign_Elev, BlackTrim, 0.1, true, true, true, %1% - 10 - 5 - 0.75, %MainZ%, 1.5, 1.5, 7.75 + %interfloorheight%, true)

			#Doors on 1st floor
			#Set DTex = Door88Trans_Ext
			Set DTex = Door88
			#Set DTexAlt = Door88Trans_Int
			Set SDTexAlt = %DTex%
			#Set SDTexAlt = Door88Trans_
			Set MainZ = -%2% + 40 + 1.5 + 1.5

			WallOrientation = left
			TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
			if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
			TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
			if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
			if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows above doors
			if[%floor% = 1] WindowsX2(PELby_Win, 64 - 5, %MainZ%, left, 8, %fullheight% - 2, -%interfloorheight% + 1, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1)



		#Office access doors (3rd-5th floors)
		Set DTex = Door88
		Set MainZ = 36.75 - 1.5
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 3 & %floor% < 7] AddDoor , , false, %DTex%, 0.2, 3, 75, 64.5 - 5, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 3 & %floor% < 7] AddDoor , , false, %DTex%, 0.2, 2, 75, 64.5 - 5, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% > 3 & %floor% < 7] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, %MainZ%, 6, 7, 0, false, 0, 0, false

		#Service elevator lobby doors
		Set DTex = ServiceDoor3
		if[%floor% = 7] Set DTex = Door9b
		if[%floor% = 8] Set DTex = ServiceDoor2
		if[%floor% > 6] Set DTexAlt = %DTex%
		if[%floor% < 7] Set DTexAlt = ServiceDoor3Trans
		Set MainZ = -%2% + 40 + 1.5 + 1.5
		if[%floor% = 8] Set MainZ = -%2% + 40 + 1.5 + 5

		if[%DeterminantY% = 1 & (%floorid% = 3 | %floorid% = 4)] SetLock 3, 0
		if[%DeterminantY% = 2] SetLock 0, 0

		#Doors on levels M2 to 7
		WallOrientation = left
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 3 & %floor% < 8] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -64 + 5 - 0.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 3 & %floor% < 8] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -64 + 5 - 0.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

		WallOrientation = left
		if[%floor% > 3 & %floor% < 8] AddFillerWalls ConnectionWall, 0.5, -64 + 5 - 0.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		SetLock 0, 0

			#Doors on 1st floor
			Set DTex = Door8
			Set DTexAlt = %DTex%
	
			WallOrientation = right
			TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
			if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, -64 + 5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
			TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
			if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -64 + 5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
			if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, -64 + 5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Signs
		if[%floor% > 3 & %floor% < 7] AddBoxSign(ServiceElevLbySign, Sign_ServiceElev, Sign_ServiceElev, BlackTrim, 0.1, true, true, true, -%1% + 10 + 5 + 0.75, %MainZ%, 1.5, 1.5, 7.75 + %interfloorheight%, true)
<EndFloors>

<Floor 1>
	#Access doors to west service area
		Set DTex = ServiceDoor3Trans
		Set DTexAlt = ServiceDoor3

		#From service elevator
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side
		AddDoor , , false, %DTex%, 0.2, 7, 75, -66.5 - (3/2), -30 + 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side
		AddDoor , , false, %DTex%, 0.2, 6, 75, -66.5 + (3/2), -30 + 0.5, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -66.5, -30 + 0.5, 6, 7, 0, true, 0, 0, false

		#From stairs
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side
		AddDoor , , false, %DTex%, 0.2, 8, 75, -66.5 - (3/2), 26 - 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side, %DTexAlt%Side
		AddDoor , , false, %DTex%, 0.2, 5, 75, -66.5 + (3/2), 26 - 0.5, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 1, -66.5, 26 - 0.5, 6, 7, 0, true, 0, 0, false
<EndFloor>

<Floor 3>
	WallTex() #Set wall texture

	#Canteen Service Area
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall CanteenService, %6%, 1, -38.5 - 11.5 + 2.5, -%2%, -38.5 - 11.5 + 2.5, %2%, %fullheight%, %fullheight%, 0, 0, 0, 0, true

		#Service access doors
		Set DTex = ServiceDoor3
		Set DTexAlt = ServiceDoor3Trans
		Set MainZ = -47.5
		WallOrientation = left
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -38.5 - 11.5 + 2.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -38.5 - 11.5 + 2.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 1, -38.5 - 11.5 + 2.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		AddBoxSign(CanteenExitSign1, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, -38 - 11.5 + 0.55 + 2.5, %MainZ%, 1.8, 0.9, %interfloorheight% + 7.2, true)

		Set MainZ = 47.5
		WallOrientation = left
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -38.5 - 11.5 + 2.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -38.5 - 11.5 + 2.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 1, -38.5 - 11.5 + 2.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		AddBoxSign(CanteenExitSign2, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, -38 - 11.5 + 0.55 + 2.5, %MainZ%, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloor>

<Function SoutheastUtility>	
	#Office (levels 1-M)/Southeast utility room (other levels)
		Set DTex = ServiceDoor1
		if[%floor% = 2] Set DTex = Door88
		if[%floor% = 0] Set DTex = Door8

		Set DWidth = 2.75
		if[%floor% < 3] Set DWidth = 3
		
		Set MainZ = -65.5 + 1.5 #Answer = -64
		if[%floor% > 6] Set MainZ = -65.5 + 9.5 + 1.5 - 3.5 #Answer: -58
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + (%DWidth%/2), %DWidth%, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - (%DWidth%/2), %DWidth%, 7, %interfloorheight%, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, %DWidth% * 2, 7, %interfloorheight%, false, 0, 0, true
<EndFunction>

<Floors 0 to 2>
	SoutheastUtility()
<EndFloors>

<Floors 0 to 8>
	#Perimeter walls
	WallTex() #Set wall texture
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

	Set FacadeTex = ExtFacade

	WallOrientation = Left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %FacadeTex%, %6%, Blank, Blank, Blank, Blank
	if[%floor% > 2 & %floor% ! 5 & %floor% ! 6] AddWall FrontFacade-Main, %FacadeTex%, 0.5, -%1% + 10 + 5, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %FacadeTex%, %6%, Blank, Blank, Blank, Blank
	if[%floor% = 5] AddWall FrontFacade-Main3, %FacadeTex%, 0.5, -%1% + 10 + 5, -%2%, %1%, -%2%, %fullheight% + Floor(5).FullHeight, %fullheight% + Floor(5).FullHeight, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, false, false, false, false, false
	AddWall LeftFacadeExt, %FacadeTex%, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = false, true, false, false, false, false
	AddWall LeftFacadeInt, %6%, 0.5, -%1%, -%2% + 35 + 3, -%1%, %2% - 25 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = true, true, false, false, false, false
	Set AdditionalOffset = 0
	if[%floor% = 0 | %floor% = 2] Set AdditionalOffset = 1

	TextureOverride %6%, %FacadeTex%, %6%, %6%, %6%, %6%
	if[%floor% < 3] AddWall RightFacadeExt-X1, %6%, 0.5, %1%, -40 + %AdditionalOffset%, %1%, -30 - %AdditionalOffset%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
	TextureOverride %6%, %FacadeTex%, %6%, %6%, %6%, %6%
	if[%floor% < 3] AddWall RightFacadeExt-X2, %6%, 0.5, %1%, %2% - 10 + %AdditionalOffset%, %1%, %2% - %AdditionalOffset%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = false, true, false, false, false, false
	if[%floor% < 3] AddWall RightFacadeExt-Y1, %FacadeTex%, 0.5, %1%, -%2%, %1%, -%2% + 35 + 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% < 3] AddWall RightFacadeExt-Y2, %FacadeTex%, 0.5, %1%, -%2% + 45 + 3, %1%, %2% - 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeExt-Z1, %FacadeTex%, 0.5, %1%, -%2%, %1%, -%2% + (28 * 2), %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeExt-Z2, %FacadeTex%, 0.5, %1%, -%2% + (28 * 3), %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 7] AddWall RightFacadeExt-Z3, %FacadeTex%, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, false, false, false, false, false
	if[%floor% > 7] AddWall RightFacadeInt1, %6%, 0.5, %1%, -%2%, %1%, -%2% + 25 + 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 7] AddWall RightFacadeInt2A, %6%, 0.5, %1%, -%2% + 35 + 3, %1%, 43 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 7] AddWall RightFacadeInt2B, %6%, 0.5, %1%, 68, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeInt1, %6%, 0.5, %1%, -%2%, %1%, -%2% + 25 + 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeInt2, %6%, 0.5, %1%, -%2% + 35 + 3, %1%, -%2% + (28 * 2), %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeInt3A, %6%, 0.5, %1%, -%2% + (28 * 3), %1%, 43 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddWall RightFacadeInt3B, %6%, 0.5, %1%, 68, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% < 3] AddWall RightFacadeInt1, %6%, 0.5, %1%, -%2%, %1%, -%2% + 25 + 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% < 3] AddWall RightFacadeInt2A, %6%, 0.5, %1%, -%2% + 45 + 3, %1%, 43 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#if[%floor% < 3] AddWall RightFacadeInt2B, %6%, 0.5, %1%, 68, %1%, %2% - 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, false, false, false, false
	#TextureOverride %6%, %FacadeTex%, Blank, Blank, Blank, Blank
	#if[%floor% > 2] AddWall BackFacade-Main, %FacadeTex%, 0.5, -%1% + 10 + 5, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	TextureOverride %6%, %FacadeTex%, Blank, Blank, Blank, Blank
	if[%floor% > 2 & %floor% ! 5 & %floor% ! 6] AddWall BackFacade-Main, %FacadeTex%, 0.5, -%1% + 10 + 5, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %6%, %FacadeTex%, Blank, Blank, Blank, Blank
	if[%floor% = 5] AddWall BackFacade-Main3, %FacadeTex%, 0.5, -%1% + 10 + 5, %2%, %1%, %2%, %fullheight% + Floor(5).FullHeight, %fullheight% + Floor(5).FullHeight, %WallOffset%, %WallOffset%, 0, 0, true


	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall FrontFacade-Left, %FacadeTex%, 0.5, -%1%, -%2%, -%1% + 10 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% < 3] AddWall FrontFacade-Right, %FacadeTex%, 0.5, %1% - 10 - 5, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = false, true, true, false, false, false
	if[%floor% < 3] AddWall FrontFacade-RightInt, %6%, 0.5, %1% - 10 - 5, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall BackFacade-Left, %FacadeTex%, 0.5, -%1%, %2%, -%1% + 10 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, true, false, false, false
	TextureOverride %6%, %FacadeTex%, %6%, %6%, %6%, %6%
	if[%floor% < 3] AddWall BackFacade-Right, %6%, 0.5, %1% - 10 - 5, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Windows and walls at connection areas
	Set 1 = 74 #Building Dimension X
	Set 2 = 78 #Building Dimension Z
	if[%floor% > 2 & %floor% < 8] LinkArea(-%2% + 56, -%2% + 84, %FacadeTex%)
	if[%floor% = 0 | %floor% = 2] LinkArea(-%2% + 35 + 3, -%2% + 45 + 3, %FacadeTex%)
	if[%floor% = 0 | %floor% = 2] LinkArea(%2% - 10, %2%, %FacadeTex%)

	#North storage
	Set WallHeight = %height%
	Set WallOffset = 0
	if[%floor% = 6] Set WallHeight = %fullheight%
	if[%floor% = 6] Set WallOffset = -%interfloorheight%

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 2] AddWall Storage, %6%, 0.5, %1% - 10 - 5, %2% - 10, %1% - 10 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Doors
		Set DTex = Door9b
		if[%floor% < 4] Set DTex = ServiceDoor3
		if[%floor% > 6] Set DTex = ServiceDoor2
		Set MainZ = %2% - 5
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 2 & %floor% ! 6] AddDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 2 & %floor% ! 6] AddDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - 1.5, 3, 7, 0, 0, 0

		if[%floor% > 2 & %floor% ! 6] AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 6, 7, 0, false, 0, 0, false

	#South storage
		#Doors
		#Set DTex = Door9b
		#if[%floor% < 3] Set DTex = ServiceDoor3
		#Set MainZ = -%2% + 50
		#WallOrientation = left
		#TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		#if[%floor% > 2 & %floor% < 7] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		#TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		#if[%floor% > 2 & %floor% < 7] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

		#if[%floor% > 2 & %floor% < 7] AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

	#Southeast utility room
		if[%floor% > 6] SoutheastUtility()
<EndFloors>

<Floors 0 to 2>
	#These doors were added to minimize fire hazard, as well as to lock out access to certain areas at night.
	#Elevator lobby divider doors (Near Matrix Building's service elevator)
		Set DTex = Door8
		#Set DTexAlt = Door88Trans_Int
		Set SDTexAlt = %DTex%
		Set MainZ = -%2% + 40 + 1.5 + 1.5

		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %1% - 0.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %1% - 0.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %1% - 0.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

	#Hallway divider doors (Near Matrix Building's passenger elevators)
		Set MainZ = 72.375
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %1% - 0.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %1% - 0.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %1% - 0.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloors>

<Floor 8>
	#Hall service area
		#Room E1
			#Closest to Stairwell 2 (Main Stairwell)
		Set DTex = ServiceDoor1
		Set MainZ = 24
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + (2.75/2), 2.75, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - (2.75/2), 2.75, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 2.75 * 2, 7, 0, false, 0, 0, false

		#Room E2 (South)
			#Position changed due to the addition of Machine Room Access Stairs (East)
		Set DTex = ServiceDoor1
		Set MainZ = -13.5 + 1
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + (2.75/2), 2.75, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - (2.75/2), 2.75, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 2.75 * 2, 7, 0, false, 0, 0, false

		#Room E2 (North)
			#Added due to the addition of Machine Room Access Stairs (East)
		Set DTex = ServiceDoor3
		Set MainZ = 5 - 3.5
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 4, 75, 64 - 5, %MainZ% + (3/2), 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 1, 75, 64 - 5, %MainZ% - (3/2), 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 64 - 5, %MainZ%, 3 * 2, 7, 0, false, 0, 0, false
		
		#Room W1 (North)
		Set DTex = ServiceDoor1
		Set MainZ = 10 + 3.5
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, -64 + 5, %MainZ% + (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -64 + 5, %MainZ% - (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -64 + 5, %MainZ%, 2.75 * 2, 7, %interfloorheight%, false, 0, 0, true

		#Room W1 (South)
		Set DTex = ServiceDoor1
		Set MainZ = 10 - 3.5
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, -64 + 5, %MainZ% + (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -64 + 5, %MainZ% - (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -64 + 5, %MainZ%, 2.75 * 2, 7, %interfloorheight%, false, 0, 0, true
		
		#Room W1 (Far South)
			#Added due to the addition of Machine Room Access Stairs (East)
		Set DTex = ServiceDoor2
		Set MainZ = -13.5 + 1
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, -64 + 5, %MainZ% + (3/2), 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -64 + 5, %MainZ% - (3/2), 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -64 + 5, %MainZ%, 3 * 2, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

<Floors 0 to 7>
	#Office (level M2)/Northwest utility room (levels 1, 3-4, and 6)/Photo studio 2 (level 5)
		Set DTex = Door88
		if[%floor% = 0] Set DTex = ServiceDoor1
		if[%floor% = 2] Set DTex = Door88
		if[%floor% > 2 & %floor% ! 6] Set DTex = ServiceDoor3
		if[%floor% = 6] Set DTex = Door88Trans

		Set DTexAlt = %DTex%
		Set DTexAlt2 = %DTex%
		if[%floor% = 6] Set DTexAlt = Door88Trans_Ext
		if[%floor% = 6] Set DTexAlt2 = Door88Trans_Int

		Set SDTexAlt = %DTex%
		if[%floor% = 6] Set SDTexAlt = Door88Trans_

		Set MainZ = 40 - 1.5
		if[%floor% = 0] Set MainZ = 29.75
		WallOrientation = right
		TextureOverride %DTexAlt2%, %DTexAlt%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% > 1 & %floor% ! 3] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, -64 + 5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt2%, %DTexAlt%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% > 1 & %floor% ! 3] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -64 + 5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% ! 1 & %floor% ! 3] AddFillerWalls ConnectionWall, 0.5, -64 + 5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		
		WallOrientation = left
		TextureOverride %DTexAlt2%, %DTexAlt%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -64 + 4.5, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt2%, %DTexAlt%, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side, %SDTexAlt%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -64 + 4.5, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, -64 + 4.5, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloors>

<Floor 7>
	#Hall lounge area
		Set DTex = Door88
		Set LoungeDX = %1% - 7.5
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %LoungeDX% + 1.5, 5.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %LoungeDX% - 1.5, 5.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %LoungeDX%, 5.5, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

<Floors 0 to 7>
	WallTex() #Set wall texture
	#Windows
	#if[%floor% = 0] Set TileZ = 2
	Set TileZ = 1
	Set WinHeight = %height% - 4.5
	if[%floor% = 1] Set WinHeight = %height% - 2
	if[%floor% = 7] Set WinHeight = Floor(6).Height - 4.5

	Set WindowsOffset = 3.5
	if[%floor% = 1] Set WindowsOffset = 1

	Set ExtraRestroomWinOffset = 0
	if[%floor% = 0] Set ExtraRestroomWinOffset = -2

	#Left
	WindowsX2(LeftWindows1, -%1%, 36.75 + 2.5 - 1.5, left, 15, %WinHeight%, %WindowsOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.75, %TileZ%)
	if[%floor% ! 1 & %floor% ! 3] WindowsX2(LeftWindows2A, -%1%, 13, left, 20, 2, 7.5 + %ExtraRestroomWinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1, 1)
	if[%floor% ! 1 & %floor% ! 3] WindowsX2(LeftWindows3A, -%1%, -13, left, 20, 2, 7.5 + %ExtraRestroomWinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1, 1)
	if[%floor% = 1] WindowsX2(LeftVents2, -%1%, 13, left, 20, %WinHeight%, %WindowsOffset%, VentsExt, VentsInt, %6%, 4, 1)
	if[%floor% = 1] WindowsX2(LeftVents3, -%1%, -13, left, 20, %WinHeight%, %WindowsOffset%, VentsExt, VentsInt, %6%, 4, 1)
	if[%floor% = 3] WindowsX2(LeftWindows2B, -%1%, 13, left, 20, %WinHeight%, %WindowsOffset%, MainWindowsB, MainWindowsIntB, %6%, 1, 1)
	if[%floor% = 3] WindowsX2(LeftWindows3B, -%1%, -13, left, 20, %WinHeight%, %WindowsOffset%, MainWindowsB, MainWindowsIntB, %6%, 1, 1)
	WindowsX2(LeftWindows4, -%1%, -38 + 3, left, 8, %WinHeight%, %WindowsOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, %TileZ%)

	#Right
	WindowsX2(RightWindows1, %1%, 36.75 - 2, right, 6, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.25, %TileZ%)
	WindowsX2(RightWindows2, %1%, 18.25, right, 15, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.75, %TileZ%)
	if[%floor% < 3] WindowsX2(RightWindows3A, %1%, -%2% + 70, right, 20, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsB, %6%, 1, %TileZ%)
	if[%floor% > 2] WindowsX2(RightWindows3B, %1%, -%2% + 43 + 3 - 1.5, right, 8, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, %TileZ%)
	WindowsX2(RightWindows4, %1%, -64.375 + 1.5, right, 20, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsB, %6%, 1, %TileZ%)

		#Sports Department
		if[%floor% = 1] WindowsX2(SportWindows1, 59, 36.75 - 2, left, 6, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsIntB, %6%, 0.25, %TileZ%)
		if[%floor% = 1] WindowsX2(SportWindows2, 59, 18.25, left, 15, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsIntB, %6%, 0.75, %TileZ%)
		if[%floor% = 1] WindowsX2(SportWindows3, 59, -%2% + 70, left, 20, %WinHeight%, %WindowsOffset%, MainWindowsIntB, MainWindowsIntB, %6%, 1, %TileZ%)
<EndFloors>

<Floors 3 to 8>
	WallTex() #Set wall texture
	Set LibraryWindowHeight = Floor(5).Height + Floor(6).FullHeight - 2
	Set WinHeight = %height% - 4.5
	if[%floor% = 8] Set WinHeight = Floor(7).Height - 4.5
	Set WinOffset = 3.5
	if[%floor% = 8] Set WinOffset = 1
	
	#Windows
	#Front
	if[%floor% ! 5 & %floor% ! 6 & %floor% ! 8] WindowsZ2(FrontWindows1, -51 + 10 - 7.5, -%2%, front, 15, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.75, 1)
	if[%floor% ! 5 & %floor% ! 6] WindowsZ2(FrontWindows2, -18.5, -%2%, front, 30, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1.5, 1)
	if[%floor% ! 5 & %floor% ! 6] WindowsZ2(FrontWindows3, 18.5, -%2%, front, 30, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1.5, 1)
	if[%floor% ! 5 & %floor% ! 6 & %floor% ! 8] WindowsZ2(FrontWindows4, 51 - 10 + 7.5, -%2%, front, 15, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.75, 1)
	if[%floor% = 5] WindowsZ2(FrontWindows1, -51 + 10 - 7.5, -%2%, front, 15, %LibraryWindowHeight%, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, 3)
	if[%floor% = 5] WindowsZ2(FrontWindows2, -18.5, -%2%, front, 30, %LibraryWindowHeight%, 1, MainWindowsB, MainWindowsIntB, %6%, 1.5, 3)
	if[%floor% = 5] WindowsZ2(FrontWindows3, 18.5, -%2%, front, 30, %LibraryWindowHeight%, 1, MainWindowsB, MainWindowsIntB, %6%, 1.5, 3)
	if[%floor% = 5] WindowsZ2(FrontWindows4, 51 - 10 + 7.5, -%2%, front, 15, %LibraryWindowHeight%, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, 3)

	#Back
	if[%floor% ! 5 & %floor% ! 6 & %floor% ! 8] WindowsZ2(BackWindows1, -51 + 10 - 7.5, %2%, back, 15, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.75, 1)
	if[%floor% ! 5 & %floor% ! 6] WindowsZ2(BackWindows2, -18.5, %2%, back, 30, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 1.5, 1)
	if[%floor% ! 5 & %floor% ! 6] WindowsZ2(BackWindows3, 18.5, %2%, back, 30, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 1.5, 1)
	if[%floor% ! 5 & %floor% ! 6 & %floor% ! 8] WindowsZ2(BackWindows4, 51 - 10 + 7.5, %2%, back, 15, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.75, 1)
	if[%floor% = 5] WindowsZ2(BackWindows1, -51 + 10 - 7.5, %2%, back, 15, %LibraryWindowHeight%, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, 3)
	if[%floor% = 5] WindowsZ2(BackWindows2, -18.5, %2%, back, 30, %LibraryWindowHeight%, 1, MainWindowsIntB, MainWindowsB, %6%, 1.5, 3)
	if[%floor% = 5] WindowsZ2(BackWindows3, 18.5, %2%, back, 30, %LibraryWindowHeight%, 1, MainWindowsIntB, MainWindowsB, %6%, 1.5, 3)
	if[%floor% = 5] WindowsZ2(BackWindows4, 51 - 10 + 7.5, %2%, back, 15, %LibraryWindowHeight%, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, 3)
<EndFloors>

<Floor 8>
	Set WinHeight = Floor(7).Height - 4.5
	Set WinOffset = Floor(7).Height - 2

	#Extra windows
	WindowsZ2(FrontWindows2A, -18.5, -%2%, front, 30, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1.5, 1)
	WindowsZ2(FrontWindows3A, 18.5, -%2%, front, 30, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 1.5, 1)
	WindowsZ2(BackWindows2A, -18.5, %2%, back, 30, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 1.5, 1)
	WindowsZ2(BackWindows3A, 18.5, %2%, back, 30, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 1.5, 1)

	#Front vents
	WindowsZ2(FrontVents-L, -51 + 10 - 7.5, -%2%, front, 15, %WinHeight%, 1, VentsExt, VentsInt, %6%, 3, 1)
	WindowsZ2(FrontVents-R, 51 - 10 + 7.5, -%2%, front, 15, %WinHeight%, 1, VentsExt, VentsInt, %6%, 3, 1)

	#Rear vents
	WindowsZ2(RearVents-L, -51 + 10 - 7.5, %2%, back, 15, %WinHeight%, 1, VentsInt, VentsExt, %6%, 3, 1)
	WindowsZ2(RearVents-R, 51 - 10 + 7.5, %2%, back, 15, %WinHeight%, 1, VentsInt, VentsExt, %6%, 3, 1)
<EndFloor>

<Floor 3>
	#Canteen Service Area - Filler next to windows
	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	AddWall CanteenServiceXS, CanteenWall3, 1 + 0.2, -38.5 - 11.5 + 2.5 - 0.1, -%2%, -38.5 - 11.5 + 2.5 - 0.1, -%2% + 0.6, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	DrawWalls = true, true, true, false, false, false
	AddWall CanteenServiceXN, CanteenWall3, 1 + 0.2, -38.5 - 11.5 + 2.5 - 0.1, %2% - 0.6, -38.5 - 11.5 + 2.5 - 0.1, %2%, %fullheight%, %fullheight%, 0, 0, 0, 0, true
<EndFloor>

<Floors 3 to 6>
	WallTex() #Set wall texture

	#Windows near entrance area
	if[%floor% ! 3] WindowsX2(RightWindows2A, %1% - 10 - 5, 18.25 - 7.5 + 10, left, 20, %height% - 4.5, 3.5, MainWindowsIntB, MainWindowsIntB, %6%, 1, %TileZ%)

	#Entrance area
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall AnnexEntrance, %6%, 0.5, %1%, -21, %1%, 5, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	WindowsX2(AnnexEnt_Windows1, %1%, -8, right, 19, %height% - 8, 7.5, MainWindowsIntB, MainWindowsIntB, %6%, 1.5, 1)
	WindowsX2(AnnexEnt_Windows2, %1%, -8, right, 6.5, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1)

		#Access point 1
		Set MainZ = -8 + 6.5
		WallOrientation = right
		TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
		AddExternalDoor , , false, Door88Trans_Ext, 0.2, 3, 75, %1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
		AddExternalDoor , , false, Door88Trans_Ext, 0.2, 2, 75, %1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %1%, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Access point 2
		Set MainZ = -8 - 6.5
		WallOrientation = right
		TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
		AddExternalDoor , , false, Door88Trans_Ext, 0.2, 3, 75, %1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
		AddExternalDoor , , false, Door88Trans_Ext, 0.2, 2, 75, %1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %1%, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		#Exit signs
		Set SignPositionX = %1% - 15 - 5
		if[%floor% = 4 | %floor% = 5] Set SignPositionX = 42.5
		Set SignPositionZ = -8
		if[%floor% = 4 | %floor% = 5] Set SignPositionZ = -4

		AddBoxSign(Annex_LinktoExit, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, true, true, true, %SignPositionX%, %SignPositionZ%, 1.8, 0.9, %fullheight% - 0.9, true)
		AddBoxSign(Annex_ExitSign1, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %1% - 0.5 - 0.01, -8 + 6.5, 1.8, 0.9, %interfloorheight% + 7, true)
		AddBoxSign(Annex_ExitSign2, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %1% - 0.5 - 0.01, -8 - 6.5, 1.8, 0.9, %interfloorheight% + 7, true)
<EndFloors>

<Floors 0 to 2>
	#Room doors (Eastern offices)
		Set DTex = Door8
		if[%floor% = 2] Set DTex = Door88
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 2] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, 64.5 - 5, 43 - 2 - 3, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 2] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, 43 - 2 - 3, 3, 7, %interfloorheight%, false, 0, 0, true

		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 2] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, 64.5 - 5, 5.25 + 2.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 2] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, 5.25 + 2.5, 3, 7, %interfloorheight%, false, 0, 0, true

		#Doors to Sports Department
		Set DTex = Door88
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, 64.5 - 5, 10.5 - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, 64.5 - 5, 10.5 + 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, 10.5, 2 * 3, 7, %interfloorheight%, false, 0, 0, true

		WallOrientation = right
		Set DTex = Door8
		if[%floor% = 2] Set DTex = Door88
		
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, 64.5 - 5, 5.25 - 2.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, 5.25 - 2.5, 3, 7, %interfloorheight%, false, 0, 0, true

		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 2] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, 64.5 - 5, -30.5 + 3, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 2] AddFillerWalls ConnectionWall, 0.5, 64.5 - 5, -30.5 + 3, 3, 7, %interfloorheight%, false, 0, 0, true
<EndFloors>

#Sign holders
<Floors 0 to 2>
	Set SignOffset = %interfloorheight% + 8.5

	#East side
	if[%floor% ! 1] AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, 64 - 5 - 1.25, -65.5 + 1.5, 2.5, 0.1, %SignOffset%, true)
	if[%floor% ! 1] AddBoxSign(Room%floorid%02_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, 64 - 5 - 1.25, 5.25 - 2.5, 2.5, 0.1, %SignOffset%, true)
	if[%floor% = 0] AddBoxSign(SportDept_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, 64 - 5 - 1.25, 10.5, 2.5, 0.1, %SignOffset%, true)
	if[%floor% = 2] AddBoxSign(Room%floorid%03_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, 64 - 5 - 1.25, 43 - 2 - 3, 2.5, 0.1, %SignOffset%, true)

	#West side
	if[%floor% = 2] AddBoxSign(Room%floorid%04_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -64 + 5 + 1.25, 40 - 1.5, 2.5, 0.1, %SignOffset%, true)
<EndFloors>

<Floor 6>
	#East side
	AddBoxSign(CompTeachers'RM_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, 64 - 5 - 1.25, 36.75 - 1.5, 2.5, 0.1, %SignOffset%, true)

	#West side
	AddBoxSign(Room%floorid%05_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -64 + 5 + 1.25, 40 - 1.5, 2.5, 0.1, %SignOffset%, true)
<EndFloor>

#Room signs
<Floor 0>
	Set SignOffset = %interfloorheight% + 8

	#East side
	AddBoxSign(Room%floorid%01_Sign, SignLockerRoom, SignLockerRoom, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, -65.5 + 1.5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%02_Sign, SignSportsDept, SignSportsDept, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, 10.5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%03_Sign, SignSportEquipmentRoom, SignSportEquipmentRoom, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, 5.25 - 2.5, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 2>
	Set SignOffset = %interfloorheight% + 8

	#East side
	AddBoxSign(Room%floorid%01_Sign, SignAudioVisualDept, SignAudioVisualDept, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, -65.5 + 1.5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%02_Sign, SignPurchasingDept, SignPurchasingDept, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, 43 - 2 - 3, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%03_Sign, SignBuildingDept, SignBuildingDept, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, 5.25 - 2.5, 2, 0.5, %SignOffset%, true)

	#West side
	AddBoxSign(Room%floorid%04_Sign, SignCanteenManagement, SignCanteenManagement, WoodSign, 0.1, true, true, true, -64 + 5 + 1.5, 40 - 1.5, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 6>
	Set SignOffset = %interfloorheight% + 8

	#East side
	AddBoxSign(CompTeachers'RM, SignCompTeachers, SignCompTeachers, WoodSign, 0.1, true, true, true, 64 - 5 - 1.5, 36.75 - 1.5, 2, 0.5, %SignOffset%, true)

	#West side
	AddBoxSign(Room%floorid%05_Sign, SignPhotoStudio2, SignPhotoStudio2, WoodSign, 0.1, true, true, true, -64 + 5 + 1.5, 40 - 1.5, 2, 0.5, %SignOffset%, true)
<EndFloor>

#Restrooms
<Function Restrooms>
	#Ceiling
	Set RestroomHeight = 10.5
	if[%floor% = 0] Set RestroomHeight = 8.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor DroppedCeiling, DropCeiling, 0.5, -%1%, -32.5 + 3, -%1% + 10 + 5, 26, %RestroomHeight%, %RestroomHeight%, 0, 0, false

		#Restroom doors
		Set Texture = Door9b
		if[%floor% = 0] Set Texture = Door8
		if[%floor% = 2] Set Texture = ServiceDoor2
		if[%floor% = 7] Set Texture = Door6
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 4, 75, -%1% + 9.5 + 5, 0 - 2.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 9.5 + 5, 0 - 2.5, 3, 7, %interfloorheight%, false, 0, 0, true
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 1, 75, -%1% + 9.5 + 5, 0 + 2.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 9.5 + 5, 0 + 2.5, 3, 7, %interfloorheight%, false, 0, 0, true		

		#Restroom signs
		DrawWalls = false, true, false, false, false, false
		AddWall RestroomSign1, Sign_RestroomW, 0, -64 + 0.001 + 5, (0 - 5) - 0.25, -64 + 0.001 + 5, (0 - 5) + 0.25, 1, 1, 4.5 + %interfloorheight%, 4.5 + %interfloorheight%, 0, 0, true
		AddWall RestroomSign2, Sign_RestroomM, 0, -64 + 0.001 + 5, (0 + 5) - 0.25, -64 + 0.001 + 5, (0 + 5) + 0.25, 1, 1, 4.5 + %interfloorheight%, 4.5 + %interfloorheight%, 0, 0, true
		if[%floor% ! 0] AddBoxSign(MainRestroomSign, Sign_Restroom, Sign_Restroom, BlackTrim, 0.1, true, true, true, -64 + 0.75 + 5, 0, 1.5, 1.5, 7.75 + %interfloorheight%, true)
		if[%floor% = 0] AddBoxSign(MainRestroomSign, Sign_Restroom, Sign_Restroom, BlackTrim, 0.1, true, true, true, -64 + 0.75 + 5, 0, 1.5, 1.5, 1 + 7.75 + %interfloorheight%, true)
<EndFunction>

<Floors 0 to 7>
	if[%floor% ! 1 & %floor% ! 3] Restrooms()
<EndFloors>

#########################################################################

#Building sign

<Floor 3>
	DrawWalls = true, false, false, false, false, false
	AddWall BldgSignFront, StudentCenter, 0, 0 - (5*4/2), -78 - 0.01, 0 + (5*4/2), -78 - 0.01, 5, 5, 0, 0, 0, 0, true

	DrawWalls = false, true, false, false, false, false
	AddWall BldgSignBack, StudentCenter2, 0, 0 - (5*4/2), 78 + 0.01, 0 + (5*4/2), 78 + 0.01, 5, 5, 0, 0, 0, 0, true
<EndFloor>

#########################################################################

#Supports
<Floors 0 to 8>
	#Set Values
	Set 1 = 74 #Building Dimension X
	Set 2 = 78 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 37 #Distance between supports X
	Set DistanceZ = 26 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%
	Set ShowTop = false
	#--------------------
	#Corner Supports
	#CreateWallBox2 External, SupportNW, %6A%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportNE, %6A%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportSW, %6A%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportSE, %6A%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#--------------------
	#North Supports
	if[%floor% > 2] CreateWallBox2 External, SupportN1, %6A%, -%1% + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2] CreateWallBox2 External, SupportN2, %6A%, -%1% + (%DistanceX% * 2), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2] CreateWallBox2 External, SupportN3, %6A%, -%1% + (%DistanceX% * 3), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#South Supports
	if[%floor% > 2] CreateWallBox2 External, SupportS1, %6A%, -%1% + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2] CreateWallBox2 External, SupportS2, %6A%, -%1% + (%DistanceX% * 2), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2] CreateWallBox2 External, SupportS3, %6A%, -%1% + (%DistanceX% * 3), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#West Supports
	#CreateWallBox2 External, SupportW1, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW2, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW3, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW4, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 4), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportW5, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 5), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#East Supports
	#CreateWallBox2 External, SupportE1, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE2, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE3, %6A%, %1% - 1.25, 7, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE4, %6A%, %1% - 1.25, 29.5, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportE5, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 5), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#--------------------
	#Inner Supports
	#Row A
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIA1, %6A%, -%1% + (%DistanceX% * 1), -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIA2, %6A%, -%1% + (%DistanceX% * 2), -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIA3, %6A%, -%1% + (%DistanceX% * 3), -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row B
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIB1, %6A%, -%1% + (%DistanceX% * 1), -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIB2, %6A%, -%1% + (%DistanceX% * 2), -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIB3, %6A%, -%1% + (%DistanceX% * 3), -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row C
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIC1, %6A%, -%1% + (%DistanceX% * 1), -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIC2, %6A%, -%1% + (%DistanceX% * 2), -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIC3, %6A%, -%1% + (%DistanceX% * 3), -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row D
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportID1, %6A%, -%1% + (%DistanceX% * 1), -%2% + (%DistanceZ% * 4), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportID2, %6A%, -%1% + (%DistanceX% * 2), -%2% + (%DistanceZ% * 4), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportID3, %6A%, -%1% + (%DistanceX% * 3), -%2% + (%DistanceZ% * 4), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row E
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIE1, %6A%, -%1% + (%DistanceX% * 1), -%2% + (%DistanceZ% * 5), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIE2, %6A%, -%1% + (%DistanceX% * 2), -%2% + (%DistanceZ% * 5), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% > 2 & %floor% < 7] CreateWallBox2 External, SupportIE3, %6A%, -%1% + (%DistanceX% * 3), -%2% + (%DistanceZ% * 5), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloor>

<Floor 3>
	Set SupportHeight = %interfloorheight% + 3
	Set SupportOffset = -%interfloorheight% - 3
	Set SupportHeight-Alt = %interfloorheight% + 2
	Set SupportOffset-Alt = -%interfloorheight% - 2
	Set SupportTex = ColumnTex
	Set SupportTex2 = ColumnTex2

	#Supporting beams for levels 2-7
	CreateWallBox2 External, BeamA, %SupportTex%, 0, -%2% + 1.25, 118, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamA1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 0.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamB, %SupportTex%, 0, -%2% + (%DistanceZ% * 1), 118, 2.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamB1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 1.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true

	CreateWallBox2 External, BeamB1L, LobbyWall2, -%1% + 10 - 1 + 5, -38 + 3, 2, 10, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamB1R, LobbyWall2, %1% - 10 + 1 - 5, -38 + 3, 2, 10, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true


	CreateWallBox2 External, BeamC, %SupportTex%, 0, -%2% + (%DistanceZ% * 2), 118, 2.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamC1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 2.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamD, %SupportTex%, 0, -%2% + (%DistanceZ% * 3), 118, 2.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamD1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 3.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamE, %SupportTex%, 0, -%2% + (%DistanceZ% * 4), 118, 2.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamE1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 4.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamF, %SupportTex%, 0, -%2% + (%DistanceZ% * 5), 118, 2.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamF1, %SupportTex2%, 0, -%2% + (%DistanceZ% * 5.5), 118, 2, %SupportHeight-Alt%, %SupportOffset-Alt%, 0, 0, false, true, false, true
	CreateWallBox2 External, BeamG, %SupportTex%, 0, %2% - 1.25, 118, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true

	CreateWallBox2 External, BeamGR, LobbyWall2, %1% - 10 + 1 - 5, 68 + (9.5/2), 2, 9.5, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, true
<EndFloor>

#########################################################################

#Stairwells
#Northwest Fire Exit Stairwell
CreateStairwell 1, -66.5, 65.5 - 1.5, 0, 8
CutStairwell 1, -7, -13.5, 7, 13.5, 0, 5
ShowFullStairs 1 = always

<Floors 0 to 8>
	Set 21 = -66.5 #Center X
	Set 22 = 65.5 - 1.5 #Center Z
	Set 23 = 7 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall_Center, 1, 0, -7, 0, 7, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
	WallTex()
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, 0, true, false, true, false, false, false, true)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	if[%floor% < 8] WindowsX2(Stair%25%Windows, %21% - %23% - 0.5, %22%, left, 14, %height% - 2, 1, MainWindowsB, MainWindowsIntB, StairsWall_Center, 0.75, %WindowTZ%)

	#Stairs
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, Stairs, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, Stairs, front, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, Stairs, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 30, 0, 0

	#Typical stairs span, levels M2 to 7
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, LowerStairs, Stairs, front, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, UpperStairs, Stairs, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingMiddle, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 30, %26% * 30, false, false, 0, 0

	if[%floor% > 1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, 0, 0, false, false, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, -7, %23% - 6.5, -7, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1 & %floor% < 8] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover, StairsFloor, 0, -%23%, -7, %23% - 6.5, -7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Railing, StairsWall_Center, 0.5, -%23%, -7, %23% - 6.5, -7, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	Set AlarmSound = silence.wav #Alarm sound and lockouts on library levels
	if[%floor% = 4 | %floor% = 5] Set AlarmSound = otis4_birdbell.wav
	if[%floor% = 4 | %floor% = 5] SetLock 1, 0

	WallOrientation = left
	Set ExitDoorTex = ServiceDoor2B
	if[%floor% = 4 | %floor% = 5] Set ExitDoorTex = ServiceDoor2BR_Emer

	TextureOverride ServiceDoor2, %ExitDoorTex%, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1] AddStairsDoor %25%, %AlarmSound%, , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	SetLock 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, %24% - 2, 3, 7, 0, 0, 0
	if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% > 1] AddBoxSign(Stair%25%_Sign1, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Main Stairwell (East)
CreateStairwell 2, 66.5, 55.5 - 1.5, 0, 8
CutStairwell 2, -7, -13.5, 7, 13.5, 0, 5
ShowFullStairs 2 = always

<Floors 0 to 8>
	Set 21 = 66.5 #Center X
	Set 22 = 55.5 - 1.5 #Center Z
	Set 23 = 7 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall2, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall2, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall2, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall2, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2M, 1, 0, -7, 0, 7, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
	WallTex()
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, 0, true, true, false, true, false, false, true)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	if[%floor% > 3 & %floor% < 7] WindowsX2(Stair%25%Windows_Int, %21% - %23% - 0.5, %22%, left, 12, %height% - 3, 1.5, MainWindowsIntB, MainWindowsIntB, StairsWall2, 0.75, 1)
	if[%floor% < 8] WindowsX2(Stair%25%Windows_Ext, %21% + %23% + 0.5, %22%, right, 14, %height% - 2, 1, MainWindowsIntB, MainWindowsB, StairsWall2, 0.75, %WindowTZ%)

	#Stairs
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, StairsFloor2, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, StairsFloor2, front, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, StairsFloor2, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 30, 0, 0

	#Typical stairs span, levels M2 to 7
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, LowerStairs, StairsFloor2, front, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, UpperStairs, StairsFloor2, back, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LandingLower, StairsFloor2, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingMiddle, StairsFloor2, 0.5, -%23%, -%24%, %23%, -7, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingUpper, StairsFloor2, 0.5, -%23%, 7, %23%, %24%, %26% * 30, %26% * 30, false, false, 0, 0

	if[%floor% > 1] AddStairsFloor %25%, LandingLower, StairsFloor2, 0.5, -%23%, -%24%, %23%, -7, 0, 0, false, false, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairsFloor %25%, LandingUpper, StairsFloor2, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor2, 0, -%23%, -7, %23% - 6.5, -7, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1 & %floor% < 8] AddStairsWall %25%, LandingUpperCover, StairsFloor2, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover, StairsFloor2, 0, -%23%, -7, %23% - 6.5, -7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover, StairsFloor2, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover, StairsFloor2, 0, -%23% + 6.5, 7, %23%, 7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Railing, StairsWall2M, 0.5, -%23%, -7, %23% - 6.5, -7, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	Set SDTex = Door88 #Set door textures
	if[%floor% > 6] Set SDTex = Door9b
	if[%floor% < 4] Set SDTex = ServiceDoor3
	Set SDTexAlt = %SDTex%
	if[%floor% < 4] Set SDTexAlt = ServiceDoor3Trans
	
	Set AlarmSound = silence.wav #Alarm sound and lockouts on library levels
	if[%floor% = 4 | %floor% = 5] Set AlarmSound = otis4_birdbell.wav
	if[%floor% = 4 | %floor% = 5] SetLock 2, 0

	Set ExitDoorTex = %SDTexAlt%
	if[%floor% = 4 | %floor% = 5] Set ExitDoorTex = Door88_Emer
	
	WallOrientation = right
	TextureOverride %ExitDoorTex%, %SDTexAlt%, %SDTex%Side, %SDTex%Side, %SDTex%Side, %SDTex%Side
	if[%floor% > 1] AddStairsDoor %25%, %AlarmSound%, , false, Door9b, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% - %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	SetLock 0, 0
	WallOrientation = left
	TextureOverride %ExitDoorTex%, %SDTexAlt%, %SDTex%Side, %SDTex%Side, %SDTex%Side, %SDTex%Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, Door9b, 0.2, 1, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0
	if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0
	
	#Exit Signs
	if[%floor% > 1] AddBoxSign(Stair%25%_Sign1, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, 64 - 5 - 0.05, 45.5 - 3, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, 64.5 - 5 + 0.05, 65.5, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Southwest Fire Exit Stairwell
CreateStairwell 3, -66.5, -65.5 + 1.5, 0, 8
CutStairwell 3, -7, -13.5, 7, 13.5, 0, 5
ShowFullStairs 3 = always

<Floors 0 to 8>
	Set 21 = -66.5 #Center X
	Set 22 = -65.5 + 1.5 #Center Z
	Set 23 = 7 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall_Center, 1, 0, -7, 0, 7, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
	WallTex()
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, 0, false, false, true, false, false, false, true)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	if[%floor% < 8] WindowsX2(Stair%25%Windows, %21% - %23% - 0.5, %22%, left, 14, %height% - 2, 1, MainWindowsB, MainWindowsIntB, StairsWall_Center, 0.75, %WindowTZ%)

	#Stairs
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, Stairs, front, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, Stairs, back, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 30, 0, 0

	#Typical stairs span, levels M2 to 7
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6.5 / 2), 0, 6.5, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6.5 / 2), 0, 6.5, %26%, 1, 15, %26% * 15, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingMiddle, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 30, %26% * 30, false, false, 0, 0

	if[%floor% > 1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 1 & %floor% < 8] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 15, %26% * 15, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, 7, %23% - 6.5, 7, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1 & %floor% < 8] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6.5, -7, %23%, -7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover, StairsFloor, 0, -%23%, 7, %23% - 6.5, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23% + 6.5, -7, %23%, -7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6.5, -7, %23%, -7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Railing, StairsWall_Center, 0.5, -%23%, 7, %23% - 6.5, 7, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	Set AlarmSound = silence.wav #Alarm sound and lockouts on library levels
	if[%floor% = 4 | %floor% = 5] Set AlarmSound = otis4_birdbell.wav
	if[%floor% = 4 | %floor% = 5] SetLock 1, 0

	Set ExitDoorTex = ServiceDoor2B
	if[%floor% = 4 | %floor% = 5] Set ExitDoorTex = ServiceDoor2BL_Emer

	WallOrientation = left
	TextureOverride ServiceDoor2, %ExitDoorTex%, ServiceDoor2Side, ServiceDoor2Side,ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1] AddStairsDoor %25%, %AlarmSound%, , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	SetLock 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% > 1] AddBoxSign(Stair%25%_Sign1, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Library Stairs
CreateStairwell 4, -17.5, -7, 4, 5
CutStairwell 4, -17.5 - 0.5, -22, 14.5, 21, 2, 6
ShowFullStairs 4 = always

<Floors 4 to 5>
	Set 21 = -17.5 #Center X
	Set 22 = -7 #Center Z
	Set 23 = 17.5 #Cut X
	Set 23A = 14.5 #Cut X
	Set 24 = 21 #Cut Z
	Set 24A = 22 #Cut Z
	Set 25 = 4 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Stairs
	if[%floor% = 4] AddStairs %25%, LowerStairs, LibraryStairs, right, -%23% + 12 + 8, 0 - 0.5, 12, %26%, 1, 15, 0, 0, 0
	if[%floor% = 4] AddStairs %25%, UpperStairs1, LibraryStairs, back, -%23% + 6, -%24% + 7, 12, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 4] AddStairs %25%, UpperStairs2, LibraryStairs, front, -%23% + 6, %24% - 8, 12, %26%, 1, 15, %26% * 15, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, true, false, false, false
	if[%floor% = 4] AddStairsFloor %25%, LandingLower, LibraryStairs, 0.5, -%23%, 0 - 0.5 - 6.5, -%23% + 12 + 1, 0 - 0.5 + 6.5, %26% * 15, %26% * 15, false, false, 0, 0
	DrawWalls = false, false, false, false, true, true
	if[%floor% = 4] AddStairsFloor %25%, LandingLower-Side, LibraryStairs, 0.5, -%23%, 0 - 0.5 - 6.5, -%23% + 12, 0 - 0.5 + 6.5, %26% * 15, %26% * 15, false, false, 0, 0
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 5] AddStairsFloor %25%, LandingUpper1, LibraryStairs, 0.5, -%23%, -%24A%, -%23% + 12, -%24A% + 1, 0, 0, false, false, 0, 0
	if[%floor% = 5] AddStairsFloor %25%, LandingUpper2, LibraryStairs, 0.5, -%23%, %24% - 1, -%23% + 12, %24%, 0, 0, false, false, 0, 0

	#Stair Railings
	Set RailingExtra = 1.45
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-LowerRailing1, LibraryStairsWall, 0.5, -%23% + 12, -0.5 + 6, -%23% + 12 + 15, -0.5 + 6, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 15) - %RailingExtra%, -%RailingExtra%, 0, 0
	WallOrientation = right
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-LowerRailing2, LibraryStairsWall, 0.5, -%23% + 12, -0.5 - 6, -%23% + 12 + 15, -0.5 - 6, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 15) - %RailingExtra%, -%RailingExtra%, 0, 0
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-UpperRailing1, LibraryStairsWall, 0.5, -%23%, -0.5 - 6.5, -%23%, -0.5 + 6.5, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 15) - %RailingExtra%, (%26% * 15) - %RailingExtra%, 0, 0
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-UpperRailing2, LibraryStairsWall, 0.5, -%23%, -0.5 - 6.5 - 15, -%23%, -0.5 - 6.5, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 30) - %RailingExtra%, (%26% * 15) - %RailingExtra%, 0, 0
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-UpperRailing3, LibraryStairsWall, 0.5, -%23%, -0.5 + 6.5, -%23%, -0.5 + 6.5 + 15, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 15) - %RailingExtra%, (%26% * 30) - %RailingExtra%, 0, 0

	WallOrientation = left
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-UpperRailing4, LibraryStairsWall, 0.5, -%23% + 12, -0.5 - 6.5 - 15, -%23% + 12, -0.5 - 6.5, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 30) - %RailingExtra%, (%26% * 15) - %RailingExtra%, 0, 0
	if[%floor% = 4] AddStairsWall %25%, Stair%25%-UpperRailing5, LibraryStairsWall, 0.5, -%23% + 12, -0.5 + 6.5, -%23% + 12, -0.5 + 6.5 + 15, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, (%26% * 15) - %RailingExtra%, (%26% * 30) - %RailingExtra%, 0, 0

	#Opening Ralings
	Set RailingExtra = 1.75
	WallOrientation = right
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingFront, LibraryStairsWall2, 0.5, -%23% + 12, -%24A%, %23A%, -%24A%, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingLeft, LibraryStairsWall2, 0.5, -%23% - 0.5, -%24A% - 0.5, -%23% - 0.5, %24% + 0.5, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	WallOrientation = left
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingRight, LibraryStairsWall2, 0.5, %23A%, -%24A% - 0.5, %23A%, %24% + 0.5, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingBack, LibraryStairsWall2, 0.5, -%23% + 12, %24%, %23A%, %24%, 3.5 + %RailingExtra%, 3.5 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0

	DrawWalls = true, true, true, true, false, true
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingBackX, LibraryStairsWall2, 0.5, -%23% - 0.5, %24%, -%23% + 12, %24%, %RailingExtra%, %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	WallOrientation = right
	if[%floor% = 5] AddStairsWall %25%, Stair%25%-RailingFrontX, LibraryStairsWall2, 0.5, -%23% - 0.5, -%24A%, -%23% + 12, -%24A%, %RailingExtra%, %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
<EndFloors>

#East Machine Room Access Stairway
CreateStairwell 5, 69.5, -21 - 1, 8, 8
ShowFullStairs 5 = always

<Floor 8>
	Set 21 = 69.5 #Center X
	Set 22 = -21 - 1 #Center Z

	Set 23 = 4.5 #Cut X
	Set 24 = 5.5 #Cut Z

	Set 25 = 5 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Stairs
	Set StepsWidth = 4
	AddStairs %25%, Stair%25%-AEStairway, HallServiceStairs, back, -%23% + (%StepsWidth% / 2), 0, %StepsWidth%, %26%, 1, 12, 0, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	AddStairsFloor %25%, Stair%25%LandingA, HallServiceStairs, 0.5, -%23%, -%24% - 13.5 - 0.66 + 1, -%23% + %StepsWidth%, -%24%, %26% * 12, %26% * 12, false, false, 0, 0
	AddStairsFloor %25%, Stair%25%LandingB, HallServiceStairs, 0.5, -%23% + %StepsWidth%, -%24% - 13.5 - 0.66 + 1, %23% - 0.5, -%24% - 1, %26% * 12, %26% * 12, false, false, 0, 0

	#Stair Railings
	Set RailThickness = 0.35
	Set RailingExtra = 1.35
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	AddStairsWall %25%, Stair%25%-StRailingLeft, HallServiceStairsWall, %RailThickness%, -%23%, -%24% - 1, -%23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, -%RailingExtra%, 0, 0
	WallOrientation = left
	AddStairsWall %25%, Stair%25%-StRailingRight, HallServiceStairsWall, %RailThickness%, -%23% + %StepsWidth%, -%24% - 1, -%23% + %StepsWidth%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, -%RailingExtra%, 0, 0

	#Landing Railings
	WallOrientation = right
	AddStairsWall %25%, Stair%25%-LdRailingBack, HallServiceStairsWall, %RailThickness%, -%23% + %StepsWidth%, -%24% - 1, %23% - 0.5, -%24% - 1, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	AddStairsWall %25%, Stair%25%-LdRailingLeft, HallServiceStairsWall, %RailThickness%, -%23%, -%24% - 13.5 + 1, -%23%, -%24% - 1, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
<EndFloor>

#West Machine Room Access Stairway
CreateStairwell 6, -69.5, -21 - 1, 8, 8
ShowFullStairs 6 = always

<Floor 8>
	Set 21 = -69.5 #Center X
	Set 22 = -21 - 1 #Center Z

	Set 23 = 4.5 #Cut X
	Set 24 = 5.5 #Cut Z

	Set 25 = 6 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Stairs
	Set StepsWidth = 4
	AddStairs %25%, Stair%25%-AEStairway, HallServiceStairs, back, %23% - (%StepsWidth% / 2), 0, %StepsWidth%, %26%, 1, 12, 0, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	AddStairsFloor %25%, Stair%25%LandingA, HallServiceStairs, 0.5, %23% - %StepsWidth%, -%24% - 13.5 - 0.66 + 1, %23%, -%24%, %26% * 12, %26% * 12, false, false, 0, 0
	AddStairsFloor %25%, Stair%25%LandingB, HallServiceStairs, 0.5, -%23% + 0.5, -%24% - 13.5 - 0.66 + 1, %23% - %StepsWidth%, -%24% - 1, %26% * 12, %26% * 12, false, false, 0, 0

	#Stair Railings
	Set RailThickness = 0.35
	Set RailingExtra = 1.35
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	AddStairsWall %25%, Stair%25%-StRailingLeft, HallServiceStairsWall, %RailThickness%, %23% - %StepsWidth%, -%24% - 1, %23% - %StepsWidth%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, -%RailingExtra%, 0, 0
	WallOrientation = left
	AddStairsWall %25%, Stair%25%-StRailingRight, HallServiceStairsWall, %RailThickness%, %23%, -%24% - 1, %23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, -%RailingExtra%, 0, 0

	#Landing Railings
	AddStairsWall %25%, Stair%25%-LdRailingRight, HallServiceStairsWall, %RailThickness%, %23%, -%24% - 13.5 + 1, %23%, -%24% - 1, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	WallOrientation = right
	AddStairsWall %25%, Stair%25%-LdRailingBack, HallServiceStairsWall, %RailThickness%, -%23% + 0.5, -%24% - 1, %23% - %StepsWidth%, -%24% - 1, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
<EndFloor>

#Sport Department Access Stairway
CreateStairwell 7, 65.5, 40 - 8.5, 0, 1
CutStairwell 7, -6, -8.5, 6, 8.5, 2, 5
ShowFullStairs 7 = always

<Floors 0 to 1>
	Set 21 = 65.5 #Center X
	Set 22 = 40 - 8.5 #Center Z

	Set 23 = 6 #Cut X
	Set 24 = 8.5 #Cut Z

	Set 25 = 7 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Stairs
	Set StepsWidth = 5
	if[%floor% = 0] AddStairs %25%, Stair%25%-Lower, SportStairs, front, %23% - (%StepsWidth% / 2), -%24% + 5.5, %StepsWidth%, %26%, 1, 12, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, Stair%25%-Upper, SportStairs, back, -%23% + (%StepsWidth% / 2), -%24% + 6.5, %StepsWidth%, %26%, 1, 12, %26% * 12, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, Stair%25%LowerLanding, SportStairs, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * 12, %26% * 12, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, Stair%25%LowerLanding-Extra, SportStairs, 0.5, %23% - %StepsWidth%, %24% - 6, %23%, %24% - 5, %26% * 12, %26% * 12, false, false, 0, 0
	if[%floor% = 1] AddStairsFloor %25%, Stair%25%UpperLanding, SportStairs, 0.5, -%23%, -%24%, -%23% + %StepsWidth%, -%24% + 1, 0, 0, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-LLanding-Cover, SportStairs, 0, -%23%, %24% - 5, -%23% + %StepsWidth%, %24% - 5, 0.5, 0.5, (%26% * 12) - 0.5, (%26% * 12) - 0.5, 0, 0
	DrawWalls = false, true, false, false, false, false
	WallOrientation = right
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-ULanding-Cover, SportStairsWall, 0, -%23%, -%24%, -%23% + %StepsWidth%, -%24%, %interfloorheight%, %interfloorheight%, -%interfloorheight%, -%interfloorheight%, 0, 0


	#Stair Railings
	Set RailThickness = 0.25
	Set RailingExtra = 1.45
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-LE, SportStairsWall, %RailThickness%, %23% - %StepsWidth%, -%24%, %23% - %StepsWidth%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, -%RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	WallOrientation = left
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-RI-1, SportStairsWall, %RailThickness%, %23%, -%24%, %23%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, -%RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-RI-2, SportStairsWall, %RailThickness%, %23%, -%24% + 12, %23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StUpperRail-RI, SportStairsWall, %RailThickness%, -%23% + %StepsWidth%, -%24%, -%23% + %StepsWidth%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 24) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0

	#Landing Railings
	WallOrientation = left
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-LdRailing1, SportStairsWall, %RailThickness%, -%23% + %StepsWidth%, %24% - 5, %23% - %StepsWidth%, %24% - 5, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0

	DrawWalls = true, true, true, true, true, false

	WallOrientation = right
	Set RailingExtra = %interfloorheight%
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-LdRailing2, LobbyWall2, %RailThickness%, -%23% + %StepsWidth%, -%24%, %23%, -%24%, 3 + %RailingExtra%, 3 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	WallOrientation = left
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-LdRailing3, LobbyWall2, %RailThickness%, %23%, -%24% - %RailThickness%, %23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
<EndFloors>


#West Service Access Stairway
CreateStairwell 8, -65.5, 50 - 8.5, 0, 1
CutStairwell 8, -6, -8.5, 6, 8.5, 2, 5
ShowFullStairs 8 = always

<Floors 0 to 1>
	Set 21 = -65.5 #Center X
	Set 22 = 50 - 8.5 #Center Z

	Set 23 = 6 #Cut X
	Set 24 = 8.5 #Cut Z

	Set 25 = 8 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Stairs
	Set StepsWidth = 5
	if[%floor% = 0] AddStairs %25%, Stair%25%-Lower, ServiceStairs, front, -%23% + (%StepsWidth% / 2), -%24% + 5.5, %StepsWidth%, %26%, 1, 12, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, Stair%25%-Upper, ServiceStairs, back, %23% - (%StepsWidth% / 2), -%24% + 6.5, %StepsWidth%, %26%, 1, 12, %26% * 12, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, Stair%25%LowerLanding, ServiceStairs, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * 12, %26% * 12, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, Stair%25%LowerLanding-Extra, ServiceStairs, 0.5, -%23%, %24% - 6, -%23% + %StepsWidth%, %24% - 5, %26% * 12, %26% * 12, false, false, 0, 0
	if[%floor% = 1] AddStairsFloor %25%, Stair%25%UpperLanding, ServiceStairs, 0.5, %23% - %StepsWidth%, -%24%, %23%, -%24% + 1, 0, 0, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-LLanding-Cover, ServiceStairs, 0, %23% - %StepsWidth%, %24% - 5, %23%, %24% - 5, 0.5, 0.5, (%26% * 12) - 0.5, (%26% * 12) - 0.5, 0, 0
	DrawWalls = false, true, false, false, false, false
	WallOrientation = right
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-ULanding-Cover, ServiceStairsWall, 0, %23% - %StepsWidth%, -%24%, %23%, -%24%, %interfloorheight%, %interfloorheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Stair Railings
	Set RailThickness = 0.25
	Set RailingExtra = 1.45
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-LE-1, ServiceStairsWall, %RailThickness%, -%23%, -%24%, -%23%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, -%RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-LE-2, ServiceStairsWall, %RailThickness%, -%23%, -%24% + 12, -%23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	WallOrientation = left
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StLowerRail-RI, ServiceStairsWall, %RailThickness%, -%23% + %StepsWidth%, -%24%, -%23% + %StepsWidth%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, -%RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0
	WallOrientation = right
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-StUpperRail-LE, ServiceStairsWall, %RailThickness%, %23% - %StepsWidth%, -%24%, %23% - %StepsWidth%, -%24% + 12, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 24) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0

	#Landing Railings
	WallOrientation = left
	if[%floor% = 0] AddStairsWall %25%, Stair%25%-LdRailing1, ServiceStairsWall, %RailThickness%, -%23% + %StepsWidth%, %24% - 5, %23% - %StepsWidth%, %24% - 5, 3 + %RailingExtra%, 3 + %RailingExtra%, (%26% * 12) - %RailingExtra%, (%26% * 12) - %RailingExtra%, 0, 0

	DrawWalls = true, true, true, true, true, false

	WallOrientation = right
	Set RailingExtra = %interfloorheight%
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-LdRailing2, LobbyWall2, %RailThickness%, -%23%, -%24%, %23% - %StepsWidth%, -%24%, 3 + %RailingExtra%, 3 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
	if[%floor% = 1] AddStairsWall %25%, Stair%25%-LdRailing3, LobbyWall2, %RailThickness%, -%23%, -%24% - %RailThickness%, -%23%, %24%, 3 + %RailingExtra%, 3 + %RailingExtra%, 0 - %RailingExtra%, 0 - %RailingExtra%, 0, 0
<EndFloors>

#########################################################################

#Shafts and elevators
#Passenger elevator
CreateShaft(1, 69, -48 + 3, 4.67, 4.67, -1, 8, %interfloorheight% + 6)
ShowFullShaft 1 = true

#Service elevator
CreateShaft(2, -69, -48 + 3, 4.67, 4.67, -1, 8, %interfloorheight% + 6)
ShowFullShaft 2 = true

#Utility shafts
CreateShaft2(3, 61.5, -48 + 3, 2.17, 4.67, 0, 8, %interfloorheight%) #East
CreateShaft2(4, -61.5, -48 + 3, 2.17, 4.67, 0, 8, %interfloorheight%) #West

<Floors 0 to 8>
	WallTex()

	#External shaft walls (Elevator shafts)
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 69, -48 + 3, 5, 5, 1, %fullheight%, 0, true, false, false, true, false, false, true) #Paasenger elevator
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -69, -48 + 3, 5, 5, 2, %fullheight%, 0, false, false, false, true, false, false, true) #Service elevator

	#External shaft walls (Utility shafts)
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 61.5, -48 + 3, 2.5, 5, 3, %fullheight%, 0, true, true, false, true, false, false, true)
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -61.5, -48 + 3, 2.5, 5, 4, %fullheight%, 0, false, false, true, true, false, false, true)


		#Utility shaft access doors
		#East shaft
		Set DTex = ServiceDoor1

		if[%floor% ! 2] Set DOpening = 7
		if[%floor% = 2] Set DOpening = 6

		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, %DOpening%, 75, 61.5, -43 + 3, 2.5, 6.5, %interfloorheight%, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.66, 61.5, -43 + 3, 2.5, 6.5, %interfloorheight%, true, 0, 0, true

		#West shaft
		Set DTex = ServiceDoor1

		if[%floor% = 2 | %floor% = 3] Set DOpening = 7
		if[%floor% ! 2 & %floor% ! 3] Set DOpening = 6

		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddExternalDoor , , false, %DTex%, 0.2, %DOpening%, 75, -61.5, -43 + 3, 2.5, 6.5, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.66, -61.5, -43 + 3, 2.5, 6.5, %interfloorheight%, true, 0, 0, true
<EndFloors>

<Floor 8>
	#Machine room doors
	#Passenger elevator
	Set Texture = ServiceDoor3
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 69 - 1.5, -43 + 3, 3, 7, 6, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 69 + 1.5, -43 + 3, 3, 7, 6, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 69, -43 + 3, 6, 7, 6, true, 0, 0, false

	#Service elevator
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, -69 - 1.5, -43 + 3, 3, 7, 6, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, -69 + 1.5, -43 + 3, 3, 7, 6, 0, 0
	AddFillerWalls ConnectionWall, 0.66, -69, -43 + 3, 6, 7, 6, true, 0, 0, false
<EndFloor>

<Function AddWallPanels>
	Set Texture = PassengerElevWallPanel

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	AddWall FrontPanel, %Texture%, 0.05, -2, -2.3, 2, -2.3, 8, 8, 0, 0, 0, 0
	AddWall LeftPanel, %Texture%, 0.05, -3.4, -1, -3.4, 1, 8, 8, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall RightPanel, %Texture%, 0.05, 3.4, -1, 3.4, 1, 8, 8, 0, 0, 0, 0
<EndFunction>

#Set idle sounds
<Elevators 1 to 2>
	CarIdleSound = EG881Sounds/MTelevidle.wav #EG881
<EndElevators>

<Elevator 1>
	Name = Passenger Elevator
	Type = Local
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2 - 7
	DisplayFloors = 0, 2 - 7
	AssignedShaft = 1
	MotorPosition = 0, Floor(8).Base + 6, 0
	CreateElevator false, 69, -46.66 + 3, 0
<EndElevator>

<Elevator 2>
	Name = Service Elevator
	Type = Service
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 7
	AssignedShaft = 2
	MotorPosition = 0, Floor(8).Base + 6, 0
	CreateElevator false, -69, -46.66 + 3, 0
<EndElevator>

<Function BtnPanel>
	Set PanelNumber = %param1%
	Set Prefix = Button

	Set HOffset = 0
	if[%elevator% = 1] Set HOffset = 0.6

	AddButton %PanelNumber%, , %Prefix%6, %Prefix%Lit6, 1, 2, 7, 1, 1
	AddButton %PanelNumber%, , %Prefix%5, %Prefix%Lit5, 1, 1, 6, 1, 1
	if[%elevator% = 1 & %DeterminantX% = 1] SetLock 1, 0
	if[%DeterminantX% = 2] SetLock 0, 0
	AddButton %PanelNumber%, , %Prefix%4, %Prefix%Lit4, 2, 2, 5, 1, 1
	AddButton %PanelNumber%, , %Prefix%3, %Prefix%Lit3, 2, 1, 4, 1, 1
	SetLock 0, 0
	AddButton %PanelNumber%, , %Prefix%2, %Prefix%Lit2, 3, 2, 3, 1, 1
	AddButton %PanelNumber%, , %Prefix%M2, %Prefix%LitM2, 3, 1, 2, 1, 1
	if[%elevator% = 2] AddButton %PanelNumber%, , %Prefix%M1, %Prefix%LitM1, 4, 2, 1, 1, 1	
	AddButton %PanelNumber%, , %Prefix%1, %Prefix%Lit1, 4, 1, 0, 1, 1, %HOffset%, 0

	AddButton %PanelNumber%, , %Prefix%Open, %Prefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %Prefix%Close, %Prefix%Close, 6, 2, close, 1, 1
	AddButton %PanelNumber%, , ButtonStop, ButtonStop, 7, 1, stop, 1, 1
	AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 2>
	#Door width: 1100 mm. (3.667 ft.)

	if[%elevator% = 1] Set Prefix = Passenger
	if[%elevator% = 2] Set Prefix = Service

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.2, 5, back, 8)
	if[%elevator% = 1] AddWallPanels()

	#Signs
	Set SignHeight = 1.8 #The sign's width is 2 times its height.
	#if[%elevator% = 2] Set SignHeight = 2
	
	Set ExtraOffset = 0.051
	if[%elevator% = 2] Set ExtraOffset = 0.001
	DrawWalls = false, true, true, true, false, false
	AddWall ElevInfoSign, PriscillaElev%elevator%, 0, -%SignHeight%, -2.3 + %ExtraOffset%, %SignHeight%, -2.3 + %ExtraOffset%, %SignHeight%, %SignHeight%, 5, 5, 0, 0

	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall Left Panel, ElevPanelMain, 0.2, -3.6, 2.5, -(3.667/2), 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Right Panel, ElevPanelMain, 0.2, (3.667/2), 2.5, 3.6, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall Top Panel, ElevPanelTop, 0.2, -(3.667/2), 2.5, (3.667/2), 2.5, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	if[%elevator% = 1] Set ElevDoorTex = ElevDoorsC
	if[%elevator% = 2] Set ElevDoorTex = ElevDoorsD
	
	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -(3.667/2), 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, (3.667/2), 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -3.667, 2.5, 3.667, 2.7, 0, 0, 0, 0

	#Button panel
	Set Position = 2.61675
	Set PanelTex = ElevPanel
	if[%elevator% = 2] Set PanelTex = ElevPanel2
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack, %PanelTex%, 0.05, %Position% - 0.35, 2.3, %Position% + 0.35, 2.3, 4.55, 4.55, 2.2, 2.2, 0, 0

	CreatePanel Blank, 7, 2, front, %Position%, 2.3 - 0.051, 0.2, 0.2, 0.3, -0.1, 3.75, 0, 0
	BtnPanel(1)

	#Indicator
	AddFloorIndicator Ind_Button, front, %Position%, 2.3 - 0.051, 0.35, 0.35, 5.75

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position% - 0.25, 2.3 - 0.051, %Position% + 0.25, 2.3 - 0.051, 0.5, 0.5, 6.25, 6.25, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, -2.5 - 0.5, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, false, 3.6 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, -2.5 - 0.5, false, 1 + 0.06, 0.1
<EndElevators>

#Shaft doors & hall stations
<Floors 0 to 7>
	#Shaft Doors
	Set StartNo = 1
	Set DoorTexture = ElevDoorsA
	if[%floor% > 3 & %floor% < 7] Set DoorTexture = ElevDoorsDY
	if[%floor% = 7] Set DoorTexture = ElevDoorsM
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = right
	WallTex() #Set wall texture
	if[%floor% ! 1] AddFillerWalls %6%, 0.66, 69, -43 + 3, 3.667, 7, %interfloorheight%, true, 0, 0, true

	Set StartNo = 2
	Set DoorTexture = ElevDoorsB
	if[%floor% > 3 & %floor% < 7] Set DoorTexture = ElevDoorsDX
	if[%floor% = 7] Set DoorTexture = ElevDoorsL
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = right
	WallTex() #Set wall texture
	AddFillerWalls %6%, 0.66, -69, -43 + 3, 3.667, 7, %interfloorheight%, true, 0, 0, true

	#Door tracks
	if[%floor% ! 1] AddDoorTrack(1, 1, 0 - 3.667, 0 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(2, 2, 0 - 3.667, 0 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#Call buttons & signs
	Set PanelTexture = ElevExtPanels
	Set ButtonPosition = 69 - (3.667/2) - 1.25

		#Determine serviced floors
		if[%DeterminantX% = 1 & (%floorid% = 3 | %floorid% = 4)] SetLock 1, 0
		if[%DeterminantX% = 2] SetLock 0, 0

		#Elevator 1
		CallButtonElevators = 1
		CreateCallButtons %PanelTexture%, GoldButtonUp, GoldButtonUpLit, GoldButtonDown, GoldButtonDownLit, %ButtonPosition%, -43 + 0.001 + 3, 3.5, back, 0.5, 1, true, 0, 0
		SetLock 0, 0
	
		DrawWalls = false, true, false, false, false, false
		if[%floor% ! 1] AddWall E1HallSign1, BlankSign%floorid%, 0, %ButtonPosition% - 0.75, -43 + 0.001 + 3, %ButtonPosition% + 0.75, -43 + 0.001 + 3, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		if[%floor% ! 1] AddWall E1HallSign2, ElevHallSign, 0, %ButtonPosition% - 0.375, -43 + 0.001 + 3, %ButtonPosition% + 0.375, -43 + 0.001 + 3, 1, 1, 2.4, 2.4, 0, 0, false

			#Elevator 1 signs
			Set FlrSignPos = -43 + 10 + 3
			if[%floor% > 2] Set FlrSignPos = -22.5
			Set SignPos = 69

			DrawWalls = true, false, false, false, false, false
			if[%floor% > 3 & %floor% ! 7] AddWall E1HallSign2A-Panel, %PanelTexture%, 0, %SignPos% - 0.75, %FlrSignPos% - 0.001, %SignPos% + 0.75, %FlrSignPos% - 0.001, 1.5, 1.5, 6.5, 6.5, 0, 0, false
			if[%floor% ! 1 & %floor% ! 7] AddWall E1HallSign2A, BlankSign%floorid%, 0, %SignPos% - 0.75, %FlrSignPos% - 0.002, %SignPos% + 0.75, %FlrSignPos% - 0.002, 1.5, 1.5, 6.5, 6.5, 0, 0, false

		#Elevator 2
		Set PanelTexture = ElevExtPanels2A
		Set ButtonPosition = -69 - (3.667/2) - 1.25
		CallButtonElevators = 2
		CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, %ButtonPosition%, -43 + 0.001 + 3, 3.5, back, 0.5, 1, true, 0, 0

			#Elevator 2 signs
			DrawWalls = false, true, false, false, false, false
			AddWall E2HallSign1, BlankSign%floorid%, 0, %ButtonPosition% - 0.75, -43 + 0.001 + 3, %ButtonPosition% + 0.75, -43 + 0.001 + 3, 1.5, 1.5, 5.25, 5.25, 0, 0, false
			#AddWall E2HallSign2, ElevHallSign, 0, %ButtonPosition% - 0.375, -43 + 0.001 + 3, %ButtonPosition% + 0.375, -43 + 0.001 + 3, 1, 1, 2.4, 2.4, 0, 0, false

			Set SignPos = -69
			DrawWalls = true, false, false, false, false, false
			if[%floor% > 3] AddWall E2HallSign2A-Panel, ElevExtPanels2, 0, %SignPos% - 0.75, -43 + 10 - 0.001 + 3, %SignPos% + 0.75, -43 + 10 - 0.001 + 3, 1.5, 1.5, 6.5, 6.5, 0, 0, false
			if[%floor% ! 1 & %floor% ! 3] AddWall E2HallSign2A, BlankSign%floorid%, 0, %SignPos% - 0.75, -43 + 10 - 0.002 + 3, %SignPos% + 0.75, -43 + 10 - 0.002 + 3, 1.5, 1.5, 6.5, 6.5, 0, 0, false

	#Indicator sets
	Set PanelTexture = ElevExtPanels #Reset panel tex for passenger elevators
	#if[%floor% < 4] Set PanelTexture = ElevExtPanels2

		#Elevator 1
		if[%floor% ! 1] ACMEInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %PanelTexture%, OutsideInd_Button)
		if[%floor% ! 1] ACMELobbyInds(back, 1, 69, -43 + 3, 8, 0, 7)

		#Elevator 2
		Set IndOffset = 8
		if[%floor% < 2] Set IndOffset = 8 - 0.25

		ACMEInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, ElevExtPanels2, OutsideInd_Button)
		ACMELobbyInds(back, 2, -69, -43 + 3, %IndOffset%, 0, 7)
<EndFloor>

#Elevator Information Signs
<Floor 0>
	DrawWalls = false, true, false, false, false, false
	AddWall E1InfoSign, PriscillaElev1, 0, 69 - (5/2), -43 + 0.001 + 3, 69 + (5/2), -43 + 0.001 + 3, (5/2), (5/2), 9 + %interfloorheight%, 9 + %interfloorheight%, 0, 0, true
	#AddWall E2InfoSign, PriscillaElev2, 0, -69 - (5/2), -43 + 0.001 + 3, -69 + (5/2), -43 + 0.001 + 3, (5/2), (5/2), 9 + %interfloorheight%, 9 + %interfloorheight%, 0, 0, true
	AddWall E2InfoSign, PriscillaElev2, 0, -64.5 - (5/2), -43 + 0.001 + 3, -64.5 + (5/2), -43 + 0.001 + 3, (5/2), (5/2), 7.5 + %interfloorheight%, 7.5 + %interfloorheight%, 0, 0, true
<EndFloor>

########################################

#Global Settings
<Elevators 1 to 2>
	NotifyEarly = 1
	QueueResets = true
	UpChimeSound 1 = EG881Sounds/MTupchime2.wav #EG881
	DownChimeSound 1 = EG881Sounds/MTdownchime2.wav #EG881
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>