#Driverson Townhall
#Copyright (c) 2020-Present - Mn10

#Include ObjectPlus (Credit to EG881)
<Include ObjectPlus/Scripts/OP_Script2.txt>

#Include my scripts
<Include Deco2011/Scripts/r4_script.txt>
<Include CustomObjects2018/Scripts/r1_script.txt>
<Include Shaft Wall Creator/Scripts/r1_script.txt>
<Include data/New_Mitsubishi_Elevator/Scripts/Indicators.txt>

#Globals
<Globals>
	Name = Driverson Townhall
	Designer = Mn10 (Some content made by Test Tower)
	Location = 152 1st Street, Tranquility City
	CameraFloor = 0
	CameraPosition = 10, -20
	CameraRotation = 0, 0, 0
<EndGlobals>

#Textures
<Textures>
	#Globals
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/Melvin/Black_Ind.jpg, Black2, 1, 1, false
	Load data/signs_mod/elevhallsign1a.png, FireSign, 1, 1, false #EG881
	#Load data/metal080.jpg, ColumnTex, 0.5, 0.5

	#Decos
	Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
	Load data/panel-back4.jpg, Brass, 1, 1, false
	Load data/marble3.jpg, LobbyDeco, 0.15, 0.15

	#Landscapes
	#Load data/downtown.jpg, Downtown, 1, 1
	Load data/grndroad1mid.jpg, Road, 0.04, 0.04
	Load data/Melvin/Roads/2lane-twoway-90de.png, 2LaneTwoWayZ, 1, 0.05
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881

	########################################

	#Concrete
	Load data/granite_0007e.jpg, ExternalFacade, 0.0625, 0.0625
	Load data/cem_tr.jpg, Concrete1, 0.125, 0.125

	#Exterior and Interior
	#Lobby
	Load data/wall5.jpg, LobbyWall, 0.25, 0.25
	Load data/marble4.jpg, LobbyWallLower, 0.18, 0.18
	Load data/wall5.jpg, LobbyWallUpper, 0.25, 0.25
	Load data/rose_marble.jpg, LobbyWall2, 0.1, 0.1 #Escalator outer walls
	Load data/floor065.jpg, LobbyFloor, 0.25, 0.25
	Load data/EG881/ceilingtile2b.jpg, LobbyCeiling, 0.125, 0.125 #EG881
	Load data/ceilinglight1.jpg, LobbyCeiling2, 0.2, 0.2

	#Common levels
	Load data/wall3.jpg, CommonWall, 0.25, 0.25 #EG881
	Load data/EG881/lopacwall2stripe.jpg, CommonWallLower, 0.15, 0.3 #G881
	Load data/wall3.jpg, CommonWallUpper, 0.25, 0.25 #EG881
	Load data/Carpet0013b_S.jpg, CommonFloor, 0.2, 0.2
	#Load data/EG881/ceilingtile2.jpg, CommonCeiling, 0.125, 0.125 #EG881

	#Office levels
	Load data/stucco22.jpg, MainWall, 0.25, 0.25
	Load data/MT/treatment01.jpg, MainWallLower, 0.25, 0.25
	Load data/stucco22.jpg, MainWallUpper, 0.25, 0.25
	Load data/Carpet0002_S.jpg, MainFloor, 0.2, 0.2
	Load data/EG881/ceilingtile3x3.jpg, MainCeiling, 0.125, 0.125 #EG881

	#Restrooms
	Load data/MarbleWhite0047b_S.jpg, RestroomFloor, 0.2, 0.4
	Load data/marbletile.jpg, RestroomWall, 0.15, 0.3
	Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881

	#Service levels and roof
	Load data/EG881/cem_tr2d.jpg, ServiceFloor, 0.075225, 0.0625 #EG881
	Load data/stucco4b.jpg, ServiceWall, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, ServiceCeiling, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881

	#Service elevator lobby
	Load data/cem_tr.jpg, ServiceLobbyFloor, 0.25, 0.25
	Load data/wall5c.jpg, ServiceLobbyWall_Lower, 0.25, 0.25
	Load data/stucco3.jpg, ServiceLobbyWall_Upper, 0.25, 0.25
	Load data/stucco1.jpg, ServiceLobbyCeiling, 0.25, 0.25

	#Windows and vents
	LoadAlphaBlend data/windows11i.jpg, data/windows11ispec.png, data/sky3j.jpg, MainWindowsB, true, 1, 1, false
	Load data/windows11h_inside.gif, MainWindowsIntB, 1, 1, false
	Load data/windows11e_inside3.gif, MainWindowsInt2, 1, 1, false
	Load data/vents1b.jpg, VentsExt, 1, 1, false
	Load data/bracing1.jpg, VentsInt, 1, 1, false

	########################################

	#Doors
	Load data/miscdoor1.jpg, Door1, 1, 1, false
	LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
	Load data/miscdoor6.jpg, Door6, 1, 1, false
	LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false

	Load data/EG881/Doors/exteriordoor1_int.png, EntranceDoorInt, 1, 1, false #EG881
	LoadAlphaBlend data/EG881Mod/exteriordoor1_bw.png, data/EG881/Doors/exteriordoor1_spec.png, data/sky3j.jpg, EntranceDoorExt, true, 1, 1, false #EG881
	LoadAlphaBlend data/EG881Mod/exteriordoor1_withkey_bw.png, data/EG881/Doors/exteriordoor1_withkey_spec.png, data/sky3j.jpg, EntranceDoorExt_Key, true, 1, 1, false #EG881
	Load data/EG881Mod/exteriordoor1_side.png, EntranceDoorSide, 1, 1, false

	Load data/miscdoor88.gif, Door88, 1, 1, false
	LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
	Load data/miscdoor9.jpg, Door9, 1, 1, false
	LoadCropped data/miscdoor9.jpg, Door9Side, 236, 0, 20, 512, 1, 1, false
	Load data/miscdoor9b.jpg, Door9b, 1, 1, false
	Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881

	Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881

	########################################

	#Stairwells
	Load data/cem_tr.jpg, Stairs, 0.25, 0.25
	Load data/cem_tr.jpg, StairsLanding, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall, 0.25, 0.25
	Load data/stucco1b.jpg, StairsCeiling, 0.25, 0.25
	Load data/stucco1.jpg, StairsRail, 0.25, 0.25

	#Escalators
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false
	#Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, SilverBalustrade2, 1, 1, false #EG881

	########################################

	#Elevators
	#Main components
	Load data/metal1.jpg, ElevExt, 0.25, 0.25
	Load data/counterweight.png, CWeight, 1, 1, false
	Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
	Load data/ropes.png, Ropes, 1, 1, false
	Load data/metal080.jpg, ElevRail, 0.5, 0.5
	Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
	Load data/Melvin/ABH_Tex/otis4_buttonpanel-lighter.jpg, ElevPanel, 1, 1, false

	#Common elevators
	Load data/floor065.jpg, ElevFloor, 0.3, 0.3
	Load data/otis4_weaveceiling_3x2.jpg, ElevCeiling, 1, 1, false #EG881
	Load data/wall5.jpg, ElevWall, 0.25, 0.25
	Load data/diamond18i.jpg, ElevWallPanel, 0.5, 0.5
	Load data/panel-back4.jpg, ElevPanelMain, 1, 1, false
	Load data/panel-back4.jpg, ElevPanelTop, 1, 0.0667, false

	#Office elevators
	Load data/checker08.jpg, OfficeElevFloor, 0.45, 0.45
	Load data/otis4_weaveceiling_2x3.jpg, OfficeElevCeiling, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, OfficeElevWall, 1, 1, false #EG881
	Load data/marble6c.jpg, OfficeElevWallPanel, 0.25, 0.25
	Load data/panel-back3.jpg, OfficeElevPanelMain, 1, 1, false #EG881
	Load data/panel-back3.jpg, OfficeElevPanelTop, 1, 0.125, false #EG881

	#Service elevator
	Load data/checker05.jpg, ServiceElevFloor, 0.5, 0.5
	Load data/MT/CeilingD.jpg, ServiceElevCeiling, 1, 1, false
	Rotate ServiceElevCeiling, 270
	Load data/stucco22d.jpg, ServiceElevWall, 0.25, 0.25
	LoadCropped data/panel-back3.jpg, ServiceElevWallTrim, 0, 140, 64, 20, 1, 1, false
	Load data/panel-back3.jpg, ServiceElevPanelMain, 1, 1, false
	Load data/panel-back3.jpg, ServiceElevPanelTop, 1, 0.125, false

	####################

	#Elevator doors
	Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsA, -1, 1, false #EG881 #Car doors (Office elevators)
	Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsA2, 1, 1, false #EG881

	Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsAA, -1, 1, false #EG881 #Car doors (Common elevators)
	Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsAA2, 1, 1, false #EG881

	Load data/EG881/elevdoorright_black.jpg, ElevDoorsAB, -1, 1, false #EG881 #Shaft doors, 3rd-4th floors
	Load data/EG881/elevdoorleft_black.jpg, ElevDoorsAB2, -1, 1, false #EG881
	Load data/EG881/elevdoortrim_black.jpg, ElevDoorsAB_Trim, 1, 1, false

	Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ElevDoorsB, 1, 1, false #EG881 #Shaft doors, office levels
	Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsB2, 1, 1, false #EG881
	Load data/panel-back3.jpg, ElevDoorsB_Trim, 1, 1, false

	Load data/EG881/elevdoorright_tan.jpg, ElevDoorsC, -1, 1, false #EG881 #Shaft doors, 1st-2nd floors
	Load data/EG881/elevdoorleft_tan.jpg, ElevDoorsC2, -1, 1, false #EG881
	Load data/EG881/elevdoortrim_tan.jpg, ElevDoorsC_Trim, 1, 1, false #EG881

	Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD, -1, 1, false #EG881 #Car doors (Service elevator)
	Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD2, 1, 1, false #EG881

	Load data/door1.jpg, ElevDoorsE, 1, 1, false #Shaft doors, service elevators, 1st-11th floors
	Load data/door1.jpg, ElevDoorsE2, -1, 1, false
	Load data/elevpanelsilver.jpg, ElevDoorsE_Trim, 1, 1, false

	Load data/door2.jpg, ElevDoorsF, 1, 1, false #Shaft doors, service elevators, 12th floor
	Load data/door2.jpg, ElevDoorsF2, -1, 1, false
	Load data/Melvin/elevpanelmetal.jpg, ElevDoorsF_Trim, 1, 1, false

	Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
	Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881

	####################

	#Elevator fixtures
	#Hall buttons
	Load data/Mitsubishi_MTS/CallButtons/ButtonUp.png, ButtonUp, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonUpLit.png, ButtonUpLit, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonDown.png, ButtonDown, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonDownLit.png, ButtonDownLit, 1, 1

	#Car buttons
	Load data/Mitsubishi_MTS/256x256/ButtonBlank.jpg, Button, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonBlank.jpg, ButtonLit, 1, 1
	AddTextRange 1, 13, Button, Button%number%, nimbus_sans.ttf, 110, %number%, -1, -1, -1, -1, center, center, 81, 79, 80
	AddTextRange 1, 13, ButtonLit, ButtonLit%number%, nimbus_sans.ttf, 110, %number%, -1, -1, -1, -1, center, center, 254, 249, 183

	Load data/Mitsubishi_MTS/256x256/ButtonOpen.jpg, ButtonOpen, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonClose.jpg, ButtonClose, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonStop-Running.jpg, ButtonStop-Run, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonStop-Stopped.jpg, ButtonStop-Stop, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonAlarm.jpg, ButtonAlarm, 1, 1

	#Car indicators
	Load data/black.jpg, IndBack, 1, 1, false
	Load data/black.jpg, Ind_Background, 1, 1, false
	AddTextRange 1, 13, IndBack, Ind_Button%number%, Mitsubishi-Modern-V2.ttf, 60, %number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrow2.jpg, ArrowUnlit, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrowUp2.jpg, ArrowUpLit, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrowDown2.jpg, ArrowDownLit, 1, 1, false #Test Tower

	#Hall indicators
	Load data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, LanternUp, 1, 1, false #Test Tower
	LoadAnimated data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, LanternUpLit, 0.5, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, LanternDown, 1, -1, false #Test Tower
	LoadAnimated data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, LanternDownLit, 0.5, 1, -1, false #Test Tower
	AddTextRange 1, 13, Black2, OutsideInd_Button%number%, Mitsubishi-Modern-V2.ttf, 110, %number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower

	########################################

	#Signs
	#Pictograms
	Load data/signs_mod/Restroom2.png, Sign_RestroomW, 1, 1, false
	Load data/signs_mod/Restroom3.png, Sign_RestroomM, 1, 1, false
	Load data/signs_mod/Elevators.png, Sign_Elevators, 1, 1, false

	#Elevator number signs (Inside)
	Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
	AddTextRange 1, 6, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

	#Floor signs (Blank)
	AddTextRange 1, 14, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
	AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

	#Exit signs
	Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
	Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
	Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
	Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
	#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false
<EndTextures>

############################################################

#Floor Assignments
<Floor -1>
	ID = -1
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -11.5
<EndFloor>

<Floor 0>
	ID = %floor% + 1
	Name = Lobby
	Type = Lobby
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -1.5
	Group = 1
<EndFloor>

<Floor 1>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Recreation
	Height = 10.5
	InterfloorHeight = 1.5
	Group = 0
<EndFloor>

<Floors 2 to 3>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Recreation
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

<Floors 4 to 11>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Office
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloors>

<Floor 12>
	ID = %floor% + 1
	Name = Main Roof
	Type = Roof
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 13>
	ID = %floor% + 1
	Name = Mechanical
	Type = Mechanical
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 14>
	ID = R
	Name = Rooftop
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

############################################################

#Landscape
#Coordinate Set
Set MainX = -548
Set MainZ = 2740 + 195
Set InDRTH = true

#Tranquility City Landscape
<Include buildings/KW_Maps/Tranquility City.txt>

Cut Landscape, -60 - 10, -1, -30 - 10, 60 + 10 + 34, 1, 30 + 10 + 100 + 10, false, true

#Perimeter Sidewalk/Grass
FloorOrientation = top
DrawWalls = false, true, false, false, false, false
AddFloor landscape, GrassFront1, Grass_Dark, 0, -60, -40, -40, -30, 0, 0, 0, 0
AddFloor landscape, GrassFront2, Grass_Dark, 0, -20, -40, 0, -30, 0, 0, 0, 0
AddFloor landscape, GrassFront3, Grass_Dark, 0, 20, -40, 60, -30, 0, 0, 0, 0

DrawWalls = true, true, true, true, true, true
AddFloor landscape, SidewalkFront1, Sidewalk, 0.5, -40, -40, -20, -30, 0, 0, 0, 0
AddFloor landscape, SidewalkFront2, Sidewalk, 0.5, 0, -40, 20, -30, 0, 0, 0, 0
AddFloor landscape, SidewalkLeft, Sidewalk, 0.5, -70, -40, -60, 40, 0, 0, 0, 0
AddFloor landscape, SidewalkRight, Sidewalk, 0.5, 60, -40, 70, 40, 0, 0, 0, 0
AddFloor landscape, SidewalkBack, Sidewalk, 0.5, -60, 30, 60, 40, 0, 0, 0, 0

#Sidewalks around parking lot
AddFloor landscape, PLSidewalkLeft, Sidewalk, 0.5, -70, 40, -60, 40 + 100 + 10, 0, 0, 0, 0
AddFloor landscape, PLSidewalkRight, Sidewalk, 0.5, 60 + 10 + 24, -40, 60 + 10 + 34, 40 + 100 + 10, 0, 0, 0, 0
AddFloor landscape, PLSidewalkBack, Sidewalk, 0.5, -60, 40 + 100, 60 + 10 + 24, 40 + 100 + 10, 0, 0, 0, 0

#Parking lot
DrawWalls = true, true, false, false, false, false
SetAutoSize = false, true
AddFloor landscape, PLEntranceRoad, 2LaneTwoWayZ, 0, 60 + 10, -40, 60 + 10 + 24, 40, -0.5, -0.5, 0, 0
SetAutoSize = true, true
AddFloor landscape, ParkingLot, Road, 0, -60, 40, 60 + 10 + 24, 40 + 100, -0.5, -0.5, 0, 0

#1st Street sidewalk cuts for parking entrance
Cut Landscape, 70, -1, -55, 94, 1, -40, false, true
Cut Landscape, 70, -1, -55 - 0.1, 94, 1, -55 + 0.1, true, false
Cut Landscape, 70, -1, -40 - 0.1, 94, 1, -40 + 0.1, true, false

DrawWalls = false, true, false, false, false, false
AddFloor landscape, PLEntranceRoad2, Road, 0, 70, -55, 94, -40, -0.5, -0.5, 0, 0

AddWall landscape, ParkingEnt-SidewalkFiller1, Sidewalk, 0, 70, -55, 70, -40, 0.5, 0.5, -0.5, -0.5, 0, 0
DrawWalls = true, false, false, false, false, false
AddWall landscape, ParkingEnt-SidewalkFiller2, Sidewalk, 0, 94, -55, 94, -40, 0.5, 0.5, -0.5, -0.5, 0, 0

############################################################

#Functions
#Windows functions
<Function WindowsX2>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set TitleX = %param11%
	Set TitleZ = %param12%

	#Filler Walls
	if[%Direction% = left | %Direction% = Left] WallOrientation = Left
	if[%Direction% = right | %Direction% = Right] WallOrientation = Right
	AddFillerWalls %FillerWallTexture%, 0.5, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, false, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = left | %Direction% = Left] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX% + 0.5, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = right | %Direction% = Right] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - 0.5, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%
	AddWall %Name%, %MainPositiveTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

<Function WindowsZ2>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set TitleX = %param11%
	Set TitleZ = %param12%

	#Filler Walls
	if[%Direction% = front | %Direction% = Front] WallOrientation = Left
	if[%Direction% = back | %Direction% = Back] WallOrientation = Right
	AddFillerWalls %FillerWallTexture%, 0.5, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, true, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = front | %Direction% = Front] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ% + 0.5, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = back | %Direction% = Back] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ% - 0.5, %PositionX% + (%Width% / 2), %PositionZ%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%
	AddWall %Name%, %MainPositiveTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ%, %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

########################################

#Shaft function (Elevator shafts)
<Function CreateShaft>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set MROffset = %param8% #Machine Room Offset

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, Concrete1, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, Concrete1, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, Concrete1, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, Concrete1, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, Concrete1, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

########################################

#Elevator interior function
<Function ElevInterior>
	Set FloorTex = %param1%
	Set CeilingTex = %param2%
	Set WallTex_X = %param3%
	Set WallTex_Z = %param4%
	Set WidthX = %param5%
	Set LengthZ = %param6%
	Set Direction = %param7%
	Set ElevHeight = %param8%

	Set ElevWidth = %WidthX% / 2
	Set ElevLength = %LengthZ% / 2

	#Floor
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %FloorTex%, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Floor, %FloorTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, 0, 0, 0, 0

	#Ceiling
	FloorOrientation = bottom
	TextureOverride %CeilingTex%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Ceiling, %CeilingTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0

	#Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ElevExt, %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Front & %Direction% ! front] AddWall Front, %WallTex_Z%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, -%ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride ElevExt, %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Left & %Direction% ! left] AddWall Left, %WallTex_X%, 0.2, -%ElevWidth%, -%ElevLength%, -%ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	WallOrientation = right
	TextureOverride %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Right & %Direction% ! right] AddWall Right, %WallTex_X%, 0.2, %ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Back & %Direction% ! back] AddWall Back, %WallTex_Z%, 0.2, -%ElevWidth%, %ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
<EndFunction>

########################################

#Door track and top filler functions
<Function AddDoorTrack>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set Texture = %param7% #Door Track Texture

	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %Texture%, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Track, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight%, %interfloorheight%, 0, 0
<EndFunction>

<Function AddTopFiller>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set DoorHeight = %param7% #Door Height
	Set Texture = %param8% #Top Filler Texture

	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Texture%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Filler, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight% + %DoorHeight%, %interfloorheight% + %DoorHeight%, 0, 0
<EndFunction>

###########################################################

#Exterior and interior
#Set wall textures
<Function WallTex>
	if[%floor% = 0 | %floor% = 1] Set 6 = LobbyWall #Wall Texture
	if[%floor% = 2 | %floor% = 3] Set 6 = CommonWall #Wall Texture
	if[%floor% > 3 & %floor% < 12] Set 6 = MainWall #Wall Texture
	if[%floor% = 12 | %floor% = 13] Set 6 = ServiceWall #Wall Texture
	if[%floor% = 14] Set 6 = ExternalFacade #Wall Texture
<EndFunction>

#Lobby wall height
<Function LbyWallHeight>
	if[%floor% = 1] Set LbyWallHeight = %fullheight%
	if[%floor% = 1] Set LbyWallOffset = -%interfloorheight%
<EndFunction>

#1st-12th floors
<Floors 0 to 11>
	#Sets
	Set 1 = 60 #Building Dimension X
	Set 2 = 30 #Building Dimension Z
	if[%floor% = 0 | %floor% = 1] Set 5 = LobbyFloor #Floor Texture
	if[%floor% = 2 | %floor% = 3] Set 5 = CommonFloor #Floor Texture
	if[%floor% > 3] Set 5 = MainFloor #Floor Texture
	WallTex() #Set wall texture
	if[%floor% = 0] Set 7 = LobbyCeiling2 #Ceiling Texture
	if[%floor% = 1] Set 7 = LobbyCeiling #Ceiling Texture
	if[%floor% > 1] Set 7 = MainCeiling #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Floor, %5%, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false


	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor Ceiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	########################################

	#Interior Walls
	Set WallHeight = %height%
	Set WallOffset = 0
	Set RestroomHeight = 8.5

	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	LbyWallHeight() #Set Lobby Walls' Height & Offset

	if[%floor% = 1] AddWall Front1, %6%, 0.5, -%1% + 12, -%2%, 20, -%2%, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false
	if[%floor% ! 1] AddWall_CustomTex(Front1, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1% + 12, -%2%, 20, -%2%, 4, %WallHeight% - 4, 0, 0, false)
	AddWall_CustomTex(Front2, 2, BlackTrim, RestroomWall, Blank, 0.5, 20, -%2%, 40, -%2%, 0.5, %RestroomHeight% - 0.5, 0, 0, false)

	if[%floor% < 6] AddWall_CustomTex(Left, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1%, -%2% + 24, -%1%, %2% - 20, 4, %WallHeight% - 4, 0, 0, false)
	if[%floor% > 5] AddWall_CustomTex(Left, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1%, -%2% + 24, -%1%, %2%, 4, %WallHeight% - 4, 0, 0, false)

	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1] AddWall_CustomTex(Right, 2, %6%Lower, %6%Upper, Blank, 0.5, %1%, -%2% + 24, %1%, %2% - 9, 4, %WallHeight% - 4, 0, 0, false)
	if[%floor% = 1] AddWall_CustomTex(Right1, 2, %6%Lower, %6%Upper, Blank, 0.5, %1%, -%2% + 24, %1%, 10.5, 4, %WallHeight% - 4, 0, 0, false)
	if[%floor% = 1] AddWall Right2, %6%, 0.5, %1%, 10.5, %1%, %2% - 9, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false

	if[%floor% ! 1 & %floor% < 6] AddWall_CustomTex(Back, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1% + 9, %2%, %1% - 30, %2%, 4, %WallHeight% - 4, 0, 0, false)
	if[%floor% = 1] AddWall_CustomTex(Back1, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1% + 9, %2%, 0, %2%, 4, %WallHeight% - 4, 0, 0, false)
	if[%floor% = 1] AddWall Back2, %6%, 0.5, 0, %2%, %1% - 30, %2%, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false
	if[%floor% > 5] AddWall_CustomTex(Back, 2, %6%Lower, %6%Upper, Blank, 0.5, -%1%, %2%, %1% - 30, %2%, 4, %WallHeight% - 4, 0, 0, false)

	########################################

	#Exterior Walls
	if[%floor% > 0] Set WallHeight = %fullheight%
	if[%floor% > 0] Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Front, ExternalFacade, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, ExternalFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall Right, ExternalFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Back, ExternalFacade, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#External shaft walls
	#Common elevators
	if[%floor% < 6] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, 0.33, -55.5, 20, 4.5, 10, 1, 4, 0, true, false, true, false, false, false, false)
	if[%floor% < 6] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, 0.33, -55.5, 20, 4.5, 10, 1, %height% - 4, 4, true, false, true, false, false, false, false)

	#Office elevators
	if[%floor% < 2] Set ShowFront = false
	if[%floor% > 1] Set ShowFront = true
	if[%floor% < 2] Set ShowLeft = false
	if[%floor% > 1] Set ShowLeft = true
	CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, 0.33, 45, 25.5, 15, 4.5, 2, 4, 0, %ShowFront%, %ShowLeft%, false, false, false, false, false)
	CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, 0.33, 45, 25.5, 15, 4.5, 2, %height% - 4, 4, %ShowFront%, %ShowLeft%, false, false, false, false, false)

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	Set LbyWallHeight = %height% + Floor(1).FullHeight
	if[%floor% = 0] AddWall_CustomTex(Shaft2FrontE, 2, %6%Lower, %6%Upper, Blank, 0.5, 30, 21, 60, 21, 4, %LbyWallHeight% - 4, 0, 0, false)
	if[%floor% = 0] AddWall_CustomTex(Shaft2LeftE, 2, %6%Lower, %6%Upper, Blank, 0.5, 30, 21, 30, 30, 4, %LbyWallHeight% - 4, 0, 0, false)

	#Service elevator
	CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, ServiceLobbyWall_Lower, %6%Lower, %6%Lowe, 0.33, 45, -24, 5, 6, 3, 4, 0, false, false, false, true, false, false, false)
	CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, ServiceLobbyWall_Upper, %6%Upper, %6%Uppe, 0.33, 45, -24, 5, 6, 3, %height% - 4, 4, false, false, false, true, false, false, false)

	########################################

	#External stairwell walls
	#West stairwell
	if[%floor% = 1] Set ShowRight = false
	if[%floor% ! 1] Set ShowRight = true
	CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%Lower, 0.33, -54, -18, 6, 12, 1, 4, 0, false, false, %ShowRight%, true, false, false, false)
	CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%Upper, 0.33, -54, -18, 6, 12, 1, %height% - 4, 4, false, false, %ShowRight%, true, false, false, false)

	WallOrientation = right
	LbyWallHeight() #Set Lobby Walls' Height & Offset
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddWall Stair1RightE, %6%, 0.5, -%1% + 12, -%2%, -%1% + 12, -%2% + 24, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false

	#East stairwell
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall_CustomTex(Stair2LeftE, 2, ServiceLobbyWall_Lower, ServiceLobbyWall_Upper, Blank, 0.5, 50, -18, 50, -6, 4, %height% - 4, 0, 0, false)
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall_CustomTex(Stair2BackE, 2, %6%Lower, %6%Upper, Blank, 0.5, 50, -6, 60, -6, 4, %height% - 4, 0, 0, false)
<EndFloor>

<Floors 0 to 1>
	#Lobby atrium cuts
	#South entrance
	if[%floor% = 0] Cut -48, %fullheight% - 1, -30, -30, %fullheight% + 1, 0 - 0.5 - 8.5, false, true
	if[%floor% = 1] Cut -48, %interfloorheight% - 1, -30, -30, %interfloorheight% + 1, 0 - 0.5 - 8.5, false, true
	if[%floor% = 0] Cut -30, %fullheight% - 1, -30, 20, %fullheight% + 1, 0 - 0.5, false, true
	if[%floor% = 1] Cut -30, %interfloorheight% - 1, -30, 20, %interfloorheight% + 1, 0 - 0.5, false, true

	#Office elevator lobby
	if[%floor% = 0] Cut 0, %fullheight% - 1, 10.5, 60, %fullheight% + 1, 30, false, true
	if[%floor% = 1] Cut 0, %interfloorheight% - 1, 10.5, 60, %interfloorheight% + 1, 30, false, true

	#Railing
	WallTex() #Set wall texture
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	#if[%floor% = 1] AddWall SouthEntIFloorCover1, %6%, 0.5, -48, -6, -48, 0, %interfloorheight% + 1, %interfloorheight% + 1, -%interfloorheight%, -%interfloorheight%, 0, 0, false
	if[%floor% = 1] AddWall SouthEntIFloorCover2, %6%, 0.5, -30, 0, 20, 0, %interfloorheight% + 1, %interfloorheight% + 1, -%interfloorheight%, -%interfloorheight%, 0, 0, false
	WallOrientation = left
	if[%floor% = 1] AddWall SouthEntIFloorCover3, %6%, 0.5, 20, -6, 20, 0, %interfloorheight% + 1, %interfloorheight% + 1, -%interfloorheight%, -%interfloorheight%, 0, 0, false
	if[%floor% = 1] AddWall LobbyEscIFC, %6%Lower, 0.5, -48 + 0.05, -9, -30, -9, %interfloorheight% + 3.5, %interfloorheight% + 3.5, -%interfloorheight%, -%interfloorheight%, 0, 0, false
	if[%floor% = 1] AddWall LobbyEscEntWall, %6%Lower, 0.05, -48, -9, -48, -6, %interfloorheight% + 4, %interfloorheight% + 4, -%interfloorheight%, -%interfloorheight%, 0, 0, false

	DrawWalls = true, true, false, false, false, false
	#if[%floor% = 1] AddWall SouthEntGlassPane1, MainWindowsInt2, 0, -48, -6, -48, -0.5, %height% - 1, %height% - 1, 1, 1, 0.5, 1, false
	#if[%floor% = 1] AddWall SouthEntGlassPane2A, MainWindowsInt2, 0, -48, -0.5, -40, -0.5, %height% - 1, %height% - 1, 1, 1, 1, 1, false
	if[%floor% = 1] AddWall SouthEntGlassPane2B, MainWindowsInt2, 0, -30, -0.5, 20, -0.5, %height% - 1, %height% - 1, 1, 1, 5, 1, false
	if[%floor% = 1] AddWall SouthEntGlassPane3, MainWindowsInt2, 0, 20, -6, 20, -0.5, %height% - 1, %height% - 1, 1, 1, 0.5, 1, false

	DrawWalls = true, true, true, false, true, false
	if[%floor% = 1] AddWall OfficeElevLbyIFloorCover, %6%, 0.5, 0, 10, 60, 10, %interfloorheight% + 1, %interfloorheight% + 1, -%interfloorheight%, -%interfloorheight%, 0, 0, false
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 1] AddWall OfficeElevLbyGlassPanesA, MainWindowsInt2, 0, 0, 10.5, 50, 10.5, %height% - 1, %height% - 1, 1, 1, 5, 1, false
	if[%floor% = 1] AddWall OfficeElevLbyGlassPanesB, MainWindowsInt2, 0, 50, 10.5, 59.5, 10.5, %height% - 1, %height% - 1, 1, 1, 1, 1, false
<EndFloors>

<Floor 0>
	#Entrance doors
	WallTex() #Set wall texture
	Set Texture = EntranceDoor

	#South entrances
	#Access point S1
	Set MainX = -30
	WallOrientation = left
	TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 8, %interfloorheight%, 0, 0
	TextureOverride %Texture%Ext_Key, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 8, %interfloorheight%, 0, 0
	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(EntranceS1_Trim, 1, extfloor, 270, %Texture%Side, 0.5 + 0.02, %MainX%, -%2% - 0.01, 6, 8, %interfloorheight%, 0.2, 0, 0, true)
	SetAutoSize = true, true

	#Windows around doors
	WindowsZ2(EntS1_Windows1, %MainX% - 7 + 1.75, -%2%, front, 3.5, 7, 1, MainWindowsB, MainWindowsIntB, %6%, 0.25, 1)
	WindowsZ2(EntS1_Windows2, %MainX% + 7 - 1.75, -%2%, front, 3.5, 7, 1, MainWindowsB, MainWindowsIntB, %6%, 0.25, 1)

	#Access point S2
	Set MainX = 10
	WallOrientation = left
	TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 8, %interfloorheight%, 0, 0
	TextureOverride %Texture%Ext_Key, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 8, %interfloorheight%, 0, 0
	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(EntranceS2_Trim, 1, extfloor, 270, %Texture%Side, 0.5 + 0.02, %MainX%, -%2% - 0.01, 6, 8, %interfloorheight%, 0.2, 0, 0, true)
	SetAutoSize = true, true

	#Windows around doors
	WindowsZ2(EntS2_Windows1, %MainX% - 7 + 1.75, -%2%, front, 3.5, 7, 1, MainWindowsB, MainWindowsIntB, %6%, 0.25, 1)
	WindowsZ2(EntS2_Windows2, %MainX% + 7 - 1.75, -%2%, front, 3.5, 7, 1, MainWindowsB, MainWindowsIntB, %6%, 0.25, 1)

	########################################

	#North entrances
	#Access point N1
	Set MainX = -30
	WallOrientation = right
	TextureOverride %Texture%Int, %Texture%Ext_Key, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 7, 75, %MainX% - 1.5, %2%, 3, 8, %interfloorheight%, 0, 0
	TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 6, 75, %MainX% + 1.5, %2%, 3, 8, %interfloorheight%, 0, 0
	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(EntranceN1_Trim, 1, extfloor, 90, %Texture%Side, 0.5 + 0.02, %MainX%, %2% + 0.01, 6, 8, %interfloorheight%, 0.2, 0, 0, true)
	SetAutoSize = true, true

	#Windows around doors
	WindowsZ2(EntN1_Windows1, %MainX% - 7 + 1.75, %2%, back, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %6%, 0.25, 1)
	WindowsZ2(EntN1_Windows2, %MainX% + 7 - 1.75, %2%, back, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %6%, 0.25, 1)

	#Northeast entrance
	#Access point N2
	Set MainX = 10
	WallOrientation = right
	TextureOverride %Texture%Int, %Texture%Ext_Key, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 7, 75, %MainX% - 1.5, %2%, 3, 8, %interfloorheight%, 0, 0
	TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 6, 75, %MainX% + 1.5, %2%, 3, 8, %interfloorheight%, 0, 0
	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(EntranceN2_Trim, 1, extfloor, 90, %Texture%Side, 0.5 + 0.02, %MainX%, %2% + 0.01, 6, 8, %interfloorheight%, 0.2, 0, 0, true)
	SetAutoSize = true, true

	#Windows around doors
	WindowsZ2(EntN2_Windows1, %MainX% - 7 + 1.75, %2%, back, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %6%, 0.25, 1)
	WindowsZ2(EntN2_Windows2, %MainX% + 7 - 1.75, %2%, back, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %6%, 0.25, 1)

	########################################

	#East entrance
	Set MainZ = 5
	WallOrientation = right
	TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 2, 75, %1%, %MainZ% - 1.5, 3, 8, %interfloorheight%, 0, 0
	TextureOverride %Texture%Int, %Texture%Ext_Key, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%Int, 0.2, 3, 75, %1%, %MainZ% + 1.5, 3, 8, %interfloorheight%, 0, 0
	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(EntE_Trim, 1, extfloor, 0, %Texture%Side, 0.5 + 0.02, %1% + 0.01, %MainZ%, 6, 8, %interfloorheight%, 0.2, 0, 0, true)
	SetAutoSize = true, true
<EndFloor>

<Function RoomDoors_Tex>
	if[%floor% = 1] Set DoorTex = Door9b
	if[%floor% > 1] Set DoorTex = Door9
	if[%floor% = 1] Set TrimTex = Door9bSide
	if[%floor% > 1] Set TrimTex = Door9Side
<EndFunction>

<Function RoomDoors1>
	Set Position1 = %param1%
	Set Position2 = %param2%
	Set RoomNo = %param3%

	WallOrientation = right
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 7, 75, %Position1% - 1.5, 10.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 6, 75, %Position1% + 1.5, 10.5, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 7, 75, %Position2% - 1.5, 10.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 6, 75, %Position2% + 1.5, 10.5, 3, 7, 0, 0, 0

	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(Room%RoomNo%_Trim1, 1, floor, 90, %TrimTex%, 0.5 + 0.02, %Position1%, 10.5 + 0.01, 6, 7, 0, 0.2, 0, 0, true)
	OP_Trim(Room%RoomNo%_Trim2, 1, floor, 90, %TrimTex%, 0.5 + 0.02, %Position2%, 10.5 + 0.01, 6, 7, 0, 0.2, 0, 0, true)
	SetAutoSize = true, true
<EndFunction>

<Function RoomDoors1A>
	Set Position = %param1%
	Set RoomNo = %param2%

	WallOrientation = right
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 7, 75, %Position% - 1.5, 10.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 6, 75, %Position% + 1.5, 10.5, 3, 7, 0, 0, 0

	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(Room%RoomNo%_Trim, 1, floor, 90, %TrimTex%, 0.5 + 0.02, %Position%, 10.5 + 0.01, 6, 7, 0, 0.2, 0, 0, true)
	SetAutoSize = true, true
<EndFunction>

<Function RoomDoors2>
	Set Position1 = %param1%
	Set Position2 = %param2%
	Set RoomNo = %param3%

	WallOrientation = left
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 8, 75, %Position1% - 1.5, -0.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 5, 75, %Position1% + 1.5, -0.5, 3, 7, 0, 0, 0

	WallOrientation = left
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 8, 75, %Position2% - 1.5, -0.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 5, 75, %Position2% + 1.5, -0.5, 3, 7, 0, 0, 0

	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(Room%RoomNo%_Trim1, 1, floor, 270, %TrimTex%, 0.5 + 0.02, %Position1%, -0.5 - 0.01, 6, 7, 0, 0.2, 0, 0, true)
	OP_Trim(Room%RoomNo%_Trim2, 1, floor, 270, %TrimTex%, 0.5 + 0.02, %Position2%, -0.5 - 0.01, 6, 7, 0, 0.2, 0, 0, true)
	SetAutoSize = true, true
<EndFunction>

<Function RoomDoors2A>
	Set Position = %param1%
	Set RoomNo = %param2%

	WallOrientation = left
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 8, 75, %Position% - 1.5, -0.5, 3, 7, 0, 0, 0
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, 5, 75, %Position% + 1.5, -0.5, 3, 7, 0, 0, 0

	SetAutoSize = false, false
	OP_Draw(true, true, true, false)
	OP_Trim(Room%RoomNo%_Trim, 1, floor, 270, %TrimTex%, 0.5 + 0.02, %Position%, -0.5 - 0.01, 6, 7, 0, 0.2, 0, 0, true)
	SetAutoSize = true, true
<EndFunction>

#Common Levels Hallways
<Floors 1 to 3>
	WallTex() #Set wall texture
	DrawWalls = true, true, false, false, false, false

	#Northern side
	WallOrientation = left
	if[%floor% > 1] Set WallEndpoint = 30.5
	if[%floor% = 1] Set WallEndpoint = 0

	if[%floor% > 1] AddWall_CustomTex(ElevLobbyWall, 2, %6%Lower, %6%Upper, Blank, 0.5, -51, 10, -40, 10, 4, %height% - 4, 0, 0, false)
	AddWall_CustomTex(NorthHallway-Front1, 2, %6%Lower, %6%Upper, Blank, 0.5, -40, 10, %WallEndpoint%, 10, 4, %height% - 4, 0, 0, false)
	if[%floor% > 1] AddWall_CustomTex(NorthHallway-Front2, 2, %6%Lower, %6%Upper, Blank, 0.5, 30.5, 10, 60, 10, 4, %height% - 4, 0, 0, false)
	AddWall_CustomTex(NorthHallway-Left, 2, %6%Lower, %6%Upper, Blank, 0.5, -40, 10, -40, 30, 4, %height% - 4, 0, 0, false)
	if[%floor% > 1] AddWall_CustomTex(StorageDividerWall, 2, %6%Lower, %6%Upper, Blank, 0.5, 30, 10, 30, 21, 4, %height% - 4, 0, 0, false)

	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 1] AddWall_CustomTex(OfficeElevLbyDivWall, 2, %6%Lower, %6%Upper, Blank, 0.5, 0, 10, 0, 30, 4, %height% - 4, 0, 0, false)
	DrawWalls = false, true, false, false, false, false
	LbyWallHeight() #Set Lobby Walls' Height & Offset
	if[%floor% = 1] AddWall OfficeElevLbyDivWall, %6%, 0.5, 0, 10, 0, 30, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false

	#Southern side
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 1] AddWall_CustomTex(SouthHallway-Left, 2, %6%Lower, %6%Upper, Blank, 0.5, -48.5, -6, -48.5, 0, 4, %height% - 4, 0, 0, false)
	WallOrientation = right
	if[%floor% > 1] AddWall_CustomTex(SouthHallway-Back, 2, %6%Lower, %6%Upper, Blank, 0.5, -48.5, 0, 20.5, 0, 4, %height% - 4, 0, 0, false)
	if[%floor% > 1] AddWall_CustomTex(SouthHallway-Right, 2, %6%Lower, %6%Upper, Blank, 0.5, 20.5, -6, 20.5, 0, 4, %height% - 4, 0, 0, false)

	#Room divider walls
	WallOrientation = center
	if[%floor% > 1] AddWall_CustomTex(Room1-2DividerWall, 2, %6%Lower, %6%Upper, Blank, 1, 0, 10, 0, 30, 4, %height% - 4, 0, 0, false)
	if[%floor% > 1] AddWall_CustomTex(Room3-4DividerWall, 2, %6%Lower, %6%Upper, Blank, 1, -20, -30, -20, 0, 4, %height% - 4, 0, 0, false)

	#Storage room doors
	WallOrientation = left
	TextureOverride Door1, Door1, Door1Side, Door1Side, Door1Side, Door1Side
	if[%floor% > 1] AddDoor , , false, Door1, 0.2, 8, 75, 45 - 1.5, 10, 3, 7, 0, 0, 0
	TextureOverride Door1, Door1, Door1Side, Door1Side, Door1Side, Door1Side
	if[%floor% > 1] AddDoor , , false, Door1, 0.2, 5, 75, 45 + 1.5, 10, 3, 7, 0, 0, 0

	OP_Draw(true, true, true, false)
	if[%floor% > 1] OP_Trim(Storage_Trim, 1, floor, 270, BlackTrim, 0.5 + 0.02, 45, 10 - 0.01, 6, 7, 0, 0.2, 0, 0, true)

	########################################

	#Elevator lobby doors
	WallOrientation = right
	TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
	if[%floor% > 1] AddDoor , , false, Door9b, 0.2, 7, 75, -45.5 - 1.5, 10.25 + 0.1, 3, 7, 0, 0, 0	
	TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
	if[%floor% > 1] AddDoor , , false, Door9b, 0.2, 6, 75, -45.5 + 1.5, 10.25 + 0.1, 3, 7, 0, 0, 0

	OP_Draw(true, true, true, false)
	if[%floor% > 1] OP_Trim(ElevatorLobbyTrim, 1, floor, 270, BlackTrim, 0.5 + 0.02, -45.5, 10 - 0.01, 6, 7, 0, 0.2, 0, 0, true)

		#Elevator lobby sign
		if[%floor% = 1] Set SignPosition = -51 - 0.5
		if[%floor% > 1] Set SignPosition = -45.5
		AddBoxSign(ElevatorLobbySign, Sign_Elevators, Sign_Elevators, BlackTrim, 0.1, false, true, true, %SignPosition%, 10 - 0.75, 1.5, 1.5, 7.5, false)

	#Room doors
	RoomDoors_Tex()
	RoomDoors1(-30, -10, %floorid%01)
	if[%floor% > 1] RoomDoors1A(15, %floorid%02)
	if[%floor% > 1] RoomDoors2(10, -10, %floorid%03)
	if[%floor% > 1] RoomDoors2A(-30, %floorid%04)
<EndFloors>

#Office levels elevator lobbies
<Floors 4 to 11>
	WallTex() #Set wall texture
	DrawWalls = true, true, false, false, false, false

	#Elevator lobby walls
	WallOrientation = left
	AddWall_CustomTex(ElevLobbyWall, 2, %6%Lower, %6%Upper, Blank, 0.5, 20, -6, 20, 30, 4, %height% - 4, 0, 0, false)

	#Elevator lobby doors
	WallOrientation = right
	TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
	AddDoor , , false, Door88, 0.2, 2, 75, 20.25 + 0.1, 5 - 1.5, 3, 7, 0, 0, 0
	TextureOverride Door88, Door88, Door88Side, Door88Side, Door88Side, Door88Side
	AddDoor , , false, Door88, 0.2, 3, 75, 20.25 + 0.1, 5 + 1.5, 3, 7, 0, 0, 0

	OP_Draw(true, true, true, false)
	OP_Trim(ElevLobbyTrim, 1, floor, 0, BlackTrim, 0.5 + 0.02, 20.5 + 0.01, 5, 6, 7, 0, 0.2, 0, 0, true)

	#Exit sign
	AddBoxSign(EastHallwaySign, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, 20 - 0.05, 5, 1.8, 0.9, 7.2, false)
<EndFloors>

<Floors 0 to 11>
	WallTex() #Set wall texture

	#Restrooms
	#Cuts for restrooms
	CutAll 20, %interfloorheight% - 0.1, -%2%, 40, %interfloorheight% + 0.1, -6 - 0.5 + 0.2, false, true

	#Restroom floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor RestroomFloor, RestroomFloor, 0.5, 20, -%2%, 40, -6 - 0.5, 0, 0, 0, 0, false
	AddFloor RestroomFloorTrim, BlackTrim, 0.5, 20, -6 - 0.5, 40, -6 - 0.5 + 0.2, 0, 0, 0, 0, false

	#Restroom ceiling
	Set RestroomHeight = 8.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor RestroomCeiling, DropCeiling, 0.5, 20, -%2%, 40, -6, %RestroomHeight%, %RestroomHeight%, 0, 0, false

	#Restroom walls
	LbyWallHeight() #Set Lobby Walls' Height & Offset

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 1] AddWall RestroomWallLeft_Ext, %6%, 0.5, 20, -%2%, 20, -6, %LbyWallHeight%, %LbyWallHeight%, %LbyWallOffset%, %LbyWallOffset%, 0, 0, false
	if[%floor% ! 1] AddWall_CustomTex(RestroomWallLeft_Ext, 2, %6%Lower, %6%Upper, Blank, 0.5, 20, -%2%, 20, -6, 4, %height% - 4, 0, 0, false)
	DrawWalls = false, true, false, false, false, false
	AddWall_CustomTex(RestroomWallLeft_Int, 2, BlackTrim, RestroomWall, Blank, 0.5, 20, -%2%, 20, -6, 0.5, %RestroomHeight% - 0.5, 0, 0, false)
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall_CustomTex(RestroomWallCenter, 2, BlackTrim, RestroomWall, Blank, 1, 30, -%2%, 30, -6, 0.5, %RestroomHeight% - 0.5, 0, 0, false)
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall_CustomTex(RestroomWallRight_Int, 2, BlackTrim, RestroomWall, Blank, 0.5, 40, -%2%, 40, -6, 0.5, %RestroomHeight% - 0.5, 0, 0, false)
	AddWall_CustomTex(RestroomWallBack_Int, 2, BlackTrim, RestroomWall, Blank, 0.5, 20, -6, 40, -6, 0.5, %RestroomHeight% - 0.5, 0, 0, false)
	DrawWalls = false, true, false, false, false, false
	#AddWall_CustomTex(RestroomWallRight_Ext, 2, %6%Lower, %6%Upper, Blank, 0.5, 40, -6, 40, 0, 4, %height% - 4, 0, 0, false)
	AddWall_CustomTex(RestroomWallBack_Ext, 2, %6%Lower, %6%Upper, Blank, 0.5, 20, -6, 40, -6, 4, %height% - 4, 0, 0, false)

	#Restroom doors
	WallOrientation = left
	TextureOverride Door6, Door6, Door6Side, Door6Side, Door6Side, Door6Side
	AddDoor , , false, Door6, 0.2, 5, 75, 30 - 0.5 - 2, -6.5, 3, 7, 0, 0, 0	
	TextureOverride Door6, Door6, Door6Side, Door6Side, Door6Side, Door6Side
	AddDoor , , false, Door6, 0.2, 8, 75, 30 + 0.5 + 2, -6.5, 3, 7, 0, 0, 0	

	AddFillerWalls ConnectionWall, 0.5, 30 - 0.5 - 2, -6.5, 3, 7, 0, true, 0, 0, false
	AddFillerWalls ConnectionWall, 0.5, 30 + 0.5 + 2, -6.5, 3, 7, 0, true, 0, 0, false

	#Signs
	DrawWalls = false, true, false, false, false, false
	AddWall RestroomSign1, Sign_RestroomW, 0, (30 - 2.5 - 2.5) - 0.25, -6 + 0.001, (30 - 2.5 - 2.5) + 0.25, -6 + 0.001, 1, 1, 4.5, 4.5, 0, 0, false
	AddWall RestroomSign2, Sign_RestroomM, 0, (30 + 2.5 + 2.5) - 0.25, -6 + 0.001, (30 + 2.5 + 2.5) + 0.25, -6 + 0.001, 1, 1, 4.5, 4.5, 0, 0, false

	########################################

	#Service elevator lobby
	Set ServiceHeight = %height%

	CutAll 40, %interfloorheight% - 0.1, -%2%, 50, %interfloorheight% + 0.1, -6, false, true
	CutAll 40, %fullheight% - 0.1, -%2%, 50, %fullheight% + 0.1, -6, false, true

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor SELobbyFloor, ServiceLobbyFloor, 0.5, 40, -%2%, 50, -6, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor SELobbyCeiling, ServiceLobbyCeiling, 0.5, 40, -%2%, 50, -6, %ServiceHeight%, %ServiceHeight%, 0, 0, false

	#Walls
	#WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall_CustomTex(SELobbyLeft_Int, 2, ServiceLobbyWall_Lower, ServiceLobbyWall_Upper, Blank, 0.5, 40, -18, 40, -6, 4, %ServiceHeight% - 4, 0, 0, false) 

	WallOrientation = right
	AddWall_CustomTex(SELobbyBack_Ext, 2, %6%Lower, %6%Upper, Blank, 0.5, 40, -6, 50, -6, 4, %height% - 4, 0, 0, false) 
	DrawWalls = true, false, false, false, false, false
	AddWall_CustomTex(SELobbyBack_Int, 2, ServiceLobbyWall_Lower, ServiceLobbyWall_Upper, Blank, 0.5, 40, -6, 50, -6, 4, %ServiceHeight% - 4, 0, 0, false) 

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddDoor , , false, ServiceDoor2, 0.2, 7, 75, 45 - 1.5, -6, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddDoor , , false, ServiceDoor2, 0.2, 6, 75, 45 + 1.5, -6, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, 45, -6, 6, 7, 0, true, 0, 0, false

	#OP_Draw(true, true, true, false)
	#OP_Trim(SELobby_Trim, 1, floor, 90, BlackTrim, 0.5 + 0.02, 45, -6 + 0.01, 6, 7, 0, 0.2, 0, 0, true)
<EndFloors>

#13th floor (Main roof)
<Floor 12>
	#Sets
	Set 1 = 60 #Building Dimension X
	Set 2 = 30 #Building Dimension Z
	Set 5 = ServiceFloor #Floor Texture
	WallTex() #Set wall texture
	Set 7 = ServiceCeiling #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, RoofFloor, 0.5, -%1%, -%2%, 20, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor Floor, %5%, 0.5, 20, -%2%, %1%, %2%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor Ceiling, %7%, 0.5, 20, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	########################################

	#Railings
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall Front, ExternalFacade, 0.5, -%1% + 0.5, -%2%, 20, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, ExternalFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall Back, ExternalFacade, 0.5, -%1% + 0.5, %2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#Interior Walls
	Set WallHeight = %height%
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall Front, %6%, 0.5, 20, -%2%, %1% - 20, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall Left, %6%, 0.5, 20, -%2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall Right, %6%, 0.5, %1%, -%2% + 24, %1%, %2% - 9, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall Back, %6%, 0.5, 20, %2%, 30, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Exterior Walls
	Set WallHeight = %fullheight% + (Floor(13).InterfloorHeight / 2)
	Set WallHeight2 = %height% + (Floor(13).InterfloorHeight / 2)
	Set WallOffset = 0
	Set WallOffset2 = %interfloorheight%

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Front, ExternalFacade, 0.5, 20, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, ExternalFacade, 0.5, 20, -%2%, 20, %2%, %WallHeight2%, %WallHeight2%, %WallOffset2%, %WallOffset2%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall Right, ExternalFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Back, ExternalFacade, 0.5, 20, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#External shaft & stairwell walls
	#Office elevators
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 45, 25.5, 15, 4.5, 2, %height%, 0, true, true, false, false, false, false, false)

	#Service elevator
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 45, -24, 5, 6, 3, %height%, 0, false, true, false, true, false, false, false)

	#East stairwell
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 55, -18, 5, 12, ST2, %height%, 0, false, false, false, true, false, false, false)
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Stair2LeftE, %6%, 0.5, 50, -18, 50, -6, %height%, %height%, 0, 0, 0, 0, false

	########################################

	#Roof access doors
	Set MainZ = 10
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddExternalDoor , , false, ServiceDoor2, 0.2, 4, 75, 20, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddExternalDoor , , false, ServiceDoor2, 0.2, 1, 75, 20, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
	OP_Draw(true, true, true, false)
	OP_Trim(RoofAccess1, 1, extfloor, 180, BlackTrim, 0.5 + 0.02, 20 - 0.01, %MainZ%, 6, 7, %interfloorheight%, 0.2, 0, 0, true)

	Set MainZ = -10
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddExternalDoor , , false, ServiceDoor2, 0.2, 4, 75, 20, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddExternalDoor , , false, ServiceDoor2, 0.2, 1, 75, 20, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
	OP_Draw(true, true, true, false)
	OP_Trim(RoofAccess2, 1, extfloor, 180, BlackTrim, 0.5 + 0.02, 20 - 0.01, %MainZ%, 6, 7, %interfloorheight%, 0.2, 0, 0, true)
<EndFloor>

#14th floor (Mechanical)
<Floor 13>
	#Sets
	Set 1 = 60 #Building Dimension X
	Set 2 = 30 #Building Dimension Z
	Set 5 = ServiceFloor #Floor Texture
	WallTex() #Set wall texture
	Set 7 = ServiceCeiling #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Floor, %5%, 0.5, 20, -%2%, %1%, %2%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor Ceiling, %7%, 0.5, 20, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	########################################

	#Interior Walls
	Set WallHeight = %height% + (%interfloorheight% / 2) + (Floor(14).InterfloorHeight / 2)
	Set WallOffset = -(%interfloorheight% / 2)

	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall Front, VentsInt, 0.5, 20, -%2%, 40, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 1, 1, false
	#AddWall Front2, %6%, 0.5, 40, -%2%, %1% - 20, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall Left, VentsInt, 0.5, 20, -%2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 3, 1, false
	#AddWall Left2, %6%, 0.5, 20, %2% - 10, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall Right1, %6%, 0.5, %1%, -%2% + 24, %1%, -5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall Right2, VentsInt, 0.5, %1%, -5, %1%, %2% - 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2, 1, false
	AddWall Right3, %6%, 0.5, %1%, %2% - 10, %1%, %2% - 9, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall Back, VentsInt, 0.5, 20, %2%, 30, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 1, 1, false

	########################################

	#Exterior Walls
	Set WallHeight = %height% + (%interfloorheight% / 2) + (Floor(14).InterfloorHeight / 2)
	Set WallOffset = %interfloorheight% / 2

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Front1, VentsExt, 0.5, 20, -%2%, 40, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 1, 1, true
	AddWall Front2, ExternalFacade, 0.5, 40, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, VentsExt, 0.5, 20, -%2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 3, 1, true
	#AddWall Left2, ExternalFacade, 0.5, 30, %2% - 10, 30, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall Right1, ExternalFacade, 0.5, %1%, -%2%, %1%, -5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Right2, VentsExt, 0.5, %1%, -5, %1%, %2% - 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2, 1, true
	AddWall Right3, ExternalFacade, 0.5, %1%, %2% - 10, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Back1, VentsExt, 0.5, 20, %2%, 30, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 1, 1, true
	AddWall Back2, ExternalFacade, 0.5, 30, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#External shaft & stairwell walls
	#Office elevators
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 45, 25.5, 15, 4.5, 2, %height%, 0, true, true, false, false, false, false, false)

	#Service elevator
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 45, -24, 5, 6, 3, %height%, 0, false, true, false, true, false, false, false)

	#East stairwell
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 55, -18, 5, 12, ST2, %height%, 0, false, false, false, true, false, false, false)
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Stair2LeftE, %6%, 0.5, 50, -18, 50, -6, %height%, %height%, 0, 0, 0, 0, false
<EndFloor>

########################################

<Floors 0 to 11>
	#Windows
	Set WindowsTiling = 1
	WallTex() #Set wall texture

	#Front Windows
	#WindowsZ2(Front1, -50, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Front2, -30, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)
	WindowsZ2(Front3, -10, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Front4, 10, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Restroom_Windows1, 25 + 4 - 2, -%2%, front, 4, 2, %RestroomHeight% - 2.5, MainWindowsB, MainWindowsIntB, RestroomWall, 0.25, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Restroom_Windows2, 35, -%2%, front, 8, 2, %RestroomHeight% - 2.5, MainWindowsB, MainWindowsIntB, RestroomWall, 0.5, %WindowsTiling%)
	#WindowsZ2(Front5, 30, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)
	#WindowsZ2(Front6, 50, -%2%, front, 15, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, %WindowsTiling%)

	#Left Windows
	WindowsX2(Left, -%1%, 5.25, left, 7.5, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.5, %WindowsTiling%)

	#Right Windows
	if[%floor% > 0] WindowsX2(Right, %1%, 5.25, right, 7.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, %WindowsTiling%)

	#Back Windows
	if[%floor% > 5] WindowsZ2(Back1, -50, %2%, back, 15, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, %WindowsTiling%)
	if[%floor% < 6] WindowsZ2(Back1, -42.5 - 3.75, %2%, back, 7.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Back2, -30, %2%, back, 15, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, %WindowsTiling%)
	WindowsZ2(Back3, -10, %2%, back, 15, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, %WindowsTiling%)
	if[%floor% > 0] WindowsZ2(Back4, 10, %2%, back, 15, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, %WindowsTiling%)
	WindowsZ2(Back5, 25.25, %2%, back, 7.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, %WindowsTiling%)
	#WindowsZ2(Back6, 50, %2%, back, 15, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.75, %WindowsTiling%)
<EndFloors>

########################################

#Rooftop
<Floor 14>
	#Sets
	Set 1 = 60 #Building Dimension X
	Set 2 = 30 #Building Dimension Z
	Set 5 = RoofFloor #Floor Texture
	WallTex() #Set wall texture
	Set 7 = Concrete1 #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, %5%, 0.5, 20, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling
	DrawWalls = true, true, false, false, false, false
	TextureOverride %7%, ExternalFacade, ExternalFacade, ExternalFacade, ExternalFacade, ExternalFacade
	AddFloor E6MachineRoom-Ceiling, %7%, 0.5, 40, -18, 50, -6, %fullheight%, %fullheight%, 0, 0, true

	########################################

	#Railings
	Set WallHeight = (%interfloorheight% / 2) + 4.5
	Set WallOffset = %interfloorheight% / 2

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	#AddWall Front, ExternalFacade, 0.5, -%1% + 0.5, -%2%, %1% - 10, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Front, ExternalFacade, 0.5, 20 + 0.5, -%2%, %1% - 20, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#AddWall Left, ExternalFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Left, ExternalFacade, 0.5, 20, -%2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall Right, ExternalFacade, 0.5, %1%, -%2% + 24, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#AddWall Back, ExternalFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall Back, ExternalFacade, 0.5, 20 + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#Interfloor covers
	Set WallHeight = %interfloorheight% / 2
	Set WallOffset = %interfloorheight% / 2

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Front, ExternalFacade, 0.5, %1% - 20, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall Right, ExternalFacade, 0.5, %1%, -%2%, %1%, -%2% + 24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################
	
	#Elevator machine room walls
	Set 6A = ServiceWall

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %6%, %6A%, %6%, %6%, %6%, %6%
	AddWall E6MachineRoom-Left, %6%, 0.5, 40, -18, 40, -6, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	WallOrientation = right
	TextureOverride %6A%, %6%, %6%, %6%, %6%, %6%
	AddWall E6MachineRoom-Back, %6%, 0.5, 40, -6, 50, -6, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Elevator machine room doors
	Set Texture = ServiceDoor2
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 4, 75, 40, -11 + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 1, 75, 40, -11 - 1.5, 3, 7, %interfloorheight%, 0, 0
	OP_Trim(E6MREntrance_Trim, 1, extfloor, 180, BlackTrim, 0.66 + 0.02, 40 - 0.01, -11, 6, 7, %interfloorheight%, 0.2, 0, 0, true)

	########################################

	#External shaft & stairwell walls
	#Service elevator
	CreateShaftWall(%6%, %6%, %6%, %6A%, %6%, %6%, 0.33, 45, -24, 5, 6, 3, %height%, %interfloorheight%, true, true, false, true, true, false, true)

	#East stairwell
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 55, -18, 5, 12, ST2, %height%, %interfloorheight%, true, false, true, true, true, false, true)
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall Stair2LeftE, %6A%, 0.5, 50, -18, 50, -6, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
<EndFloor>

########################################

<Floors 0 to 11>
	#Set Values
	Set 1 = 60 #Building Dimension X
	Set 2 = 30 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#Corner Supports
	if[%floor% > 5] CreateWallBox2 External, SupportNW, %6%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportNE, %6%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportSW, %6%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportSE, %6%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#North Supports
	CreateWallBox2 External, SupportN1, %6%, -%1% + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportN2, %6%, -%1% + (%DistanceX% * 2), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#South Supports
	CreateWallBox2 External, SupportS1, %6%, -%1% + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS2, %6%, -%1% + (%DistanceX% * 2), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#West Supports
	CreateWallBox2 External, SupportW, %6%, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#East Supports
	CreateWallBox2 External, SupportE, %6%, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
<EndFloors>

###########################################################

#Stairwells
#Global Settings
<Function StairwellSets>
	#Set Values
	if[%floor% < 2] Set NumSteps = 12 #Total: 24 steps
	if[%floor% > 1 & %floor% < 12] Set NumSteps = 11 #Total: 22 steps
	if[%floor% = 12 | %floor% = 13] Set NumSteps = 12 #Total: 24 steps

	if[%floor% < 2] Set StairsEndpoint = 6 #Stairs length: 12 feet
	if[%floor% > 1 & %floor% < 12] Set StairsEndpoint = 5.5 #Stairs length: 11 feet
	if[%floor% = 12 | %floor% = 13] Set StairsEndpoint = 6 #Stairs length: 12 feet
	
	#Extra sets at transition points
	if[%floor% ! 2] Set StairsEndpointA = %StairsEndpoint%
	if[%floor% = 2] Set StairsEndpointA = 6
	if[%floor% = 12] Set StairsEndpointB = 5.5
<EndFunction>

########################################

#West stairwell
CreateStairwell 1, -54, -18, 0, 11
CutStairwell 1, -5.5, -11.5, 5.5, 11.5, 0, 5
ShowFullStairs 1 = true

<Floor 0>
	Cut -60, %interfloorheight% - 0.1, -12, -59.5, %interfloorheight% + 0.1, -6.5, false, true
<EndFloor>

<Floors 0 to 11>
	Set 21 = -54 #Center X
	Set 22 = -18 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 11] AddStairsFloor %25%, StairsCeiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, 0, 0

	#Floor signs
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Sign, BlankSign%floorid%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0
<EndFloors>

<Floors 0 to 11>
	StairwellSets() #Determine stairs' size

	#Stairs
	OP_Draw(true, true, false, false, false, true)
	if[%floor% < 11] OP_OrthoStair(%25%, LowerStairs, Stairs, -%23%, -%23% + 5, back, %StairsEndpoint%, %NumSteps%, 1, 0.5, 0, 0.5)
	OP_Draw(true, true, false, false, true, false)
	if[%floor% < 11] OP_OrthoStair(%25%, UpperStairs, Stairs, %23% - 5, %23%, front, -%StairsEndpoint%, %NumSteps%, 1, 0.5, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LowerLanding, StairsLanding, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LowerLandingExtra, StairsLanding, 0.5, -%23% - 0.5, 6, -%23%, %24%, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 0] AddStairsFloor %25%, LowerLanding, StairsLanding, 0.5, -%23%, %StairsEndpointA%, %23%, %24%, 0, 0, 0, 0
	if[%floor% < 11] AddStairsFloor %25%, UpperLanding, StairsLanding, 0.5, -%23%, -%24%, %23%, -%StairsEndpoint%, %26% * %NumSteps%, %26% * %NumSteps%, 0, 0

	#Extra landings at transition points
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 2] AddStairsFloor %25%, LowerLandingExtra2, StairsLanding, 0.5, -%23%, %StairsEndpoint%, -%23% + 5, %StairsEndpointA%, 0, 0, 0, 0

	#Landing covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 0] AddStairsWall %25%, LandingLowerCover, StairsRail, 0.5, -%23%, %StairsEndpointA%, %23% - 5, %StairsEndpointA%, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% < 11] AddStairsWall %25%, LandingUpperCover, StairsRail, 0.5, -%23% + 5, -%StairsEndpoint%, %23%, -%StairsEndpoint%, 0.5, 0.5, (%26% * %NumSteps%) - 0.5, (%26% * %NumSteps%) - 0.5, 0, 0

	########################################

	#Railings
	Set Position1 = -%23% + 5 #Lower stairs
	Set Position2 = %23% - 5 #Upper stairs

	#Rails next to stairs
	Set End = %StairsEndpoint%
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% < 11] AddStairsWall %25%, RailingLower, StairsRail, 0.2, %Position1%, -%End%, %Position1%, %End%, 3.5 + 0.5, 3.5 + 0.5, (%26% * %NumSteps%) - 0.5, 0 - 0.5, 0, 0

	Set NumSteps2 = %NumSteps% * 2
	WallOrientation = right
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% < 11] AddStairsWall %25%, RailingUpper, StairsRail, 0.2, %Position2%, -%End%, %Position2%, %End%, 3.5 + 0.5, 3.5 + 0.5, (%26% * %NumSteps%) - 0.5, (%26% * %NumSteps2%) - 0.5, 0, 0

	#Rails next to landings
	WallOrientation = right
	if[%floor% < 11] AddStairsWall %25%, RailingUpperA, StairsRail, 0.2, %Position1%, -%End%, %Position2%, -%End%, 3.5, 3.5, %26% * %NumSteps%, %26% * %NumSteps%, 0, 0
	WallOrientation = left
	if[%floor% > 0 & %floor% < 11] AddStairsWall %25%, RailingLowerA, StairsRail, 0.2, %Position1%, %StairsEndpointA%, %Position2%, %StairsEndpointA%, 3.5, 3.5, 0, 0, 0, 0
	if[%floor% = 11] AddStairsWall %25%, RailingLowerA, StairsRail, 0.2, -%23%, %End%, %Position2%, %End%, 3.5, 3.5, 0, 0, 0, 0

	#Extra railings at transition points
	WallOrientation = left
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% = 2] AddStairsWall %25%, RailingLower-Extra, StairsRail, 0.2, %Position1%, %StairsEndpoint%, %Position1%, %StairsEndpointA%, 3.5 + 0.5, 3.5 + 0.5, 0 - 0.5, 0 - 0.5, 0, 0

	########################################

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddExternalDoor , , false, ServiceDoor2, 0.2, 5, 75, %21% + %23% - 2, %22% + %24%, 3, 7, %interfloorheight%, 0, 0

	#Emergency Exit Door
	SetLock 1, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddExternalDoor , , false, ServiceDoor2, 0.2, 4, 75, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7, %interfloorheight%, 0, 0
	SetLock 0, 0

	#Door trims
	OP_Draw(true, true, true, false)
	OP_Trim(Stairwell1_Trim, 1, extfloor, 90, BlackTrim, 0.5 + 0.02, %21% + %23% - 2, %22% + %24% + 0.5 + 0.01, 3, 7, %interfloorheight%, 0.2, 0, 0, true)
	#if[%floor% = 0] OP_Trim(Stairwell1_Exit, 1, extfloor, 180, BlackTrim, 0.5 + 0.02, %21% - %23% - 0.5 - 0.01, %22% + %24% - 2, 3, 7, %interfloorheight%, 0.2, 0, 0, true)

		#Emergency exit trim
		WallOrientation = left
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit sign
	AddBoxSign(Stair1_Exit1, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% + 0.5 + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	AddBoxSign(Stair1_Exit2, StainlessSteel, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %21% + %23% - 2, 5, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair1_Exit3, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloor>

########################################

#East stairwell
CreateStairwell 2, 55, -18, 0, 14
CutStairwell 2, -4.5, -11.5, 4.5, 11.5, 0, 5
ShowFullStairs 2 = true

<Floor 0>
	Cut 59.5, %interfloorheight% - 0.1, -12, 60, %interfloorheight% + 0.1, -6.5, false, true
<EndFloor>

<Floors 0 to 14>
	Set 21 = 55 #Center X
	Set 22 = -18 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 14] AddStairsFloor %25%, StairsCeiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, 0, 0

	#Floor signs
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Sign, BlankSign%floorid%, 0, 1 - 1, %24% - 0.001, 1 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0
<EndFloors>

<Floors 0 to 14>
	StairwellSets() #Determine stairs' size

	#Stairs
	OP_Draw(true, true, false, false, false, true)
	if[%floor% < 14] OP_OrthoStair(%25%, LowerStairs, Stairs, %23% - 4, %23%, back, %StairsEndpoint%, %NumSteps%, 1, 0.5, 0, 0.5)
	OP_Draw(true, true, false, false, true, false)
	if[%floor% < 14] OP_OrthoStair(%25%, UpperStairs, Stairs, -%23%, -%23% + 4, front, -%StairsEndpoint%, %NumSteps%, 1, 0.5, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LowerLanding, StairsLanding, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LowerLandingExtra, StairsLanding, 0.5, %23%, 6, %23% + 0.5, %24%, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 0] AddStairsFloor %25%, LowerLanding, StairsLanding, 0.5, -%23%, %StairsEndpointA%, %23%, %24%, 0, 0, 0, 0
	if[%floor% < 14] AddStairsFloor %25%, UpperLanding, StairsLanding, 0.5, -%23%, -%24%, %23%, -%StairsEndpoint%, %26% * %NumSteps%, %26% * %NumSteps%, 0, 0

	#Extra landings at transition points
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 2] AddStairsFloor %25%, LowerLandingExtra2, StairsLanding, 0.5, %23% - 4, %StairsEndpoint%, %23%, %StairsEndpointA%, 0, 0, 0, 0
	if[%floor% = 12] AddStairsFloor %25%, LowerLandingExtra2, StairsLanding, 0.5, -%23%, %StairsEndpointB%, -%23% + 4, %StairsEndpoint%, 0, 0, 0, 0

	#Landing covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 0] AddStairsWall %25%, LandingLowerCover, StairsRail, 0.5, -%23% + 4, %StairsEndpointA%, %23%, %StairsEndpointA%, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% < 14] AddStairsWall %25%, LandingUpperCover, StairsRail, 0.5, -%23%, -%StairsEndpoint%, %23% - 4, -%StairsEndpoint%, 0.5, 0.5, (%26% * %NumSteps%) - 0.5, (%26% * %NumSteps%) - 0.5, 0, 0

	########################################

	#Railings
	Set Position1 = %23% - 4 #Lower stairs
	Set Position2 = -%23% + 4 #Upper stairs

	#Rails next to stairs
	Set End = %StairsEndpoint%
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% < 14] AddStairsWall %25%, RailingLower, StairsRail, 0.2, %Position1%, -%End%, %Position1%, %End%, 3.5 + 0.5, 3.5 + 0.5, (%26% * %NumSteps%) - 0.5, 0 - 0.5, 0, 0

	Set NumSteps2 = %NumSteps% * 2
	WallOrientation = left
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% < 14] AddStairsWall %25%, RailingUpper, StairsRail, 0.2, %Position2%, -%End%, %Position2%, %End%, 3.5 + 0.5, 3.5 + 0.5, (%26% * %NumSteps%) - 0.5, (%26% * %NumSteps2%) - 0.5, 0, 0

	#Rails next to landings
	WallOrientation = right
	if[%floor% < 14] AddStairsWall %25%, RailingUpperA, StairsRail, 0.2, %Position2%, -%End%, %Position1%, -%End%, 3.5, 3.5, %26% * %NumSteps%, %26% * %NumSteps%, 0, 0
	WallOrientation = left
	if[%floor% > 0 & %floor% < 14] AddStairsWall %25%, RailingLowerA, StairsRail, 0.2, %Position2%, %StairsEndpointA%, %Position1%, %StairsEndpointA%, 3.5, 3.5, 0, 0, 0, 0
	if[%floor% = 14] AddStairsWall %25%, RailingLowerA, StairsRail, 0.2, %Position2%, %End%, %23%, %End%, 3.5, 3.5, 0, 0, 0, 0

	#Extra railings at transition points
	WallOrientation = right
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% = 2] AddStairsWall %25%, RailingLower-Extra, StairsRail, 0.2, %Position1%, %StairsEndpoint%, %Position1%, %StairsEndpointA%, 3.5 + 0.5, 3.5 + 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	WallOrientation = left
	TextureOverride StairsRail, StairsRail, StairsRail, StairsRail, StairsRail, Stairs
	if[%floor% = 12] AddStairsWall %25%, RailingUpper-Extra, StairsRail, 0.2, %Position2%, %StairsEndpointB%, %Position2%, %StairsEndpoint%, 3.5 + 0.5, 3.5 + 0.5, 0 - 0.5, 0 - 0.5, 0, 0

	########################################

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < 14] AddExternalDoor , , false, ServiceDoor2, 0.2, 8, 75, %21% - %23% + 2, %22% + %24%, 3, 7, %interfloorheight%, 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 14] AddExternalDoor , , false, ServiceDoor2, 0.2, 6, 75, %21% - %23% + 2, %22% + %24% + 0.5, 3, 7, %interfloorheight%, 0, 0

	#Emergency Exit Door
	SetLock 2, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddExternalDoor , , false, ServiceDoor2, 0.2, 3, 75, %21% + %23% + 0.5, %22% + %24% - 2, 3, 7, %interfloorheight%, 0, 0
	SetLock 0, 0

	#Door trims
	OP_Draw(true, true, true, false)
	OP_Trim(Stairwell2_Trim, 1, extfloor, 90, BlackTrim, 0.5 + 0.02, %21% - %23% + 2, %22% + %24% + 0.5 + 0.01, 3, 7, %interfloorheight%, 0.2, 0, 0, true)
	#if[%floor% = 0] OP_Trim(Stairwell2_Exit, 1, extfloor, 0, BlackTrim, 0.5 + 0.02, %21% + %23% + 0.5 + 0.01, %22% + %24% - 2, 3, 7, %interfloorheight%, 0.2, 0, 0, true)

		#Emergency exit trim
		WallOrientation = right
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% + 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit sign
	if[%floor% < 14] AddBoxSign(Stair2_Exit1, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.5 + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 14] AddBoxSign(Stair2_Exit1, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% < 14] AddBoxSign(Stair2_Exit2, ExitSignRight, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% + 2, 5, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair2_Exit3, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloor>

###########################################################

#Escalators
OP_Draw(true, true, true, true, true, true)

#Set escalator properties
OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)
OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
OP_EscTruss(SilverBalustrade2, LobbyWall2, 0.5, 3.5, 0, 0, 0, 0)

#Escalator creation
<Floor 0>
	OP_Escalator(LobbyEsc1-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -30, -2.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(LobbyEsc2-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -30, -6.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

###########################################################

#Shaftworks and elevators
#Common Elevators
CreateShaft(1, -55.5, 20, 4.17, 9.67, -1, 5, %interfloorheight%)

#Elevator machine room doors
<Floor 5>
	Set Texture = ServiceDoor2
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 3, 75, -51, 20 + 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 2, 75, -51, 20 - 1.5, 3, 7, 0, 0, 0
	OP_Trim(Shaft1_MRTrim, 1, floor, 0, BlackTrim, 0.66 + 0.02, -51 + 0.01, 20, 6, 7, 0, 0.2, 0, 0, true)
<EndFloor>

<Elevator 1>
	Name = Common Elevator 1
	Type = Local
	Speed = 5.5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 3
	AssignedShaft = 1
	CreateElevator false, -54.66, 15, 0
<EndElevator>

<Elevator 2>
	Name = Common Elevator 2
	Type = Local
	Speed = 5.5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 3
	AssignedShaft = 1
	CreateElevator false, -54.66, 25, 0
<EndElevator>

<Function BtnPanelE1-2>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button4, ButtonLit4, 6, 2, 3, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 7, 2, 2, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 8, 2, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 9, 2, 0, 1, 1
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 11, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 11, 3, close, 1, 1
<EndFunction>

<Elevators 1 to 2>
	#Interiors
	ElevInterior(ElevFloor, ElevCeiling, ElevWall, ElevWall, 5, 7.5, right, 7.5)

	#Panels on walls
		#Front panels
		CreateWallBox2 elevator, Panel_F1, ElevWallPanel, 0 - (4.6 * 1/4), -3.55 + 0.01, (4.6 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, ElevWallPanel, 0 + (4.6 * 1/4), -3.55 + 0.01, (4.6 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, ElevWallPanel, 0 - (4.6 * 1/4), 3.55 - 0.01, (4.6 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, ElevWallPanel, 0 + (4.6 * 1/4), 3.55 - 0.01, (4.6 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, ElevWallPanel, -2.3 + 0.01, 0 - (7.1 * 1/3), 0.02, (7.1 * 1/3) - 0.3, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, ElevWallPanel, -2.3 + 0.01, 0, 0.02, (7.1 * 1/3) - 0.3, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L3, ElevWallPanel, -2.3 + 0.01, 0 + (7.1 * 1/3), 0.02, (7.1 * 1/3) - 0.3, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true

	#Panels
	WallOrientation = right
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevPanelMain, ElevExt, ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Left Panel, ElevPanelMain, 0.2, 2.5, 2, 2.5, 3.75, 7.5, 7.5, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevPanelMain, ElevExt, ElevExt, ElevPanelMain, ElevExt, ElevExt
	AddWall Right Panel, ElevPanelMain, 0.2, 2.5, -3.75, 2.5, -2, 7.5, 7.5, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevPanelTop
	AddWall Top Panel, ElevPanelTop, 0.2, 2.5, -2, 2.5, 2, 0.5, 0.5, 7, 7, 0, 0

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 2.3 - 0.001, 0 - 0.25, 2.3 - 0.001, 0 + 0.25, 0.5, 0.5, 7, 7, 0, 0

	#Car Doors
	WallOrientation = left
	AddDoorComponent 1, Left, ElevDoorsAA, ElevDoorsAA, 0.2, right, 0.6, 2.5, 0, 2.5, 2, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, ElevDoorsAA2, ElevDoorsAA2, 0.2, left, 0.6, 2.5, -2, 2.5, 0, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackX, 0.05, 2.5, -2 - 2, 2.7, 2 + 2, 0, 0, 0, 0

	#Button panel
	#Panel back (right)
	Set PanelCenter = -2.775
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack1, ElevPanel, 0.05, 2.3, %PanelCenter% - 0.4, 2.3, %PanelCenter% + 0.4, 4.55 + 0.1, 4.55 + 0.1, 2.2, 2.2, 0, 0

	#Buttons
	CreatePanel Blank, 11, 3, left, 2.3 - 0.051, %PanelCenter%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0
	BtnPanelE1-2(1)

	#Panel back (left)
	#Set PanelCenter = 2.775
	#WallOrientation = right
	#DrawWalls = true, false, true, true, true, true
	#AddWall PanelBack2, ElevPanel, 0.05, 2.3, %PanelCenter% - 0.4, 2.3, %PanelCenter% + 0.4, 4.55 + 0.1, 4.55 + 0.1, 2.2, 2.2, 0, 0

	#CreatePanel Blank, 11, 3, left, 2.3 - 0.051, %PanelCenter%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0
	#BtnPanelE1-2(2)

	#Indicator sets
	Set MainZ = -2.775
	Set IndOffset = 6.1 - 0.2

	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, 2.3 - 0.051, %MainZ% - 0.3, 2.3 - 0.051, %MainZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, 2.3 - 0.052, %MainZ% + 0.125, %IndOffset% + 0.4 + 0.05, left, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, left, 2.3 - 0.052, %MainZ% - 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Ropes
	RopePosition = 0, 7.5 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, -2.5 - 0.5, 0, 0.5, 6, 2, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.75 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, -2.5 - 0.5, 0, true, 1 + 0.06, 0.1
<EndElevators>

########################################

<Floors 0 to 3>
	if[%floor% < 2] Set DoorTexture = ElevDoorsC
	if[%floor% > 1] Set DoorTexture = ElevDoorsAB

	#Shaft Doors
	Set StartNo = 1
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, 2.8, -2, 2.8, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 2.8, 0, 2.8, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, 2.8, -2, 2.8, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 2.8, 0, 2.8, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	#Door tracks
	AddDoorTrack(1, 1, 4.17 - 0.33 - 0.2, 4.17 - 0.33, -5 - 2 - 2, -5 + 2 + 2, ElevDoorTrackX)
	AddDoorTrack(2, 1, 4.17 - 0.33 - 0.2, 4.17 - 0.33, 5 - 2 - 2, 5 + 2 + 2, ElevDoorTrackX)

	########################################

	#Call buttons
	if[%floor% < 2] Set PanelTexture = Brass
	if[%floor% > 1] Set PanelTexture = StainlessSteel

	CallButtonElevators = 1, 2
	CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -51 + 0.001, 20, 3.5, right, 0.5, 1, true, 0, 0

	#Signs
	DrawWalls = false, true, false, false, false, false
	AddWall E1-2HallSign, FireSign, 0, -51 + 0.001, (20 + 0.2 + 0.4) - 0.25, -51 + 0.001, (20 + 0.2 + 0.4) + 0.25, 0.75, 0.75, 4 - 0.375, 4 - 0.375, 0, 0, false
	AddWall E1-2HallSign, BlankSign%floorid%, 0, -51 + 0.001, 20 - 0.75, -51 + 0.001, 20 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false

	########################################

	#Wall cuts for decos
	WallOrientation = right
	if[%floor% < 2] AddFillerWalls Blank, 0.1, -51, 15, 4 + 2, 7 + 3.5, 0, false, 0, 0, false #Elevator 1
	if[%floor% < 2] AddFillerWalls Blank, 0.1, -51, 25, 4 + 2, 7 + 3.5, 0, false, 0, 0, false #Elevator 2

	#Decos
	if[%floor% < 2] Set DecoTex = LobbyDeco
	#if[%floor% > 1] Set DecoTex = LobbyDeco2
	if[%floor% < 2] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, 1, -51, 15, 4, 7, 10.5, 3.5, 0, false, Blank, 0) #Elevator 1
	if[%floor% < 2] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, 1, -51, 25, 4, 7, 10.5, 3.5, 0, false, Blank, 0) #Elevator 2

	#Door trims
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, right, true, false, floor, 0, 0.2, -51 + 0.01, 15, 4, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 1
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, right, true, false, floor, 0, 0.2, -51 + 0.01, 25, 4, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 2

	########################################

	#Indicator sets
	#Indicator texture specification
	MitsubishiInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %PanelTexture%, OutsideInd_Button)

	#Indicator creation
	if[%floor% < 2] Set IndOffset = 7.75
	if[%floor% > 1] Set IndOffset = 7.5
	MitsubishiLobbyInds(right, 1, -51, 15, %IndOffset%, 0, 3)
	MitsubishiLobbyInds(right, 2, -51, 25, %IndOffset%, 0, 3)
<EndFloors>

########################################

#Office Elevators
CreateShaft(2, 45, 25.5, 14.67, 4.17, -1, 13, %interfloorheight%)

#Elevator machine room doors
<Floor 13>
	Set Texture = ServiceDoor2
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, 45 + 1.5, 21, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, 45 - 1.5, 21, 3, 7, 0, 0, 0
	OP_Trim(Shaft2_MRTrim, 1, floor, 270, BlackTrim, 0.66 + 0.02, 45, 21 - 0.01, 6, 7, 0, 0.2, 0, 0, true)
<EndFloor>

<Elevator 3>
	Name = Office Elevator 1
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 4 - 11
	AssignedShaft = 2
	CreateElevator false, 35, 24.66, 0
<EndElevator>

<Elevator 4>
	Name = Office Elevator 2
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 4 - 11
	AssignedShaft = 2
	CreateElevator false, 45, 24.66, 0
<EndElevator>

<Elevator 5>
	Name = Office Elevator 3
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 4 - 11
	AssignedShaft = 2
	CreateElevator false, 55, 24.66, 0
<EndElevator>

<Function BtnPanelE3-5>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button12, ButtonLit12, 6, 3, 11, 1, 1
	AddButton %PanelNumber%, , Button11, ButtonLit11, 7, 3, 10, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 8, 3, 9, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 9, 3, 8, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 6, 1, 7, 1, 1
	AddButton %PanelNumber%, , Button7, ButtonLit7, 7, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 8, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 9, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 10, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 12, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 12, 3, close, 1, 1
<EndFunction>

<Elevators 3 to 5>
	#Interiors
	ElevInterior(OfficeElevFloor, OfficeElevCeiling, OfficeElevWall, OfficeElevWall, 7.5, 5, front, 8)

	#Panels on walls
	Set Prefix = Office
		#Back panels
		CreateWallBox2 elevator, Panel_B1, %Prefix%ElevWallPanel, 0 - (7.1 * 1/3), 2.3 - 0.01, (7.1 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %Prefix%ElevWallPanel, 0, 2.3 - 0.01, (7.1 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B3, %Prefix%ElevWallPanel, 0 + (7.1 * 1/3), 2.3 - 0.01, (7.1 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %Prefix%ElevWallPanel, -3.55 + 0.01, 0 - (4.6 * 1/4), 0.02, (4.6 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %Prefix%ElevWallPanel, -3.55 + 0.01, 0 + (4.6 * 1/4), 0.02, (4.6 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %Prefix%ElevWallPanel, 3.55 - 0.01, 0 - (4.6 * 1/4), 0.02, (4.6 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %Prefix%ElevWallPanel, 3.55 - 0.01, 0 + (4.6 * 1/4), 0.02, (4.6 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true

	#Panels
	WallOrientation = left
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, OfficeElevPanelMain, OfficeElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Left Panel, OfficeElevPanelMain, 0.2, 2, -2.5, 3.75, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, OfficeElevPanelMain, ElevExt, OfficeElevPanelMain, ElevExt, ElevExt
	AddWall Right Panel, OfficeElevPanelMain, 0.2, -3.75, -2.5, -2, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, OfficeElevPanelTop, ElevExt, ElevExt, ElevExt, OfficeElevPanelTop
	AddWall Top Panel, OfficeElevPanelTop, 0.2, -2, -2.5, 2, -2.5, 1, 1, 7, 7, 0, 0

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -2.3 + 0.001, 0 + 0.25, -2.3 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Car Doors
	WallOrientation = right
	AddDoorComponent 1, Left, ElevDoorsA, ElevDoorsA, 0.2, right, 0.6, 0, -2.5, 2, -2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, ElevDoorsA2, ElevDoorsA2, 0.2, left, 0.6, -2, -2.5, 0, -2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - 2, -2.7, 2 + 2, -2.5, 0, 0, 0, 0

	#Button panel
	#Panel back (right)
	Set PanelCenter = -2.775
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack1, ElevPanel, 0.05, %PanelCenter% - 0.4, -2.3, %PanelCenter% + 0.4, -2.3, 4.55 + 0.1, 4.55 + 0.1, 2.2, 2.2, 0, 0

	#Buttons
	CreatePanel Blank, 12, 3, back, %PanelCenter%, -2.3 + 0.051, 0.15, 0.15, 0.22, 0.25, 4, 0, 0
	BtnPanelE3-5(1)

	#Panel back (left)
	Set PanelCenter = 2.775
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack2, ElevPanel, 0.05, %PanelCenter% - 0.4, -2.3, %PanelCenter% + 0.4, -2.3, 2.5, 2.5, 2.2, 2.2, 0, 0

	CreatePanel Blank, 12, 3, back, %PanelCenter%, -2.3 + 0.051, 0.15, 0.15, 0.22, 0.25, 4, 0, 0
	BtnPanelE3-5(2)

	#Indicator sets
	Set MainX = -2.775
	Set IndOffset = 6.1 - 0.2

	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %MainX% - 0.3, -2.3 + 0.051, %MainX% + 0.3, -2.3 + 0.051, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %MainX% + 0.125, -2.3 + 0.052, %IndOffset% + 0.4 + 0.05, back, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, back, %MainX% - 0.125, -2.3 + 0.052, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.5 + 0.5, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.75 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, 2.5 + 0.5, false, 1 + 0.06, 0.1
<EndElevators>

########################################

<Function E3-5ElevLobby>
	if[%floor% = 0] Set DoorTexture = ElevDoorsC
	if[%floor% > 3] Set DoorTexture = ElevDoorsB

	#Shaft Doors
	Set StartNo = 3
	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, false, false

	#Door tracks
	AddDoorTrack(3, 2, -10 - 2 - 2, -10 + 2 + 2, -4.17 + 0.33, -4.17 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(4, 2, 0 - 2 - 2, 0 + 2 + 2, -4.17 + 0.33, -4.17 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(5, 2, 10 - 2 - 2, 10 + 2 + 2, -4.17 + 0.33, -4.17 + 0.33 + 0.2, ElevDoorTrackZ)

	########################################

	#Call buttons
	if[%floor% = 0] Set PanelTexture = Brass
	if[%floor% > 3] Set PanelTexture = StainlessSteel

	CallButtonElevators = 3, 4, 5
	CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, 40, 21 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, 50, 21 - 0.001, 3.5, front, 0.5, 1, true, 0, 0

	#Signs
	DrawWalls = true, false, false, false, false, false
	AddWall E3-5HallSign, FireSign, 0, (50 - 0.2 - 0.4) - 0.25, 21 - 0.001, (50 - 0.2 - 0.4) + 0.25, 21 - 0.001, 0.75, 0.75, 4 - 0.375, 4 - 0.375, 0, 0, false
	AddWall E3-5HallSign, BlankSign%floorid%, 0, 40 - 0.75, 21 - 0.001, 40 + 0.75, 21 - 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false
	AddWall E3-5HallSign, BlankSign%floorid%, 0, 50 - 0.75, 21 - 0.001, 50 + 0.75, 21 - 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false
<EndFunction>

<Floor 0>
	#Elevator lobby
	E3-5ElevLobby()

	#Wall cuts for decos
	WallOrientation = left
	Set DecoHeight = %height% + Floor(1).FullHeight
	if[%floor% = 0] AddFillerWalls Blank, 0.1, 35, 21, 4 + 2, %DecoHeight%, 0, true, 0, 0, false #Elevator 3
	if[%floor% = 0] AddFillerWalls Blank, 0.1, 45, 21, 4 + 2, %DecoHeight%, 0, true, 0, 0, false #Elevator 4
	if[%floor% = 0] AddFillerWalls Blank, 0.1, 55, 21, 4 + 2, %DecoHeight%, 0, true, 0, 0, false #Elevator 5

	#Decos
	if[%floor% = 0] AddDeco4(LobbyDeco, LobbyDeco, front, true, false, floor, 0, 1, 35, 21, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, Blank, 0) #Elevator 3
	if[%floor% = 0] AddDeco4(LobbyDeco, LobbyDeco, front, true, false, floor, 0, 1, 45, 21, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, Blank, 0) #Elevator 4
	if[%floor% = 0] AddDeco4(LobbyDeco, LobbyDeco, front, true, false, floor, 0, 1, 55, 21, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, Blank, 0) #Elevator 5

	#Door trims
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 35, 21 - 0.01, 4, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 3
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 45, 21 - 0.01, 4, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 4
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 55, 21 - 0.01, 4, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 5

	########################################

	#Indicator sets
	#Indicator texture specification
	Set PanelTexture = Brass

	#Indicator creation
	Set IndOffset = 7.75
	MitsubishiLobbyInds(front, 3, 35, 21, %IndOffset%, 0, 11)
	MitsubishiLobbyInds(front, 4, 45, 21, %IndOffset%, 0, 11)
	MitsubishiLobbyInds(front, 5, 55, 21, %IndOffset%, 0, 11)
<EndFloor>

<Floors 4 to 11>
	#Elevator lobby
	E3-5ElevLobby()

	########################################

	#Door trims
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 35, 21 - 0.01, 4, 9.3, 9.5, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 3
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 45, 21 - 0.01, 4, 9.3, 9.5, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 4
	AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 55, 21 - 0.01, 4, 9.3, 9.5, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01) #Elevator 5

	#Wall covers
	Set WallTex = %DoorTexture%_Trim
	Set WallHeight = %height% - 7.2
	Set WallOffset = %interfloorheight% + 7
	WallOrientation = right
	DrawWalls = true, true, false, false, false, true
	TextureOverride %WallTex%, Concrete1, %WallTex%, %WallTex%, %WallTex%, %WallTex%
	AddWall E3WallCover, %WallTex%, 0.3, 35 - 2, 21 + 0.66, 35 + 2, 21 + 0.66, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %WallTex%, Concrete1, %WallTex%, %WallTex%, %WallTex%, %WallTex%
	AddWall E4WallCover, %WallTex%, 0.3, 45 - 2, 21 + 0.66, 45 + 2, 21 + 0.66, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %WallTex%, Concrete1, %WallTex%, %WallTex%, %WallTex%, %WallTex%
	AddWall E5WallCover, %WallTex%, 0.3, 55 - 2, 21 + 0.66, 55 + 2, 21 + 0.66, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, false, false, false, false

	########################################

	#Indicator sets
	#Indicator texture specification
	Set PanelTexture = StainlessSteel

	#Indicator creation
	Set IndOffset = 7.5
	MitsubishiLobbyLanterns(front, 3, 35, 21 + 0.66 - 0.3, %IndOffset%, 0, 11)
	MitsubishiLobbyLanterns(front, 4, 45, 21 + 0.66 - 0.3, %IndOffset%, 0, 11)
	MitsubishiLobbyLanterns(front, 5, 55, 21 + 0.66 - 0.3, %IndOffset%, 0, 11)
<EndFloors>

########################################

#Service Elevator
CreateShaft(3, 45, -24, 4.67, 5.67, -1, 14, %interfloorheight%)

#Elevator machine room doors
<Floor 14>
	Set Texture = ServiceDoor2
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 45 + 1.5, -18, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 45 - 1.5, -18, 3, 7, 0, 0, 0
	OP_Trim(Shaft3_MRTrim, 1, floor, 90, BlackTrim, 0.66 + 0.02, 45, -18 + 0.01, 6, 7, 0, 0.2, 0, 0, true)
<EndFloor>

########################################

<Elevator 6>
	Name = Service Elevator
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0 - 12
	AssignedShaft = 3
	CreateElevator false, 45 - 0.5, -24, 0
<EndElevator>

<Function BtnPanelE6>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button13, ButtonLit13, 6, 3, 12, 1, 1
	AddButton %PanelNumber%, , Button12, ButtonLit12, 7, 3, 11, 1, 1
	AddButton %PanelNumber%, , Button11, ButtonLit11, 8, 3, 10, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 9, 3, 9, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 10, 3, 8, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 11, 3, 7, 1, 1

	AddButton %PanelNumber%, , Button7, ButtonLit7, 6, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 7, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 8, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 9, 1, 3, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 10, 1, 2, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 11, 1, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 12, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 14, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 14, 3, close, 1, 1
<EndFunction>

<Elevator 6>
	#Interiors
	ElevInterior(ServiceElevFloor, ServiceElevCeiling, ServiceElevWall, ServiceElevWall, 6, 9, back, 8)

	SetAutoSize = false, false
	WallOrientation = left
	DrawWalls = false, true, false, false, true, false
	AddWall FrontTrim, ServiceElevWallTrim, 0.05, -2.8 + 0.05, -4.3, 2.8 - 0.05, -4.3, 0.5, 0.5, 0, 0, 0, 0
	AddWall LeftTrim, ServiceElevWallTrim, 0.05, -2.8, -4.3, -2.8, 4.3, 0.5, 0.5, 0, 0, 0, 0
	WallOrientation = right
	DrawWalls = true, false, false, false, true, false
	AddWall RightTrim, ServiceElevWallTrim, 0.05, 2.8, -4.3, 2.8, 4.3, 0.5, 0.5, 0, 0, 0, 0
	SetAutoSize = true, true

	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride ServiceElevPanelMain, ElevExt, ElevExt, ServiceElevPanelMain, ElevExt, ElevExt
	AddWall Left Panel, ServiceElevPanelMain, 0.2, -3, 4.5, -3 + 0.25, 4.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride ServiceElevPanelMain, ElevExt, ServiceElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Right Panel, ServiceElevPanelMain, 0.2, 3 - 1.25, 4.5, 3, 4.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ServiceElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ServiceElevPanelTop
	AddWall Top Panel, ServiceElevPanelTop, 0.2, -3 + 0.25, 4.5, 3 - 1.25, 4.5, 1, 1, 7, 7, 0, 0

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -0.5 - 0.25, 4.3 - 0.001, -0.5 + 0.25, 4.3 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Car Doors
	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, ElevDoorsD2, ElevDoorsD2, 0.18, right, 0.8, 0.6, -0.5 - 2.25, 4.5 + 0.18, -0.5, 4.5 + 0.18, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, ElevDoorsD, ElevDoorsD, 0.18, right, 0.4, 0.3, -0.5, 4.5, -0.5 + 2.25, 4.5, 7, 0, -1, 0, -1, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, ServiceElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, ServiceElevPanelMain, 0.36, -3 + 0.25 - 0.05, 4.5, -3 + 0.25, 4.5, 7, 7, 0, 0, 0, 0

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -0.5 - 2.25, 4.5, -0.5 + 2.25 + 2.25, 4.5 + 0.36, 0, 0, 0, 0

	#Top Filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride ServiceElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller, ServiceElevPanelTop, 0.05, -0.5 - 2.25, 4.5, -0.5, 4.5 + 0.18, 7, 7, 0, 0

	#Button panel
	#Panel back
	Set PanelCenter = (3 - 1.25) + (1.05 / 2)
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack, ElevPanel, 0.05, %PanelCenter% - 0.4, 4.3, %PanelCenter% + 0.4, 4.3, 4.55 + 0.1, 4.55 + 0.1, 2.2, 2.2, 0, 0

	#Buttons
	CreatePanel Blank, 14, 3, front, %PanelCenter%, 4.3 - 0.051, 0.15, 0.15, 0.22, 0.25, 4, 0, 0
	BtnPanelE6(1)

	#Indicator sets
	Set MainX = (3 - 1.25) + (1.05 / 2)
	Set IndOffset = 6.1 - 0.2

	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %MainX% - 0.3, 4.3 - 0.051, %MainX% + 0.3, 4.3 - 0.051, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %MainX% - 0.125, 4.3 - 0.052, %IndOffset% + 0.4 + 0.05, front, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, front, %MainX% + 0.125, 4.3 - 0.052, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 3 + 0.8, 0, 0.5, 6, 2, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 3 + 0.8, 0, true, 1 + 0.06, 0.1
<EndElevator>

########################################

<Floors 0 to 12>
	if[%floor% < 12] Set DoorTexture = ElevDoorsE
	if[%floor% = 12] Set DoorTexture = ElevDoorsF
	Set AutoFiller = false
	#if[%floor% = 12] Set AutoFiller = true

	#Shaft Doors
	WallOrientation = left
	AddShaftDoorComponent 6, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.18, right, 0.8, 0.6, -0.5 - 2.25, 4.5 + 0.48, -0.5, 4.5 + 0.48, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent 6, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.18, right, 0.4, 0.3, -0.5, 4.5 + 0.66, -0.5 + 2.25, 4.5 + 0.66, 7, 0, -1, 0, -1, 0
	FinishShaftDoor 6, 1, %AutoFiller%, false

	#Door track
	AddDoorTrack(6, 3, -1 - 2.25, -1 + 2.25 + 2.25, 5.67 - 0.33 - 0.36, 5.67 - 0.33, ElevDoorTrackZ)

	#Top filler
	AddTopFiller(6, 3, -1 - 2.25, -1, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 7, %DoorTexture%_Trim)

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %DoorTexture%_Trim, ElevExt, ElevExt
	AddShaftWall 3, GapFiller_Elev6, ElevExt, 0.36, -1 - 2.25 - 0.05, 5.67 - 0.33, -1 - 2.25, 5.67 - 0.33, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	########################################

	#Call buttons
	Set PanelTexture = StainlessSteel
	Set ButtonPosition = 44.5 - 0.5 + 2.25 + 1.25

	CallButtonElevators = 6
	CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, %ButtonPosition%, -18 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

	#Signs
	DrawWalls = false, true, false, false, false, false
	AddWall E6HallSign, FireSign, 0, (%ButtonPosition% + 0.2 + 0.4) - 0.25, -18 + 0.001, (%ButtonPosition% + 0.2 + 0.4) + 0.25, -18 + 0.001, 0.75, 0.75, 4 - 0.375, 4 - 0.375, 0, 0, false
	AddWall E6HallSign, BlankSign%floorid%, 0, %ButtonPosition% - 0.75, -18 + 0.001, %ButtonPosition% + 0.75, -18 + 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false

	########################################

	#Door trims
	WallOrientation = right
	if[%floor% < 12] AddFillerWalls ServiceLobbyWall_Upper, 0.66, 44.5 - 0.5, -18, 4.5, 7 - 4, 4, true, 0, 0, false
	if[%floor% = 12] AddFillerWalls ServiceWall, 0.66, 44.5 - 0.5, -18, 4.5, 7, 0, true, 0, 0, false
	
		#Extra filler walls to match with shaft walls
		DrawWalls = true, true, false, false, false, false
		if[%floor% < 12] AddWall E6FillerLeft, ServiceLobbyWall_Lower, 0, 44 - 2.25, -18.66, 44 - 2.25, -18, 4, 4, 0, 0, 0, 0, false
		if[%floor% < 12] AddWall E6FillerRight, ServiceLobbyWall_Lower, 0, 44 + 2.25, -18.66, 44 + 2.25, -18, 4, 4, 0, 0, 0, 0, false

	#Indicator sets
	if[%floor% < 2 | %floor% = 12] Set IndOffset = 7.75
	if[%floor% > 1 & %floor% < 12] Set IndOffset = 7.5
	MitsubishiLobbyInds(back, 6, 44.5 - 0.5, -18, %IndOffset%, 0, 12)
<EndFloors>

########################################

#Elevator global settings
#Main parameters
<Elevators 1 to 6>
	NotifyEarly = 1
	ReOpen = false
	QueueResets = true
	ChimeOnArrival = true
	ChimeSound 1 = KW_Sounds/mitsubishidtchimedown.wav
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

#Movement sounds
<Elevators 1 to 2>
	CarStartSound = elevstart6.wav
	CarMoveSound = elevmove6.wav
	CarStopSound = elevstop6.wav
<EndElevators>

<Elevators 3 to 6>
	CarStartSound = elevstart3.wav
	CarMoveSound = elevmove3.wav
	CarStopSound = elevstop3.wav
<EndElevators>

#Door opening sounds
<Elevators 1 to 5>
	OpenSound 1 = elevopenquick.wav
	CloseSound 1 = elevclosequick.wav
<EndElevators>

<Elevator 6>
	OpenSound 1 = EG881Sounds/freightelevatoropen1.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose1.wav #EG881
<EndElevator>