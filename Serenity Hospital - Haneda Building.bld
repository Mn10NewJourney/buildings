#Serenity Hospital - Haneda Building
#Copyright (c) 2024-Present - Mn10
#Entire hospital copyright (c) 2016-Present - Mn10

#Otis Series 3 Luxury Chimes was made by Test Tower.

#Initially started on: 6 November 2024
#Updated 11 June 2025:
	#1. Edited the OPD area on levels B3-B1 and 2-7 to have a more practical layout.
	#2. Moved the atrium elevators ~10 ft. east for better alignment with the modified OPD layout.

########################################

#ELEVATOR BACKSTORY
#1. Main hospital elevators (No. 1-13): Installed by Mitsubishi during November 1998 - January 1999.
#2. Atrium elevators (No. 14-15): Installed by Otis sometimes in February 2002.

#SCRIPTS TO BE INCLUDED
	#1. My new scripts
	<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>
	
	#2. ObjectPlus and SROC (credit to EG881)
	<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
	<Include SROC/Scripts/r1_script.txt> #EG881

	#3. My previous scripts
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	#<Include data/ACME Floor Indicator/Scripts/Indicators.txt>
	<Include data/New_Mitsubishi_Elevator/Scripts/Indicators.txt>

#########################################################################

#Globals
<Globals>
	Name = Serenity Hospital - Haneda Building
	Designer = Mn10 (some content made by Test Tower)
	Location = 731 8th Street, Tranquility City
	CameraFloor = 0
	CameraPosition = -24, -68
	CameraRotation = 0, 0, 0
<EndGlobals>

#########################################################################


#Textures
<Textures>
	#Commons
	Load data/black.jpg, Black, 1, 1, false
	Load data/Melvin/Black_Ind.jpg, Black2, 1, 1, false
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	Load data/signs_mod/elevhallsign1a.png, FireSign, 1, 1, false #EG881

	#Landscapes
	#Load data/grndroad1mid.jpg, Road, 0.04, 0.04
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	
		#Plants
		Load data/ogrebullet/textures/grass.jpg, Grass, 0.005, 0.005
		#Load data/ogrebullet/materials/textures/grass_1024.jpg, Grass_Light, 0.005, 0.005
		Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881
		Load data/EG881/cem_tr2b.jpg, FlowerBed, 0.075225, 0.0625 #EG881

	########################################

	#Windows and vents
		#Windows
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, MainWindows, true, 0.05, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, MainWindowsB, true, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881
	
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, LobbyWindows, true, 0.025, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, LobbyWindowsInt, 0.025, 1 #EG881

		#Skylight
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, Skylight, true, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, SkylightInt, 1, 1, false #EG881
		#Load data/windows11h_inside.gif, SkylightInt, 1, 1, false

		#Vents
		Load data/vents1b.jpg, VentsExt, 1, 1, false
		Load data/vents1b.jpg, VentsInt, 1, 1, false

	########################################

	#External facades
	Load data/graniteTexture_0005b.jpg, ExtFacade, 0.0625, 0.0625, true
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade_Inner, 0.075, 0.075, true #EG881
	Load data/EG881/Concrete/smoothconcrete1.jpg, ExtFacade2, 0.075, 0.075, true #EG881 #Shaft tops

	#Bridge between Haneda and Narita Buildings
	Load data/Carpet0021d_S.jpg, BridgeFloor, 0.2, 0.2
	Load data/st_wall.jpg, BridgeWall, 0.1875, 0.1344
	Load data/stucco4.jpg, BridgeCeiling, 0.25, 0.25
	Load data/stone.jpg, BridgeSupport, 0.075, 0.075
	
		#Facade of NRT Bldg. for bridge
		Load data/cutston.jpg, NRT_ExtFacade, 0.25, 0.25
		LoadAlphaBlend data/windows11i.jpg, data/windows11ispec.png, data/sky3j.jpg, NRT_MainWindows, true, 0.05, 1
		Load data/windows11h_inside.gif, NRT_MainWindowsInt, 0.05, 1
		LoadAlphaBlend data/windows11i.jpg, data/windows11ispec.png, data/sky3j.jpg, NRT_MainWindowsB, true, 1, 1, false
		Load data/windows11h_inside.gif, NRT_MainWindowsIntB, 1, 1, false

	#Main textures
		#Level B3
		Load data/checker08.jpg, B3FFloor, 0.35, 0.35
		Load data/st_wall2.jpg, B3FWall, 0.13635, 0.09765
		Load data/st_wall.jpg, B3FEscWall, 0.1875, 0.1344 #Escalator outer walls
		Load data/EG881/ceilingtile2.jpg, B3FCeiling, 0.125, 0.125 #EG881

			Load data/Melvin/SRH/st_doors_blackedge.jpg, B3FShaftDoors, 1, 1, false
			Load data/Melvin/SRH/st_doors_blackedge.jpg, B3FShaftDoors2, -1, 1, false
			Load data/Melvin/st_panel.jpg, B3FShaftDoors_Trim, 1, 1, false

		#Lower hospital levels (B2-3)
		Load data/marb047.jpg, LHFloor, 0.2, 0.2
		Load data/Carpet0013_S.jpg, LHCarpet, 0.2, 0.2
		Load data/Carpet0012_S.jpg, LHCarpet2, 0.2, 0.2 #Elevators 1-5's lobby area on 1st floor
		Load data/marbl3.jpg, LHWall, 0.25, 0.25, true
		Load data/EG881/lopacwall3stripe.jpg, LHWall2, 0.15, 0.3 #EG881 #Atrium railings
		Load data/rose_marble.jpg, LHEscWall, 0.1, 0.1 #Escalator outer walls
		Load data/EG881/ceilingtile3x3.jpg, LHCeiling, 0.125, 0.125 #EG881

			Load data/EG881/stainlesssteeldoorschindler.jpg, LHShaftDoors, -1, 1, false #EG881
			Load data/EG881/stainlesssteeldoor.jpg, LHShaftDoors2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, LHShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, LHShaftDoors_TrimTop, 1, 1, false #EG881

		#Upper hospital levels (4-9)
		Load data/floor065.jpg, UHFloor, 0.25, 0.25
		Load data/Carpet0021b_S.jpg, UHCarpet, 0.2, 0.2
		Load data/marb148.jpg, UHWall, 0.15, 0.15, true
		Load data/EG881/granite_0007e_black.jpg, UHWall2, 0.075, 0.075 #EG881 #Atrium railings
		Load data/black_granite.jpg, UHEscWall, 0.1, 0.1 #EG881 #Escalator outer walls
		Load data/EG881/ceilingtile2b.jpg, UHCeiling, 0.125, 0.125 #EG881

			Load data/EG881/lightaluminumdoor2.jpg, UHShaftDoors, 1, 1, false #EG881
			Load data/EG881/lightaluminumdoor2.jpg, UHShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, UHShaftDoors_Trim, 1, 1, false

		#Patient room levels
		Load data/Carpet0006_S.jpg, WardFloor, 0.2, 0.2 #Hallways to patient rooms
		Load data/Carpet0013b_S.jpg, WardFloor2, 0.2, 0.2 #Elevator lobby
		Load data/EG881/Drywall/wall5c_bluegray.jpg, WardWall, 0.2, 0.2 #EG881 #Hallway walls
		Load data/black_granite.jpg, WardDecoWall, 0.1, 0.1
		Load data/EG881/ceilingtile3x3.jpg, WardCeiling, 0.125, 0.125 #EG881 #All areas of the floor

			#Inside patient rooms
			Load data/Carpet0012_S.jpg, WardFloor_Int, 0.2, 0.2
			Load data/stucco22b.jpg, WardWall_Int, 0.125, 0.125

			#Shaft doors
			Load data/dark muntz door.jpg, WardShaftDoors, 1, 1, false #EG881
			Load data/dark muntz door.jpg, WardShaftDoors2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, WardShaftDoors_Trim, 1, 1, false #EG881

		#Drop ceilings
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881 #Restrooms and storages
		Load data/EG881/Ceilings/ceilingtile4single.jpg, SLDropCeiling, 0.5, 0.5 #EG881 #Service elevator lobby

		#Service level
		Load data/EG881/cem_tr2b.jpg, ServiceFloor, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr3.jpg, ServiceFloor2, 0.075225, 0.0625 #EG881
		Load data/stucco4.jpg, ServiceWall, 0.25, 0.25
		Load data/stucco1.jpg, ServiceWall2, 0.125, 0.125
		Load data/EG881/cem_tr2b.jpg, ServiceCeiling, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2c.jpg, ServiceCeiling2, 0.075225, 0.0625 #EG881

		#Roof
		Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881
		Load data/EG881/Concrete/smoothconcrete1.jpg, RoofFloor2, 0.0625, 0.0625 #EG881 #8th floor setback
		Load data/EG881/windows11h_insideblack.png, RoofGlassRailing, 0.05, 1 #EG881

	########################################

	#Doors
		#Main doors
		Load data/miscdoor1.jpg, Door1, 1, 1, false
		LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
		Load data/EG881/darkwooddoor_withwindow.gif, ClinicDoor, 1, 1, false #EG881
		LoadCropped data/EG881/darkwooddoor_withwindow.gif, ClinicDoorSide, 236, 0, 20, 499, 1, 1, false #EG881

		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Black entrance doors
		Load data/EG881/miscdoor8_blacktrans.png, BLKEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3c.jpg, BLKEntDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, BLKEntDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

	########################################

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

	#Escalators
	Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false

	########################################

	#Shafts
	Load data/EG881/cem_tr2b.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr3.jpg, ShaftIntWall2, 0.075225, 0.0625 #EG881

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25
		Load data/metal080.jpg, ElevExt2, 0.5, 0.5, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/Melvin/ABH_Tex/otis4_buttonpanel-lighter.jpg, ElevPanel, 1, 1, false #Mitsubishi elevators
		Load data/panel-back3.jpg, ElevPanel2, 1, 0.5, false #Otis elevators
		Load data/panel-back3.jpg, ElevExtPanels, 1, 1, false
		#Load data/Melvin/SDT_Signs/SDTCallPanel.png, ElevExtPanels-Alt, 1, 1, false

		#High zone elevators
		Load data/Carpet0021b_S.jpg, HZElevFloor, 0.2, 0.2
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, HZElevCeiling, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, HZElevCeiling2, 1, 1, false
		Rotate HZElevCeiling, 90
		Rotate HZElevCeiling2, 270
		Load data/EG881/light1x.jpg, HZElevCeilingLight, 2, 1, false #EG881
		Load data/panel-back3.jpg, HZElevCeilingTrim, 1, 1, false
		Rotate HZElevCeilingTrim, 90
		Load data/EG881/blackdoortrim.jpg, HZElevWall, 1, 1, false #EG881
		Load data/checker06.jpg, HZElevWallPanel, 0.5, 0.5
		Load data/checker23.jpg, HZElevWallPanel2, 0.5, 0.5
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, HZElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, HZElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, HZElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, HZElevDoors2, 1, 1, false #EG881

		#Low zone elevators
		Load data/Carpet0012_S.jpg, LZElevFloor, 0.2, 0.2
		Load data/panel-back3.jpg, LZElevCeiling, 1, 1, false
		Load data/panel-back3.jpg, LZElevCeiling2, 1, 1, false
		Rotate LZElevCeiling, 270
		Rotate LZElevCeiling2, 90
		Load data/EG881/Lights/squarelight1_white.jpg, LZElevCeilingLight, 1, 1, false #EG881
		Load data/panel-back3.jpg, LZElevCeilingTrim, 1, 1, false
		Load data/panel-back3.jpg, LZElevCeilingTrim2, 1, 1, false
		Rotate LZElevCeilingTrim2, 90
		Load data/EG881/stucco2f_white2.jpg, LZElevWall, 0.15, 0.15 #EG881
		Load data/marb148.jpg, LZElevWallPanel, 0.25, 0.25
		Load data/panel-back3.jpg, LZElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, LZElevPanelTop, 1, 0.125, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, LZElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, LZElevDoors2, 1, 1, false #EG881

		#Service elevators
		Load data/metal072.jpg, ServiceElevFloor, 0.25, 0.25
		Load data/panel-back3.jpg, ServiceElevCeiling, 1, 1, false
		Rotate ServiceElevCeiling, 270
		Load data/EG881/Lights/squarelight1_white.jpg, ServiceElevCeilingLight, 1, 1, false #EG881
		Load data/panel-back3.jpg, ServiceElevCeilingTrim, 1, 1, false
		Load data/panel-back3.jpg, ServiceElevCeilingTrim2, 1, 1, false
		Rotate ServiceElevCeilingTrim2, 90

		#Load data/panel-back3.jpg, ServiceElevWall, 1, 1, false
		Load data/wall5b.jpg, ServiceElevWall, 0.25, 0.25, true
		Load data/Threadplate0055_2_S.jpg, ServiceElevWallPanel, 0.4, 0.4
		Load data/panel-back3.jpg, ServiceElevPanelMain, 1, 1, false #EG881
		Load data/panel-back3.jpg, ServiceElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors2, 1, 1, false #EG881
		
			#Shaft doors for service elevators
			Load data/Melvin/WestinTQC/text16door.jpg, ServiceAShaftDoors, 1, 1, false #Levels B2-3
			Load data/Melvin/WestinTQC/text16door.jpg, ServiceAShaftDoors2, -1, 1, false
			Load data/text16.jpg, ServiceAShaftDoors_Trim, 0.5, 0.5, true

			Load data/door1.jpg, ServiceBShaftDoors, 1, 1, false #Levels 4-9
			Load data/door1.jpg, ServiceBShaftDoors2, -1, 1, false
			Load data/elevpanelsilver.jpg, ServiceBShaftDoors_Trim, 1, 1, false

			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ServiceCShaftDoors, 1, 1, false #EG881 #Levels 10-17
			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceCShaftDoors2, 1, 1, false #EG881
			Load data/panel-back3.jpg, ServiceCShaftDoors_Trim, 1, 1, false

			Load data/brushed metal door.tga, ServiceDShaftDoors, 1, 1, false #epco_rules #Level 18
			Load data/brushed metal door.tga, ServiceDShaftDoors2, -1, 1, false #epco_rules
			Load data/Melvin/brushed metal panel.jpg, ServiceDShaftDoors_Trim, 1, 1, false #epco_rules

			Load data/Melvin/SRH/st_doors_blackedge.jpg, ServiceEShaftDoors, 1, 1, false #Level B3
			Load data/Melvin/SRH/st_doors_blackedge.jpg, ServiceEShaftDoors2, -1, 1, false
			Load data/Melvin/st_panel.jpg, ServiceEShaftDoors_Trim, 1, 1, false

		#Atrium elevators
		Load data/EG881/Carpet/eg881_Carpet2.jpg, AtriumElevFloor, 0.35, 0.35 #EG881
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, AtriumElevCeiling, 1, 1, false

		Load data/EG881/Lights/squarelight1_white.jpg, AtriumElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/stainlesssteel2grid.gif, AtriumElevCeilingGrid, 1, 1, false #EG881
		Load data/otis67/OTIS67_EU_Button_Lighted.gif, AtriumElevCeilingDL, 1, 1, false #DL = Downlight
		Load data/EG881/elevdoortrim_white.jpg, AtriumElevWall, 0.5, 0.5 #EG881
		Load data/marble2.jpg, AtriumElevWallPanel, 0.311, 0.311

		Load data/EG881/elevdoortrim_white.jpg, AtriumElevPanelMain, 0.5, 0.5 #EG881
		Load data/panel-back3.jpg, AtriumElevPanelTop, 1, 0.0667, false

		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, AtriumElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, AtriumElevDoors2, 1, 1, false #EG881

	####################

	#Mitsubishi MTS fixtures (Elevators 1-13)
	#Hall buttons
	Load data/Mitsubishi_MTS/CallButtons/ButtonUp.png, ButtonUp, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonUpLit.png, ButtonUpLit, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonDown.png, ButtonDown, 1, 1
	Load data/Mitsubishi_MTS/CallButtons/ButtonDownLit.png, ButtonDownLit, 1, 1

	#Car buttons
	Load data/Mitsubishi_MTS/256x256/ButtonBlank.jpg, Button, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonBlank.jpg, ButtonLit, 1, 1

	AddText Button, ButtonHold, nimbus_sans_condensed.ttf, 56, HOLD, -1, -1, -1, -1, center, center, 81, 79, 80
	AddText ButtonLit, ButtonLitHold, nimbus_sans_condensed.ttf, 56, HOLD, -1, -1, -1, -1, center, center, 254, 249, 183

	AddTextRange 1, 18, Button, Button%number%, nimbus_sans.ttf, 110, %number%, -1, -1, -1, -1, center, center, 81, 79, 80
	AddTextRange 1, 18, ButtonLit, ButtonLit%number%, nimbus_sans.ttf, 110, %number%, -1, -1, -1, -1, center, center, 254, 249, 183

	AddText Button, ButtonBTemp, nimbus_sans.ttf, 110, B, 30, 0, 156, 256, center, center, 81, 79, 80
	AddText ButtonLit, ButtonLitBTemp, nimbus_sans.ttf, 110, B, 30, 0, 156, 256, center, center, 254, 249, 183
	AddTextRange 1, 3, ButtonBTemp, ButtonB%number%, nimbus_sans.ttf, 72, %number%, 150, 51, 190, 240, center, center, 81, 79, 80
	AddTextRange 1, 3, ButtonLitBTemp, ButtonLitB%number%, nimbus_sans.ttf, 72, %number%, 150, 51, 190, 240, centers, center, 254, 249, 183

	Load data/Mitsubishi_MTS/256x256/ButtonOpen.jpg, ButtonOpen, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonClose.jpg, ButtonClose, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonStop-Running.jpg, ButtonStop-Run, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonStop-Stopped.jpg, ButtonStop-Stop, 1, 1
	Load data/Mitsubishi_MTS/256x256/ButtonAlarm.jpg, ButtonAlarm, 1, 1

	#Car indicators
	Load data/black.jpg, IndBack, 1, 1, false
	Load data/black.jpg, Ind_Background, 1, 1, false
	AddTextRange 1, 18, IndBack, Ind_Button%number%, Mitsubishi-Modern-V2.ttf, 60, %number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower
	AddTextRange 1, 3, IndBack, Ind_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 60, B%number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrow2.jpg, ArrowUnlit, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrowUp2.jpg, ArrowUpLit, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/FloorArrowDown2.jpg, ArrowDownLit, 1, 1, false #Test Tower

	#Hall indicators
	Load data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, LanternUp, 1, 1, false #Test Tower
	LoadAnimated data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, LanternUpLit, 0.5, 1, 1, false #Test Tower
	Load data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, LanternDown, 1, -1, false #Test Tower
	LoadAnimated data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulb.gif, data/Mitsubishi_Modern/Indicator_Set/LanternBulbLit.gif, LanternDownLit, 0.5, 1, -1, false #Test Tower
	AddTextRange 1, 18, Black2, OutsideInd_Button%number%, Mitsubishi-Modern-V2.ttf, 110, %number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower
	AddTextRange 1, 3, Black2, OutsideInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 110, B%number%, -1, -1, -1, -1, center, center, 255, 97, 0, false #Test Tower

	####################

	#Otis Series 3/4 Luxury fixtures (Elevators 14-15)
		#Call buttons
		Load data/callbutton2.gif, OtisButtonUp, 1, 1, false
		Load data/callbutton2_litgreen.gif, OtisButtonUpLit, 1, 1, false
		Load data/callbutton2.gif, OtisButtonDown, 1, -1, false
		Load data/callbutton2_litred.gif, OtisButtonDownLit, 1, -1, false

		#Car buttons
		Load data/Vector's Fixtures/Series Four/seriesfourblankunlit.png, OtisButton, 1, 1, false
		Load data/Vector's Fixtures/Series Four/seriesfourblanklitred.png, OtisButtonLit, 1, 1, false
		Load data/Vector's Fixtures/Series Four/seriesfourblanklitgreen.png, OtisButtonLitGreen, 1, 1, false
		Load data/Vector's Fixtures/Series Four/seriesfourdopenwhite.png, OtisButtonOpen, 1, 1, false
		Load data/Vector's Fixtures/Series Four/seriesfourdclosewhite.png, OtisButtonClose, 1, 1, false
		Load data/Vector's Fixtures/Series Four/seriesfouralarmylw.png, OtisButtonAlarm, 1, 1, false
	
		AddTextRange 1, 2, OtisButton, OtisButtonB%number%, nimbus_sans_bold.ttf, 45, B%number%, 0, 0, 133, 128, center, center, 0, 0, 0, false
		AddTextRange 1, 5, OtisButton, OtisButton%number%, nimbus_sans_bold.ttf, 45, %number%, 0, 0, 133, 128, center, center, 0, 0, 0, false

		AddTextRange 1, 2, OtisButtonLit, OtisButtonLitB%number%, nimbus_sans_bold.ttf, 45, B%number%, 0, 0, 133, 128, center, center, 0, 0, 0, false
		AddTextRange 1, 5, OtisButtonLit, OtisButtonLit%number%, nimbus_sans_bold.ttf, 45, %number%, 0, 0, 133, 128, center, center, 0, 0, 0, false

		#Lanterns
			#Lobby level
				#If lobby is NOT the lowest floor, the "MainLantern" textures are used, with the following indicator added separately:
				Load data/Otis_Series_1_and_3/Series 3/Indicators/Ind-Outside.png, OtisLobbyIndicator, 1, 1, false

				#If lobby is the lowest floor, the following indicators are used:
				Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-IndicatorUnlit.png, OtisLobbyLanternUp, 1, 1, false
				Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-IndicatorLit.png, OtisLobbyLanternUpLit, 1, 1, false

			#Lowest floor
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-UpUnlit.png, OtisLowestLanternUp, 1, 1, false
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-UpLit.png, OtisLowestLanternUpLit, 1, 1, false

			#Intermediate floors
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Double-Unlit.png, OtisMainLanternUp, 1, 1, false
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Double-UpLit.png, OtisMainLanternUpLit, 1, 1, false
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Double-Unlit.png, OtisMainLanternDown, 1, 1, false
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Double-DownLit.png, OtisMainLanternDownLit, 1, 1, false

			#Highest floor
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-DownUnlit.png, OtisHighestLanternUp, 1, 1, false #Used as the unlit texture for "single indicators"
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-DownUnlit.png, OtisHighestLanternDown, 1, 1, false
			Load data/Otis_Series_1_and_3/Series 3/Indicators/Arrow/Single-DownLit.png, OtisHighestLanternDownLit, 1, 1, false

		#Inside arrows
		Load data/darrow_single.jpg, OtisArrowUp, 1, 1, false
		Load data/darrow_single.jpg, OtisArrowDown, 1, 1, false
		Load data/darrow_single_otis_upred.jpg, OtisArrowUp_Lit, 1, 1, false
		Load data/darrow_single_otis_downred.jpg, OtisArrowDown_Lit, 1, 1, false

		#Floor indicators (outside and inside)
		Load data/black.jpg, OtisInd_Background, 1, 1, false
		Load data/Melvin/transparent128.png, OtisInd_ButtonBlank, 1, 1, false
		AddTextRange 1, 2, OtisInd_ButtonBlank, OtisInd_ButtonB%number%, acme_led.ttf, 75, B%number%, -1, -1, -1, -1, center, center, 255, 0, 0, false
		AddTextRange 1, 5, OtisInd_ButtonBlank, OtisInd_Button%number%, acme_led.ttf, 75, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0, false

	########################################

	#Hospital room signs
	#Load data/Melvin/Sign-LightYellow.png, Sign_LightYellow, 1, 1, false
	Load data/Melvin/Sign-LightBlue2.png, Sign_LightBlue, 1, 1, false
	Load data/Melvin/Sign-LightBlue-Long.png, Sign_LB_Long, 1, 1, false

		#10th-17th floors
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%01, nimbus_sans_bold.ttf, 105, %number%01, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%02, nimbus_sans_bold.ttf, 105, %number%02, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%03, nimbus_sans_bold.ttf, 105, %number%03, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%04, nimbus_sans_bold.ttf, 105, %number%04, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%05, nimbus_sans_bold.ttf, 105, %number%05, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%06, nimbus_sans_bold.ttf, 105, %number%06, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%07, nimbus_sans_bold.ttf, 105, %number%07, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%08, nimbus_sans_bold.ttf, 105, %number%08, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%09, nimbus_sans_bold.ttf, 105, %number%09, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%10, nimbus_sans_bold.ttf, 105, %number%10, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%11, nimbus_sans_bold.ttf, 105, %number%11, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%12, nimbus_sans_bold.ttf, 105, %number%12, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%13, nimbus_sans_bold.ttf, 105, %number%13, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 17, Sign_LightBlue, Sign_PtRoom%number%14, nimbus_sans_bold.ttf, 105, %number%14, -1, -1, -1, -1, center, center, 0, 0, 0, false

	########################################

	#Miscellaneous
		#1. Restrooms
		Load data/text16.jpg, WoodSign2, 1, 1, false
		Load data/signs_mod/Restroom1A.png, Sign_Restroom_Brown, 1, 1, false
		Load data/signs_mod/Restroom1.png, Sign_Restroom_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM_Gray, 1, 1, false

		#2. Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false

		#3. Floor signs (Transparent or blank)
		AddTextRange 1, 3, Blank, BlankSignB%number%, nimbus_sans_bold.ttf, 72, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 18, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#4. Signs at elevator lobbies
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev1.png, Sign_Elev_Gray, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false
		Load data/signs_mod/Elev2.png, Sign_ServiceElev_Gray, 1, 1, false

			#Elevator bank signs
			Load data/graygradient.jpg, ElevBankSide, 1, 1, false
			LoadRange 1, 4, data/Melvin/SRH/Haneda/HND_ElevBank%number%.png, ElevBank%number%, 1, 1, false

			#Floor signs (Passenger)
			Load data/graygradient.jpg, ELFlrSignBack, 1, 1, false
			AddTextRange 1, 3, ELFlrSignBack, ELFlrSignB%number%, nimbus_sans_bold.ttf, 128, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddTextRange 1, 17, ELFlrSignBack, ELFlrSign%number%, nimbus_sans_bold.ttf, 128, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#Floor signs (Service)
			Load data/Melvin/ABH_Tex/NewFS256/FSBack_SapphireService.jpg, ServFlrSignBack, 1, 1, false #Service
			AddTextRange 1, 3, ServFlrSignBack, ServFlrSignB%number%, nimbus_sans.ttf, 120, B%number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
			AddTextRange 1, 18, ServFlrSignBack, ServFlrSign%number%, nimbus_sans.ttf, 120, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false

		#5. Elevator number signs (Outside)
		Load data/bluegradient4.jpg, ElevNoBack, 1, 1, false
		Load data/graygradient.jpg, ElevNoBack2, 1, 1, false
		Load data/Melvin/transparent128.png, ElevNoBack_Blank, 1, 1, false
		AddTextRange 1, 11, ElevNoBack_Blank, ElevNo%number%, nimbus_sans_bold.ttf, 69, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 12, 13, ElevNoBack, ElevNo%number%, nimbus_sans_bold.ttf, 120, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 14, 15, ElevNoBack_Blank, ElevNo%number%, nimbus_sans_bold.ttf, 69, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false

		AddTextRange 6, 11, ElevNoBack_Blank, ElevNo%number%_Black, nimbus_sans_bold.ttf, 69, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 14, 15, ElevNoBack_Blank, ElevNo%number%_Black, nimbus_sans_bold.ttf, 69, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 14, 15, ElevNoBack2, ElevNo%number%_Gray, nimbus_sans_bold.ttf, 120, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#6. Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 5, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 255, false
		AddTextRange 6, 15, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#7. Access control
		Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		#Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		#Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881

		#8. Other signs
		Load data/Melvin/DRH/09-2024/Dir_SR_W.png, WestDir, 1, 1, false #Floor directory
		Load data/Melvin/DRH/09-2024/Dir_SR_W_3F.png, WestDir_3F, 1, 1, false
		Load data/Melvin/DRH/09-2024/Dir_SR_E.png, EastDir, 1, 1, false
		Load data/signs_mod/Parking_Blue.png, ParkingSign, 1, 1, false
<EndTextures>

############################################################

#Floor Assignments
<Floor -1>
	ID = B1
	Name = Basement Level 1
	Type = Hospital
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -13.5
<EndFloor>

<Floors -2 to -3>
	ID = B(0 - %floor%)
	Name = Basement Level (0 - %floor%)
	Type = Hospital
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -4>
	ID = -
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Level %floorid%
	Type = Lobby
	Height = 22
	InterfloorHeight = 1.5
	Altitude = -1.5
<EndFloor>

<Floor 1>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Hospital
	Height = 10.5
	InterfloorHeight = 2
<EndFloor>

<Floors 2 to 8>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Hospital
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floors 9 to 16>
	ID = %floor% + 1
	Name = Ward Level %floorid%
	Type = Hospital
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 17>
	ID = %floor% + 1
	Name = Mechanical
	Type = Service
	Height = 18.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 18>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

#Merge floors
<Floors -3 to 6>
	Group = -3 - 6
<EndFloors>

<Floors 7 to 8>
	Group = 7 - 8
<EndFloors>

##--------------------------------------------------------------------------------##

#Common values
Set 1 = 100 #Building Dimension X
Set 2 = 45 #Building Dimension Z
Set ExtraSouth = 40 #Extra south dimensions for levels B3 to 3
if[%floor% > 6] Set ExtraSouth = 0 #Extra south dimensions for levels B3 to 3

#Landscape
	#Perimeter floors
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, FrontSW, Sidewalk, 0, -%1% - 6, -%2% - %ExtraSouth% - 10, %1%, -%2% - %ExtraSouth%, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, LeftSW, Sidewalk, 0, -%1% - 6, -%2% - %ExtraSouth%, -%1%, %2% + 60, Floor(0).Base, Floor(0).Base, 0, 0	

	AddFloor landscape, RightSW1, Sidewalk, 0, %1%, -65, %1% + 70, -45, Floor(0).Base, Floor(0).Base, false, true, 0, 0	
	AddFloor landscape, RightSW2, Sidewalk, 0, %1%, -5, %1% + 70, 15, Floor(0).Base, Floor(0).Base, false, true, 0, 0	
	AddFloor landscape, RightGrass1, Grass, 0, %1%, -%2% - %ExtraSouth% - 10, %1% + 70, -65, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, RightGrass2, Grass, 0, %1%, -45, %1% + 70, -5, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, RightGrass3, Grass, 0, %1%, 15, %1% + 70, %2% + 60, Floor(0).Base, Floor(0).Base, 0, 0	

	AddFloor landscape, BackGrass1, Grass, 0, -%1%, %2%, 30, %2% + 60, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackGrass2, Grass, 0, 50, %2%, %1%, %2% + 60, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, BackSW, Sidewalk, 0, 30, %2%, 50, %2% + 60, Floor(0).Base, Floor(0).Base, 0, 0	

#North Trees
AddTree(Tree2, 30 - 10, 60, 12, 16, 0)
AddTree(Tree2, 30 - 10, 60 + 15, 12, 16, 0)
AddTree(Tree2, 30 - 10, 60 + 30, 12, 16, 0)

AddTree(Tree2, 50 + 10, 60, 12, 16, 0)
AddTree(Tree2, 50 + 10, 60 + 15, 12, 16, 0)
AddTree(Tree2, 50 + 10, 60 + 30, 12, 16, 0)

#East Trees
	#Southern path
	AddTree(Tree1, 105 + 15, -65 - 10, 13.5, 12, 0)
	AddTree(Tree1, 105 + 30, -65 - 10, 13.5, 12, 0)
	AddTree(Tree1, 105 + 45, -65 - 10, 13.5, 12, 0)

	#AddTree(Tree1, 105 + 15, -45 + 10, 13.5, 12, 0)
	#AddTree(Tree1, 105 + 30, -45 + 10, 13.5, 12, 0)
	#AddTree(Tree1, 105 + 45, -45 + 10, 13.5, 12, 0)

	#Northern path
	#AddTree(Tree1, 105 + 15, -5 - 10, 13.5, 12, 0)
	#AddTree(Tree1, 105 + 30, -5 - 10, 13.5, 12, 0)
	#AddTree(Tree1, 105 + 45, -5 - 10, 13.5, 12, 0)

	AddTree(Tree1, 105 + 15, 15 + 10, 13.5, 12, 0)
	AddTree(Tree1, 105 + 30, 15 + 10, 13.5, 12, 0)
	AddTree(Tree1, 105 + 45, 15 + 10, 13.5, 12, 0)

##--------------------------------------------------------------------------------##

#Set texture prefixes/suffixes
<Function TexPrefix>
	#Main prefixes
	Set 5 = LH
	if[%floor% > 2 & %floor% < 9] Set 5 = UH
	if[%floor% > 8 & %floor% < 17] Set 5 = Ward
	if[%floor% = 17] Set 5 = Service
	if[%floor% = -3] Set 5 = B3F

		#Add "ExtraSouth" value for floor section.
		Set ExtraSouth = 40 #Extra south dimensions for levels B3 to 3
		if[%floor% > 6] Set ExtraSouth = 0 #Extra south dimensions for levels B3 to 3
		
		#Suffixes for walls inside patient rooms
		Set PTSuffix = Wall
		if[%floor% > 8 & %floor% < 17] Set PTSuffix = Wall_Int
		
		#Suffixes for deco walls on patient room levels
		Set PTSuffix2 = Wall
		if[%floor% > 8 & %floor% < 17] Set PTSuffix2 = DecoWall
		
	#Shaft doors for service elevators
	Set 5S = ServiceA
	if[%floor% > 2 & %floor% < 9] Set 5S = ServiceB
	if[%floor% > 8 & %floor% < 17] Set 5S = ServiceC
	if[%floor% = 17] Set 5S = ServiceD
	if[%floor% = -3] Set 5S = ServiceE
<EndFunction>

##--------------------------------------------------------------------------------##

#Exterior & interior
#All floors
<Floors -3 to 17>
	TexPrefix() #Set texture prefix/suffix
	Set IsExternal = false
	if[%floor% = 1] Set IsExternal = true

	#Floors
	Set FloorOffset = 0
	if[%floor% = 1] Set FloorOffset = %interfloorheight%

	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor %floorid%F_Floor, %5%Floor, 0.5, -%1%, -%2% - %ExtraSouth%, %1%, %2%, %FloorOffset%, %FloorOffset%, 0, 0, %IsExternal%

	#Ceilings
	Set CeiOffset = %height%
	if[%floor% = 1] Set CeiOffset = %fullheight%

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor %floorid%F_Ceiling, %5%Ceiling, 0.5, -%1%, -%2% - %ExtraSouth%, %1%, %2%, %CeiOffset%, %CeiOffset%, 0, 0, %IsExternal%
<EndFloors>

<Floors -3 to 6>
	TexPrefix() #Set texture prefix/suffix

	#Carpeting at elevator lobbies
		#Floor cuts
		if[%floor% = 0] CutAll -8.66, %interfloorheight% - 1, 5, 8.66, %interfloorheight% + 1, 35, false, true #Center
		if[%floor% = 0] CutAll -8.5, %interfloorheight% - 1, 35, 8, %interfloorheight% + 1, 45, false, true #Center

		#West carpeting
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		if[%floor% ! -3 & %floor% ! 0 & %floor% ! 1] AddFloor WestLobbyCarpet, %5%Carpet, 0.5, -44, -30, -30, -5, 0.001, 0.001, 0, 0, false

		#Center carpeting
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 0] AddFloor CenterLobbyCarpet1_Trim, BlackTrim, 0.5, -8.66, 5, 8.66, 5.2, 0, 0, 0, 0, false
		if[%floor% = 0] AddFloor CenterLobbyCarpet1, %5%Carpet2, 0.5, -8.66, 5.2, 8.66, 35, 0, 0, 0, 0, false
		if[%floor% = 0] AddFloor CenterLobbyCarpet2, %5%Carpet2, 0.5, -8.3, 35, 8, 45, 0, 0, 0, 0, false
		if[%floor% = 0] AddFloor CenterLobbyCarpet2_Trim, BlackTrim, 0.5, -8.5, 35, -8.3, 45, 0, 0, 0, 0, false

		#East carpeting
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		if[%floor% ! -3 & %floor% ! 0] AddFloor EastLobbyCarpet, %5%Carpet, 0.5, 30, -30, 44, -5, 0.001, 0.001, 0, 0, false
<EndFloors>

<Floors -3 to -1>
	#Basement perimeter walls
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %height%
	Set WallOffset = 0

		#Set DrawWalls for Front/Left sides
		DrawWalls = false, true, false, false, false, false

		WallOrientation = left
		AddWall FrontWall, %5%Wall, 0.5, -%1%, -%2% - %ExtraSouth%, %1%, -%2% - %ExtraSouth%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall LeftWall, %5%Wall, 0.5, -%1%, -%2% - %ExtraSouth%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Set DrawWalls for Right/Back sides
		DrawWalls = true, false, false, false, false, false

		WallOrientation = right
		AddWall RightWall, %5%Wall, 0.5, %1%, -%2% - %ExtraSouth%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall BackWallA, %5%Wall, 0.5, -%1%, %2%, 8, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall BackWallB, %5%Wall, 0.5, 20, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

#########################################################################

#RELAXATION ZONE ATRIUM
<Floors 7 to 8>
	#Atrium cuts
	if[%floor% > 7] CutAll -40, %interfloorheight% - 1, -%2%, 40, %interfloorheight% + 1, -5.5, false, true
	if[%floor% < 8] CutAll -40, %fullheight% - 1, -%2%, 40, %fullheight% + 1, -5.5, false, true
<EndFloors>

<Floor 8>
	TexPrefix() #Set texture prefix/suffix

	#Atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, false, true, true, false
	AddWall RelaxATRLeftRail, %5%Wall2, 0.5, -40, -%2%, -40, -5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	AddWall RelaxATRRightRail, %5%Wall2, 0.5, 40, -%2%, 40, -5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	DrawWalls = true, true, true, true, true, false
	AddWall RelaxATRBackRail, %5%Wall2, 0.5, -40, -5.5, 40, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFloor>

#########################################################################


#OPD ATRIUM
<Function ATR_ExtraCuts>
	#Extra cuts
		#Z-Axis
		Set EC_Flr = 0
		if[%floor% = 0] Set EC_Flr = 20
		if[%floor% < 0] Set EC_Flr = 12.5
		Set EC_Cei = 0
		if[%floor% = -1] Set EC_Cei = 20
		if[%floor% < -1] Set EC_Cei = 12.5
	
		#X-Axis
		Set EC_Flr_X = 0
		if[%floor% = 1] Set EC_Flr_X = 9.5
		Set EC_Cei_X = 0
		if[%floor% = 0] Set EC_Cei_X = 9.5
<EndFunction>

<Floors -3 to -1>
	ATR_ExtraCuts() #Extra cut values

	#Atrium cuts
	if[%floor% > -3] CutAll -10 - %EC_Flr_X%, %interfloorheight% - 1, -%2% - 40 + %EC_Flr%, 10, %interfloorheight% + 1, -5.5 - 20 - 12, false, true
	if[%floor% > -3] CutAll -10 - %EC_Flr_X%, %interfloorheight% - 1, -5.5 - 20, 10, %interfloorheight% + 1, -5.5, false, true
	if[%floor% < -1] CutAll -10 - %EC_Cei_X%, %fullheight% - 1, -%2% - 40 + %EC_Cei%, 10, %fullheight% + 1, -5.5 - 20 - 12, false, true
	if[%floor% < -1] CutAll -10 - %EC_Cei_X%, %fullheight% - 1, -5.5 - 20, 10, %fullheight% + 1, -5.5, false, true
<EndFloors>

<Floors -1 to 6>
	ATR_ExtraCuts() #Extra cut values

	#Atrium cuts
	if[%floor% > -1] CutAll -10 - %EC_Flr_X%, %interfloorheight% - 1, -%2% - 40 + %EC_Flr%, 10, %interfloorheight% + 1, -5.5, false, true
	if[%floor% < 6] CutAll -10 - %EC_Cei_X%, %fullheight% - 1, -%2% - 40 + %EC_Cei%, 10, %fullheight% + 1, -5.5, false, true
<EndFloors>

#Extra cuts on the 1st-2nd floors
<Floors 0 to 1>
	ATR_ExtraCuts() #Extra cut values

	#Atrium cuts
	if[%floor% > 0] CutAll -38, %interfloorheight% - 1, -%2% - 40 + %EC_Flr%, -19.5, %interfloorheight% + 1, -5.5, false, true
	if[%floor% < 1] CutAll -38, %fullheight% - 1, -%2% - 40 + %EC_Cei%, -19.5, %fullheight% + 1, -5.5, false, true
<EndFloors>

<Floors -2 to -1>
	TexPrefix() #Set texture prefix/suffix

	ATR_ExtraCuts() #Extra cut values

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#South atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall A1FrontRail, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -%2% - 40 + %EC_Flr%, 10 + 0.5, -%2% + %EC_Flr% - 40, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall A1LeftRail, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -%2% - 40 + %EC_Flr%, -10 - %EC_Flr_X%, -5.5 - 32, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	if[%floor% ! -1] AddWall A1RightRail, %5%Wall2, 0.5, 10, -%2% - 40 + %EC_Flr%, 10, -5.5 - 32, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -1] AddWall A1RightRail_A, %5%Wall2, 0.5, 10, -%2% - 40 + %EC_Flr%, 10, -58, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -1] AddWall A1RightRail_B, %5%Wall2, 0.5, 10, -50, 10, -5.5 - 32, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall A1BackRail, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -5.5 - 32, 10 + 0.5, -5.5 - 32, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	#North atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% ! -2] AddWall A2FrontRail_A, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -5.5 - 20, 10 + 0.5, -5.5 - 20, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -2] AddWall A2FrontRail_B, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -5.5 - 20, -9, -5.5 - 20, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -2] AddWall A2FrontRail_C, %5%Wall2, 0.5, -1, -5.5 - 20, 1, -5.5 - 20, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -2] AddWall A2FrontRail_D, %5%Wall2, 0.5, 9, -5.5 - 20, 10 + 0.5, -5.5 - 20, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall A2LeftRail, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -5.5 - 20, -10 - %EC_Flr_X%, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	AddWall A2RightRail, %5%Wall2, 0.5, 10, -5.5 - 20, 10, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% ! -1] AddWall A2BackRail, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -5.5, 10 + 0.5, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -1] AddWall A2BackRail, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -5.5, -9, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = -1] AddWall A2BackRail, %5%Wall2, 0.5, -1, -5.5, 10 + 0.5, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFloors>

<Floors 0 to 6>
	TexPrefix() #Set texture prefix/suffix

	ATR_ExtraCuts() #Extra cut values

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = 0

		#Front rails
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		if[%floor% = 0] AddWall AFrontRail, %5%Wall2, 0.5, -10 - %EC_Flr_X% - 0.5, -%2% - 40 + %EC_Flr%, 10 + 0.5, -%2% + %EC_Flr% - 40, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true

		#Left rails
		DrawWalls = true, true, true, true, true, false
		if[%floor% = 0] AddWall ALeftRail1, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -%2% - 40 + %EC_Flr%, -10 - %EC_Flr_X%, -58, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%floor% = 0] AddWall ALeftRail2, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -58 + 8, -10 - %EC_Flr_X%, -5.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true

		DrawWalls = true, true, false, true, true, false
		if[%Mod% = 1 & %floor% ! 1] AddWall ALeftRail1, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -%2% - 40 + %EC_Flr%, -10 - %EC_Flr_X%, -5.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, true, false
		if[%floor% = 6] AddWall ALeftRail2, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -%2% - 40 + %EC_Flr%, -10 - %EC_Flr_X%, -22, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, true, false
		if[%Mod% = 0 & %floor% ! 6 & %floor% ! 0] AddWall ALeftRail3, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -%2% - 40 + %EC_Flr%, -10 - %EC_Flr_X%, -38, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		DrawWalls = true, true, true, true, true, false
		if[%Mod% = 0 & %floor% ! 6 & %floor% ! 0] AddWall ALeftRail4, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -30, -10 - %EC_Flr_X%, -22, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%Mod% = 0 & %floor% ! 0] AddWall ALeftRail5, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -14, -10 - %EC_Flr_X%, -5.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true

		#Right rails
		WallOrientation = left
		DrawWalls = true, true, false, true, true, false
		if[%Mod% = 0] AddWall ARightRail1, %5%Wall2, 0.5, 10, -%2% - 40 + %EC_Flr%, 10, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, true, false
		if[%floor% = 1] AddWall ARightRail2, %5%Wall2, 0.5, 10, -%2% - 40 + %EC_Flr%, 10, -22, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
	
		DrawWalls = true, true, false, true, true, false
		if[%Mod% = 1 & %floor% ! 1] AddWall ARightRail3, %5%Wall2, 0.5, 10, -%2% - 40 + %EC_Flr%, 10, -38, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		DrawWalls = true, true, true, true, true, false
		if[%Mod% = 1 & %floor% ! 1] AddWall ARightRail4, %5%Wall2, 0.5, 10, -30, 10, -22, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%Mod% = 1] AddWall ARightRail5, %5%Wall2, 0.5, 10, -14, 10, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true

		#Back rails
		if[%floor% ! 1] AddWall ABackRail1, %5%Wall2, 0.5, -10 - %EC_Flr_X%, -5.5, 10 + 0.5, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%floor% = 1] AddWall ABackRail2A, %5%Wall2, 0.5, -38, -5.5, -30, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%floor% = 1] AddWall ABackRail2B, %5%Wall2, 0.5, -22, -5.5, -10, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
		if[%floor% = 1] AddWall ABackRail3, %5%Wall2, 0.5, -10, -5.5, 10 + 0.5, -5.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true

		#Extra left rail (2nd floor, east of Elevators 6-8)
		WallOrientation = right
		DrawWalls = true, true, false, true, true, false
		if[%floor% = 1] AddWall ABackRail2A, %5%Wall2, 0.5, -38, -%2% - 40, -38, -5.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, true
<EndFloors>

#########################################################################

<Break>

#OPD ESCALATORS

#Set escalator properties
	OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
	OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)
	OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
	OP_EscTruss(SilverBalustrade, B3FEscWall, 0.5, 3.125, 0, 0, 0, 0)

#1. Standard-length Escalators from B3 to 1
<Floor -3>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, 7, -25.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, 3, -25.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

	#Reset textures for escalators from B2 to 1
	OP_EscTruss(SilverBalustrade, LHEscWall, 0.5, 3.25, 0, 0, 0, 0)

<Floor -2>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -7, -5.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -3, -5.5, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

	#Reset textures for left/right escalators
	OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)

<Floor -1>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -56, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -52, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

#2. Longer Escalators from 1 to 2
	#Reset textures for front/back escalators
	OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)

<Floor 0>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -28, -5.5, 3, 2/3, 1, 36, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -24, -5.5, 3, 2/3, 1, 36, 0, 0, 0, 0) #EG881
<EndFloor>

#3. Standard-length Escalators from 2 to 7
	#Reset textures for left/right escalators
	OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)

<Floor 1>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -20, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -16, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 2>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 10, -32, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 10, -36, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

#Reset textures for escalators from 4 to 7
OP_EscTruss(SilverBalustrade, UHEscWall, 0.5, 3.5, 0, 0, 0, 0)

<Floor 3>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -20, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -16, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 4>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 10, -32, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 10, -36, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 5>
	OP_Escalator(%floorid%_OPDEscalatorUP, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -20, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_OPDEscalatorDN, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -10, -16, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

<Break>

#########################################################################

<Floors -1 to 17>
	TexPrefix() #Set texture prefix/suffix

	#Storage north of Shafts 1-2
	Set StorageExtTex = %5%%PTSuffix%
	Set StorageExtTex2 = %5%%PTSuffix2%
	Set StorageIntTex = %5%Wall

	DrawWalls = true, true, false, false, false, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %StorageExtTex%, %StorageIntTex%, Blank, Blank, Blank, Blank
	AddWall WestSTR1, %5%Wall, 0.5, -20, 35, -20, %2% - 0.5, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	TextureOverride %StorageIntTex%, %StorageExtTex2%, Blank, Blank, Blank, Blank
	AddWall WestSTR2, %5%Wall, 0.5, -8, 35, -8, %2% - 0.5, %height%, %height%, 0, 0, 0, 0, false

	#====================#

	#Dropped ceilings for storages
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddFloor WestSTRCeil, DropCeiling, 0.5, -20, 35, -8, %2%, 9.5, 9.5, 0, 0, false

	#====================#

	#Storage doors
	Set DTex = Door8
	if[%floor% > 2] Set DTex = Door9b
	if[%floor% > 8] Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side
	
		#West storage
		Set Door_MainX = -8 - 0.5
		Set Door_MainZ = 35 + 2
	
		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_WestStrDoor, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false
<EndFloors>

<Floor 17>
	#Extra storage doors on Mechanical Mezzanine
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side
	
		#West storage
		Set Door_MainX = -8 - 0.5
		Set Door_MainZ = 35 + 2
	
		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_WestStrDoor2, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 10, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 10, false, 0, 0, false
<EndFloor>

<Floors -3 to 6>
	TexPrefix() #Set texture prefix/suffix

	#Storage south of Shaft 6
	DrawWalls = true, true, false, false, false, false

	WallOrientation = left
	AddWall SouthSTR1, %5%Wall, 0.5, 30, -85, 30, -80, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	AddWall SouthSTR2, %5%Wall, 0.5, 40, -85, 40, -80, %height%, %height%, 0, 0, 0, 0, false

		#Storage's dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0] AddFloor WestStorage_DropCeiling, DropCeiling, 0.5, 30, -85, 30, -80, 8, 8, 0, 0, false

	#====================#

	#Storage doors
	Set DTex = ServiceDoor3
	if[%floor% > 2] Set DTex = Door9b
	Set DSTex = %DTex%Side
	
		#South storage
		Set Door_MainX = 40
		Set Door_MainZ = -80 - 2
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_WestStrDoor, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false
<EndFloors>

<Floors 7 to 8>
	TexPrefix() #Set texture prefix/suffix

	#Storage south of Shafts 3-4
	Set StorageExtTex = %5%%PTSuffix%
	Set StorageExtTex2 = %5%%PTSuffix2%
	Set StorageIntTex = %5%Wall

	DrawWalls = true, true, false, false, false, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall WestSTR3, %5%Wall, 0.5, -70, -%2% + 0.5, -70, -30, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	AddWall WestSTR4, %5%Wall, 0.5, -48, -%2%, -48, -35, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall EastSTR3, %5%Wall, 0.5, 48, -%2%, 48, -35, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	AddWall EastSTR4, %5%Wall, 0.5, 70, -%2% + 0.5, 70, -30, %height%, %height%, 0, 0, 0, 0, false

	#====================#

	#Storage doors
	Set DTex = Door8
	if[%floor% > 2] Set DTex = Door9b
	if[%floor% > 8] Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side
	
		#West storage
		Set Door_MainX = -48 - 0.5
		Set Door_MainZ = -35 - 2
	
		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_WestStrDoor, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false

		#East storage
		Set Door_MainX = 48 + 0.5
		Set Door_MainZ = -35 - 2
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_EastStrDoor, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false
<EndFloors>

#Set door textures for restrooms
<Function RR_DTex>
	Set DTex = Door8
	if[%floor% < 0] Set DTex = Door6
	if[%floor% > 2] Set DTex = Door9b
	Set DSTex = %DTex%Side
<EndFunction>

<Function Restrooms>
	TexPrefix() #Set texture prefixes

	#Restrooms
		#Main walls (Front/left)
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall Floor%floorid%Restroom_Front, %5%Wall, 0.5, -40, 5, -20, 5, %height%, %height%, 0, 0, 0, 0, false
		AddWall Floor%floorid%Restroom_Left, %5%Wall, 0.5, -40, 5, -40, 35, %height%, %height%, 0, 0, 0, 0, false
		AddWall Floor%floorid%Restroom_Left_EX, %5%Wall, 0.5, -40, 35, -40, %2%, %height%, %height%, 0, 0, 0, 0, false #Storage wall

		#Extra wall to provide privacy
		WallOrientation = left
		DrawWalls = true, true, true, false, false, false
		if[%floor% = 0] AddWall Floor%floorid%Restroom_Front_EXPriv, %5%Wall, 0.75, -40 - 8, 5, -40 - 8, %2%, %height%, %height%, 0, 0, 0, 0, false

		#Main walls (Right/back)
		WallOrientation = right
		Set Showext = false
		if[%floor% < -1] Set Showext = true
		DrawWalls = true, %Showext%, false, false, false, false
		AddWall Floor%floorid%Restroom_Right, %5%Wall, 0.5, -20, 5, -20, 35, %height%, %height%, 0, 0, 0, 0, false
		AddWall Floor%floorid%Restroom_Right_EX, %5%Wall, 0.5, -20, 35, -20, %2%, %height%, %height%, 0, 0, 0, 0, false #Storage wall
		DrawWalls = true, true, false, false, false, false
		AddWall Floor%floorid%Restroom_Back, %5%Wall, 0.5, -40, 35, -20, 35, %height%, %height%, 0, 0, 0, 0, false

		#Interior (Middle) divider wall
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall Floor%floorid%Restroom_Mid, %5%Wall, 1, -40, 20, -20, 20, %height%, %height%, 0, 0, 0, 0, false
		
		########################################

		#Restrooms' dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor RR_DropCeiling, DropCeiling, 0.5, -40, 5, -20, 35, 8.5, 8.5, 0, 0, false

		########################################

		#Restroom doors
		RR_DTex() #Set door texture for restrooms

		WallOrientation = right
		AddStdDoor Floor %floor%, RR1Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, -39.5, 20 - 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, RR2Door_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, -39.5, 20 + 2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -39.5, 20 - 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -39.5, 20 + 2.5, 3, 7, 0, false, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		Set SignSuffix = _Brown
		if[%floor% > 2] Set BoxTex = BlackTrim
		if[%floor% > 2] Set SignSuffix = _Gray

			#Signs at hallways
			AddBoxSign(RR_HallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.1, false, true, true, -40 + 0.5, 5 - 0.75, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(RR1_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, -40 - 0.025, 20 - 2.5, 1.25, 1.25, 7.25, false)
			AddBoxSign(RR2_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, -40 - 0.025, 20 + 2.5, 1.25, 1.25, 7.25, false)

	########################################

	#Doors for storage next to restrooms
	Set DTex = Door8
	if[%floor% ! 0] Set DTex = Door1
	if[%floor% > 2] Set DTex = Door9b
	Set DSTex = %DTex%Side

		Set Door_MainX = -40 + 0.5
		Set Door_MainZ = 35 + 2
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_EastStrDoor, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, 0, false, 0, 0, false

	#Storage's dropped ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddFloor WestStorage_DropCeiling, DropCeiling, 0.5, -40, 35, -20, %2%, 9.5, 9.5, 0, 0, false
<EndFunction>

<Floors -3 to 8>
	if[%floor% ! 0 & %floor% ! 1] Restrooms() #No restrooms on the 1st and 2nd floor.
<EndFloors>

#########################################################################

#Clinics
<Function SRH_Haneda_OPD>
	#Set DrawWalls for clinic walls
	DrawWalls = true, true, false, false, false, false

	#Set door textures
	Set DTex = ClinicDoor
	if[%floor% < 0] Set DTex = Door6
	if[%floor% = -3] Set DTex = Door88
	Set DSTex = %DTex%Side

	#----------------------------------------#
	
	#West (Department/Clinic 1) hallway walls
	WallOrientation = left
	if[%floor% ! 1] AddWall WestHallway1/1, %5%Wall, 0.5, -48, -35, -30, -35, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = right
	if[%floor% ! 1] AddWall WestHallway1/2, %5%Wall, 0.5, -30, -%2% - %ExtraSouth%, -30, -35 + 0.5, %height%, %height%, 0, 0, 0, 0, false
	if[%floor% = 1] AddWall WestHallway1/2, %5%Wall, 0.5, -48, -%2% - %ExtraSouth%, -48, -35, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = right
	AddWall WestHallway1/3, %5%Wall, 0.5, -48, -5, -48, %2%, %height%, %height%, 0, 0, 0, 0, false

		#Clinic 1 Main Doors
		Set Door_MainX = -30.5
		if[%floor% = 1] Set Door_MainX = -48.5
		Set Door_MainZ = -65
	
		WallOrientation = left
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D1A, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D1B, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

			#Windows around doors
			Add3DWindows(Clinic1_Win1/1, %Door_MainX% + 0.25, %Door_MainZ%, centerx, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic1_Win1/2, %Door_MainX% + 0.25, %Door_MainZ% - 3.25 - 6, centerx, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 3/4, 1)
			Add3DWindows(Clinic1_Win1/3, %Door_MainX% + 0.25, %Door_MainZ% + 3.25 + 6, centerx, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 3/4, 1)

			#Windows at elevator lobby
			if[%floor% ! 1] Add3DWindows(Clinic1_ELWin, -39.25, -34.75, centerz, 17, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 4/4, 1)

		#Clinic 1 Secondary Doors
		Set Door_MainX = -48
		Set Door_MainZ = 0
	
		WallOrientation = right
		SetLock 2, 0
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D2A, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D2B, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
		SetLock 0, 0

			#Windows around doors
			Add3DWindows(Clinic1_Win2/1, %Door_MainX% - 0.25, %Door_MainZ%, centerx, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic1_Win2/2, %Door_MainX% - 0.25, %Door_MainZ% - 3.25 - 0.75, centerx, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic1_Win2/3, %Door_MainX% - 0.25, %Door_MainZ% + 3.25 + 0.75, centerx, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)

	#----------------------------------------#

	#East (Department/Clinic 2) hallway walls
	WallOrientation = left
	AddWall EastHallway1/1, %5%Wall, 0.5, 30, -35, 48, -35, %height%, %height%, 0, 0, 0, 0, false
	AddWall WestHallway1/2, %5%Wall, 0.5, 30, -60, 30, -35 + 0.5, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = left
	AddWall WestHallway1/3, %5%Wall, 0.5, 48, -5, 48, %2%, %height%, %height%, 0, 0, 0, 0, false

		#Clinic 2 Main Doors
		Set Door_MainX = 30.5
		Set Door_MainZ = -50
	
		WallOrientation = right
		AddStdDoor Floor %floor%, Clinic2_%floorid%_D1A, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, Clinic2_%floorid%_D1B, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

			#Windows around doors
			Add3DWindows(Clinic2_Win1/1, %Door_MainX% - 0.25, %Door_MainZ%, centerx, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic2_Win1/2, %Door_MainX% - 0.25, %Door_MainZ% - 3 - 3.5, centerx, 6.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 2/4, 1)
			Add3DWindows(Clinic2_Win1/3, %Door_MainX% - 0.25, %Door_MainZ% + 3 + 6, centerx, 11.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 3/4, 1)

			#Windows at elevator lobby
			Add3DWindows(Clinic2_ELWin, 39.25, -34.75, centerz, 17, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 4/4, 1)

		#Clinic 2 Secondary Doors
		Set Door_MainX = 48
		Set Door_MainZ = 0
	
		WallOrientation = left
		SetLock 1, 0
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D2A, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, Clinic1_%floorid%_D2B, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls %5%Wall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
		SetLock 0, 0

			#Windows around doors
			Add3DWindows(Clinic2_Win2/1, %Door_MainX% + 0.25, %Door_MainZ%, centerx, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic2_Win2/2, %Door_MainX% + 0.25, %Door_MainZ% - 3.25 - 0.75, centerx, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
			Add3DWindows(Clinic2_Win2/3, %Door_MainX% + 0.25, %Door_MainZ% + 3.25 + 0.75, centerx, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 0.5, 1/4, 1)
<EndFunction>

<Floors -3 to -1>
	TexPrefix() #Set texture prefixes

	SRH_Haneda_OPD()
<EndFloors>

<Floors 1 to 6>
	TexPrefix() #Set texture prefixes
	SRH_Haneda_OPD()
<EndFloors>

<Floors -3 to 6>
	#Elevator lobby signs
	Set SignTex = Sign_Elev
	Set SideTex = WoodSign2
	if[%floor% > 2] Set SignTex = Sign_Elev_Gray
	if[%floor% > 2] Set SideTex = BlackTrim

	#Set Position = -48 - 0.25
	#if[%floor% ! -3 & %floor% ! 0] AddBoxSign(PElevLbySign1, %SignTex%, %SignTex%, %SideTex%, 0.1, false, true, true, %Position%, -5 + 0.75, 1.5, 1.5, 7.5, false)

	#Set Position = 48 + 0.25
	#if[%floor% ! 0] AddBoxSign(PElevLbySign2, %SignTex%, %SignTex%, %SideTex%, 0.1, false, true, true, %Position%, -5 + 0.75, 1.5, 1.5, 7.5, false)
	#Set Position = 19.5 + 0.25
	#if[(%floor% > -3 & %floor% < 5) & %floor% ! 0] AddBoxSign(PElevLbySign3, %SignTex%, %SignTex%, %SideTex%, 0.1, false, true, true, %Position%, -5 + 0.75, 1.5, 1.5, 7.5, false)

	#Service elevator lobby sign
	Set Position = 25

	Set SignSuffix1 = A
	Set SignSuffix2 = B
	if[%floor% > 2] Set SignSuffix1 = _Gray
	if[%floor% > 2] Set SignSuffix2 = _Gray
	Set SideTex = WoodSign2
	if[%floor% > 2] Set SideTex = BlackTrim

	if[%floor% ! -3 & %floor% ! -2 & %floor% ! 0] AddBoxSign(SELbySign1, Sign_ServiceElev%SignSuffix1%, Sign_ServiceElev%SignSuffix2%, %SideTex%, 0.1, false, true, true, %Position%, 5 - 0.75, 1.5, 1.5, 7.5, false)
<EndFloors>

#########################################################################

#Patient room levels
<Floors 9 to 16>
	TexPrefix() #Set texture prefixes

	#1. FLOORINGS
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false

	#Elevator lobby
		CutAll -20, %interfloorheight% - 0.1, 5, 20 - 0.66, %interfloorheight% + 0.1, %2%, false, true
		CutAll 20 - 0.66, %interfloorheight% - 0.1, 5.3, 30, %interfloorheight% + 0.1, %2%, false, true
		AddFloor ElevLobbyFloor, %5%Floor2, 0.5, -20, 5.2, 20 - 0.66, %2%, 0, 0, 0, 0, false
		AddFloor ElevLobbyFloorTR, BlackTrim, 0.5, -20, 5, 20 - 0.66, 5.2, 0, 0, 0, 0, false
		AddFloor ServiceElevLobbyFloor, %5%Floor2, 0.5, 20 - 0.66, 5.5, 30, %2%, 0, 0, 0, 0, false
		AddFloor ServiceElevLobbyFloorTR, BlackTrim, 0.5, 20 - 0.66, 5.3, 30, 5.5, 0, 0, 0, 0, false

	#NW patient rooms
		CutAll -%1%, %interfloorheight% - 0.1, 5.3, -20, %interfloorheight% + 0.1, %2%, false, true
		AddFloor NWRoomFloor, %5%Floor_Int, 0.5, -%1%, 5.5, -20, %2%, 0, 0, 0, 0, false
		AddFloor NWRoomFloorTR, BlackTrim, 0.5, -%1%, 5.3, -20, 5.5, 0, 0, 0, 0, false
		
	#NE patient rooms
		CutAll 30, %interfloorheight% - 0.1, 5.3, %1%, %interfloorheight% + 0.1, %2%, false, true
		AddFloor NERoomFloor, %5%Floor_Int, 0.5, 30, 5.5, %1%, %2%, 0, 0, 0, 0, false
		AddFloor NERoomFloorTR, BlackTrim, 0.5, 30, 5.3, %1%, 5.5, 0, 0, 0, 0, false

	#SW patient rooms
		CutAll -%1%, %interfloorheight% - 0.1, -%2%, -20, %interfloorheight% + 0.1, -5.3, false, true
		AddFloor SWRoomFloor, %5%Floor_Int, 0.5, -%1%, -%2%, -20, -5.5, 0, 0, 0, 0, false
		AddFloor SWRoomFloorTR, BlackTrim, 0.5, -%1%, -5.5, -20, -5.3, 0, 0, 0, 0, false

	#SE patient rooms
		CutAll 20, %interfloorheight% - 0.1, -%2%, %1%, %interfloorheight% + 0.1, -5.3, false, true
		AddFloor SERoomFloor, %5%Floor_Int, 0.5, 20, -%2%, %1%, -5.5, 0, 0, 0, 0, false
		AddFloor SERoomFloorTR, BlackTrim, 0.5, 20, -5.5, %1%, -5.3, 0, 0, 0, 0, false
		
	#----------------------------------------
	
	#2. Walls
	DrawWalls = true, true, false, false, false, false

		#1. North walls
		WallOrientation = left
		TextureOverride %5%Wall, %5%Wall_Int, Blank, Blank, Blank, Blank
		AddWall PTRoom_North1, %5%Wall, 0.5, -%1%, 5, -20, 5, %height%, %height%, 0, 0, 0, 0, false
		TextureOverride %5%Wall, %5%Wall_Int, Blank, Blank, Blank, Blank
		AddWall PTRoom_North2, %5%Wall, 0.5, 30.5, 5, %1%, 5, %height%, %height%, 0, 0, 0, 0, false
		
			#Room divider walls
			WallOrientation = center
			AddWall PTRoom_NorthDiv1, %5%Wall_Int, 1, -80, 5, -80, %2%, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_NorthDiv2, %5%Wall_Int, 1, -60, 5, -60, %2%, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_NorthDiv3, %5%Wall_Int, 1, -40, 5, -40, %2%, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_NorthDiv4, %5%Wall_Int, 1, 45, 5, 45, %2%, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_NorthDiv5, %5%Wall_Int, 1, 60, 5, 60, %2%, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_NorthDiv6, %5%Wall_Int, 1, 80, 5, 80, %2%, %height%, %height%, 0, 0, 0, 0, false

		#2. South walls
		WallOrientation = right
		TextureOverride %5%Wall_Int, %5%Wall, Blank, Blank, Blank, Blank
		AddWall PTRoom_South1, %5%Wall, 0.5, -%1%, -5, -70, -5, %height%, %height%, 0, 0, 0, 0, false
		TextureOverride %5%Wall_Int, %5%Wall, Blank, Blank, Blank, Blank
		AddWall PTRoom_South2, %5%Wall, 0.5, -60, -5, -20 + 0.5, -5, %height%, %height%, 0, 0, 0, 0, false
		TextureOverride %5%Wall_Int, %5%Wall, Blank, Blank, Blank, Blank
		AddWall PTRoom_South3, %5%Wall, 0.5, 20 - 0.5, -5, 60, -5, %height%, %height%, 0, 0, 0, 0, false
		TextureOverride %5%Wall_Int, %5%Wall, Blank, Blank, Blank, Blank
		AddWall PTRoom_South4, %5%Wall, 0.5, 70, -5, %1%, -5, %height%, %height%, 0, 0, 0, 0, false

			#Room divider walls
			WallOrientation = center
			AddWall PTRoom_SouthDiv2, %5%Wall_Int, 1, -65, -%2%, -65, -30, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_SouthDiv3, %5%Wall_Int, 1, -40, -%2%, -40, -5, %height%, %height%, 0, 0, 0, 0, false

			TextureOverride %5%Wall_Int, %5%Wall, Blank, Blank, Blank, Blank
			AddWall PTRoom_SouthDiv4, %5%Wall_Int, 1, -20, -%2%, -20, -5, %height%, %height%, 0, 0, 0, 0, false
			TextureOverride %5%Wall, %5%Wall_Int, Blank, Blank, Blank, Blank
			AddWall PTRoom_SouthDiv5, %5%Wall_Int, 1, 20, -%2%, 20, -5, %height%, %height%, 0, 0, 0, 0, false

			AddWall PTRoom_SouthDiv6, %5%Wall_Int, 1, 40, -%2%, 40, -5, %height%, %height%, 0, 0, 0, 0, false
			AddWall PTRoom_SouthDiv7, %5%Wall_Int, 1, 65, -%2%, 65, -30, %height%, %height%, 0, 0, 0, 0, false
	
	#----------------------------------------

	#3. Patient room doors
	Set Texture = Door6
	Set SignBoxTex = Sign_LightBlue

		#1. North rooms
		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, -97 + 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, -80 + 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, -40 - 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, -40 + 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, 45 - 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, 45 + 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, 80 - 3, 5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, 97 - 3, 5.5, 4, 7, 0, 0, 0

			#Door fillers
			WallOrientation = right
			AddFillerWalls ConnectionWall, 0.5, -97 + 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -80 + 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -40 - 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -40 + 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 45 - 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 45 + 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 80 - 3, 5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 97 - 3, 5.5, 4, 7, 0, true, 0, 0, false
			
			#Room numbers
			AddBoxSign(Room%floorid%11_Sign, Sign_PtRoom%floorid%11, Sign_PtRoom%floorid%11, %SignBoxTex%, 0.1, true, true, true, -97 + 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%12_Sign, Sign_PtRoom%floorid%12, Sign_PtRoom%floorid%12, %SignBoxTex%, 0.1, true, true, true, -80 + 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%13_Sign, Sign_PtRoom%floorid%13, Sign_PtRoom%floorid%13, %SignBoxTex%, 0.1, true, true, true, -40 - 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%14_Sign, Sign_PtRoom%floorid%14, Sign_PtRoom%floorid%14, %SignBoxTex%, 0.1, true, true, true, -40 + 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%01_Sign, Sign_PtRoom%floorid%01, Sign_PtRoom%floorid%01, %SignBoxTex%, 0.1, true, true, true, 45 - 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%02_Sign, Sign_PtRoom%floorid%02, Sign_PtRoom%floorid%02, %SignBoxTex%, 0.1, true, true, true, 45 + 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%03_Sign, Sign_PtRoom%floorid%03, Sign_PtRoom%floorid%03, %SignBoxTex%, 0.1, true, true, true, 80 - 6, 5 - 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%04_Sign, Sign_PtRoom%floorid%04, Sign_PtRoom%floorid%04, %SignBoxTex%, 0.1, true, true, true, 97 - 6, 5 - 0.05, 1, 0.5, 5.5, false)

		#2. South rooms
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 5, 75, 97 - 3, -5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 8, 75, 40 + 3, -5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 5, 75, 40 - 3, -5.5, 4, 7, 0, 0, 0
		
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 8, 75, -40 + 3, -5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 5, 75, -40 - 3, -5.5, 4, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 8, 75, -97 + 3, -5.5, 4, 7, 0, 0, 0

			#Door fillers
			WallOrientation = left
			AddFillerWalls ConnectionWall, 0.5, 97 - 3, -5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 40 + 3, -5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, 40 - 3, -5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -40 + 3, -5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -40 - 3, -5.5, 4, 7, 0, true, 0, 0, false
			AddFillerWalls ConnectionWall, 0.5, -97 + 3, -5.5, 4, 7, 0, true, 0, 0, false

			#Room numbers
			AddBoxSign(Room%floorid%05_Sign, Sign_PtRoom%floorid%05, Sign_PtRoom%floorid%05, %SignBoxTex%, 0.1, true, true, true, 97 - 6, -5 + 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%06_Sign, Sign_PtRoom%floorid%06, Sign_PtRoom%floorid%06, %SignBoxTex%, 0.1, true, true, true, 40 + 6, -5 + 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%07_Sign, Sign_PtRoom%floorid%07, Sign_PtRoom%floorid%07, %SignBoxTex%, 0.1, true, true, true, 40 - 6, -5 + 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%08_Sign, Sign_PtRoom%floorid%08, Sign_PtRoom%floorid%08, %SignBoxTex%, 0.1, true, true, true, -40 + 6, -5 + 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%09_Sign, Sign_PtRoom%floorid%09, Sign_PtRoom%floorid%09, %SignBoxTex%, 0.1, true, true, true, -40 - 6, -5 + 0.05, 1, 0.5, 5.5, false)
			AddBoxSign(Room%floorid%10_Sign, Sign_PtRoom%floorid%10, Sign_PtRoom%floorid%10, %SignBoxTex%, 0.1, true, true, true, -97 + 6, -5 + 0.05, 1, 0.5, 5.5, false)
<EndFloors>

#########################################################################

<Floors 0 to 16>
	TexPrefix() #Set texture prefix/suffix

	#Windows
	Set MyIFloorType = 2
	if[%floor% = 0] Set MyIFloorType = 3
	Set WinPrefix = Main

	SetAutoSize = true, false
	AddCustomWindows(FrontWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -%2% - %ExtraSouth%, %1%, -%2% - %ExtraSouth%, %height%, 0, 0, %MyIFloorType%, ExtFacade, %5%Wall)
	AddCustomWindows(LeftWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -%2% - %ExtraSouth%, -%1%, %2%, %height%, 0, 0, %MyIFloorType%, ExtFacade, %5%Wall)
	AddCustomWindows(RightWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -%2% - %ExtraSouth%, %1%, %2%, %height%, 0, 0, %MyIFloorType%, %5%Wall, ExtFacade)
	#AddCustomWindows(BackWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, -%1%, %2%, %1%, %2%, %height%, 0, 0, %MyIFloorType%, %5%Wall, ExtFacade)
	AddCustomWindows(BackWin1, %WinPrefix%WindowsInt, %WinPrefix%Windows, -%1%, %2%, -20, %2%, %height%, 0, 0, %MyIFloorType%, %5%Wall, ExtFacade)
	AddCustomWindows(BackWin2, %WinPrefix%WindowsIntB, %WinPrefix%WindowsB, -8, %2%, 8, %2%, %height%, 3/4, 1, %MyIFloorType%, %5%Wall, ExtFacade)
	AddCustomWindows(BackWin3, %WinPrefix%WindowsInt, %WinPrefix%Windows, 20, %2%, %1%, %2%, %height%, 0, 0, %MyIFloorType%, %5%Wall, ExtFacade)
	SetAutoSize = true, true
<EndFloors>

#########################################################################

#Cut windows for "Lobby windows"
	#South side
	Cut external, -60, Floor(0).Base, -%2% - 40 - 0.1, 60, Floor(1).Altitude, -%2% - 40 + 0.1, true, false
	Cut external, -20, Floor(7).Base, -%2% - 0.1, 20, Floor(8).Altitude, -%2% + 0.1, true, false #8th floor garden access

	#North side
	Cut external, 30, Floor(0).Base, %2% - 0.1, 60, Floor(1).Altitude, %2% + 0.1, true, false

	#West side
	Cut external, -%1% - 0.1, Floor(0).Base, -15, -%1% + 0.1, Floor(1).Altitude, 15, true, false
	Cut external, -%1% - 0.1, Floor(0).Base, -65, -%1% + 0.1, Floor(1).Altitude, -45, true, false

	#East side
	Cut external, %1% - 0.1, Floor(0).Base, -15, %1% + 0.1, Floor(1).Altitude, 15, true, false
	Cut external, %1% - 0.1, Floor(0).Base, -65, %1% + 0.1, Floor(1).Altitude, -45, true, false

<Floor 0>
	TexPrefix() #Set wall textures

	#Lobby windows
	Set WinPrefix = Lobby
	Set winheight = %height%

		SetAutoSize = true, false
		AddCustomWindows(FrontLobbyWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -60, -%2% - %ExtraSouth%, 60, -%2% - %ExtraSouth%, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		AddCustomWindows(LeftLobbyWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -15, -%1%, 15, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		AddCustomWindows(LeftLobbyWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, -65, -%1%, -45, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		AddCustomWindows(RightLobbyWin1, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -15, %1%, 15, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		AddCustomWindows(RightLobbyWin2, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -65, %1%, -45, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		AddCustomWindows(BackLobbyWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, 30, %2%, 60, %2%, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		SetAutoSize = true, true

	#Entrance doors
	Set DTex = BLKEntDoorInt
	Set DTex_Ext = BLKEntDoorExt
	#Set DSTex = %DTex%Side
	Set DSTex = BLKEntDoorSide
	
		#1. SOUTH DOORS
		#Door set 1
		Set Door_MainX = -45
		Set Door_MainZ = -%2% - %ExtraSouth%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2A
		Set Door_MainX = -15
		Set Door_MainZ = -%2% - %ExtraSouth%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2B
		Set Door_MainX = 15
		Set Door_MainZ = -%2% - %ExtraSouth%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 3
		Set Door_MainX = 45
		Set Door_MainZ = -%2% - %ExtraSouth%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		####################################

		#2. NORTH DOORS
		#Door set 1
		Set Door_MainX = 35
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2
		Set Door_MainX = 45
		Set Door_MainZ = %2%

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		####################################

		#3. WEST DOORS
		#Door set 1A
		Set Door_MainX = -%1%
		Set Door_MainZ = -60

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 1B
		Set Door_MainX = -%1%
		Set Door_MainZ = -50

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2A
		Set Door_MainX = -%1%
		Set Door_MainZ = 0

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2B
		Set Door_MainX = -%1%
		Set Door_MainZ = 10

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 1, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 4, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		####################################

		#4. EAST DOORS
		#Door set 1A
		Set Door_MainX = %1%
		Set Door_MainZ = -60

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 1B
		Set Door_MainX = %1%
		Set Door_MainZ = -50

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2A
		Set Door_MainX = %1%
		Set Door_MainZ = 0

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2B
		Set Door_MainX = %1%
		Set Door_MainZ = 10

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
<EndFloor>

############################################################

#Bridge between Haneda and Narita Buildings
Set BHeight = 9.5 #Bridge's ceiling height
Set BUHeight = (Floor(1).Height - %BHeight%) + Floor(2).InterfloorHeight #Height for upper walls above the bridge's ceiling

	#Cut north windows for bridge's walls
	Cut external, 10, Floor(1).Altitude, -45 - 40 - 0.5, 20, Floor(2).Base, -45 - 40 + 0.5, true, false

	#Bridge creation
	<Floor 1>
		#External walls
		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall BridgeNorth_Lower, NRT_ExtFacade, 0.5, 10, -%2% - 40, 20, -%2% - 40, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0, true
		AddWall BridgeNorth_Upper, NRT_ExtFacade, 0.5, 10, -%2% - 40, 20, -%2% - 40, %BUHeight%, %BUHeight%, %interfloorheight% + %BHeight%, %interfloorheight% + %BHeight%, 0, 0, true

		DrawWalls = true, false, false, false, false, false
		AddWall BridgeNorth_Main, BridgeWall, 0.5, 10, -%2% - 40, 20, -%2% - 40, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		DrawWalls = false, true, true, true, false, false
		AddWall BridgeNorth_Main_Int, LHWall, 0.5, 10, -%2% - 40, 20, -%2% - 40, %fullheight%, %fullheight%, 0, 0, 0, 0, true

		#Access doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorInt
		Set DSTex = BLKEntDoorSide

		Set Door_MainX = 15
		Set Door_MainZ = -%2% - 40 + 0.5

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls LHWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows around doors
			Add3DWindows(BAcc_WinTop, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %BHeight% - 7.5, 7.25, NRT_MainWindowsIntB, NRT_MainWindowsIntB, LHWall, 0.5, 1/4, 1)

		#Bridge's interiors
		FloorOrientation = top
		DrawWalls = true, true, true, true, false, false
		TextureOverride NRT_ExtFacade, BridgeFloor, NRT_ExtFacade, NRT_ExtFacade, NRT_ExtFacade, NRT_ExtFacade
		AddFloor BridgeFloor_HND2ndFloor, BridgeFloor, 1.5, 10, -%2% - 50, 20, -%2% - 40, %interfloorheight%, %interfloorheight%, 0, 0, true

		FloorOrientation = bottom
		DrawWalls = true, true, true, true, false, false
		TextureOverride BridgeCeiling, NRT_ExtFacade, NRT_ExtFacade, NRT_ExtFacade, NRT_ExtFacade, NRT_ExtFacade
		AddFloor BridgeCeil_HND2ndFloor, BridgeCeiling, 1.5, 10, -%2% - 50, 20, -%2% - 40, %interfloorheight% + %BHeight%, %interfloorheight% + %BHeight%, 0, 0, true

		#Bridge's windows
		#3. HND Bldg. Side
		SetAutoSize = true, false
		DrawWalls = true, true, false, false, false, false
		TextureOverride NRT_MainWindows, NRT_MainWindowsInt, Blank, Blank, Blank, Blank
		AddWall HNDWindows_Left, MainWindows, 0, 10, -%2% - 50, 10, -%2% - 40, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		TextureOverride NRT_MainWindowsInt, NRT_MainWindows, Blank, Blank, Blank, Blank
		AddWall HNDWindows_Right, MainWindows, 0, 20, -%2% - 50, 20, -%2% - 40, %BHeight%, %BHeight%, %interfloorheight%, %interfloorheight%, 0, 0, true
		SetAutoSize = true, true
	<EndFloor>

#########################################################################

<Floor 7>
	TexPrefix() #Set wall textures

	#8th floor setback
	Set ExtraSouth = 40 #Override for setback

	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Setback, RoofFloor2, %interfloorheight%, -%1%, -%2% - %ExtraSouth%, %1%, -%2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Garden area
		FloorOrientation = bottom
		DrawWalls = false, true, true, true, true, true
		AddFloor FlowerBed1, FlowerBed, 1, -97.5, -82.5, -97.5 + 75, -82.5 + 10, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor FlowerBed2, FlowerBed, 1, 97.5 - 75, -82.5, 97.5, -82.5 + 10, %interfloorheight%, %interfloorheight%, 0, 0, true
		DrawWalls = false, true, false, false, false, false
		AddFloor FlowerBed1_Grass, Grass_Dark, 0, -97.5 + 1, -82.5 + 1, -97.5 + 75 - 1, -82.5 + 10 - 1, %interfloorheight% + 1.01, %interfloorheight% + 1.01, 0, 0, true
		AddFloor FlowerBed2_Grass, Grass_Dark, 0, 97.5 - 75 + 1, -82.5 + 1, 97.5 - 1, -82.5 + 10 - 1, %interfloorheight% + 1.01, %interfloorheight% + 1.01, 0, 0, true

	#----------------------------------------

	#Railings
	Set WallHeight = %interfloorheight% + 0.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, false, false, true, false
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall FrontRailing, ExtFacade, 0.5, -%1% + 0.5, -%2% - %ExtraSouth%, %1% - 0.5, -%2% - %ExtraSouth%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, true, false, true, false
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall LeftRailing, ExtFacade, 0.5, -%1%, -%2% - %ExtraSouth%, -%1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall RightRailing, ExtFacade, 0.5, %1%, -%2% - %ExtraSouth%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Glass railings
		Set WallHeight = 4
		Set WallOffset = %interfloorheight% + 0.5

		SetAutoSize = true, false
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall FrontRailing, RoofGlassRailing, 0, -%1%, -%2% - %ExtraSouth%, %1%, -%2% - %ExtraSouth%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall LeftRailing, RoofGlassRailing, 0, -%1%, -%2% - %ExtraSouth%, -%1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		AddWall RightRailing, RoofGlassRailing, 0, %1%, -%2% - %ExtraSouth%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		SetAutoSize = true, true

	#----------------------------------------

	#Windows
	Set WinPrefix = Lobby
	Set winheight = %height%

		#Front
		SetAutoSize = true, false
		AddCustomWindows(FrontLobbyWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -20, -%2%, 20, -%2%, %winheight%, 0, 0, 3, ExtFacade, %5%Wall)
		SetAutoSize = true, true

	#Entrance doors
	Set DTex = BLKEntDoorInt
	Set DTex_Ext = BLKEntDoorExt
	#Set DSTex = %DTex%Side
	Set DSTex = BLKEntDoorSide
	
		#SOUTH DOORS
		#Door set 1
		Set Door_MainX = -15
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Door set 2
		Set Door_MainX = 15
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
<EndFloor>

#ATRIUM SKYLIGHT
<Floors 6 to 7>
	TexPrefix() #Set texture prefixes

	#Cuts for atrium skylight
	if[%floor% > 6] CutAll -10, %interfloorheight% - 1, -80, 10, %interfloorheight% + 1, -50, false, true
	if[%floor% < 7] CutAll -10, %fullheight% - 1, -80, 10, %fullheight% + 1, -50, false, true

		#Skylight
		DrawWalls = true, true, false, false, false, false
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 7] AddFloor SkylightFloor, SkylightInt, 0, -10, -80, 10, -50, %interfloorheight%, %interfloorheight%, 2/4, 3, true

		#Skylight atrium cover
		if[%floor% = 6] CreateWallBox2 floor, SkylightAtriumCover, %5%Wall, 0, -65, 20, 30, Floor(7).InterfloorHeight, %height%, 0, 0, true, false, false, false
<EndFloors>

#West Trees
AddTree(Tree1, -90, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, -90 + 15, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, -90 + 30, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, -90 + 45, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, -90 + 60, -77.5, 10, 11.25, Floor(7).Base + 1.01)

#East Trees
AddTree(Tree1, 90, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, 90 - 15, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, 90 - 30, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, 90 - 45, -77.5, 10, 11.25, Floor(7).Base + 1.01)
AddTree(Tree1, 90 - 60, -77.5, 10, 11.25, Floor(7).Base + 1.01)

#########################################################################

#Cut windows for perimeter walls
	#North side
	#Cut external, -20, Floor(0).Base, %2% - 0.1, -5, Floor(17).Altitude, %2% + 0.1, true, false
	#Cut external, 5, Floor(0).Base, %2% - 0.1, 20, Floor(17).Altitude, %2% + 0.1, true, false

	#South side
	Cut external, -70, Floor(7).Base, -%2% - 0.1, -60, Floor(17).Altitude, -%2% + 0.1, true, false
	Cut external, 60, Floor(7).Base, -%2% - 0.1, 70, Floor(17).Altitude, -%2% + 0.1, true, false

<Floors 0 to 16>
	#Perimeter walls
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, true, true, false, false
		TextureOverride %5%Wall, ExtFacade, %5%%PTSuffix%, %5%%PTSuffix2%, %5%%PTSuffix2%, %5%%PTSuffix2%
		AddWall BackWall_A, ExtFacade, 0.5, -20, %2%, -8, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = false, true, false, false, false, false
		#TextureOverride %5%Wall, ExtFacade, %5%%PTSuffix2%, %5%%PTSuffix%, %5%%PTSuffix2%, %5%%PTSuffix2%
		AddWall BackWall_B, ExtFacade, 0.5, 8, %2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 7 to 16>
	#Perimeter walls
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 7] Set WallHeight = %height%
	if[%floor% = 7] Set WallOffset = %interfloorheight%

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%
		AddWall FrontWall_A, ExtFacade, 0.5, -70, -%2%, -60, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		TextureOverride ExtFacade, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%
		AddWall FrontWall_B, ExtFacade, 0.5, 60, -%2%, 70, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

#########################################################################

<Floor 17>
	#Mechanical Mezzanine
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride ServiceCeiling2, ServiceFloor2, Blank, Blank, Blank, Blank
	AddFloor MechMezzanine, ServiceFloor2, 1.5, -20, -5, 20, %2%, 10, 10, 0, 0, false

		#Mechanical mezzanine railings
		Set WallHeight = 1.5 + 3.5
		Set WallOffset = 10 - 1.5
	
		WallOrientation = left
		DrawWalls = true, true, true, true, true, false
		AddWall MechMezRailLeft, ServiceWall2, 0.5, -20, -5, -20, 5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall MechMezRailFront, ServiceWall2, 0.5, -20 + 0.5 + 4, -5, 20 - 0.5, -5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		DrawWalls = true, true, true, true, false, false
		AddWall MechMezRailFront2, ServiceWall2, 0.5, -20 + 0.5, -5, -20 + 0.5 + 4, -5, 1, 1, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		AddWall MechMezRailRight, ServiceWall2, 0.5, 20, -5, 20, 5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Mechanical mezzanine stairs
	OP_OrthoStair(floor, MMS_Lower, ServiceFloor2, -9.25, -5.25, right, -15.5 + 10 + 4 + 10, 10, 1, 0.5, 0, 0.5)
	OP_OrthoStair(floor, MMS_Upper, ServiceFloor2, -9.25, -5.25, right, -15.5 + 10, 10, 1, 0.5, 0.5 * 10, 0.5)

		#Stairs landing
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		AddFloor MMS_Landing1, ServiceFloor2, 0.5, -15.5 + 10, -9.25, -15.5 + 14, -5.25, 0.5 * 10, 0.5 * 10, 0, 0, false
		AddFloor MMS_Landing2, ServiceFloor2, 0.5, -19.5, -9.25, -15.5, -5, 0.5 * 20, 0.5 * 20, 0, 0, false

		#Railings next to stair steps
		Set RailHeight = 3.5 + 0.5
		Set RailOffset = -0.5
		Set RailOffsetU1 = (0.5 * 10) - 0.5
		Set RailOffsetU2 = (0.5 * 20) - 0.5
	
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall MMS_LowerStairs_Front, ServiceWall2, 0.25, -15.5 + 10 + 4, -9.25, -15.5 + 10 + 14, -9.25, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffset%, 0, 0, false
		AddWall MMS_UpperStairs_Front, ServiceWall2, 0.25, -15.5, -9.25, -15.5 + 10, -9.25, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0, false
		AddWall MMS_Landing1_Front, ServiceWall2, 0.25, -15.5 + 10, -9.25, -15.5 + 10 + 4, -9.25, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		AddWall MMS_Landing2_Front, ServiceWall2, 0.25, -19.5, -9.25, -15.5, -9.25, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU2%, 0, 0, false
		AddWall MMS_Landing2_Left, ServiceWall2, 0.25, -19.5, -9.25 - 0.25, -19.5, -5.25 + 0.25, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU2%, 0, 0, false

		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		AddWall MMS_LowerStairs_Back, ServiceWall2, 0.25, -15.5 + 10 + 4, -5.25, -15.5 + 10 + 14, -5.25, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffset%, 0, 0, false
		AddWall MMS_UpperStairs_Back, ServiceWall2, 0.25, -15.5, -5.25, -15.5 + 10, -5.25, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0, false
		AddWall MMS_Landing1_Back, ServiceWall2, 0.25, -15.5 + 10, -5.25, -15.5 + 10 + 4, -5.25, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		#AddWall MMS_Landing2_Back, ServiceWall2, 0.25, -19.5, -5.25, -15.5, -5.25, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU2%, 0, 0, false

	#Perimeter walls
	TexPrefix() #Set texture prefix/suffix
	Set WallHeight = %fullheight%
	Set WallOffset = 0

		#Set DrawWalls for all sides
		DrawWalls = true, true, false, false, false, false

		WallOrientation = left
		TextureOverride ExtFacade, %5%Wall2, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall FrontWall, %5%Wall2, 0.5, -%1%, -%2%, %1%, -%2% - %ExtraSouth%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade, %5%Wall2, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall LeftWall, %5%Wall2, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		WallOrientation = right
		TextureOverride %5%Wall2, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall RightWall, %5%Wall2, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		DrawWalls = false, true, false, false, false, false
		#TextureOverride %5%Wall2, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall BackWall_Ext, ExtFacade, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Interior side of BackWall
		Set WallHeight = %height%
		Set WallOffset = 0

		DrawWalls = true, false, false, false, false, false
		AddWall BackWall_Int1, %5%Wall2, 0.5, -%1%, %2%, 8, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall BackWall_Int2, %5%Wall2, 0.5, 20, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Vents
	Set winheight = %height% - 1 #Named "win (Short for windows)" for compatibility reasons
	Set winoffset = 0.5

		#Front
		Add3DWindows(FrontVents1, -85, -%2%, front, 20, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 1, 1)
		Add3DWindows(FrontVents2, -40, -%2%, front, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(FrontVents3, 0, -%2%, front, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(FrontVents4, 40, -%2%, front, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(FrontVents5, 85, -%2%, front, 20, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 1, 1)

		#Back
		Add3DWindows(BackVents1, -80, %2%, back, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(BackVents2, -40, %2%, back, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(BackVents4, 40, %2%, back, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
		Add3DWindows(BackVents5, 80, %2%, back, 30, %height% - 2, 1, VentsExt, VentsInt, %5%Wall2, 0.5, 2, 1)
<EndFloor>

#########################################################################

#Support columns
<Floors -3 to 17>
	#Set Values
	TexPrefix() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#Corner Supports
	CreateWallBox2 External, SupportNW, %5%%PTSuffix%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportNE, %5%%PTSuffix%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportSW, %5%%PTSuffix%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportSE, %5%%PTSuffix%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#North Supports
	CreateWallBox2 External, SupportN1, %5%%PTSuffix%, -%1% + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportN2, %5%%PTSuffix%, -%1% + (%DistanceX% * 2), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	#CreateWallBox2 External, SupportN3, %5%%PTSuffix%, -%1% + (%DistanceX% * 3), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportN4, %5%%PTSuffix%, -%1% + (%DistanceX% * 4), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#South Supports
	CreateWallBox2 External, SupportS1, %5%%PTSuffix%, -%1% + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS2, %5%%PTSuffix%, -%1% + (%DistanceX% * 2), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS3, %5%%PTSuffix%, -%1% + (%DistanceX% * 3), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS4, %5%%PTSuffix%, -%1% + (%DistanceX% * 4), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#West Supports
	CreateWallBox2 External, SupportW1, %5%%PTSuffix%, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportW2, %5%%PTSuffix%, -%1% + 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false

	#East Supports
	CreateWallBox2 External, SupportE1, %5%%PTSuffix%, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportE2, %5%%PTSuffix%, %1% - 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
<EndFloors>

#Extra suppports (Levels B3-7)
<Floors -3 to 6>
	#Set Values
	TexPrefix() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#South Supports
	Set SupportZ = -%2% - %ExtraSouth% + 1.25

	CreateWallBox2 External, SupportS1, %5%Wall, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS1, %5%Wall, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS2, %5%Wall, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS3, %5%Wall, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS4, %5%Wall, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
	CreateWallBox2 External, SupportS4, %5%Wall, %1% - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, false, false
<EndFloors>

#Roof
<Floor 18>
	#Roof floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, RoofFloor, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Roof railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall FrontRail, ExtFacade, 0.5, -%1% + 0.5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade_Inner, ExtFacade, ExtFacade, ExtFacade_Inner, ExtFacade_Inner
	AddWall LeftRail, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade, ExtFacade, ExtFacade_Inner, ExtFacade_Inner
	AddWall RightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	#AddWall BackRail, ExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall BackRailA, ExtFacade, 0.5, -%1% + 0.5, %2%, 8, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade_Inner, ExtFacade, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner, ExtFacade_Inner
	AddWall BackRailB, ExtFacade, 0.5, 20, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

##--------------------------------------------------------------------------------##

#EXTERNAL SHAFT & STAIRWELL WALLS
<Floors -3 to 17>
	TexPrefix() #Set texture prefixes
	
	#Shafts 1-2: High zone Elevators
	if[%floor% > -2] CreateShaftWall(%5%%PTSuffix2%, %5%%PTSuffix%, %5%%PTSuffix2%, %5%Wall, ExtFacade, ExtFacade, 0.33, -14, 20, 6, 15, Shaft1, %height%, 0, true, true, true, true, false, false, false)
	if[%floor% > -2] CreateShaftWall(%5%%PTSuffix2%, %5%%PTSuffix2%, %5%Wall, %5%Wall, ExtFacade, ExtFacade, 0.33, 14, 15, 6, 10, Shaft2, %height%, 0, true, true, true, false, false, false, false)

	#Shafts 5: Service Elevator
	Set ShowFront = false
	if[%floor% < -1] Set ShowFront = true
	CreateShaftWall(%5%Wall, %5%%PTSuffix2%, %5%Wall, %5%Wall, ExtFacade, ExtFacade, 0.33, 14, 35, 6, 10, Shaft5, %height%, 0, %ShowFront%, true, true, false, false, false, false)

	#Stairwells
	Set ShowExt = true
	if[%floor% < 9] Set ShowExt = false

		#West stairwell
		CreateShaftWall(%5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%Wall, ExtFacade, ExtFacade, 0.5, -65, -17.5, 5, 12.5, WestST, %height%, 0, true, true, %ShowExt%, true, false, false, false)

		#East stairwell
		CreateShaftWall(%5%%PTSuffix%, %5%%PTSuffix%, %5%%PTSuffix%, %5%Wall, ExtFacade, ExtFacade, 0.5, 65, -17.5, 5, 12.5, EastST, %height%, 0, true, %ShowExt%, true, true, false, false, false)
<EndFloors>

<Floors -3 to 8>
	TexPrefix() #Set texture prefixes
	
	#Shaft 3: West Low zone Elevators
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, ExtFacade, ExtFacade, 0.33, -54, -20, 6, 15, Shaft3, %height%, 0, true, true, true, true, false, false, false)

	#Shaft 4: West Low zone Elevators
	CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, ExtFacade, ExtFacade, 0.33, 54, -20, 6, 15, Shaft4, %height%, 0, true, true, true, true, false, false, false)

	#Shaft 6: Atrium Elevators
	if[%floor% < 7] CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, ExtFacade, ExtFacade, 0.33, 35, -70, 5, 10, Shaft6, %height%, 0, true, true, true, true, false, false, false)
<EndFloors>

<Floor 18>
	#Shafts 5: Service Elevator (Roof level)
	CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, 0.33, 14, 35, 6, 10, Shaft5_RF1, %fullheight%, 0, true, true, true, false, true, false, true)

		#Extra walls to match with roof railings
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade, 0.33, 14, 35, 6, 10, Shaft5_RF2, %interfloorheight% + 5.5, 0, false, false, false, true, false, false, true)
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, 0.33, 14, 35, 6, 10, Shaft5_RF3, %height% - 5.5, %interfloorheight% + 5.5, false, false, false, true, false, false, true)

	#Stairwells (Roof level)
		#West stairwell
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, 0.5, -65, -17.5, 5, 12.5, WestST_RF, %height%, %interfloorheight%, true, true, true, true, true, false, true)

		#East stairwell
		CreateShaftWall(ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade, 0.5, 65, -17.5, 5, 12.5, EastST_RF, %height%, %interfloorheight%, true, true, true, true, true, false, true)
<EndFloor>

##--------------------------------------------------------------------------------##

#SHAFTS
#High zone elevators (1, 8-17)
#Changed the "end_voffset" due to the "Mechanical Mezzanine" I created.
AddStdShaft(1, 1, -14, 20, 5.67, 14.67, -1, 17, ShaftIntWall, 0.5, 0.33, 0, 11.5, %interfloorheight% + 10)
AddStdShaft(2, 1, 14, 15, 5.67, 9.67, -1, 17, ShaftIntWall, 0.5, 0.33, 0, 11.5, %interfloorheight% + 10)

#Machine room doors
<Floor 17>
	Set DTex = ServiceDoor1
	Set DSTex = %DTex%Side

	Set Door_MainX = -14 + 6
	Set Door_MainZ = 20

	WallOrientation = right
	AddStdDoor Floor %floor%, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 10, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 10, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 10, false, 0, 0, false

	Set Door_MainX = 14 - 6
	Set Door_MainZ = 15

	WallOrientation = left
	AddStdDoor Floor %floor%, %floorid%_Shaft2MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 10, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft2MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 10, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 10, false, 0, 0, false
<EndFloor>

########################################

#Low zone elevators
AddStdShaft(3, 1, -54, -20, 5.67, 14.67, -4, 8, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%) #Serviced floors: B2-7
AddStdShaft(4, 1, 54, -20, 5.67, 14.67, -4, 8, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%) #Serviced floors: B3-7

#Machine room doors
<Floor 8>
	Set DTex = ServiceDoor2
	Set DSTex = %DTex%Side

	Set Door_MainX = -54 + 6
	Set Door_MainZ = -20

	WallOrientation = right
	AddStdDoor Floor %floor%, %floorid%_Shaft3MR_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft3MR_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

	Set Door_MainX = 54 - 6
	Set Door_MainZ = -20

	WallOrientation = left
	AddStdDoor Floor %floor%, %floorid%_Shaft4MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft4MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
<EndFloor>

########################################

#Service elevator
AddStdShaft(5, 1, 14, 35, 5.67, 9.67, -4, 18, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#Service elevator lobby walls
<Floors -3 to 16>
	#Wall creation
	TexPrefix() #Set texture prefixes
	Set SouthEnd = 5
	if[%floor% < -1] Set SouthEnd = 25
	
	Set Extra = 0
	#if[%floor% < -1] Set Extra = 0.5

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	#TextureOverride %5%%PTSuffix2%, %5%Wall, Blank, Blank, Blank, Blank
	AddWall SEL_%floorid%F_Front, %5%Wall, 0.5, 20 - %Extra%, %SouthEnd%, 30.5, %SouthEnd%, %height%, %height%, 0, 0, 0, 0, false

	#WallOrientation = right
	#if[%floor% < -1] AddWall SEL_%floorid%F_Left, %5%Wall, 0.5, 20, %SouthEnd%, 20, 25, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = center
	TextureOverride %5%Wall, %5%%PTSuffix%, Blank, Blank, Blank, Blank
	AddWall SEL_%floorid%F_Right, %5%Wall, 1, 30, %SouthEnd%, 30, 45, %height%, %height%, 0, 0, 0, 0, false

		#Dropped ceiling on 1st floor
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0] AddFloor SEL_%floorid%F_Ceiling, SLDropCeiling, 0.5, 20, %SouthEnd%, 30, 45, 9.5, 9.5, 0, 0, false

	#Door creation
	Set DTex = ServiceDoor1
	if[%floor% = 0] Set DTex = Door8
	if[%floor% > 0 & %floor% < 3] Set DTex = ServiceDoor3
	if[%floor% > 2 & %floor% < 9] Set DTex = ServiceDoor2
	if[%floor% > 8] Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side

	Set Door_MainX = 25
	Set Door_MainZ = %SouthEnd%

	WallOrientation = right
	AddStdDoor Floor %floor%, SEL_%floorid%_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ% + 0.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, SEL_%floorid%_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ% + 0.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ% + 0.5, 6, 7, 0, true, 0, 0, false
<EndFloors>

#Machine room doors
<Floor 18>
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side

	Set Door_MainX = 14 + 6
	Set Door_MainZ = 35

	WallOrientation = right
	AddStdDoor DoorManager, %floorid%_Shaft5MR_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft5MR_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

########################################

#Atrium elevators (B2-5)
AddStdShaft(6, 1, 35, -70, 4.67, 9.67, -3, 6, ShaftIntWall2, 0.5, 0.33, 0, 5, %interfloorheight%)
ShowFullShaft 6 = true

#Machine room doors
<Floor 6>
	Set DTex = ServiceDoor2
	Set DSTex = %DTex%Side

	Set Door_MainX = 35 - 5
	Set Door_MainZ = -70

	WallOrientation = left
	AddStdDoor Floor %floor%, %floorid%_Shaft6MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft6MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
<EndFloor>

##--------------------------------------------------------------------------------##

#ELEVATORS
#High zone elevators
	#Set motor positions
	<Elevators 1 to 5>
		MotorPosition = 0, Floor(17).Base + 10, 0
	<EndElevators>

<Elevator 1>
	Name = High Zone Elevator 1
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 7 - 16
	AssignedShaft = 1
	CreateElevator true, 0, -10 - 0.5, 0
<EndElevator>

<Elevator 2>
	Name = High Zone Elevator 2
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 7 - 16
	AssignedShaft = 1
	CreateElevator true, 0, 0 - 0.5, 0
<EndElevator>

<Elevator 3>
	Name = High Zone Elevator 3
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 7 - 16
	AssignedShaft = 1
	CreateElevator true, 0, 10 - 0.5, 0
<EndElevator>

<Function BtnPanelE1-5>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button17, ButtonLit17, 6, 3, 16, 1, 1
	AddButton %PanelNumber%, , Button16, ButtonLit16, 7, 3, 15, 1, 1
	AddButton %PanelNumber%, , Button15, ButtonLit15, 8, 3, 14, 1, 1
	AddButton %PanelNumber%, , Button14, ButtonLit14, 9, 3, 13, 1, 1
	AddButton %PanelNumber%, , Button13, ButtonLit13, 10, 3, 12, 1, 1

	AddButton %PanelNumber%, , Button12, ButtonLit12, 6, 1, 11, 1, 1
	AddButton %PanelNumber%, , Button11, ButtonLit11, 7, 1, 10, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 8, 1, 9, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 9, 1, 8, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 10, 1, 7, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 11, 1, 0, 1, 1

	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 13, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 13, 3, close, 1, 1

	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 14, 3, 1, 1, 0, -0.5, reset, hold, ButtonHold, ButtonLitHold
<EndFunction>

<Elevators 1 to 3>
	Set Prefix = HZ

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt2, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 1.25, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64

	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.8, 0.6, %IDP% + (0.15 * 1), -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.4, 0.3, %IDP%, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 2), -2.75 + (2.25 * 3), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, -3, %IDP%, -2.75, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panel
	Set P1_PositionX = 4.44 - 0.001
	Set P1_PositionZ = 2.275

		#Floor buttons
		CreateWallBox2 elevator, RightPB, ElevPanel, %P1_PositionX% + 0.001 - 0.025, %P1_PositionZ%, 0.05, 0.8, 4.65, 2.2, 0, 0, false, true, true, true
		CreatePanel Blank, 14, 3, left, %P1_PositionX% - 0.05, %P1_PositionZ%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0 #All buttons
		BtnPanelE1-5(1)

	#--------------------
	#Indicator sets
	Set IndOffset = 6.1 - 0.2

	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %P1_PositionX% - 0.051, %P1_PositionZ% - 0.3, %P1_PositionX% - 0.051, %P1_PositionZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %P1_PositionX% - 0.052, %P1_PositionZ% + 0.125, %IndOffset% + 0.4 + 0.05, left, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, left, %P1_PositionX% - 0.052, %P1_PositionZ% - 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 4.44 - 0.001, -0.5 - 0.25, 4.44 - 0.001, -0.5 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevator 4>
	Name = High Zone Elevator 4
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 7 - 16
	AssignedShaft = 2
	CreateElevator true, 0, -5 - 0.5, 16
<EndElevator>

<Elevator 5>
	Name = High Zone Elevator 5
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 7 - 16
	AssignedShaft = 2
	CreateElevator true, 0, 5 - 0.5, 16
<EndElevator>

<Elevators 4 to 5>
	Set Prefix = HZ

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt2, %Prefix%ElevFloor, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 1.25, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -4.64

	WallOrientation = right
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.8, 0.6, %IDP% - (0.15 * 1), -2.75, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.4, 0.3, %IDP%, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - (0.15 * 2), -2.75, %IDP%, -2.75 + (2.25 * 3), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP% - (0.15 * 1), -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, -3, %IDP%, -2.75, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panel
	Set P1_PositionX = -4.44 + 0.001
	Set P1_PositionZ = 2.275

		#Floor buttons
		CreateWallBox2 elevator, RightPB, ElevPanel, %P1_PositionX% - 0.001 + 0.025, %P1_PositionZ%, 0.05, 0.8, 4.65, 2.2, 0, 0, false, true, true, true
		CreatePanel Blank, 14, 3, right, %P1_PositionX% + 0.05, %P1_PositionZ%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0 #All buttons
		BtnPanelE1-5(1)
	#--------------------
	#Indicator sets
	Set IndOffset = 6.1 - 0.2

	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %P1_PositionX% + 0.051, %P1_PositionZ% - 0.3, %P1_PositionX% + 0.051, %P1_PositionZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %P1_PositionX% + 0.052, %P1_PositionZ% - 0.125, %IndOffset% + 0.4 + 0.05, right, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, right, %P1_PositionX% + 0.052, %P1_PositionZ% + 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -4.44 + 0.001, -0.5 - 0.25, -4.44 + 0.001, -0.5 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevators 1 to 5>
	#DETAILED INTERIORS
	#1. Lights
	Set LightWidth = 8.88
	Set LightLength = 1.25
	Set TrimWidth = 0.15

	CreateWallBox2 elevator, CL_Light1, %Prefix%ElevCeilingLight, 0, -2.8 + (%LightLength% / 2), %LightWidth%, %LightLength%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Light2, %Prefix%ElevCeilingLight, 0, 2.8 - (%LightLength% / 2), %LightWidth%, %LightLength%, 0.05, 8 - 0.05, 0, 0, false, true, true, true

		#1a. Trims around lights
		CreateWallBox2 elevator, CL_Trim_Front, %Prefix%ElevCeilingTrim, 0, -2.8 + %LightLength% + (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Back, %Prefix%ElevCeilingTrim, 0, 2.8 - %LightLength% - (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	if[%elevator% > 3] Set WPTex = %Prefix%ElevWallPanel2
	Set WPanelHeight = 8 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (8.88 * 1/3), -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0 - (8.88 * 0), -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F3, %WPTex%, 0 + (8.88 * 1/3), -2.8 + 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left/Right panels
		Set PanelCtr = -4.44 + 0.01
		if[%elevator% > 3] Set PanelCtr = 4.44 - 0.01
		CreateWallBox2 elevator, Panel_LR1, %WPTex%, %PanelCtr%, 0 - (5.6 * 1/4), 0.02, (5.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_LR2, %WPTex%, %PanelCtr%, 0 + (5.6 * 1/4), 0.02, (5.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (8.88 * 1/3), 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 - (8.88 * 0), 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B3, %WPTex%, 0 + (8.88 * 1/3), 2.8 - 0.01, (8.88 * 1/3) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
<EndElevators>

#Low zone elevators
<Elevator 6>
	Name = Low Zone Elevator 1
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 3
	CreateElevator true, 0, -10 - 0.5, 0
<EndElevator>

<Elevator 7>
	Name = Low Zone Elevator 2
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 3
	CreateElevator true, 0, 0 - 0.5, 0
<EndElevator>

<Elevator 8>
	Name = Low Zone Elevator 3
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 3
	CreateElevator true, 0, 10 - 0.5, 6
<EndElevator>

<Function BtnPanelE6-11>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button7, ButtonLit7, 6, 3, 6, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 7, 3, 5, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 8, 3, 4, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 9, 3, 3, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 10, 3, 2, 1, 1

	AddButton %PanelNumber%, , Button2, ButtonLit2, 6, 1, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 7, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonB1, ButtonLitB1, 8, 1, -1, 1, 1
	AddButton %PanelNumber%, , ButtonB2, ButtonLitB2, 9, 1, -2, 1, 1
	AddButton %PanelNumber%, , ButtonB3, ButtonLitB3, 10, 1, -3, 1, 1

	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 12, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 12, 3, close, 1, 1

	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 13, 3, 1, 1, 0, -0.5, reset, hold, ButtonHold, ButtonLitHold
<EndFunction>

<Elevators 6 to 8>
	Set Prefix = LZ

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 1.25, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64

	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.8, 0.6, %IDP% + (0.15 * 1), -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.4, 0.3, %IDP%, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 2), -2.75 + (2.25 * 3), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, -3, %IDP%, -2.75, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panel
	Set P1_PositionX = 4.44 - 0.001
	Set P1_PositionZ = 2.275

		#Floor buttons
		CreateWallBox2 elevator, RightPB, ElevPanel, %P1_PositionX% + 0.001 - 0.025, %P1_PositionZ%, 0.05, 0.8, 4.65, 2.2, 0, 0, false, true, true, true
		CreatePanel Blank, 13, 3, left, %P1_PositionX% - 0.05, %P1_PositionZ%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0 #All buttons
		BtnPanelE6-11(1)
	#--------------------
	#Indicator sets
	Set IndOffset = 6.1 - 0.2

	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %P1_PositionX% - 0.051, %P1_PositionZ% - 0.3, %P1_PositionX% - 0.051, %P1_PositionZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %P1_PositionX% - 0.052, %P1_PositionZ% + 0.125, %IndOffset% + 0.4 + 0.05, left, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, left, %P1_PositionX% - 0.052, %P1_PositionZ% - 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 4.44 - 0.001, -0.5 - 0.25, 4.44 - 0.001, -0.5 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevator 9>
	Name = Low Zone Elevator 4
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 4
	CreateElevator true, 0, 10 - 0.5, 0
<EndElevator>

<Elevator 10>
	Name = Low Zone Elevator 5
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 4
	CreateElevator true, 0, 0 - 0.5, 0
<EndElevator>

<Elevator 11>
	Name = Low Zone Elevator 6
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 6
	AssignedShaft = 4
	CreateElevator true, 0, -10 - 0.5, 6
<EndElevator>

<Elevators 9 to 11>
	Set Prefix = LZ

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 1.25, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -4.64

	WallOrientation = right
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.8, 0.6, %IDP% - (0.15 * 1), -2.75, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.4, 0.3, %IDP%, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - (0.15 * 2), -2.75, %IDP%, -2.75 + (2.25 * 3), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP% - (0.15 * 1), -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, -3, %IDP%, -2.75, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panel
	Set P1_PositionX = -4.44 + 0.001
	Set P1_PositionZ = 2.275

		#Floor buttons
		CreateWallBox2 elevator, RightPB, ElevPanel, %P1_PositionX% - 0.001 + 0.025, %P1_PositionZ%, 0.05, 0.8, 4.65, 2.2, 0, 0, false, true, true, true
		CreatePanel Blank, 13, 3, right, %P1_PositionX% + 0.05, %P1_PositionZ%, 0.15, 0.15, 0.22, 0.25, 4, 0, 0 #All buttons
		BtnPanelE6-11(1)

	#--------------------
	#Indicator sets
	Set IndOffset = 6.1 - 0.2

	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %P1_PositionX% + 0.051, %P1_PositionZ% - 0.3, %P1_PositionX% + 0.051, %P1_PositionZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %P1_PositionX% + 0.052, %P1_PositionZ% - 0.125, %IndOffset% + 0.4 + 0.05, right, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, right, %P1_PositionX% + 0.052, %P1_PositionZ% + 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -4.44 + 0.001, -0.5 - 0.25, -4.44 + 0.001, -0.5 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevators 6 to 11>
	#MORE DETAILED INTERIORS
	Set Prefix = LZ

	#1. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8

		#Left/right panels
		Set PanelCtr = -4.44 + 0.01
		if[%elevator% > 8] Set PanelCtr = 4.44 - 0.01
		CreateWallBox2 elevator, Panel_LR1, %WPTex%, %PanelCtr%, 0, 0.02, 2.5, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Front/back panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -2.8 + 0.01, 4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0, 2.8 - 0.01, 4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

	#2. Lights
	Set LightWidth = 3.6
	Set LightLength = 2.4
	Set TrimWidth = 0.2

	CreateWallBox2 elevator, CL_Main, %Prefix%ElevCeilingLight, 0, 0, %LightWidth%, %LightLength%, 0.05, 8 - 0.05, 0, 0, false, true, true, true

		#2a. Trims around lights
		CreateWallBox2 elevator, CL_Trim_Front, %Prefix%ElevCeilingTrim2, 0, 0 - (%LightLength% / 2) - (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Back, %Prefix%ElevCeilingTrim2, 0, 0 + (%LightLength% / 2) + (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Left, %Prefix%ElevCeilingTrim, 0 - (%LightWidth% / 2) - (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Right, %Prefix%ElevCeilingTrim, 0 + (%LightWidth% / 2) + (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 8 - 0.05, 0, 0, false, true, true, true
<EndElevators>

#Service elevators
<Elevator 12>
	Name = Service Elevator 1
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 17
	AssignedShaft = 5
	CreateElevator true, 0, -5 + 0.5, 0
<EndElevator>

<Elevator 13>
	Name = Service Elevator 2
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 17
	AssignedShaft = 5
	CreateElevator true, 0, 5 - 0.5, 0
<EndElevator>

<Function BtnPanelE12-13>
	Set PanelNumber = %param1%

	if[%PanelNumber% = 1] AddControl %PanelNumber%, switch.wav, 1, 2, 1, 1, 0, 0, 1, run, stop, ButtonStop-Run, ButtonStop-Stop
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 3, 2, alarm, 1, 1

	AddButton %PanelNumber%, , Button18, ButtonLit18, 5, 3, 17, 1, 1
	AddButton %PanelNumber%, , Button17, ButtonLit17, 6, 3, 16, 1, 1
	AddButton %PanelNumber%, , Button16, ButtonLit16, 7, 3, 15, 1, 1
	AddButton %PanelNumber%, , Button15, ButtonLit15, 8, 3, 14, 1, 1
	AddButton %PanelNumber%, , Button14, ButtonLit14, 9, 3, 13, 1, 1
	AddButton %PanelNumber%, , Button13, ButtonLit13, 10, 3, 12, 1, 1
	AddButton %PanelNumber%, , Button12, ButtonLit12, 11, 3, 11, 1, 1
	AddButton %PanelNumber%, , Button11, ButtonLit11, 12, 3, 10, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 13, 3, 9, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 14, 3, 8, 1, 1

	AddButton %PanelNumber%, , Button8, ButtonLit8, 5, 1, 7, 1, 1
	AddButton %PanelNumber%, , Button7, ButtonLit7, 6, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 7, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 8, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 9, 1, 3, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 10, 1, 2, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 11, 1, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 12, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonB1, ButtonLitB1, 13, 1, -1, 1, 1
	AddButton %PanelNumber%, , ButtonB2, ButtonLitB2, 14, 1, -2, 1, 1
	AddButton %PanelNumber%, , ButtonB3, ButtonLitB3, 15, 1, -3, 1, 1

	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 17, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 17, 3, close, 1, 1

	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 18, 3, 1, 1, 0, -0.5, reset, hold, ButtonHold, ButtonLitHold
<EndFunction>

<Elevators 12 to 13>
	Set Prefix = Service

	#Set textures and dimensions
	if[%elevator% = 12] Set P1Width = 1.25
	if[%elevator% = 12] Set P2Width = 0.25
	if[%elevator% = 13] Set P1Width = 0.25
	if[%elevator% = 13] Set P2Width = 1.25

	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 6, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, %P1Width%, %P2Width%, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 3.5

		#Front panel
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -2.8 + 0.01, 9.28 - 0.4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Back panel
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0, 2.8 - 0.01, 9.28 - 0.4, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left panel
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -4.44 + 0.01, 0, 0.02, 6 - 0.4 - 0.04, %WPanelHeight%, 0, 0, 0, false, true, true, true

	#2. Lights
	Set LightWidth = 3.6
	Set LightLength = 2.4
	Set TrimWidth = 0.2

	CreateWallBox2 elevator, CL_Main, %Prefix%ElevCeilingLight, 0, 0, %LightWidth%, %LightLength%, 0.05, 8 - 0.05, 0, 0, false, true, true, true

		#2a. Trims around lights
		CreateWallBox2 elevator, CL_Trim_Front, %Prefix%ElevCeilingTrim2, 0, 0 - (%LightLength% / 2) - (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Back, %Prefix%ElevCeilingTrim2, 0, 0 + (%LightLength% / 2) + (%TrimWidth% / 2), %LightWidth%, %TrimWidth%, 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Left, %Prefix%ElevCeilingTrim, 0 - (%LightWidth% / 2) - (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 8 - 0.05, 0, 0, false, true, true, true
		CreateWallBox2 elevator, CL_Trim_Right, %Prefix%ElevCeilingTrim, 0 + (%LightWidth% / 2) + (%TrimWidth% / 2), 0, %TrimWidth%, %LightLength% + (%TrimWidth% * 2), 0.05, 8 - 0.05, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64

	WallOrientation = left
	if[%elevator% = 12] AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.8, 0.6, %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), %IDP% + (0.15 * 1), 2.75, 7, 0, 0, 0, 0, 0
	if[%elevator% = 12] AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.4, 0.3, %IDP%, 2.75 - (2.25 * 2), %IDP%, 2.75 - (2.25 * 1), 7, 0, 0, 0, 0, 0

	if[%elevator% = 13] AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.8, 0.6, %IDP% + (0.15 * 1), -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
	if[%elevator% = 13] AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.4, 0.3, %IDP%, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		if[%elevator% = 12] AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, 2.75 - (2.25 * 3), %IDP% + (0.15 * 2), 2.75, 0, 0, 0, 0
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		if[%elevator% = 13] AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 2), -2.75 + (2.25 * 3), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		if[%elevator% = 12] AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP%, 2.75 - (2.25 * 1), %IDP% + (0.15 * 1), 2.75, 7, 7, 0, 0
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		if[%elevator% = 13] AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %IDP%, -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	if[%elevator% = 12] AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, 2.75, %IDP%, 3, 7, 7, 0, 0, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	if[%elevator% = 13] AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, %IDP%, -3, %IDP%, -2.75, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panel
	Set P1_PositionX = 4.44 - 0.001
	if[%elevator% = 12] Set P1_PositionZ = -2.275
	if[%elevator% = 13] Set P1_PositionZ = 2.275

		#Floor buttons
		CreateWallBox2 elevator, RightPB, ElevPanel, %P1_PositionX% + 0.001 - 0.025, %P1_PositionZ%, 0.05, 0.8, 4.65 + 1, 2.2 - 1, 0, 0, false, true, true, true
		CreatePanel Blank, 18, 3, left, %P1_PositionX% - 0.05, %P1_PositionZ%, 0.15, 0.15, 0.22, 0.25, 3.85, 0, 0 #All buttons
		BtnPanelE12-13(1)

	#Proximity scanner
	#Set PSscanHeight = 0.45
	Set PSscanHeight = 0.3826
	#Set PScanWidth = %PSscanHeight% * 0.712
	Set PScanWidth = 0.3

	DrawWalls = false, true, false, false, false, false
	#AddWall ProximityScanner, ProxScan, 0, %P1_PositionX% - 0.05, %P1_PositionZ% - (%PScanWidth% / 2), %P1_PositionX% - 0.05, %P1_PositionZ% + (%PScanWidth% / 2), %PSscanHeight%, %PSscanHeight%, 1.62, 1.62, 0, 0
	if[%elevator% = 12] AddWall ProximityScanner, ProxScan, 0, 4.44 - 0.3 - (%PScanWidth% / 2), -2.8 + 0.001, 4.44 - 0.3 + (%PScanWidth% / 2), -2.8 + 0.001, %PSscanHeight%, %PSscanHeight%, 4, 4, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% = 13] AddWall ProximityScanner, ProxScan, 0, 4.44 - 0.3 - (%PScanWidth% / 2), 2.8 - 0.001, 4.44 - 0.3 + (%PScanWidth% / 2), 2.8 - 0.001, %PSscanHeight%, %PSscanHeight%, 4, 4, 0, 0

	#--------------------
	#Indicator sets
	Set IndOffset = 6.1 - 0.2

	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, IndBack, 0, %P1_PositionX% - 0.051, %P1_PositionZ% - 0.3, %P1_PositionX% - 0.051, %P1_PositionZ% + 0.3, 0.75 + 0.2, 0.75 + 0.2, %IndOffset%, %IndOffset%, 0, 0
	AddDirectionalIndicator true, true, true, Ind_Background, ArrowUnlit, ArrowUpLit, ArrowUnlit, ArrowDownLit, %P1_PositionX% - 0.052, %P1_PositionZ% + 0.125, %IndOffset% + 0.4 + 0.05, left, 0.25, 0.25, true, 0, 0
	AddFloorIndicator Ind_Button, left, %P1_PositionX% - 0.052, %P1_PositionZ% - 0.125, 0.25, 0.25, %IndOffset% + 0.4 + 0.05

	#Elevator number sign
	if[%elevator% = 12] Set Center = 0.5
	if[%elevator% = 13] Set Center = -0.5
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 4.44 - 0.001, %Center% - 0.25, 4.44 - 0.001, %Center% + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		if[%elevator% = 12] Set Position = -3 - 0.8
		if[%elevator% = 13] Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#Atrium elevators (B2-5)
<Elevator 14>
	Name = Atrium Elevator 1
	Type = Express
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 4
	AssignedShaft = 6
	CreateElevator true, -1.34, 5, 0
<EndElevator>

<Elevator 15>
	Name = Atrium Elevator 2
	Type = Express
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 4
	AssignedShaft = 6
	CreateElevator true, -1.34, -5, 0
<EndElevator>

<Function BtnPanelE14-15>
	Set PanelNumber = %param1%
	#Set PanelNumber2 = %PanelNumber% + 1
	Set BtnPrefix = OtisButton
	#Set BeepSound in Elevator section
	
	Set LitSuffix = Lit
	#if[%elevator% = 7] Set LitSuffix = LitGreen

	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%5, %BtnPrefix%%LitSuffix%5, 1, 1, 4, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%4, %BtnPrefix%%LitSuffix%4, 2, 2, 3, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%3, %BtnPrefix%%LitSuffix%3, 2, 1, 2, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%2, %BtnPrefix%%LitSuffix%2, 3, 2, 1, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%1, %BtnPrefix%%LitSuffix%1, 3, 1, 0, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%B1, %BtnPrefix%%LitSuffix%B1, 4, 2, -1, 1, 1
	AddButton %PanelNumber%, %BeepSound%, %BtnPrefix%B2, %BtnPrefix%%LitSuffix%B2, 4, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 14 to 15>
	Set Prefix = Atrium

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(5, 7.5, 7.5, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.75, 1.75, 0.5, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	
	#DETAILED INTERIORS CREATED IN THE NEXT SECTION.
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -2.5

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - 0.2, -2 - (2 * 1), %IDP%, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Main Panel (Right of Doors)
	Set P1_PositionX = -2.3 + 0.001
	Set P1_PositionZ = 2.775

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, %P1_PositionX% - 0.001 + 0.025, %P1_PositionZ%, 0.05, 0.8, 2.5, 2.5, 0, 0, false, true, true, true

		#Panel creation
		CreatePanel , 8, 2, right, %P1_PositionX% + 0.05, %P1_PositionZ%, 0.3, 0.15, 0.30, 0.20, 3.7, 0, 0
		#CreatePanel , 8, 1, right, %P1_PositionX% + 0.05, %P1_PositionZ%, 0.3, 0.15, 0.30, 0.20, 3.7, 0, 0 #5th floor button only

		#Buttons
		Set BeepSound = KW_Sounds/OtisS3Beep1.wav
		BtnPanelE14-15(1)
	#--------------------
	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %P1_PositionX%, %P1_PositionZ% - 0.25, %P1_PositionX%, %P1_PositionZ% + 0.25, 0.5, 0.5, 6.35, 6.35, 0, 0

	#Indicator sets above main panel
	Set LowerOffset = 5.65
	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, OtisInd_Background, 0, %P1_PositionX%, %P1_PositionZ% - 0.65, %P1_PositionX%, %P1_PositionZ% + 0.65, 0.65, 0.65, %LowerOffset%, %LowerOffset%, 0, 0
	AddFloorIndicator OtisInd_Button, right, %P1_PositionX% + 0.001, %P1_PositionZ%, 0.45, 0.45, %LowerOffset% + 0.22
	AddDirectionalIndicator true, false, false, Ind_ButtonBlank, OtisArrowUp, OtisArrowUp_Lit, OtisArrowDown, OtisArrowDown_Lit, %P1_PositionX% + 0.001, %P1_PositionZ%, %LowerOffset%, right, 0.5, 0.25, false, 0, 0
	#--------------------
	#Secondary Panel (Left of Doors)
	Set P2_PositionX = -2.3 + 0.001
	Set P2_PositionZ = -2.775

		#Panel back
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, %P2_PositionX% - 0.001 + 0.025, %P2_PositionZ%, 0.05, 0.8, 2.5, 2.5, 0, 0, false, true, true, true

		#Panel creation
		CreatePanel , 8, 2, right, %P2_PositionX% + 0.05, %P2_PositionZ%, 0.3, 0.15, 0.30, 0.20, 3.7, 0, 0
		#CreatePanel , 8, 1, right, %P2_PositionX% + 0.05, %P2_PositionZ%, 0.3, 0.15, 0.30, 0.20, 3.7, 0, 0 #5th floor button only

		#Buttons
		Set BeepSound = KW_Sounds/OtisS3Beep1.wav
		BtnPanelE14-15(2)
	#--------------------
	#Indicator sets above secondary panel
	Set LowerOffset = 5.65
	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, OtisInd_Background, 0, %P2_PositionX%, %P2_PositionZ% - 0.65, %P2_PositionX%, %P2_PositionZ% + 0.65, 0.65, 0.65, %LowerOffset%, %LowerOffset%, 0, 0
	AddFloorIndicator OtisInd_Button, right, %P2_PositionX% + 0.001, %P2_PositionZ%, 0.45, 0.45, %LowerOffset% + 0.22
	AddDirectionalIndicator true, false, false, Ind_ButtonBlank, OtisArrowUp, OtisArrowUp_Lit, OtisArrowDown, OtisArrowDown_Lit, %P2_PositionX% + 0.001, %P2_PositionZ%, %LowerOffset%, right, 0.5, 0.25, false, 0, 0
<EndElevators>

<Elevators 14 to 15>
	#DETAILED INTERIORS
	#1. Ceiling lights
	Set LightOffset = 7.5 - 0.001
	Set LightOffset2 = 7.5 - 0.002
	
	DrawWalls = true, false, false, false, false, false
	AddFloor CeilingLight, %Prefix%ElevCeilingLight, 0, 0 - 2.2, -2, 0 + 2.2, 2, %LightOffset%, %LightOffset%, 0, 0
	AddFloor CeilingGrid, %Prefix%ElevCeilingGrid, 0, 0 - 2.2, -2, 0 + 2.2, 2, %LightOffset2%, %LightOffset2%, 4.4/0.4, 4/0.4

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 7.5

		#Front/back panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -3.55 + 0.01, 2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0, 3.55 - 0.01, 2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left/right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 2.3 - 0.01, 0, 0.02, 3.75, %WPanelHeight%, 0, 0, 0, false, true, true, true

	#3. Downlights
	DrawWalls = true, false, false, false, false, false
	Set DLOffset = 7.5 - 0.001 #Offsets for downlights
	AddFloor Downlight1/1, %Prefix%ElevCeilingDL, 0, -1.25 - 0.11, -2.775 - 0.11, -1.25 + 0.11, -2.775 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight1/2, %Prefix%ElevCeilingDL, 0, 1.25 - 0.11, -2.775 - 0.11, 1.25 + 0.11, -2.775 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight2/1, %Prefix%ElevCeilingDL, 0, -1.25 - 0.11, 2.775 - 0.11, -1.25 + 0.11, 2.775 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight2/2, %Prefix%ElevCeilingDL, 0, 1.25 - 0.11, 2.775 - 0.11, 1.25 + 0.11, 2.775 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 7.5 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	Set Position = 2.5 + 0.5

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 3.75 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

##--------------------------------------------------------------------------------##

#HALL STATIONS
#Set textures for Elevators 1-11
<Function ElevHallTex>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%
		if[%floor% > -3 & %floor% < 0] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop
		if[%floor% > 0 & %floor% < 3] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop

	#Deco dimensions
		Set SideDecoH = 7.2
		if[%floor% > -3 & %floor% < 9] Set SideDecoH = %height%
		Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = Button

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > -3 & %floor% < 9] Set ExtraLateralOffset = 0.05
<EndFunction>

#Set textures for Elevators 12-13
<Function ElevHallTex_Service>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5S%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = Button

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
<EndFunction>

########################################

#Elevators 1-5 (High zone)
<Function HZHallStation>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 1 #Number of the first elevator

		Set IDP = 4.64 + 0.4
		WallOrientation = left
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	Set StartNo = 4 #Number of the first elevator

		Set IDP = -4.64 - 0.4
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), %IDP% - (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), %IDP% - (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(1, 1, 5.04, 5.34, -11 - 2.25, -11 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(2, 1, 5.04, 5.34, -1 - 2.25, -1 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(3, 1, 5.04, 5.34, 9 - 2.25, 9 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(4, 2, -5.34, -5.04, -6 - 2.25, -6 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(5, 2, -5.34, -5.04, 4 - 2.25, 4 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top filler
	AddShaftTrack(1, 1, 5.34 - 0.15, 5.34, -11 - 2.25, -11, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(2, 1, 5.34 - 0.15, 5.34, -1 - 2.25, -1, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(3, 1, 5.34 - 0.15, 5.34, 9 - 2.25, 9, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(4, 2, -5.34, -5.34 + 0.15, -6 - 2.25, -6, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(5, 2, -5.34, -5.34 + 0.15, 4 - 2.25, 4, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)

	#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev1, ElevExt, 0.15 * 2, 5.34, -11 - 2.25 - 0.25, 5.34, -11 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev2, ElevExt, 0.15 * 2, 5.34, -1 - 2.25 - 0.25, 5.34, -1 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 1, GapFiller_Elev3, ElevExt, 0.15 * 2, 5.34, 9 - 2.25 - 0.25, 5.34, 9 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 2, GapFiller_Elev4, ElevExt, 0.15 * 2, -5.34, -6 - 2.25 - 0.25, -5.34, -6 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 2, GapFiller_Elev5, ElevExt, 0.15 * 2, -5.34, 4 - 2.25 - 0.25, -5.34, 4 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = -14 #1st shaft for elevator bank
	Set Shaft1CZ = 20
	Set Shaft2CX = 14 #2nd shaft for elevator bank
	Set Shaft2CZ = 15
	Set DecoType = floor

		#10th-17th floors
		WallOrientation = right
		if[%floor% > 8] AddFillerWalls %5%%PTSuffix2%, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 11, 4.5, 7, 0, false, 0, 0, false #Elevator 1
		if[%floor% > 8] AddFillerWalls %5%%PTSuffix2%, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 1, 4.5, 7, 0, false, 0, 0, false
		if[%floor% > 8] AddFillerWalls %5%%PTSuffix2%, 0.66, %Shaft1CX% + 6, %Shaft1CZ% + 9, 4.5, 7, 0, false, 0, 0, false

		WallOrientation = left
		if[%floor% > 8] AddFillerWalls %5%%PTSuffix2%, 0.66, %Shaft2CX% - 6, %Shaft2CZ% - 6, 4.5, 7, 0, false, 0, 0, false #Elevator 4
		if[%floor% > 8] AddFillerWalls %5%%PTSuffix2%, 0.66, %Shaft2CX% - 6, %Shaft2CZ% + 4, 4.5, 7, 0, false, 0, 0, false

		#All other floors
		if[%floor% < 9] AddDecoObject(E1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 11, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% < 9] AddDecoObject(E2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 1, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% < 9] AddDecoObject(E3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% + 9, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% < 9] AddDecoObject(E4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 6, %Shaft2CZ% - 6, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% < 9] AddDecoObject(E5_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 6, %Shaft2CZ% + 4, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2, 3, 4, 5
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.001, %Shaft1CZ% - 5 - 1, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.001, %Shaft1CZ% + 5 - 1, 3.5, right, 0.5, 1, true, 0, 0

	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 6.001, %Shaft2CZ% - 1, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = right

		DrawWalls = false, true, false, false, false, false
		AddWall E1-6FloorSign1, ELFlrSign%Suffix%, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) - 0.5, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall E1-6FloorSign2, ELFlrSign%Suffix%, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% + 4) - 0.5, %Shaft1CX% + 6.001, (%Shaft1CZ% + 4) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall E1-6HallSign1, FireSign, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) - 0.25, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

		DrawWalls = true, false, false, false, false, false
		AddWall E1-6FloorSign3, ELFlrSign%Suffix%, 0, %Shaft2CX% - 6.001, (%Shaft2CZ% - 1) - 0.5, %Shaft2CX% - 6.001, (%Shaft2CZ% - 1) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall E1-6HallSign2, FireSign, 0, %Shaft2CX% - 6.001, (%Shaft2CZ% - 1) - 0.25, %Shaft2CX% - 6.001, (%Shaft2CZ% - 1) + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

		#Elevator bank sign on lobby walls
		if[%floor% = 0] AddBoxSign(ElevBank1Sign_EX1, ElevBank1, ElevBank1, ElevBankSide, 0.02, true, true, true, -8 - 1.85, 5 - 0.01, 2.7, 1.8, 4.25, false)
		if[%floor% = 0] AddBoxSign(ElevBank1Sign_EX2, ElevBank1, ElevBank1, ElevBankSide, 0.02, true, true, true, 8 + 1.85, 5 - 0.01, 2.7, 1.8, 4.25, false)

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	if[%floor% > 8] Set Offset = 7.5
	if[%floor% = 0] Set Offset = 8

		#Set textures
		MitsubishiInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, OutsideInd_Button)
	
		#Indicator creation (Lobby)
		if[%floor% = 0] MitsubishiLobbyInds(right, 1, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 11, %Offset%, 0, 16)
		if[%floor% = 0] MitsubishiLobbyInds(right, 2, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 1, %Offset%, 0, 16)
		if[%floor% = 0] MitsubishiLobbyInds(right, 3, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 9, %Offset%, 0, 16)

		if[%floor% = 0] MitsubishiLobbyInds(left, 4, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 6, %Offset%, 0, 16)
		if[%floor% = 0] MitsubishiLobbyInds(left, 5, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% + 4, %Offset%, 0, 16)

		#Indicator creation (Other floors)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 1, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 11, %Offset%, 0, 16)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 2, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 1, %Offset%, 0, 16)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 3, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 9, %Offset%, 0, 16)

		if[%floor% ! 0] MitsubishiLobbyLanterns(left, 4, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 6, %Offset%, 0, 16)
		if[%floor% ! 0] MitsubishiLobbyLanterns(left, 5, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% + 4, %Offset%, 0, 16)

	#****************************************#

	#Elevator number signs
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddWall E1Sign, ElevNo1, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 11) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 11) + 0.5, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall E2Sign, ElevNo2, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 1) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 1) + 0.5, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall E3Sign, ElevNo3, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 9) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 9) + 0.5, 1, 1, 9, 9, 0, 0, false

	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddWall E4Sign, ElevNo4, 0, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 6) - 0.5, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 6) + 0.5, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall E5Sign, ElevNo5, 0, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 4) - 0.5, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 4) + 0.5, 1, 1, 9, 9, 0, 0, false
<EndFunction>

<Floor 0>
	HZHallStation()
<EndFloor>

<Floors 7 to 16>
	HZHallStation()
<EndFloors>

########################################

#Elevators 6-8 (Low zone, west)
<Floors -3 to 6>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 6 #Number of the first elevator

		Set IDP = 4.64 + 0.4
		WallOrientation = left
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(6, 3, 5.04, 5.34, -11 - 2.25, -11 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(7, 3, 5.04, 5.34, -1 - 2.25, -1 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(8, 3, 5.04, 5.34, 9 - 2.25, 9 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top filler
	AddShaftTrack(6, 3, 5.34 - 0.15, 5.34, -11 - 2.25, -11, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(7, 3, 5.34 - 0.15, 5.34, -1 - 2.25, -1, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(8, 3, 5.34 - 0.15, 5.34, 9 - 2.25, 9, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)

	#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 3, GapFiller_Elev6, ElevExt, 0.15 * 2, 5.34, -11 - 2.25 - 0.25, 5.34, -11 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 3, GapFiller_Elev7, ElevExt, 0.15 * 2, 5.34, -1 - 2.25 - 0.25, 5.34, -1 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 3, GapFiller_Elev8, ElevExt, 0.15 * 2, 5.34, 9 - 2.25 - 0.25, 5.34, 9 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = -54 #1st shaft for elevator bank
	Set Shaft1CZ = -20
	Set DecoType = floor

		#All other floors
		if[%floor% ! -3] AddDecoObject(E6_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 11, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! -3] AddDecoObject(E7_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 1, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! -3] AddDecoObject(E8_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% + 9, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)

		#Level B3 only
		TexPrefix() #Reset texture prefixes

		WallOrientation = right
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 11, 4.5, 7, 0, false, 0, 0, false #Elevator 6
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 1, 4.5, 7, 0, false, 0, 0, false #Elevator 7
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% + 9, 4.5, 7, 0, false, 0, 0, false #Elevator 8

	#****************************************#

	#Call buttons
	CallButtonElevators = 6, 7, 8
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.001, %Shaft1CZ% - 5 - 1, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.001, %Shaft1CZ% + 5 - 1, 3.5, right, 0.5, 1, true, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = left

		DrawWalls = false, true, false, false, false, false
		AddWall E6-8FloorSign1, ELFlrSign%Suffix%, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) - 0.5, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		#AddWall E6-8FloorSign2, ELFlrSign%Suffix%, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% + 4) - 0.5, %Shaft1CX% + 6.001, (%Shaft1CZ% + 4) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddBoxSign(ElevBank2Sign, ElevBank2, ElevBank2, ElevBankSide, 0.01, false, false, true, %Shaft1CX% + 6, %Shaft1CZ% + 4, 2.25, 1.5, 5.25, false)
		AddWall E6-8HallSign1, FireSign, 0, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) - 0.25, %Shaft1CX% + 6.001, (%Shaft1CZ% - 6) + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	#if[%floor% = 0] Set Offset = 8
	
		#Indicator creation (Lobby)
		if[%floor% = 0] MitsubishiLobbyInds(right, 6, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 11, %Offset%, -3, 6)
		if[%floor% = 0] MitsubishiLobbyInds(right, 7, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 1, %Offset%, -3, 6)
		if[%floor% = 0] MitsubishiLobbyInds(right, 8, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 9, %Offset%, -3, 6)

		#Indicator creation (Other floors)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 6, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 11, %Offset%, -3, 6)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 7, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 1, %Offset%, -3, 6)
		if[%floor% ! 0] MitsubishiLobbyLanterns(right, 8, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 9, %Offset%, -3, 6)

	#****************************************#

	#Elevator number signs
	Set Suffix =  
	if[%floor% = -3 | %floor% > 2] Set Suffix = _Black

	DrawWalls = false, true, false, false, false, false
	AddWall E6Sign, ElevNo6%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 11) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 11) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
	AddWall E7Sign, ElevNo7%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 1) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 1) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
	AddWall E8Sign, ElevNo8%Suffix%, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 9) - 0.5, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 9) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
<EndFloors>

########################################

#Elevators 9-11 (Low zone, east)
<Floors -3 to 6>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 9 #Number of the first elevator

		Set IDP = -4.64 - 0.4
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), %IDP% - (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), %IDP% - (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% - (0.15 * 1), -2.75 + (2.25 * 1), %IDP% - (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(9, 4, -5.34, -5.04, 9 - 2.25, 9 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(10, 4, -5.34, -5.04, -1 - 2.25, -1 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(11, 4, -5.34, -5.04, -11 - 2.25, -11 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top filler
	AddShaftTrack(9, 4, -5.34, -5.34 + 0.15, 9 - 2.25, 9, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(10, 4, -5.34, -5.34 + 0.15, -1 - 2.25, -1, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(11, 4, -5.34, -5.34 + 0.15, -11 - 2.25, -11, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)

	#Gap filler
		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 4, GapFiller_Elev9, ElevExt, 0.15 * 2, -5.34, 9 - 2.25 - 0.25, -5.34, 9 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 4, GapFiller_Elev10, ElevExt, 0.15 * 2, -5.34, -1 - 2.25 - 0.25, -5.34, -1 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 4, GapFiller_Elev11, ElevExt, 0.15 * 2, -5.34, -11 - 2.25 - 0.25, -5.34, -11 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft2CX = 54 #2nd shaft for elevator bank
	Set Shaft2CZ = -20
	Set DecoType = floor

		#All floors except B3
		if[%floor% ! -3] AddDecoObject(E9_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 6, %Shaft2CZ% + 9, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! -3] AddDecoObject(E10_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 6, %Shaft2CZ% - 1, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)
		if[%floor% ! -3] AddDecoObject(E11_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 6, %Shaft2CZ% - 11, 4.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, %DecoType%)

		#Level B3 only
		TexPrefix() #Reset texture prefixes

		WallOrientation = left
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft2CX% - 6, %Shaft1CZ% + 9, 4.5, 7, 0, false, 0, 0, false #Elevator 9
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft2CX% - 6, %Shaft1CZ% - 1, 4.5, 7, 0, false, 0, 0, false #Elevator 10
		if[%floor% = -3] AddFillerWalls %5%Wall, 0.66, %Shaft2CX% - 6, %Shaft1CZ% - 11, 4.5, 7, 0, false, 0, 0, false #Elevator 11

	#****************************************#

	#Call buttons
	CallButtonElevators = 9, 10, 11
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 6.001, %Shaft2CZ% - 5 - 1, 3.5, left, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 6.001, %Shaft2CZ% + 5 - 1, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = right

		DrawWalls = true, false, false, false, false, false
		#AddWall E9-11FloorSign1, ELFlrSign%Suffix%, 0, %Shaft2CX% - 6.001, (%Shaft2CZ% - 6) - 0.5, %Shaft2CX% - 6.001, (%Shaft2CZ% - 6) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall E9-11FloorSign2, ELFlrSign%Suffix%, 0, %Shaft2CX% - 6.001, (%Shaft2CZ% + 4) - 0.5, %Shaft2CX% - 6.001, (%Shaft2CZ% + 4) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddBoxSign(ElevBank3Sign, ElevBank3, ElevBank3, ElevBankSide, 0.01, false, false, true, %Shaft2CX% - 6, %Shaft2CZ% - 6, 2.25, 1.5, 5.25, false)
		AddWall E9-11HallSign1, FireSign, 0, %Shaft2CX% - 6.001, (%Shaft2CZ% + 4) - 0.25, %Shaft2CX% - 6.001, (%Shaft2CZ% + 4) + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	#if[%floor% = 0] Set Offset = 8

		#Indicator creation (Lobby)
		if[%floor% = 0] MitsubishiLobbyInds(left, 9, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% + 9, %Offset%, -3, 6)
		if[%floor% = 0] MitsubishiLobbyInds(left, 10, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 1, %Offset%, -3, 6)
		if[%floor% = 0] MitsubishiLobbyInds(left, 11, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 11, %Offset%, -3, 6)

		#Indicator creation (Other floors)
		if[%floor% ! 0] MitsubishiLobbyLanterns(left, 9, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% + 9, %Offset%, -3, 6)
		if[%floor% ! 0] MitsubishiLobbyLanterns(left, 10, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 1, %Offset%, -3, 6)
		if[%floor% ! 0] MitsubishiLobbyLanterns(left, 11, %Shaft2CX% - 6 - %ExtraLateralOffset%, %Shaft2CZ% - 11, %Offset%, -3, 6)

	#****************************************#

	#Elevator number signs
	Set Suffix =  
	if[%floor% = -3 | %floor% > 2] Set Suffix = _Black

	DrawWalls = true, false, false, false, false, false
	AddWall E9Sign, ElevNo9%Suffix%, 0, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 9) - 0.5, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 9) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
	AddWall E10Sign, ElevNo10%Suffix%, 0, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 1) - 0.5, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 1) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
	AddWall E11Sign, ElevNo11%Suffix%, 0, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 11) - 0.5, %Shaft2CX% - 6 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 11) + 0.5, 1, 1, 8.75, 8.75, 0, 0, false
<EndFloors>

########################################

#Elevators 12-13 (Service)
<Floors -3 to 17>
	#Shaft Doors
	ElevHallTex_Service() #Set shaft door and panel textures
	Set StartNo = 12 #Number of the first elevator

		Set IDP = 4.64 + 0.4
		WallOrientation = left
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %IDP%, 2.75 - (2.25 * 1), %IDP%, 2.75, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, left, 0.4, 0.3, %IDP% + (0.15 * 1), 2.75 - (2.25 * 2), %IDP% + (0.15 * 1), 2.75 - (2.25 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%, %DoorTexture%, 0.15, right, 0.8, 0.6, %IDP%, -2.75, %IDP%, -2.75 + (2.25 * 1), 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, (%DoorTexture%)2, (%DoorTexture%)2, 0.15, right, 0.4, 0.3, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(12, 5, 5.04, 5.34, -4 - 4.5, -4 + 2.25, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(13, 5, 5.04, 5.34, 4 - 2.25, 4 + 4.5, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top filler
	AddShaftTrack(12, 5, 5.34 - 0.15, 5.34, -4, -4 + 2.25, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)
	AddShaftTrack(13, 5, 5.34 - 0.15, 5.34, 4 - 2.25, 4, %DoorTrimTexture_Top%, ElevExt, 0.05, 2, 7)

	#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 5, GapFiller_Elev12, ElevExt, 0.15 * 2, 5.34, -4 + 2.25, 5.34, -4 + 2.25 + 0.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %DoorTrimTexture%, %DoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 5, GapFiller_Elev13, ElevExt, 0.15 * 2, 5.34, 4 - 2.25 - 0.25, 5.34, 4 - 2.25, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = 14 #1st shaft for elevator bank
	Set Shaft1CZ = 35
	Set DecoType = floor

		#All floors
		TexPrefix() #Reset texture prefixes

		WallOrientation = right
		AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% - 4, 4.5, 7, 0, false, 0, 0, false #Elevator 12
		AddFillerWalls %5%Wall, 0.66, %Shaft1CX% + 6, %Shaft1CZ% + 4, 4.5, 7, 0, false, 0, 0, false #Elevator 13

	#****************************************#

	#Call buttons
	CallButtonElevators = 12, 13
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6.001, %Shaft1CZ%, 3.5, right, 0.5, 1, true, 0, 0

		#Signs
		Set Suffix = %floorid%

		DrawWalls = false, true, false, false, false, false
		AddWall E12-13FloorSign, ServFlrSign%Suffix%, 0, %Shaft1CX% + 6.001, %Shaft1CZ% - 0.5, %Shaft1CX% + 6.001, %Shaft1CZ% + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		#AddWall E12-13HallSign, FireSign, 0, %Shaft1CX% + 6.001, %Shaft1CZ% - 0.25, %Shaft1CX% + 6.001, %Shaft1CZ% + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	if[%floor% > 8 & %floor% < 17] Set Offset = 7.5

		#Indicator creation (Lobby)
		MitsubishiLobbyInds(right, 12, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% - 4, %Offset%, -3, 17)
		MitsubishiLobbyInds(right, 13, %Shaft1CX% + 6 + %ExtraLateralOffset%, %Shaft1CZ% + 4, %Offset%, -3, 17)

	#****************************************#

	#Elevator number signs
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddWall E12Sign, ElevNo12, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 4 - 1.25) - 0.25, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% - 4 - 1.25) + 0.25, 0.5, 0.5, %Offset%, %Offset%, 0, 0, false
	if[%floor% = 0] AddWall E13Sign, ElevNo13, 0, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 4 - 1.25) - 0.25, %Shaft1CX% + 6 + %ExtraLateralOffset% + 0.001, (%Shaft1CZ% + 4 - 1.25) + 0.25, 0.5, 0.5, %Offset%, %Offset%, 0, 0, false
<EndFloors>

########################################

#Set textures for Elevators 14-15
<Function ElevHallTex_Otis>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%
		if[%floor% > -3 & %floor% < 0] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop
		if[%floor% > 0 & %floor% < 3] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop

	#Deco dimensions
		Set SideDecoH = 7.2
		if[%floor% > -3 & %floor% < 9] Set SideDecoH = %height%
		Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = OtisButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = OtisMainLantern
	if[%floor% = 4] Set LanternPrefix = OtisHighestLantern
	if[%floor% = -2] Set LanternPrefix = OtisLowestLantern

		#Lantern heights
		Set LHeight = 1.5
		if[%floor% = -2 | %floor% = 4] Set LHeight = 0.8
		Set LOffset = 6 - (%LHeight% / 2)

		#Lateral offset for "Elevator Number Signs"
		Set ExtraLateralOffset = 0
		if[%floor% > -3 & %floor% < 9] Set ExtraLateralOffset = 0.05
<EndFunction>

#Elevators 14-15
<Floors -2 to 4>
	#Shaft Doors
	ElevHallTex_Otis() #Set shaft door and panel textures
		Set StartNo = 14 #Number of the first elevator
	
		Set ElevDoorTex = %Prefix%ElevDoors
		Set IDP = -2.5 - 0.3
	
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false
	
		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(14, 6, -4.34, -4.14, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(14, 6, -4.34, -4.14, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft2CX = 35 #2nd shaft for elevator bank
	Set Shaft2CZ = -70

		#All floors
		AddDecoObject(E14_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(E15_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 14, 15
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5 - 0.001, %Shaft2CZ%, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = right

		DrawWalls = true, false, false, false, false, false
		#AddWall E14-15FloorSign1, ELFlrSign%Suffix%, 0, %Shaft2CX% - 5.001, (%Shaft2CZ%) - 0.5, %Shaft2CX% - 5.001, (%Shaft2CZ%) + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		AddBoxSign(ElevBank4Sign, ElevBank4, ElevBank4, ElevBankSide, 0.01, false, false, true, %Shaft2CX% - 5, %Shaft2CZ%, 2.25, 1.5, 5.25, false)
		AddWall E14-15HallSign1, FireSign, 0, %Shaft2CX% - 5.001, (%Shaft2CZ%) - 0.25, %Shaft2CX% - 5.001, (%Shaft2CZ%) + 0.25, 0.75, 0.75, 2.6, 2.6, 0, 0, false

		WallOrientation = center
		DrawWalls = true, true, true, true, true, true
		TextureOverride ELFlrSign%Suffix%, ELFlrSign%Suffix%, ELFlrSign%Suffix%, ELFlrSign%Suffix%, ELFlrSignBack, ELFlrSignBack
		if[%floor% ! 0] AddWall E14-15FloorSign_Hall, ELFlrSign%Suffix%, 1, 15 + 10, (%Shaft2CZ%) - 0.5, 15 + 10, (%Shaft2CZ%) + 0.5, 1, 1, %height% - 1, %height% - 1, 0, 0, false

	#****************************************#

	#Indicator sets
	AddDirectionalIndicator 14, true, false, true, true, %LPanelTexture%, %LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, -3.661, -2 - 0.75, %LOffset%, left, 0.95, %LHeight%, false, 0, 0
	AddDirectionalIndicator 15, true, false, true, true, %LPanelTexture%, %LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, -3.661, 2 + 0.75, %LOffset%, left, 0.95, %LHeight%, false, 0, 0

	#Upper levels floor indicators
	Set ExtraVOffset = 0
	if[%floor% = 4] Set ExtraVOffset = 0.1

		#Indicator
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0] AddWall E14Indicator, OtisLobbyIndicator, 0, %Shaft2CX% - 5.001, %Shaft2CZ% + 5 - 2.75 - 0.2425, %Shaft2CX% - 5.001, %Shaft2CZ% + 5 - 2.75 + 0.2425, 0.65, 0.65, %LOffset% - 0.75 + 0.225 - %ExtraVOffset%, %LOffset% - 0.75 + 0.225 - %ExtraVOffset%, 0, 0, false
		if[%floor% = 0] AddWall E15Indicator, OtisLobbyIndicator, 0, %Shaft2CX% - 5.001, %Shaft2CZ% - 5 + 2.75 - 0.2425, %Shaft2CX% - 5.001, %Shaft2CZ% - 5 + 2.75 + 0.2425, 0.65, 0.65, %LOffset% - 0.75 + 0.225 - %ExtraVOffset%, %LOffset% - 0.75 + 0.225 - %ExtraVOffset%, 0, 0, false

		#Floor number display
		if[%floor% = 0] AddFloorIndicator 14, true, OtisInd_Button, left, -3.661 - 0.002, -2 - 0.75, 0.425, 0.425, %LOffset% - 0.75 + 0.41 - %ExtraVOffset%
		if[%floor% = 0] AddFloorIndicator 15, true, OtisInd_Button, left, -3.661 - 0.002, 2 + 0.75, 0.425, 0.425, %LOffset% - 0.75 + 0.41 - %ExtraVOffset%

	#****************************************#

	#Elevator number signs
	Set Suffix =  
	if[%floor% > 2] Set Suffix = _Gray

	DrawWalls = true, false, false, false, false, false
	AddWall E14Sign, ElevNo14%Suffix%, 0, %Shaft2CX% - 5 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 5) - 0.5, %Shaft2CX% - 5 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% + 5) + 0.5, 1, 1, 7.75, 7.75, 0, 0, false
	AddWall E15Sign, ElevNo15%Suffix%, 0, %Shaft2CX% - 5 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 5) - 0.5, %Shaft2CX% - 5 - %ExtraLateralOffset% - 0.001, (%Shaft2CZ% - 5) + 0.5, 1, 1, 7.75, 7.75, 0, 0, false
<EndFloors>

########################################

#Global Settings
<Elevators 1 to 13>
	#Notifications
	ChimeSound 1 = KW_Sounds/mitsubishidtchimedown.wav
	ReOpen = false
	ChimeOnArrival = true
	NotifyEarly = 1
	QueueResets = true
	RecallFloor = 0

	#Movement sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

<Elevators 1 to 5>
	#Door and leveling settings
	DoorTimer 1 = 12000
	QuickClose 1 = 8000
	NudgeTimer 1 = 40
	OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881
	LevelingOpen = 0.2

	#Car sounds
	CarStartSound = elevstart7.wav
	CarMoveSound = elevmove7.wav
	CarStopSound = elevstop7.wav
<EndElevators>

<Elevators 6 to 11>
	#Door settings
	DoorTimer 1 = 9000
	QuickClose 1 = 6000
	OpenSound 1 = EG881Sounds/freightelevatoropen1.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose1.wav #EG881

	#Car sounds
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>

<Elevators 12 to 13>
	#Door and leveling settings
	DoorTimer 1 = 12000
	QuickClose 1 = 8000
	NudgeTimer 1 = 40
	OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881
	LevelingOpen = 0.2

	#Car sounds
	CarStartSound = elevstart5.wav
	CarMoveSound = elevmove5.wav
	CarStopSound = elevstop5.wav
<EndElevators>

<Elevators 14 to 15>
	#Door settings
	DoorTimer 1 = 9000
	QuickClose 1 = 6000
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881

	#Notifications
	UpChimeSound 1 = ButlerCitySounds/OtisLuxBellChimeUp.wav #Test Tower
	DownChimeSound 1 = ButlerCitySounds/OtisLuxBellChimeDown.wav #Test Tower
	BeepSound = KW_Sounds/OtisS3Beep1.wav

	NotifyEarly = 1
	QueueResets = true
	RecallFloor = 0

	#Movement sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881

	CarStartSound = EG881Sounds/elevstart10.wav #EG881
	CarMoveSound = EG881Sounds/elevmove10.wav #EG881
	CarStopSound = EG881Sounds/elevstop10.wav #EG881
<EndElevators>

##--------------------------------------------------------------------------------##

#STAIRWELLS
<Function StairwellSets>
	#Set Values
	Set NumSteps = 12 #Total: 24 steps
	if[%floor% > 8] Set NumSteps = 10 #Total: 20 steps

	#Extra sets at transition points
	Set NumSteps2 = %NumSteps%
	if[%floor% = 9] Set NumSteps2 = 12

	#Floors with double stairs (40/48 steps instead of the usual 20/24)
	Set DblStairs = false
	if[%floor% = 0 | %floor% = 17] Set DblStairs = true
<EndFunction>

#West Stairwell
CreateStairwell 1, -65, -17.5, -3, 18
CutStairwell 1, -4.5, -12, 4.5, 12, 0, 5
ShowFullStairs 1 = always

<Floors -3 to 18>
	StairwellSets() #Determine stairs' size

	Set 21 = -65 #Center X
	Set 22 = -17.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 9] AddStairsWall %25%, Stair%25%TransitionWall, StairsWall2, 1, 0, -%24% + 5 + %NumSteps%, 0, -%24% + 5 + %NumSteps2%, %interfloorheight% + 3, %interfloorheight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 18] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 18] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 18] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 18] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps2%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 9] AddStairsFloor %25%, Stairs%25%Transition, StairsFloor, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps2%, 0, 0, false, false, 0, 0
	if[%floor% < 18] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 0.75, %24% - 0.001, %SignCenterPoint% + 0.75, %24% - 0.001, 1.5, 1.5, 3.75, 3.75, 0, 0

	#Doors
	WallOrientation = left
	if[%floor% < 7 & %floor% ! 0] SetLock 1, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, %23% - 2, %24%, 3, 7, 0, 0, 0
	SetLock 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, %23% - 2, %24% + 0.5, 3, 7, 0, 0, 0

		#Manual filler walls
		WallOrientation = left
		if[%floor% = 18] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% - 2, %22% + %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% + 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% ! 0 & %floor% < 17] AddBoxSign(Stair%25%_SignHall, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %21% + %23% - 2, 0, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGround, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#East Stairwell
CreateStairwell 2, 65, -17.5, -3, 18
CutStairwell 2, -4.5, -12, 4.5, 12, 0, 5
ShowFullStairs 2 = always

<Floors -3 to 18>
	StairwellSets() #Determine stairs' size

	Set 21 = 65 #Center X
	Set 22 = -17.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 9] AddStairsWall %25%, Stair%25%TransitionWall, StairsWall2, 1, 0, -%24% + 5 + %NumSteps%, 0, -%24% + 5 + %NumSteps2%, %interfloorheight% + 3, %interfloorheight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 18] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 4, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 18] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 18] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 18] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps2%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 9] AddStairsFloor %25%, Stairs%25%Transition, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 4, -%24% + 5 + %NumSteps2%, 0, 0, false, false, 0, 0
	if[%floor% < 18] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 0.75, %24% - 0.001, %SignCenterPoint% + 0.75, %24% - 0.001, 1.5, 1.5, 3.75, 3.75, 0, 0

	#Doors
	WallOrientation = left
	if[%floor% < 7 & %floor% ! 0] SetLock 1, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0
	SetLock 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, -%23% + 2, %24% + 0.5, 3, 7, 0, 0, 0

		#Manual filler walls
		WallOrientation = left
		if[%floor% = 18] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% + %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% ! 0 & %floor% < 17] AddBoxSign(Stair%25%_SignHall, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %21% - %23% + 2, 0, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGround, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>