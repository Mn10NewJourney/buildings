#Aceheart Mall - Main Complex (Mall, North Parking Garage, and Office Tower)
#Copyright (c) 2023-Present - Mn10
#Originally started on: ~26 August 2023

#SCRIPTS TO BE INCLUDED
	#1. My new scripts
	<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>
	
	#2. ObjectPlus and SROC (credit to EG881)
	<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
	<Include SROC/Scripts/r1_script.txt> #EG881

	#3. My previous scripts
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	<Include data/ACME Floor Indicator/Scripts/Indicators.txt>

##--------------------------------------------------------------------------------##

#Globals
<Globals>
	Name = Aceheart Mall - Main Complex
	Designer = Mn10 (Fixtures created by Windows446)
	Location = 924 Denver Street, Tranquility City
	Description = One of the two places in this city that has a freight elevator with vertical center-opening doors.
	Version = 1
	CameraFloor = 0
	CameraPosition = 85, 90
	CameraRotation = 0, 270, 0
<EndGlobals>

##--------------------------------------------------------------------------------##

#Textures
<Textures>
	#Commons
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	Load data/gray2-sm.jpg, ConnectionWall, 1, 1, true
	Load data/text16.jpg, WoodSign2, 1, 1, false
	#Load data/signs_mod/elevhallsign1.png, ElevHallSign, 1, 1, false

	#Landscapes
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	Load data/stucco1.jpg, SidewalkUnderside, 0.125, 0.125
	Load data/Melvin/ABH_Tex/walkway-darker.jpg, SidewalkDarker, 0.03125, 0.03125

		#Plants
		#Load data/ogrebullet/textures/grass.jpg, Grass, 0.005, 0.005
		#Load data/ogrebullet/materials/textures/grass_1024.jpg, Grass_Light, 0.005, 0.005
		Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881

		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881
		Load data/EG881/cem_tr2b.jpg, FlowerBed, 0.075225, 0.0625 #EG881

		#Fences
		#Load data/brick040+.jpg, BrickFences, 0.25, 0.25 #Office entrance
		Load data/EG881/brick040+_brown.jpg, BrickFences2, 0.25, 0.25 #EG881 #Mall entrance
		Load data/brick021.jpg, BrickFences3, 0.25, 0.25

		#Roads
		Load data/grndroad1mid.jpg, Road, 0.04, 0.04
		Load data/Melvin/Roads/3lane-oneway-90de.png, AccessRoad, 0.0278, 0.05 #36 feet wide
		Load data/Melvin/Roads/2lane-oneway.png, AccessRoad2, 0.05, 0.041667

		#Road markings
		Load data/EG881/parkingspacex.png, ParkingSpaceX, 1, 1, false #EG881
		Load data/EG881/parkingspacez.png, ParkingSpaceZ, 1, 1, false #EG881
		Load data/EG881Mod/NoParkingX.png, NoParkingX, 1, 1, false #EG881 #Yellow islands
		Load data/EG881Mod/NoParkingZ.png, NoParkingZ, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandX.png, WhiteIslandX, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandZ.png, WhiteIslandZ, 1, 1, false #EG881

	#Concrete
	Load data/graniteTexture_0005b.jpg, ExtFacade, 0.0625, 0.0625, true
	Load data/granite_0008b.jpg, PGExtFacade, 0.075, 0.075, true #North PG external walls
	Load data/EG881/Concrete/smoothconcrete1.jpg, PGExtFacade2, 0.0625, 0.0625, true #EG881
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, PGExtFacade3, 0.0625, 0.0625, true #EG881 #South PG external walls
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, PGLinkUDS, 0.0625, 0.0625, true #EG881 #Link between both garages (UDS = Underside)

	#Windows
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindows, true, 0.05, 1 #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindowsB, true, 1, 1, false #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, Skylight, true, 1, 1, false #EG881
	Load data/EG881/windows11h_insideblack.png, SkylightInt, 1, 1, false #EG881

	#Main textures
		#Parking levels and ramps
		Load data/granite_0007e.jpg, ParkingLobbyFloor, 0.125, 0.125 #Elevators 8-11 (All floors)
		Load data/EG881/Carpet/eg881_Carpet2.jpg, ParkingLobbyFloor2, 0.2, 0.2 #EG881 #Elevators 1-7 (Basement level only)
		Load data/EG881/stucco22b_white.jpg, ParkingLobbyWall, 0.125, 0.125 #EG881
		Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeiling, 0.125, 0.125 #EG881
		Load data/EG881/cem_tr3.jpg, ParkingFloor, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2b.jpg, ParkingFloor2, 0.075225, 0.0625 #EG881
		Load data/stucco4b.jpg, ParkingWall, 0.25, 0.25 #Perimeter walls
		Load data/stucco4.jpg, ParkingWall2, 0.25, 0.25 #Support columns and shaft/stairwell undersides
		Load data/stucco2.jpg, ParkingWall3, 0.08, 0.08 #Rails around ramps
		Load data/EG881/cem_tr2b.jpg, ParkingCeiling, 0.075225, 0.0625 #EG881
		
			#Link to Entrance Elevators
			Load data/stucco1.jpg, ParkingLinkWall, 0.15, 0.15

		#Entrance and service areas on level LL, as well as stairs from LL to B1
		Load data/marb047.jpg, LLEntranceFloor, 0.25, 0.25
		Load data/EG881/cem_tr2b.jpg, LLServiceFloor, 0.075225, 0.0625 #EG881
		Load data/stucco1.jpg, LLServiceWall, 0.25, 0.25
		Load data/stone.jpg, LLServiceWall2, 0.15, 0.15 #Support columns
		Load data/EG881/Ceilings/ceilingtile4single.jpg, LLServiceCeiling, 0.5, 0.5 #EG881
		Load data/stucco1b.jpg, LLEntranceUnderside, 0.125, 0.125
		Load data/diamond18b.jpg, LLEntranceWall, 0.2, 0.2

		#Shopping level B1
			#FLOORS
			Load data/EG881/eg881_Carpet1.jpg, LowerShopFloor, 0.2, 0.2 #EG881
			Load data/floor065.jpg, LowerShopLinkFloor, 0.25, 0.25 #EG881 #Link to Entrance Elevators

			#WALLS
			Load data/marbletile.jpg, LowerShopLinkWall, 0.15, 0.3 #Link to Entrance Elevators
			Load data/EG881/brick021_red.jpg, LowerShopWall, 0.15, 0.15 #EG881
			Load data/EG881/diamondtile.jpg, LowerShopWall2, 0.5, 0.5 #EG881 #Support columns
			Load data/EG881/granite_0007e_black.jpg, LowerShopEscWall, 0.075, 0.075 #EG881 #Escalator exterior walls (G-1)
			Load data/EG881/lopacwall2stripe.jpg, LowerShopWall4L, 0.125, 0.25 #EG881 #Mall elevator shaft
			Load data/Melvin/Aceheart/wall5c_darker.jpg, LowerShopWall4, 0.25, 0.25

			#CEILINGS
			Load data/EG881/ceilingtile3x3.jpg, LowerShopCeiling, 0.125, 0.125 #EG881

		#Shopping levels 1-4
			#FLOORS
			Load data/checker08.jpg, ShopFloor, 0.45, 0.45

				#Atrium base (AB)
				Load data/Carpet0021b_S.jpg, ABCarpet1, 0.2, 0.2 #East
				Load data/Carpet0013_S.jpg, ABCarpet2, 0.2, 0.2 #West

			#WALLS
			Load data/st_wall2.jpg, ShopWall, 0.13635, 0.09765
			Load data/st_wall.jpg, ShopWall2, 0.1875, 0.1344 #Support columns
			Load data/marble22.jpg, ShopWall3, 0.1345, 0.125 #EG881 #Atrium railings
			Load data/marb148.jpg, ShopEscWall, 0.15, 0.15 #Escalator exterior walls (1-5 East)
			Load data/black_granite.jpg, ShopEscWall2, 0.075, 0.075 #Escalator exterior walls (1-5 West)
			
			Load data/marb148.jpg, ShopWall4L, 0.2, 0.2 #Mall elevator shaft (Lower walls)
			Load data/marble5c.jpg, ShopWall4, 0.15, 0.15 #Mall elevator shaft (Upper walls)

			#CEILINGS
			Load data/EG881/ceilingtile2b.jpg, ShopCeiling, 0.125, 0.125 #EG881

		#Shopping level 5
			#FLOORS
			Load data/rose_marble.jpg, UpperShopFloor, 0.111, 0.111
			Load data/Carpet0006_S.jpg, UpperShopLobbyFloor, 0.2, 0.2 #Lobby area (Parking elevators)
			Load data/Carpet0021b_S.jpg, UpperShopLobbyFloor2, 0.2, 0.2 #Lobby area (Office elevators)
			Load data/Carpet0013b_S.jpg, UpperShopLobbyFloor3, 0.2, 0.2 #Lobby area (Service/freight elevators)
			Load data/checker12.jpg, UpperShopRRFloor, 0.4, 0.4 #Office tower restrooms

			#WALLS
			Load data/EG881/granite_0007e_black.jpg, UpperShopWall_Skylight, 0.075, 0.075 #EG881 #Skylight
			Load data/EG881/stucco22b_white.jpg, UpperShopWall, 0.1, 0.1 #EG881 #5th floor, upper walls
			Load data/diamond18i.jpg, UpperShopWall_Lower, 0.36, 0.36 #5th floor, lower walls
			Load data/checker10.jpg, UpperShopWall_Lower2, 0.36, 0.36 #Escalator railings
			Load data/diamond18c.jpg, UpperShopWall_Lower3, 0.36, 0.36 #Office tower core walls
			Load data/wall3.jpg, UpperShopWall2, 0.25, 0.25 #Support columns

			#CEILING
			Load data/EG881/ceilingtile3x3.jpg, UpperShopCeiling, 0.125, 0.125 #EG881

		#Office levels
			#6th-12th floors
			Load data/Carpet0013b_S.jpg, OfficeFloor, 0.2, 0.2
			Load data/Carpet0006_S.jpg, OfficeFloor2, 0.2, 0.2 #Service elevator lobby on all office levels
			Load data/stucco5.jpg, OfficeWall, 0.25, 0.25, true #Also used on levels 13-23 inside the service elevator lobby
			Load data/stucco3.jpg, OfficeWall2, 0.2, 0.2, true
			Load data/EG881/ceilingtile3x3.jpg, OfficeCeiling, 0.125, 0.125 #EG881 #Also used on levels 13-23 inside the service elevator lobby

			#13th-23rd floors
			Load data/Carpet0012_S.jpg, UpperOfficeFloor, 0.2, 0.2
			Load data/stucco2f.jpg, UpperOfficeWall, 0.08, 0.08, true
			Load data/stucco22.jpg, UpperOfficeWall2, 0.1, 0.1, true
			Load data/EG881/ceilingtile2.jpg, UpperOfficeCeiling, 0.125, 0.125 #

		#Drop ceilings
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881 #Restrooms
		Load data/EG881/Ceilings/ceilingtile4single.jpg, SLDropCeiling, 0.5, 0.5 #EG881 #Service elevator lobby

		#Service and mechanical levels
		Load data/EG881/cem_tr2b.jpg, ServiceFloor, 0.075225, 0.0625 #EG881
		Load data/stucco4.jpg, ServiceWall, 0.25, 0.25
		Load data/stucco4b.jpg, ServiceWall2, 0.25, 0.25
		Load data/EG881/cem_tr2b.jpg, ServiceCeiling, 0.075225, 0.0625 #EG881

		#Roofs
		Load data/EG881/cem_tr2d.jpg, RoofFloor, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2d.jpg, RoofFloor2, 0.075225, 0.0625 #EG881

	#Doors
		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Main doors
		Load data/miscdoor1.jpg, Door1, 1, 1, false
		LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		#Black entrance doors
		Load data/EG881/miscdoor8_blacktrans.png, BLKEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky1.jpg, BLKEntDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, BLKEntDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

		#White entrance doors
		Load data/EG881/Doors/exteriordoor1_int.png, WHTEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881Mod/exteriordoor1_bw.png, data/EG881/Doors/exteriordoor1_spec.png, data/sky1.jpg, WHTEntDoorExt, true, 1, 1, false #EG881
		LoadAlphaBlend data/EG881Mod/exteriordoor1_withkey_bw.png, data/EG881/Doors/exteriordoor1_withkey_spec.png, data/sky1.jpg, WHTEntDoorExt_Key, true, 1, 1, false #EG881
		Load data/EG881Mod/exteriordoor1_side.png, WHTEntDoorSide, 1, 1, false

	#Escalators
	Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	#Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, SilverBalustrade2, 1, 1, false #EG881
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/stucco2.jpg, StairsWall3, 0.2, 0.2
	Load data/stucco1b.jpg, StairsWall4, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

		#Parking garage stairs (Next to elevators 8-11)
		Load data/floor065b.jpg, PGStairs, 0.25, 0.25
		Load data/floor065b.jpg, PGStairsFloor, 0.25, 0.25
		Load data/stucco2f.jpg, PGStairsWall, 0.08, 0.08
		Load data/stucco22c.jpg, PGStairsWall2, 0.2, 0.2
		Load data/stucco1b.jpg, PGStairsCeiling, 0.25, 0.25

		#Basement stairs
		Load data/floor065.jpg, BasementStairs, 0.25, 0.25
		Load data/floor065.jpg, BasementStairsFloor, 0.25, 0.25
		Load data/diamond18b.jpg, BasementStairsWall, 0.2, 0.2 #EG881
		Load data/graniteTexture_0015b.jpg, BasementStairsWall2, 0.2, 0.2

	#Shafts
	Load data/EG881/cem_tr2b.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881

		#Glass Elevator Shaft
		#Load data/EG881/blackdoortrim.jpg, GLEShaftWall, 0.05, 0.05 #EG881
		Load data/stucco5.jpg, GLEShaftWall, 0.145, 0.145
		Load data/stucco1b.jpg, GLETrack, 0.1, 0.1
		Load data/windows11e_inside2.gif, GLEPanel, 1, 1, false
		Load data/EG881/windows11h_insideblack.png, GLEPanel2, 0.253, 1, false #EG881

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/panel-back3.jpg, ElevExt2, 1, 1, false
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/MT/panel-back2.gif, ElevPanel, 1, 1, false
		Load data/panel-back3.jpg, ElevPanel2, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels, 1, 1, false
		Load data/Melvin/SDT_Signs/SDTCallPanel.png, ElevExtPanels-Alt, 1, 1, false
		Load data/panel-back4.jpg, ElevExtPanels2, 1, 1, false

		#East elevators
		Load data/floor065.jpg, EastElevFloor, 0.25, 0.25
		Load data/panel-back3.jpg, EastElevCeiling, 1, 1, false
		Rotate EastElevCeiling, 90
		Load data/EG881/Lights/squarelight1_white.jpg, EastElevCeilingLight, 1, 1, false #EG881
		Load data/otis4_weavefloor.jpg, EastElevCeilingDeco, 0.5, 0.5, true #EG881
		Load data/EG881/stucco2f_white.jpg, EastElevWall, 0.25, 0.25 #EG881
		Load data/hungary02.jpg, EastElevWallPanel, 0.5, 0.5
		Load data/glasselevator2b.gif, EastElevWallGlass, 0.5, 1, false
		Load data/panel-back3.jpg, EastElevPanelMain, 1, 1, false #EG881
		Load data/panel-back3.jpg, EastElevPanelTop, 1, 0.125, false #EG881
		Load data/glassdoor_trans.gif, EastElevDoors, 1, 1, false
		Load data/glassdoor_trans.gif, EastElevDoors2, -1, 1, false
		LoadCropped data/glassdoor_trans.gif, EastElevDoorsSide, 236, 0, 20, 512, 1, 1, false
		LoadCropped data/glassdoor_trans.gif, EastElevDoors2Side, 236, 0, 20, 512, -1, 1, false

		#West elevators
		Load data/EG881/eg881_Carpet1.jpg, WestElevFloor, 0.25, 0.25 #EG881
		Load data/EG881/stainlesssteel2.jpg, WestElevCeiling, 1, 1, false #EG881
		Load data/EG881/light1x.jpg, WestElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, WestElevWall, 1, 1, false #EG881
		Load data/checker10.jpg, WestElevWallPanel, 0.5, 0.5
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, WestElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, WestElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, WestElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, WestElevDoors2, 1, 1, false #EG881

		#Parking elevators
		Load data/Carpet0013b_S.jpg, ParkingElevFloor, 0.2, 0.2
		Load data/EG881/stainlesssteel2.jpg, ParkingElevCeiling, 1, 1, false #EG881
		Load data/EG881/Lights/squarelight1_white.jpg, ParkingElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, ParkingElevWall, 1, 1, false #EG881
		Load data/wood085.jpg, ParkingElevWallPanel, 0.2, 0.2
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, ParkingElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, ParkingElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, ParkingElevDoors, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel1door.jpg, ParkingElevDoors2, -1, 1, false #EG881

		#Office elevators
		Load data/Carpet0013b_S.jpg, OfficeElevFloor, 0.2, 0.2
		Load data/Carpet0012_S.jpg, OfficeElevFloor2, 0.2, 0.2
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, OfficeElevCeiling, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, OfficeElevCeiling2, 1, 1, false
		Rotate OfficeElevCeiling, 90
		Rotate OfficeElevCeiling2, 270

		Load data/EG881/Lights/squarelight1_white.jpg, OfficeElevCeilingLight, 1, 1, false #EG881
		Load data/otis67/OTIS67_EU_Button_Lighted.gif, OfficeElevCeilingDL, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, OfficeElevWall, 1, 1, false #EG881
		Load data/granite_0008b.jpg, OfficeElevWallPanel, 0.2, 0.2
		Load data/graniteTexture_0005b.jpg, OfficeElevWallPanel2, 0.2, 0.2
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, OfficeElevPanelMain, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, OfficeElevPanelTop, 1, 0.125, false
		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, OfficeElevDoors, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, OfficeElevDoors2, -1, 1, false

			#Shaft doors (All passenger elevators)
				#Glass elevators
				Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, PLElevDoors, -1, 1, false #EG881 #Also used by Elevators 4-7
				Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, PLElevDoors2, -1, 1, false #EG881 #Parking levels
				Load data/panel-back3.jpg, PLElevDoorsSide, 1, 1, false
				Load data/panel-back3.jpg, PLElevDoors2Side, 1, 1, false
				Load data/panel-back3.jpg, PLElevDoors_Trim, 1, 1, false
	
				Load data/glassdoor_trans.gif, Mall2ElevDoors, 1, 1, false
				Load data/glassdoor_trans.gif, Mall2ElevDoors2, -1, 1, false
				LoadCropped data/glassdoor_trans.gif, Mall2ElevDoorsSide, 236, 0, 20, 512, 1, 1, false
				LoadCropped data/glassdoor_trans.gif, Mall2ElevDoors2Side, 236, 0, 20, 512, -1, 1, false
				Load data/panel-back3.jpg, Mall2ElevDoors_Trim, 1, 1, false
			
				Load data/Melvin/Aceheart/glassdoor_trans_darker.png, Mall2AElevDoors, 1, 1, false
				Load data/Melvin/Aceheart/glassdoor_trans_darker.png, Mall2AElevDoors2, -1, 1, false
				Load data/Melvin/Aceheart/glassdoor_trans_darker_side.png, Mall2AElevDoorsSide, 1, 1, false
				Load data/Melvin/Aceheart/glassdoor_trans_darker_side.png, Mall2AElevDoors2Side, -1, 1, false
				Load data/EG881/elevdoortrim_black.jpg, Mall2AElevDoors_Trim, 1, 1, false #EG881e

				#Interior elevaotrs
				Load data/EG881/lightaluminumdoor2.jpg, Mall3ElevDoors, 1, 1, false #EG881 #1st-4th floors
				Load data/EG881/lightaluminumdoor2.jpg, Mall3ElevDoors2, -1, 1, false #EG881
				Load data/panel-back3.jpg, Mall3ElevDoors_Trim, 1, 1, false
	
				Load data/EG881/elevdoorleft_black.jpg, Mall4ElevDoors, 1, 1, false #EG881 #Ground floor
				Load data/EG881/elevdoorright_black.jpg, Mall4ElevDoors2, 1, 1, false #EG881
				Load data/EG881/elevdoortrim_black.jpg, Mall4ElevDoors_Trim, 1, 1, false #EG881

			#Office elevators
			Load data/EG881/stainlesssteeldoor.jpg, OLElevDoors, 1, 1, false #EG881 #OL = Office lobby
			Load data/EG881/stainlesssteeldoorschindler.jpg, OLElevDoors2, 1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, OLElevDoors_Trim, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, Office5FElevDoors, -1, 1, false #EG881 #5th floor, also used by mall elevators
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, Office5FElevDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, Office5FElevDoors_Trim, 1, 1, false

			Load data/EG881/elevdoorleft_black.jpg, OUElevDoors, 1, 1, false #EG881 #OU = Office upper (6-12)
			Load data/EG881/elevdoorright_black.jpg, OUElevDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_black.jpg, OUElevDoors_Trim, 1, 1, false #EG881
			Load data/EG881/elevdoorleft_tan.jpg, OU2ElevDoors, 1, 1, false #EG881 #OU = Office upper (13-23)
			Load data/EG881/elevdoorright_tan.jpg, OU2ElevDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_tan.jpg, OU2ElevDoors_Trim, 1, 1, false #EG881

		#Freight elevators
		Load data/ogrebullet/materials/textures/BumpyMetal.jpg, FreightElevFloor, 0.36, 0.36
		Load data/metal080.jpg, FreightElevCeiling, 0.5, 0.5
		Load data/panel-back3.jpg, FreightElevCeilingTrim, 1, 1, false #EG881
		Rotate FreightElevCeilingTrim, 90
		Load data/EG881/light1x.jpg, FreightElevCeilingLight, 1, 1, false #EG881
		Load data/stucco22d.jpg, FreightElevWall, 0.25, 0.25
		Load data/EG881/stainlesssteel4.jpg, FreightElevWallTrim, 1, 1, false #EG881
		Rotate FreightElevWallTrim, 90
		Load data/panel-back3.jpg, FreightElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, FreightElevPanelTop, 1, 0.125, false
		Load data/EG881/stainlesssteel2grid.gif, FreightElevDoors, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, FreightElevDoors2, 1, 1, false #EG881
		Load data/EG881/stainlesssteel2.jpg, FEDoor_Side, 1, 1, false #EG881
		Load data/metal10.jpg, FreightDoorSill, 0.5, 0.5, true

			#Shaft doors (Freight)
			Load data/EG881/verticaldoorbottom.jpg, ElevDoorsA_Bottom, 1, 1, false #EG881
			Load data/EG881/verticaldoorbottom.jpg, ElevDoorsA_Bottom2, -1, 1, false #EG881
			Load data/EG881/verticaldoortop.jpg, ElevDoorsA_Top, 1, 1, false #EG881
			Load data/EG881/verticaldoortop.jpg, ElevDoorsA_Top2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel4.jpg, ElevDoorsA_Side, 1, 1, false #EG881
			Load data/EG881/stainlesssteel4.jpg, ElevDoorsA_Trim, 1, 1, false #EG881

		#Service elevator
		Load data/metal072b.jpg, ServiceElevFloor, 0.25, 0.25
		Load data/EG881/blackdoortrim.jpg, ServiceElevWall, 1, 1, false #EG881
		Load data/wood1.jpg, ServiceElevWallPanel, 0.55, 0.55
		Load data/panel-back3.jpg, ServiceElevCeiling, 1, 1, false
		Load data/EG881/Lights/squarelight1_white.jpg, ServiceElevCeilingLight, 1, 1, false #EG881
		Load data/panel-back3.jpg, ServiceElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, ServiceElevPanelTop, 1, 0.125, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors2, 1, 1, false #EG881

			#Shaft doors (Service)
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ElevDoorsB, 1, 1, false #EG881 #5th-23rd floors
			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsB2, 1, 1, false #EG881
			Load data/panel-back3.jpg, ElevDoorsB_Trim, 1, 1, false

			Load data/Melvin/SRH/st_doors_blackedge.jpg, ElevDoorsC, 1, 1, false #1st-4th floors
			Load data/Melvin/SRH/st_doors_blackedge.jpg, ElevDoorsC2, -1, 1, false
			Load data/Melvin/st_panel.jpg, ElevDoorsC_Trim, 1, 1, false

			Load data/door2.jpg, ElevDoorsD, 1, 1, false #EG881 #Mechanical floor
			Load data/door2.jpg, ElevDoorsD2, -1, 1, false #EG881
			Load data/Melvin/elevpanelmetal.jpg, ElevDoorsD_Trim, 1, 1, false

	#MAD BS fixtures
		#Call buttons
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonUp, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litgreen.gif, MAButtonUpLit, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litblue.gif, MAButtonUpLitBlue, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonDown, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litred.gif, MAButtonDownLit, 1, 1, false #Windows446

		#Lanterns (Originally made by epco_rules, modified by ElevatorFace)
		Load data/Melvin/MT Lanterns/LanternUnlit.gif, MALanternUp, 1, 1, false
		Load data/Melvin/MT Lanterns/LanternBlue.gif, MALanternUpLit, 1, 1, false
		Load data/Melvin/MT Lanterns/LanternUnlit.gif, MALanternDown, 1, -1, false
		Load data/Melvin/MT Lanterns/LanternRed.gif, MALanternDownLit, 1, -1, false

		#Car buttons
		Load data/Other People's Fixtures/MAD BS/button_alarm.gif, MAButtonAlarm, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_phone.gif, MAButtonPhone, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_cancel.gif, MAButtonCancel, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_open.gif, MAButtonOpen, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_close.gif, MAButtonClose, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_unlit.gif, MAButton, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_litgreen.gif, MAButtonLit, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_litblue.gif, MAButtonLitBlue, 1, 1, false #Windows446

		AddText MAButton, MAButtonHold, nimbus_sans_bold_condensed.ttf, 48, DH, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 2, MAButton, MAButtonB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddText MAButton, MAButtonLL, nimbus_sans_bold_condensed.ttf, 48, LL, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 24, MAButton, MAButton%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 4, MAButton, MAButton%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 42, 63, 105, 163, center, center, 255, 255, 255, false

		AddTextRange 1, 2, MAButtonLit, MAButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddText MAButtonLit, MAButtonLitLL, nimbus_sans_bold_condensed.ttf, 48, LL, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 24, MAButtonLit, MAButtonLit%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 4, MAButtonLit, MAButtonLit%number%A, nimbus_sans_bold_condensed.ttf, 48, %number%A, 42, 63, 105, 163, center, center, 255, 255, 255, false

		#Blue buttons (Freight elevator only)
		AddText MAButtonLitBlue, MAButtonLitBlueB1, nimbus_sans_bold_condensed.ttf, 48, B1, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 5, MAButtonLitBlue, MAButtonLitBlue%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false

		#Floor indicators (Both inside and outside)
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, MAIndBack, 1, 1, false
		AddTextRange 1, 2, MAIndBack, MAInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 122, B%number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddText MAIndBack, MAInd_ButtonLL, Mitsubishi-Modern-V2.ttf, 122, LL, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 24, MAIndBack, MAInd_Button%number%, Mitsubishi-Modern-V2.ttf, 122, %number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 4, MAIndBack, MAInd_Button%number%A, Mitsubishi-Modern-V2.ttf, 122, %number%A, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower

	#Posters above elevator doors/at some shopping areas
	Load data/Melvin/SentaiTower/Poster7A.png, PosterB1B, 1, 1, false #South of Office Tower Core (Opposite elevators 4-7)
	Load data/Melvin/SentaiTower/Poster4A.png, PosterB1C, 1, 1, false #East of Office Tower Core
	Load data/Melvin/SentaiTower/Poster7A.png, Poster1A, 1, 1, false #Elevators 4-7
	Load data/Melvin/SentaiTower/Poster5A.png, Poster2A, 1, 1, false
	Load data/Melvin/SentaiTower/Poster4A.png, Poster3A, 1, 1, false
	Load data/Melvin/SentaiTower/Poster7B.png, Poster4A, 1, 1, false	

	#Signs
		#Main Floor Star
		Load data/Melvin/Aceheart/MainFloorStar.png, MainFloorStar, 1, 1, false

		#Elevator bank signs
		Load data/panel-back3.jpg, ElevBankSide, 1, 1, false
		LoadRange 1, 2, data/Melvin/Aceheart/SignOffice%number%.png, SignOffice%number%, 1, 1, false

		#Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 3, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 4, 7, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 255, false
		AddTextRange 8, 11, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 0, false
		AddText IN_ElevNoBack, IN_ElevNo12, nimbus_sans_bold.ttf, 55, 12, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 13, 20, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 255, false
		AddText IN_ElevNoBack, IN_ElevNo21, nimbus_sans_bold.ttf, 55, 21, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Floor signs (Elevator lobby)
		Load data/Melvin/ABH_Tex/NewFS256/FSBack_SapphireService.jpg, FloorSignBack, 1, 1, false
		Load data/Melvin/DRH/bluegradient_DRH.jpg, FloorSignBack2, 1, 1, false #Level B1 only
		Load data/bluegradient.jpg, FSB_Side, 1, 1, false
		AddText FloorSignBack, FlrSignB2, nimbus_sans.ttf, 120, B2, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddText FloorSignBack2, FlrSignB1, nimbus_sans_bold.ttf, 130, B1, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddText FloorSignBack, FlrSignLL, nimbus_sans.ttf, 120, LL, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 24, FloorSignBack, FlrSign%number%, nimbus_sans.ttf, 120, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 4, FloorSignBack, FlrSign%number%A, nimbus_sans.ttf, 120, %number%A, 0, 0, 256, 198, center, center, 0, 0, 0, false

		#Floor signs (Stairwells)
		AddTextRange 1, 2, Blank, BlankSignB%number%, nimbus_sans_bold.ttf, 72, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignLL, nimbus_sans_bold.ttf, 65, LL, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 25, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 4, Blank, BlankSign%number%A, nimbus_sans_bold.ttf, 72, %number%A, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Restrooms
		Load data/signs_mod/Restroom1A.png, Sign_Restroom_Brown, 1, 1, false
		Load data/signs_mod/Restroom1.png, Sign_Restroom_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM_Gray, 1, 1, false

		#Elevators
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false

		#Proximity scanners
		#Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881

		#Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false
<EndTextures>

##--------------------------------------------------------------------------------##

#Floor assignments
<Floor -1>
	ID = LL
	Name = Lower Level
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -1.5
<EndFloor>

<Floor -2>
	ID = B1
	Name = Basement 1
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -3>
	ID = B2
	Name = Basement 2
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -4>
	ID = -
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Level %floorid%
	Type = Lobby
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = 8.5
<EndFloor>

<Floor 1>
	ID = 1A
	Name = Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 2>
	ID = 2
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 3>
	ID = 2A
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 4>
	ID = 3
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 5>
	ID = 3A
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 6>
	ID = 4
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 7>
	ID = 4A
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 8>
	ID = 5
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 9>
	ID = 5A
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

#Merge floors
<Floors -3 to 9>
	Group = -3 - 9
<EndFloors>

<Floors 10 to 27>
	ID = %floor% - 4
	Name = Level %floorid%
	Type = Office
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloors>

<Floors 28 to 29>
	ID = %floor% - 4
	Name = Mechanical Level %floorid%
	Type = Service
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloors>

<Floor 30>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

##--------------------------------------------------------------------------------##

#Landscape
Set 1 = 140 #Main Complex Dimension X
Set 2 = 195 #Main Complex Dimension Z

	#Sidewalk
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, NorthSidewalkA, Sidewalk, 0, -%1%, %2%, %1%, %2% + 10, Floor(-1).Base, Floor(-1).Base, false, true, 0, 0	
	AddFloor landscape, SouthSidewalk, Sidewalk, 0, -%1%, -%2% - 8, %1%, -%2%, Floor(-1).Base, Floor(-1).Base, false, true, 0, 0	
	AddFloor landscape, EastSidewalk, Sidewalk, 0, -%1% - 10, -%2% - 8, -%1%, %2% + 10, Floor(-1).Base, Floor(-1).Base, 0, 0	
	AddFloor landscape, WestSidewalk, Sidewalk, 0, %1%, -%2% - 8, %1% + 10, %2% + 10, Floor(-1).Base, Floor(-1).Base, 0, 0	

	#Driveways
	Cut Landscape, %1%, Floor(-1).Base - 1, -%2%, %1% + 10, Floor(-1).Base + 1, -%2% + 60, false, true #Entrance
	Cut Landscape, -%1% - 10, Floor(-1).Base - 1, -%2%, -%1%, Floor(-1).Base + 1, -%2% + 60, false, true #Exit

	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, EntrDrive, Road, 0, %1%, -%2%, %1% + 10, -%2% + 60, Floor(-1).Base, Floor(-1).Base, 0, 0
	AddFloor landscape, ExitDrive, Road, 0, -%1% - 10, -%2%, -%1%, -%2% + 60, Floor(-1).Base, Floor(-1).Base, 0, 0

#Entrance sidewalks and ramps
	DrawWalls = true, true, false, false, false, false
	
	#Mall entrances
	TextureOverride SidewalkUnderside, Sidewalk, Blank, Blank, Blank, Blank
	AddFloor landscape, MallEntSidewalk, Sidewalk, 0.5, 0, %2%, 120, %2% + 10, Floor(0).Base, Floor(0).Base, 0, 0	

	#Office entrances
	DrawWalls = true, true, false, false, false, false
	TextureOverride SidewalkUnderside, Sidewalk, Blank, Blank, Blank, Blank
	AddFloor landscape, OfficeEntSidewalk, Sidewalk, 0.5, -100, %2%, 0, %2% + 10, Floor(0).Base, Floor(0).Base, 0, 0

#Supports under sidewalks/ramps
	#Mall side
	#CreateWallBox2 landscape, MallEntSWSupport1/1, BrickFences2, 0 - 1.25, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	#CreateWallBox2 landscape, MallEntSWSupport1/2, BrickFences2, 20 + 1.25, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	#CreateWallBox2 landscape, MallEntSWSupport1/1, BrickFences2, 10, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, MallEntSWSupport1/3, BrickFences2, 40 - 10, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, MallEntSWSupport1/4, BrickFences2, 60, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, MallEntSWSupport1/5, BrickFences2, 80, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, MallEntSWSupport1/6, BrickFences2, 100, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, MallEntSWSupport1/7, BrickFences2, 120 - 1.25, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false

	#Office side
	CreateWallBox2 landscape, OfficeEntSWSupport1/1, BrickFences2, -100 + 1.25, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, OfficeEntSWSupport1/2, BrickFences2, -80, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, OfficeEntSWSupport1/3, BrickFences2, -60, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, OfficeEntSWSupport1/4, BrickFences2, -40, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false
	CreateWallBox2 landscape, OfficeEntSWSupport1/5, BrickFences2, -20, %2% + 1.25, 2, 2, 10, 0, 0, 0, false, true, false, false

#Railings at entrances
Set LL = Floor(-1).Base #Lower level
Set ML = Floor(-1).Base + 5 #Middle level
Set UL = Floor(0).Base #Upper level

	Set FenceThickness = 0.35

	DrawWalls = true, true, true, true, true, true

	#MALL ENTRANCES
	WallOrientation = left
	AddWall landscape, MallEntSidewalkRail-Right, BrickFences2, %FenceThickness%, 120, %2%, 120, %2% + 10, 3.5, 3.5, %UL% - 0.5, %UL% - 0.5, 0, 0

	### Reset drawwalls ###
	DrawWalls = true, true, true, true, true, true

	#OFFICE ENTRANCES
	WallOrientation = right
	AddWall landscape, OfficeEntRail-Left, BrickFences2, %FenceThickness%, -100, %2%, -100, %2% + 10, 3.5, 3.5, %UL% - 0.5, %UL% - 0.5, 0, 0

##--------------------------------------------------------------------------------##

#Set textures
<Function FloorTex>
	Set 5 = ShopFloor
	if[%floor% = -2 | %floor% = -1] Set 5 = LowerShopFloor
	if[%floor% = 8 | %floor% = 9] Set 5 = UpperShopFloor
	if[%floor% > 9 & %floor% < 17] Set 5 = OfficeFloor
	if[%floor% > 16 & %floor% < 28] Set 5 = UpperOfficeFloor
	if[%floor% = 28 | %floor% = 29] Set 5 = ServiceFloor
	Set 5B = RoofFloor #Office Tower Roof
	Set 5C = RoofFloor2 #Mall Roof

		#Parking areas
		Set 5P = Road
<EndFunction>

<Function WallTex>
	Set 6 = ShopWall
	if[%floor% = -3] Set 6 = ParkingWall
	if[%floor% = -2 | %floor% = -1] Set 6 = LowerShopWall
	if[%floor% = 8 | %floor% = 9] Set 6 = UpperShopWall
	if[%floor% > 9 & %floor% < 17] Set 6 = OfficeWall
	if[%floor% > 16 & %floor% < 28] Set 6 = UpperOfficeWall
	if[%floor% = 28 | %floor% = 29] Set 6 = ServiceWall
	
		#Special walls for some walls in the Office Tower's Core Area
		Set 6X = %6%
		if[%floor% = -1] Set 6X = LowerShopWall

		#Service elevator lobby (Office Tower, 13th-23rd floors)
		Set 6A = %6%
		if[%floor% > 16 & %floor% < 28] Set 6A = OfficeWall

		#Railings/supports on B1 and LL
		Set 6Rail = %6%
		if[%floor% = -2 | %floor% = -1] Set 6Rail = LLEntranceWall

		#Parking areas
		Set 6P = ParkingWall
		Set 6P2 = ParkingWall3
		
		#Support Columns
		Set 6SP = ShopWall2
		if[%floor% = -2 | %floor% = -1] Set 6SP = LowerShopWall2
		if[%floor% = 8 | %floor% = 9] Set 6SP = UpperShopWall2
		if[%floor% = -3] Set 6SP = ParkingWall2
		if[%floor% > 9 & %floor% < 17] Set 6SP = OfficeWall2
		if[%floor% > 16 & %floor% < 28] Set 6SP = UpperOfficeWall2
		if[%floor% = 28 | %floor% = 29] Set 6SP = ServiceWall2
		
			#Support Columns (Parking areas)
			Set 6SP2 = ParkingWall2
			if[%floor% > 7] Set 6SP2 = %6SP%
			
			#Support columns (Service area on level LL)
			Set 6SP3 = %6SP%
			if[%floor% = -1] Set 6SP3 = LLServiceWall2

		#Parking lobbies
		Set 6PL = ParkingLobbyWall #Parking elevators
		if[%floor% > 7] Set 6PL = %6% #Parking elevators
		Set 6PL2 = %6% #All other elevators
		if[%floor% = -3] Set 6PL2 = ParkingLobbyWall #All other elevators

	#Set Heights for External Shaft/Stairwell walls
	Set SHeight = %fullheight%
	Set SOffset = -%interfloorheight%
	if[%floor% = -2 | %floor% = 8] Set SHeight = %height%
	if[%floor% = -2 | %floor% = 8] Set SOffset = 0
	if[%floor% = -3] Set SHeight = %height% + Floor(-2).InterfloorHeight - 0.5
	if[%floor% = -3] Set SOffset = 0
	if[%floor% > 9] Set SHeight = %height%
	if[%floor% > 9] Set SOffset = 0
	
		#Special heights for lower/upper walls on the 5th floors
		if[%floor% ! 8] Set SHeightL = %SHeight%
		if[%floor% ! 8] Set SOffsetL = %SOffset%
		if[%floor% = 8] Set SHeightL = 4
		if[%floor% = 8] Set SOffsetL = 0
		if[%floor% ! 8] Set SHeightU = %SHeight%
		if[%floor% ! 8] Set SOffsetU = %SOffset%
		if[%floor% = 8] Set SHeightU = %height% - 4
		if[%floor% = 8] Set SOffsetU = 4
<EndFunction>

<Function CeilingTex>
	Set 7 = ShopCeiling
	if[%floor% = -2 | %floor% = -1] Set 7 = LowerShopCeiling
	if[%floor% = 8 | %floor% = 9] Set 7 = UpperShopCeiling
	if[%floor% > 9 & %floor% < 17] Set 7 = OfficeCeiling
	if[%floor% > 16 & %floor% < 28] Set 7 = UpperOfficeCeiling
	if[%floor% = 28 | %floor% = 29] Set 7 = ServiceCeiling

		#Parking areas
		Set 7P = ParkingCeiling
<EndFunction>

##--------------------------------------------------------------------------------##

#EXTERIOR & INTERIOR
#Parking areas
<Floors -3 to 7>
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	Set Endpoint = 16
	if[%floor% = -3] Set Endpoint = %2%

	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, %5P%, 0.5, -%1%, -%2%, %1%, %Endpoint%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Link to South Garage
		Set UDTex = %7P%
		if[%floor% = 2] Set UDTex = PGExtFacade3
	
		DrawWalls = true, true, false, false, false, false	
		TextureOverride %UDTex%, %5P%, Blank, Blank, Blank, Blank
		if[%floor% > 1 & %floor% < 8] AddFloor North-SouthPGLink, %5P%, 0.5, 100, -%2% - 10, %1%, -%2%, %interfloorheight%, %interfloorheight%, 0, 0, true
		DrawWalls = true, false, false, false, false, false	
		if[%floor% = 2] AddFloor North-SouthPGLink, PGLinkUDS, %interfloorheight%, 100 + 0.5, -%2% - 10, %1% - 0.5, -%2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Stair bases
		CutAll 88.5, %interfloorheight% - 0.1, -120 - 15, 100, %interfloorheight% + 0.1, -120 + 15, false, true #East
		CutAll -100, %interfloorheight% - 0.1, -60 - 15, -88.5, %interfloorheight% + 0.1, -60 + 15, false, true #West
		DrawWalls = false, true, false, false, false, false
		AddFloor EastStairBase, ParkingFloor2, 0.5, 88.5, -120 - 15, 100, -120 + 15, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor EastStairBase, ParkingFloor2, 0.5, -100, -60 - 15, -88.5, -60 + 15, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elevator lobby floors
		CutAll -19, %interfloorheight% - 0.1, -16, 10, %interfloorheight% + 0.1, 16, false, true #Center
		CutAll 10, %interfloorheight% - 0.1, 4, 22, %interfloorheight% + 0.1, 16, false, true
		AddFloor CtrElevLbyFloor, ParkingLobbyFloor, 0.5, -19, -16, 10, 4, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor CtrStorageFloor, ParkingFloor, 0.5, -19, 4, -9, 16, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor CtrElevLbyFloorEX, ParkingLobbyFloor, 0.5, -9, 4, 22, 16, %interfloorheight%, %interfloorheight%, 0, 0, true

		if[%floor% = -3] CutAll -100, %interfloorheight% - 0.1, 16, -60, %interfloorheight% + 0.1, 45, false, true #West
		if[%floor% = -3] AddFloor E4-7LobbyFloor, ParkingLobbyFloor2, 0.5, -100, 16, -60, 45, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% = -3] CutAll -20, %interfloorheight% - 0.1, 75, 60, %interfloorheight% + 0.1, 120, false, true #East
		if[%floor% = -3] AddFloor E1-3LobbyFloor, ParkingLobbyFloor2, 0.5, -20, 75, 60, 120, %interfloorheight%, %interfloorheight%, 0, 0, true #East

	#Road markings
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

		Set Offset = %interfloorheight% + 0.01
		DrawWalls = false, true, false, false, false, false

		#Spacers
			if[%floor% = -1] AddFloor EntranceLaneSpacer, WhiteIslandX, 0, 59 - 0.5, -166 - 1, %1%, -164 + 1, %Offset%, %Offset%, 4, 1, true
			if[%floor% > 1] AddFloor SouthPGLinkIsland, NoParkingZ, 0, 123.5 - 5.5, -%2% - 10, 123.5, -164, %Offset%, %Offset%, 1, 2, true

		#Parking spaces
			#Mid
			AddFloor ParkingM1, ParkingSpaceZ, 0, 120 - (8.5 * 2), -16, 120 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% > -3 & %Mod% = 1] AddFloor ParkingM2, ParkingSpaceZ, 0, 80 - (8.5 * 2), -16, 80 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% > -3 & %Mod% = 0] AddFloor ParkingM2, ParkingSpaceZ, 0, 80 - (8.5 * 2), -16, 80 - (8.5 * 1), -16 + 18, %Offset%, %Offset%, 1, 1, true
			if[%floor% > -3 & %Mod% = 0] AddFloor ParkingM2, ParkingSpaceZ, 0, 80 + (8.5 * 1), -16, 80 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 1, 1, true
			if[%floor% > -3 & %Mod% = 0] AddFloor ParkingM2SP, NoParkingZ, 0, 80 - (8.5 * 1) + 1, -16, 80 + (8.5 * 1) - 1, 16, %Offset%, %Offset%, 2, 1, true
			if[%floor% > -3] AddFloor ParkingM3, ParkingSpaceZ, 0, 40 - (8.5 * 2), -16, 40 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% = -3] AddFloor ParkingM3, ParkingSpaceZ, 0, 40 - (8.5 * 2), -16, 40, -16 + 18, %Offset%, %Offset%, 2, 1, true
			AddFloor ParkingM3B, ParkingSpaceZ, 0, 10, -16, 19, -16 + 18, %Offset%, %Offset%, 1, 1, true
			if[%floor% > -3 & %Mod% = 1] AddFloor ParkingM4, ParkingSpaceZ, 0, -40 - (8.5 * 2), -16, -40 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% > -3 & %Mod% = 0] AddFloor ParkingM4, ParkingSpaceZ, 0, -40, -16, -40 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 2, 1, true
			if[%floor% > -3 & %Mod% = 0] AddFloor ParkingM4SP, NoParkingZ, 0, -59, -16, -40 - 1, 16, %Offset%, %Offset%, 2, 1, true
			if[%floor% > -3] AddFloor ParkingM5, ParkingSpaceZ, 0, -80 - (8.5 * 2), -16, -80 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true
			if[%floor% = -3] AddFloor ParkingM5A, ParkingSpaceX, 0, -101, 0 - (8.5 * 1.5), -101 + 18, 0 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
			if[%floor% = -3] AddFloor ParkingM5B, ParkingSpaceX, 0, -59 - 18, 0 - (8.5 * 1.5), -59, 0 + (8.5 * 1.5), %Offset%, %Offset%, -1, 3, true
			if[%floor% = -3] AddFloor ParkingM5AB_SP, NoParkingZ, 0, -101 + 18, 0 - (8.5 * 1.5), -59 - 18, 0 + (8.5 * 1.5), %Offset%, %Offset%, 1, 1, true
			if[%floor% > -3] AddFloor ParkingM6, ParkingSpaceZ, 0, -120 - (8.5 * 2), -16, -120 + (8.5 * 2), -16 + 18, %Offset%, %Offset%, 4, 1, true

			#South
			AddFloor ParkingS1A, ParkingSpaceZ, 0, 80 - (8.5 * 2), -120 - 17, 80 + (8.5 * 1), -120, %Offset%, %Offset%, 3, 1, true
			AddFloor ParkingS1B, ParkingSpaceZ, 0, 80 - (8.5 * 2), -120, 80 + (8.5 * 1), -120 + 17, %Offset%, %Offset%, 3, -1, true
			AddFloor ParkingS2A, ParkingSpaceZ, 0, 0 - (8.5 * 2), -120 - 17, 0 + (8.5 * 2), -120, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS2B, ParkingSpaceZ, 0, 0 - (8.5 * 2), -120, 0 + (8.5 * 2), -120 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS3A, ParkingSpaceZ, 0, -40 - (8.5 * 2), -120 - 17, -40 + (8.5 * 2), -120, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS3B, ParkingSpaceZ, 0, -40 - (8.5 * 2), -120, -40 + (8.5 * 2), -120 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS4A, ParkingSpaceZ, 0, -80 - (8.5 * 2), -120 - 17, -80 + (8.5 * 2), -120, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS4B, ParkingSpaceZ, 0, -80 - (8.5 * 2), -120, -80 + (8.5 * 2), -120 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS5A, ParkingSpaceZ, 0, 80 - (8.5 * 2), -60 - 17, 80 + (8.5 * 2), -60, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS5B, ParkingSpaceZ, 0, 80 - (8.5 * 2), -60, 80 + (8.5 * 2), -60 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS6A, ParkingSpaceZ, 0, 40 - (8.5 * 2), -60 - 17, 40 + (8.5 * 2), -60, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS6B, ParkingSpaceZ, 0, 40 - (8.5 * 2), -60, 40 + (8.5 * 2), -60 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS7A, ParkingSpaceZ, 0, 0 - (8.5 * 2), -60 - 17, 0 + (8.5 * 2), -60, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS7B, ParkingSpaceZ, 0, 0 - (8.5 * 2), -60, 0 + (8.5 * 2), -60 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS8A, ParkingSpaceZ, 0, -40 - (8.5 * 2), -60 - 17, -40 + (8.5 * 2), -60, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingS8B, ParkingSpaceZ, 0, -40 - (8.5 * 2), -60, -40 + (8.5 * 2), -60 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingS9A, ParkingSpaceZ, 0, -80 - (8.5 * 1), -60 - 17, -80 + (8.5 * 2), -60, %Offset%, %Offset%, 3, 1, true
			AddFloor ParkingS9B, ParkingSpaceZ, 0, -80 - (8.5 * 1), -60, -80 + (8.5 * 2), -60 + 17, %Offset%, %Offset%, 3, -1, true

			if[%floor% ! -1] AddFloor ParkingS10, ParkingSpaceX, 0, 59, -166 - (8.5 * 3), 59 + 18, -166, %Offset%, %Offset%, 1, 3, true
			if[%floor% ! -1] AddFloor ParkingS11, ParkingSpaceZ, 0, 80, -164 - 18, 80 + (8.5 * 2), -164, %Offset%, %Offset%, 2, -1, true
			if[%floor% ! -1 & %floor% < 2] AddFloor ParkingS12, ParkingSpaceZ, 0, 120 - (8.5 * 2), -164 - 18, 120 + (8.5 * 2), -164, %Offset%, %Offset%, 4, -1, true

	#Ceilings
	Set Endpoint = 16
	if[%floor% = -3] Set Endpoint = %2%
	Set SouthEndpoint = -%2%
	if[%floor% = 7] Set SouthEndpoint = -16.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, %7P%, 0.5, -%1%, %SouthEndpoint%, %1%, %Endpoint%, %ParkingHeight%, %ParkingHeight%, 0, 0, true

		#Elevator lobby ceiling
		Set ECThickness = Floor(%floor% + 1).InterfloorHeight - 0.5
		Set SideTex = PGExtFacade2
		if[%floor% = -3] Set SideTex = ParkingWall
		DrawWalls = true, false, false, false, true, false
		TextureOverride ParkingLobbyCeiling, ParkingLobbyCeiling, %SideTex%, %SideTex%, %SideTex%, %SideTex%
		AddFloor CtrElevLbyCei, ParkingLobbyCeiling, %ECThickness%, -9, -16, 0, 4, %fullheight%, %fullheight%, 0, 0, true #Center
		DrawWalls = true, false, false, false, false, false
		AddFloor CtrElevLbyCeiEX, ParkingLobbyCeiling, 0.5, -19, 4, 22, 16, %fullheight%, %fullheight%, 0, 0, true

		if[%floor% = -3] AddFloor WestElevLbyCei, ParkingLobbyCeiling, 0.5, -100, 26, -60, 45, %fullheight%, %fullheight%, 0, 0, true #West
		if[%floor% = -3] AddFloor EastElevLbyCei, ParkingLobbyCeiling, 0.5, -20, 75, 60, 120, %fullheight%, %fullheight%, 0, 0, true #East

	#Ceiling cover on level B (Created on level G's interfloor)
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -2] AddWall ElevCei_IFC, ParkingWall, 0.5, -9, 16, 0, 16, %interfloorheight% - 0.5, %interfloorheight% - 0.5, 0, 0, 0, 0, true

	#Interfloor cover on level LL
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	if[%floor% = -1] AddWall RightIFloorCover, PGExtFacade2, 0.5, %1%, -%2%, %1%, -%2% + 60, %interfloorheight% - 0.5, %interfloorheight% - 0.5, 0, 0, 0, 0, true
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -1] AddWall LeftIFloorCover, PGExtFacade2, 0.5, -%1%, -%2%, -%1%, -%2% + 60, %interfloorheight% - 0.5, %interfloorheight% - 0.5, 0, 0, 0, 0, true

	#Parking ramps
		#Cuts for parking ramps
		if[%floor% > -3] CutAll -101, %interfloorheight% - 1, -166.5 - 25, 21, %interfloorheight% + 1, -166.5, false, true
		if[%floor% < 7] CutAll -101, %fullheight% - 1, -166.5 - 25, 21, %fullheight% + 1, -166.5, false, true

		#Ramps creation
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		TextureOverride %7P%, %5P%, %7P%, %7P%, %7P%, %7P%
		if[%floor% < 7] AddFloor DownRamp, %5%, 0.5, -101, -166.5 - 12.5, 21, -166.5, %interfloorheight%, %fullheight% + Floor(%floor% + 1).InterfloorHeight, true, false, 0, 0, true
		TextureOverride %7P%, %5P%, %7P%, %7P%, %7P%, %7P%
		if[%floor% < 7] AddFloor UpRamp, %5%, 0.5, -101, -166.5 - 25, 21, -166.5 - 12.5, %fullheight% + Floor(%floor% + 1).InterfloorHeight, %interfloorheight%, true, false, 0, 0, true

	#Railings around ramps
	WallOrientation = left
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	Set WallOffset2 = %fullheight%

		#Set values
		Set NorthPoint = -166.5
		Set MidPoint = -166.5 - 12.5
		Set SouthPoint = -166.5 - 25

		#Rails creation
		DrawWalls = true, true, true, true, true, true

		WallOrientation = right
		if[%floor% > -3] AddWall FrontRail, %6P2%, 0.5, -101, %SouthPoint%, 21, %SouthPoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% = 7] AddWall DownRamp_LeftR, %6P2%, 0.5, -101, %MidPoint% - 0.25, -101, %NorthPoint% + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% < 7] AddWall UpRamp_BackR, %6P2%, 0.25, -101, %MidPoint%, 21, %MidPoint%, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
		if[%floor% < 7] AddWall DownRamp_BackR, %6P2%, 0.25, -101, %NorthPoint%, 21, %NorthPoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		WallOrientation = left
		if[%floor% = 7] AddWall UpRamp_RightR, %6P2%, 0.5, 21, %SouthPoint% - 0.5, 21, %MidPoint% + 0.25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% > -3] AddWall BackRail, %6P2%, 0.5, -101, %NorthPoint%, 21, %NorthPoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% < 7] AddWall UpRamp_FrontR, %6P2%, 0.25, -101, %SouthPoint%, 21, %SouthPoint%, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
		if[%floor% < 7] AddWall DownRamp_FrontR, %6P2%, 0.25, -101, %MidPoint%, 21, %MidPoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
<EndFloors>

#Auto areas for ramps
AddFloorAutoArea -101, Floor(-3).Base, -166.5 - 25, 21, Floor(7).Base + 5, -166.5

<Floor -3>
	#Elevator lobbies
	WallTex() #Set wall texture

	Set WallHeight = %height% + Floor(-2).InterfloorHeight - 0.5
	Set WallOffset = %interfloorheight%

		#West
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, %6PL2%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Left, %6PL2%, 0.5, -100, 26, -100, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		TextureOverride %6PL2%, %6%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Right, %6PL2%, 0.5, -60, 26, -60, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6PL2%, %6%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Back, %6PL2%, 0.5, -100, 45, -60, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			#Windows
			Add3DWindows(PGWestLby_Windows, -80, 45, back, 36, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 8/4, 1)

		#East
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, %6PL2%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Front1, %6PL2%, 0.5, -20, 75, 20, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, %6PL2%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Front2, %6PL2%, 0.5, 30, 75, 60, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, %6PL2%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Left, %6PL2%, 0.5, -20, 75, -20, 120, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		TextureOverride %6PL2%, %6%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Right, %6PL2%, 0.5, 60, 75, 60, 120, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6PL2%, %6%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
		AddWall WestLby_Back, %6PL2%, 0.5, -20, 120, 60, 120, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			#Windows
			Add3DWindows(PGEastLby_FrontWin1, 0, 75, front, 36, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 9/4, 1)
			Add3DWindows(PGEastLby_FrontWin2, 45, 75, front, 24, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 6/4, 1)
	
			Add3DWindows(PGEastLby_LeftWin1, -20, 112.5, left, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 3/4, 1)
			Add3DWindows(PGEastLby_RightWin1, 60, 112.5, right, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 3/4, 1)
	
			Add3DWindows(PGEastLby_BackWin, 20, 120, back, 76, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 19/4, 1)

	#Elevator lobby doors
		#East lobby, doors A (West)
		Set DTex = BLKEntDoorInt
		Set DSTex = BLKEntDoorSide
	
		Set Door_MainX = -20 + 0.5
		Set Door_MainZ = 90
	
		WallOrientation = right
		AddStdDoor DoorManager, PGEastLA_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, PGEastLA_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %6PL2%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	
		Add3DWindows(PGEastLA_WinTop, %Door_MainX% - 0.5, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGEastLA_WinSide1, %Door_MainX% - 0.5, %Door_MainZ% - 3 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 2/4, 1)
		Add3DWindows(PGEastLA_WinSide2, %Door_MainX% - 0.5, %Door_MainZ% + 3 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 2/4, 1)

		#East lobby, doors B (East)
		Set DTex = BLKEntDoorInt
		Set DSTex = BLKEntDoorSide
	
		Set Door_MainX = 60 - 0.5
		Set Door_MainZ = 90
	
		WallOrientation = left
		AddStdDoor DoorManager, PGEastLB_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, PGEastLB_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %6PL2%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	
		Add3DWindows(PGEastLB_WinTop, %Door_MainX% + 0.5, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGEastLB_WinSide1, %Door_MainX% + 0.5, %Door_MainZ% - 3 - 4.25, right, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 2/4, 1)
		Add3DWindows(PGEastLB_WinSide2, %Door_MainX% + 0.5, %Door_MainZ% + 3 + 4.25, right, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 2/4, 1)

		#West lobby, doors 1 (East)
		Set DTex = BLKEntDoorInt
		Set DSTex = BLKEntDoorSide
	
		Set Door_MainX = -60 - 0.5
		#Set Door_MainZ = 35.25
		Set Door_MainZ = 32.5
	
		WallOrientation = left
		AddStdDoor DoorManager, PGWestL1_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, PGWestL1_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %6PL2%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	
		Add3DWindows(PGWestL1_WinTop, %Door_MainX% + 0.5, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGWestL1_WinSide1, %Door_MainX% + 0.5, %Door_MainZ% - 3 - 1.75, right, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGWestL1_WinSide2, %Door_MainX% + 0.5, %Door_MainZ% + 3 + 1.75, right, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
	
		#West lobby, doors 2 (West)
		Set DTex = BLKEntDoorInt
		Set DSTex = BLKEntDoorSide
	
		Set Door_MainX = -100 + 0.5
		Set Door_MainZ = 32.5
	
		WallOrientation = right
		AddStdDoor DoorManager, PGWestL2_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, PGWestL2_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls %6PL2%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	
		Add3DWindows(PGWestL2_WinTop, %Door_MainX% - 0.5, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGWestL2_WinSide1, %Door_MainX% - 0.5, %Door_MainZ% - 3 - 1.75, left, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)
		Add3DWindows(PGWestL2_WinSide2, %Door_MainX% - 0.5, %Door_MainZ% + 3 + 1.75, left, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6PL2%, 0.5, 1/4, 1)

	#Road markings
		#Parking spaces
		DrawWalls = false, true, false, false, false, false
		Set Offset = %interfloorheight% + 0.01

			#North
			AddFloor ParkingN1, ParkingSpaceZ, 0, 120 - (8.5 * 2), 164, 120 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingN2, ParkingSpaceZ, 0, 80 - (8.5 * 2), 164, 80 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingN3, ParkingSpaceZ, 0, 40 - (8.5 * 1), 164, 40 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 3, 1, true
			AddFloor ParkingN3SP, NoParkingZ, 0, 21, 164, 29.5, 195, %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingN4A, ParkingSpaceZ, 0, 0 - (8.5 * 2), 164, 0 - (8.5 * 1), 164 + 18, %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingN4SP, NoParkingZ, 0, 0 - (8.5 * 1), 164, 19 - (8.5 * 2), 183, %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingN4B, ParkingSpaceZ, 0, 19 - (8.5 * 2), 164, 19, 164 + 18, %Offset%, %Offset%, 2, 1, true
			AddFloor ParkingN5, ParkingSpaceZ, 0, -40 - (8.5 * 2), 164, -40 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingN6, ParkingSpaceZ, 0, -80 - (8.5 * 2), 164, -80 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingN7, ParkingSpaceZ, 0, -120 - (8.5 * 2), 164, -120 + (8.5 * 2), 164 + 18, %Offset%, %Offset%, 4, 1, true

			AddFloor ParkingN8, ParkingSpaceZ, 0, 40 - (8.5 * 2), 120, 40 + (8.5 * 2), 120 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingN9, ParkingSpaceZ, 0, 0 - (8.5 * 2), 120, 0 + (8.5 * 2), 120 + 17, %Offset%, %Offset%, 4, -1, true
			AddFloor ParkingN10A, ParkingSpaceZ, 0, -80 - (8.5 * 2), 120 - 17, -80 + (8.5 * 2), 120, %Offset%, %Offset%, 4, 1, true
			AddFloor ParkingN10B, ParkingSpaceZ, 0, -80 - (8.5 * 2), 120, -80 + (8.5 * 2), 120 + 17, %Offset%, %Offset%, 4, -1, true

			#East
			AddFloor ParkingE1SP, NoParkingX, 0, 99, 120 + (8.5 * 0.5), 128, 134, %Offset%, %Offset%, 2, 1, true
			AddFloor ParkingE1, ParkingSpaceX, 0, 99, 120 - (8.5 * 1.5), 99 + 18, 120 + (8.5 * 0.5), %Offset%, %Offset%, 1, 2, true
			AddFloor ParkingE2, ParkingSpaceX, 0, 99, 90 - (8.5 * 1.5), 99 + 18, 90 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
			AddFloor ParkingE3, ParkingSpaceX, 0, 99, 60 - (8.5 * 1.5), 99 + 18, 60 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
			AddFloor ParkingE4, ParkingSpaceX, 0, 99, 30 + (8.5 * 0.5), 99 + 18, 30 + (8.5 * 1.5), %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingE4SP, NoParkingX, 0, 99, 16, 116, 30 + (8.5 * 0.5), %Offset%, %Offset%, 1, 2, true
			AddFloor ParkingE5, ParkingSpaceX, 0, 99, 14 - (8.5 * 1), 99 + 18, 14, %Offset%, %Offset%, 1, 1, true

			#Mid
			AddFloor ParkingM1A, ParkingSpaceX, 0, -101, 60 - (8.5 * 1.5), -101 + 18, 60 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
			AddFloor ParkingM1B, ParkingSpaceX, 0, -59 - 18, 60 - (8.5 * 1.5), -59, 60 + (8.5 * 1.5), %Offset%, %Offset%, -1, 3, true
			AddFloor ParkingM1AB_SP, NoParkingZ, 0, -101 + 18, 60 - (8.5 * 1.5), -59 - 18, 60 + (8.5 * 1.5), %Offset%, %Offset%, 1, 1, true
			AddFloor ParkingM2A, ParkingSpaceZ, 0, 0 - (8.5 * 2), 46 - 18, 0 - (8.5 * 1), 46, %Offset%, %Offset%, 1, -1, true
			AddFloor ParkingM2AB_SP1, NoParkingZ, 0, 0 - (8.5 * 1), 46 - 18, 0, 46, %Offset%, %Offset%, 1, -1, true
			AddFloor ParkingM2AB_SP2, NoParkingX, 0, 0 - (8.5 * 2), 16, 22, 46 - 18, %Offset%, %Offset%, 2, 2, true
			AddFloor ParkingM2AB_SP3, NoParkingZ, 0, 22, -16 + 18, 61 - 18, 46 - 18, %Offset%, %Offset%, 2, 1, true
			AddFloor ParkingM2B, ParkingSpaceZ, 0, 0, 46 - 18, 0 + (8.5 * 2), 46, %Offset%, %Offset%, 2, -1, true
			AddFloor ParkingM3, ParkingSpaceZ, 0, 40 - (8.5 * 2), 46 - 18, 40, 46, %Offset%, %Offset%, 2, -1, true
			AddFloor ParkingM4, ParkingSpaceX, 0, 61 - 18, 30 - (8.5 * 1.5), 61, 30 + (8.5 * 1.5), %Offset%, %Offset%, -1, 3, true
			AddFloor ParkingM4A, ParkingSpaceX, 0, 61 - 18, 0 - (8.5 * 1.5), 61, 0 + (8.5 * 1.5), %Offset%, %Offset%, -1, 3, true
<EndFloor>

<Floors -3 to -2>
	#Parking perimeter walls
	Set Endpoint = 16
	if[%floor% = -3] Set Endpoint = %2%

	Set WallHeight = %fullheight% + Floor(-2).InterfloorHeight - 0.5
	Set WallOffset = 0
	if[%floor% = -2] Set WallHeight = %height%
	if[%floor% = -2] Set WallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = true, true, true, true, false, false
	TextureOverride PGExtFacade, %6P%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
	AddWall Front, PGExtFacade, 0.5, -%1% + 0.5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride PGExtFacade, %6P%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
	AddWall Left, PGExtFacade, 0.5, -%1%, -%2%, -%1%, %Endpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	TextureOverride %6P%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
	AddWall Right, PGExtFacade, 0.5, %1%, -%2%, %1%, %Endpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %6P%, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade, PGExtFacade
	if[%floor% = -3] AddWall Back, PGExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors -1 to 8>
	#Parking perimeter walls
	Set WallHeight = %interfloorheight% + 4.5
	if[%floor% = 8] Set WallHeight = %interfloorheight%
	Set WallOffset = 0

	Set PGSouthEnd = -%2%
	if[%floor% = 8] Set PGSouthEnd = -16.5
	
	Set ExtraOffset = 0
	if[%floor% = -1] Set ExtraOffset = 60
	Set SideTex = PGExtFacade
	if[%floor% = -1] Set SideTex = PGExtFacade2

		#More sets for connector to South Parking Garage
		Set EastExtraOffset = 0.5
		if[%floor% > 1 & %floor% < 8] Set EastExtraOffset = 40 - 0.5

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 8] DrawWalls = true, true, true, true, false, true
	TextureOverride PGExtFacade, PGExtFacade2, PGExtFacade, PGExtFacade2, PGExtFacade2, PGExtFacade2
	AddWall PGFront, PGExtFacade, 0.5, -%1% + 0.5, %PGSouthEnd%, %1% - %EastExtraOffset%, %PGSouthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, true, true, false, true
	TextureOverride PGExtFacade, PGExtFacade2, PGExtFacade, PGExtFacade, PGExtFacade2, PGExtFacade2
	if[%floor% = 2] AddWall PGFront-ConnectorIFloorCover, PGExtFacade, 0.5, 100 + 0.5, -%2%, %1% - 0.5, -%2%, %interfloorheight% - 0.5, %interfloorheight% - 0.5, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, true, true, true, true
	TextureOverride PGExtFacade, PGExtFacade2, %SideTex%, PGExtFacade, PGExtFacade2, PGExtFacade2
	AddWall PGLeft, PGExtFacade, 0.5, -%1%, %PGSouthEnd% + %ExtraOffset%, -%1%, 16, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	Set UDSTex = PGLinkUDS
	if[%floor% > 2] Set UDSTex = PGExtFacade2

	TextureOverride PGExtFacade3, PGExtFacade2, %SideTex%, PGExtFacade2, PGExtFacade2, %UDSTex%
	if[%floor% > 1 & %floor% < 8] AddWall PGLeft-LinktoSouthGarage, PGExtFacade, 0.5, 100, %PGSouthEnd% - 10, 100, %PGSouthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 8] DrawWalls = true, true, true, true, false, true
	TextureOverride PGExtFacade2, PGExtFacade, %SideTex%, PGExtFacade, PGExtFacade2, PGExtFacade2
	AddWall PGRight, PGExtFacade, 0.5, %1%, %PGSouthEnd% + %ExtraOffset%, %1%, 16, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride PGExtFacade2, PGExtFacade3, %SideTex%, PGExtFacade, PGExtFacade2, %UDSTex%
	if[%floor% > 1 & %floor% < 8] AddWall PGRight-LinktoSouthGarage, PGExtFacade, 0.5, %1%, %PGSouthEnd% - 10, %1%, %PGSouthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

#Mall areas
<Floors -2 to 9>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Endpoints
	Set Endpoint = 16
	#if[%floor% > 7] Set Endpoint = -%2%
	if[%floor% > 7] Set Endpoint = -16.5

	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%Mod% = 0 & %floor% ! 8] AddFloor MallFloor, %5%, 0.5, -%1%, %Endpoint%, %1%, %2%, 0, 0, 0, 0, false
	if[%floor% = 8] AddFloor MallSummitFloor1, %5%, 0.5, -%1%, %Endpoint%, -18.5, %2%, 0, 0, 0, 0, false
	if[%floor% = 8] AddFloor MallSummitFloor2, %5%, 0.5, -18.5, %Endpoint%, %1%, 46.5, 0, 0, 0, 0, false

		#Setbacks
		if[%floor% = 8] AddFloor MallSetback, %5C%, 0.5, -18.5, 46.5, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Parking elevator lobby floor (5th floor only)
		if[%floor% = 8] CutAll -19, %interfloorheight% - 0.1, -16.5, 22, %interfloorheight% + 0.1, 16, false, true
		if[%floor% = 8] AddFloor 5FParkingLobbyFloor, UpperShopLobbyFloor, 0.5, -19, -16.5, 22 - 0.2, 16 - 0.2, 0, 0, 0, 0, false
		if[%floor% = 8] AddFloor 5FParkingLobbyFloor_NorthTR, BlackTrim, 0.5, -19, 16 - 0.2, 22 - 0.2, 16, 0, 0, 0, 0, false
		if[%floor% = 8] AddFloor 5FParkingLobbyFloor_EastTR, BlackTrim, 0.5, 22 - 0.2, -16.5, 22, 16, 0, 0, 0, 0, false

		#Freight elevator lobby floor (5th floor only)
		if[%floor% = 8] CutAll 116.3, %interfloorheight% - 0.1, 28, %1%, %interfloorheight% + 0.1, 46.5, false, true
		if[%floor% = 8] AddFloor 5FMallFELobby, UpperShopLobbyFloor3, 0.5, 116.5, 28, %1%, 46.5, 0, 0, 0, 0, false
		if[%floor% = 8] AddFloor 5FMallFELobby_TR, BlackTrim, 0.5, 116.3, 28, 116.5, 46.5, 0, 0, 0, 0, false

		#Office elevator lobby floors (5th floor only)
			#Low zone & Restrooms
			if[%floor% = 8] CutAll -111, %interfloorheight% - 0.1, 142.5 + 0.3, -57, %interfloorheight% + 0.1, 162.5, false, true
			if[%floor% = 8] AddFloor 5FRestroom1TR, BlackTrim, 0.5, -111, 142.5 + 0.3, -99.5, 142.5 + 0.5, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FRestroom2TR, BlackTrim, 0.5, -68.5, 142.5 + 0.3, -57, 142.5 + 0.5, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FRestroom1, UpperShopRRFloor, 0.5, -111, 142.5 + 0.5, -99.5, 162.5 - 0.2, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FRestroom2, UpperShopRRFloor, 0.5, -68.5, 142.5 + 0.5, -57, 162.5 - 0.2, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeLobbyFloor1, UpperShopLobbyFloor2, 0.5, -99.5, 142.5 + 0.3, -68.5, 162.5 - 0.2, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeLobbyFloor1_TR, BlackTrim, 0.5, -111, 162.5 - 0.2, -57, 162.5, 0, 0, 0, 0, false

			#High zone
			if[%floor% = 8] CutAll -89.66, %interfloorheight% - 0.1, 107.5, -78.34, %interfloorheight% + 0.1, 127.5 - 0.5, false, true
			if[%floor% = 8] AddFloor 5FOfficeLobbyFloor2, UpperShopLobbyFloor2, 0.5, -89.66, 107.5 + 0.2, -78.34, 127.5 - 0.5, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeLobbyFloor2_TR, BlackTrim, 0.5, -89.66, 107.5, -78.34, 107.5 + 0.2, 0, 0, 0, 0, false

			#Center hallway
			if[%floor% = 8] CutAll -111, %interfloorheight% - 0.1, 127.5 - 0.5, -47, %interfloorheight% + 0.1, 142.5 + 0.3, false, true
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway1A, UpperShopLobbyFloor2, 0.5, -111 + 0.2, 127.5 - 0.5, -99.5, 142.5 + 0.3, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway1B, UpperShopLobbyFloor2, 0.5, -99.5, 127.5 - 0.5, -68.5, 142.5 + 0.3, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway1C, UpperShopLobbyFloor2, 0.5, -68.5, 127.5 - 0.5, -57, 142.5 + 0.3, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway2, UpperShopLobbyFloor2, 0.5, -57, 127.5 - 0.5 + 0.2, -47 - 0.2, 142.5 + 0.5 - 0.2, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway_TR1, BlackTrim, 0.5, -111, 127.5 - 0.5, -111 + 0.2, 142.5 + 0.5, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway_TR2, BlackTrim, 0.5, -47 - 0.2, 127.5 - 0.5, -47, 142.5 + 0.3, 0, 0, 0, 0, false

			if[%floor% = 8] CutAll -57, %interfloorheight% - 0.1, 142.5 + 0.3, -47, %interfloorheight% + 0.1, 142.5 + 0.5, false, true #Additional cuts for the following trim
			if[%floor% = 8] AddFloor 5FOfficeCtrHallway_TR3, BlackTrim, 0.5, -57, 142.5 + 0.3, -47, 142.5 + 0.5, 0, 0, 0, 0, false

			#Service elevator
			if[%floor% = 8] CutAll -57, %interfloorheight% - 0.1, 114.5 - 0.66, -47, %interfloorheight% + 0.1, 127.5 - 0.5, false, true
			if[%floor% = 8] AddFloor 5FOfficeSELobby, UpperShopLobbyFloor3, 0.5, -57, 114.5 - 0.66, -47, 127.5 - 0.5, 0, 0, 0, 0, false
			if[%floor% = 8] AddFloor 5FOfficeSELobby_TR, BlackTrim, 0.5, -57, 127.5 - 0.5, -47, 127.5 - 0.5 + 0.2, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%Mod% = 1 & %floor% ! 9] AddFloor MallCeiling, %7%, 0.5, -%1%, %Endpoint%, %1%, %2%, %height%, %height%, 0, 0, false
	if[%floor% = 9] AddFloor MallSummitCeiling1, %7%, 0.5, -%1%, %Endpoint%, -18.5, %2%, %height%, %height%, 0, 0, false
	if[%floor% = 9] AddFloor MallSummitCeiling2, %7%, 0.5, -18.5, %Endpoint%, %1%, 46.5, %height%, %height%, 0, 0, false

	#Mall perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = -2 | %floor% = 8] Set WallHeight = %height%
	if[%floor% = -2 | %floor% = 8] Set WallOffset = %interfloorheight%
	if[%floor% = 7] Set WallHeight = %fullheight% + Floor(8).InterfloorHeight
	if[%floor% = 7] Set WallOffset = 0

		#Special for 5th floor only
		Set ShowInner = true
		if[%floor% = 8] Set ShowInner = false
	
		#1. Front and left walls
		WallOrientation = Left
		DrawWalls = true, %ShowInner%, true, true, false, false
		Set FrontExt = PGExtFacade2
		if[%floor% > 7] Set FrontExt = ExtFacade

		TextureOverride %FrontExt%, %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% ! 7] AddWall Front, %FrontExt%, 0.5, -%1% + 0.5, %Endpoint%, %1% - 0.5, %Endpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Set ExtraWH = Floor(8).InterfloorHeight - 0.5
		Set ExtraWH = 0
		TextureOverride %FrontExt%, %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% = 7] AddWall Front, %FrontExt%, 0.5, -%1% + 0.5, %Endpoint%, %1% - 0.5, %Endpoint%, %WallHeight% + %ExtraWH%, %WallHeight% + %ExtraWH%, %WallOffset%, %WallOffset%, 0, 0, true

		TextureOverride ExtFacade, %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		AddWall Left, ExtFacade, 0.5, -%1%, %Endpoint%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#2. Back and right walls
		DrawWalls = %ShowInner%, true, true, true, false, false
		WallOrientation = Right
		TextureOverride %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% < 8] AddWall Right, ExtFacade, 0.5, %1%, %Endpoint%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 7] AddWall Right, ExtFacade, 0.5, %1%, %Endpoint%, %1%, 46.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, %6%, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 7] AddWall Right-SM, ExtFacade, 0.5, -18.5, 46.5 - 0.5, -18.5, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% < 8] AddWall Back, ExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 7] AddWall Back, ExtFacade, 0.5, -%1% + 0.5, %2%, -18.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, %6%, ExtFacade, ExtFacade, ExtFacade
		if[%floor% > 7] AddWall Back-SM, ExtFacade, 0.5, -18.5, 46.5, %1% - 0.5, 46.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floor 0>
	#Atrium base
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false

		#1. Floor cuts
		Cut 30, %interfloorheight% - 0.1, 60, 80, %interfloorheight% + 0.1, 120, false, true #East
		Cut -100, %interfloorheight% - 0.1, 50, -50, %interfloorheight% + 0.1, 75, false, true #West

		#2. Floor creations
		AddFloor EastAtriumBase, ABCarpet1, 0.5, 30, 60, 80, 120, 0, 0, 0, 0, false
		AddFloor WestAtriumBase, ABCarpet2, 0.5, -100, 50, -50, 75, 0, 0, 0, 0, false
<EndFloor>

<Floor -2>
	#Poster at shopping area
	DrawWalls = true, false, false, false, false, false
	AddWall Level%floorid%Poster1, Poster%floorid%B, 0, -84 - 16, 103.5 - 0.001, -84 + 16, 103.5 - 0.001, 4, 4, 11, 11, 0, 0, false

	DrawWalls = false, true, false, false, false, false
	AddWall Level%floorid%Poster2, Poster%floorid%C, 0, -47 + 0.001, 150 - 16, -47 + 0.001, 150 + 16, 4, 4, 11, 11, 0, 0, false
<EndFloor>

<Floor 8>
	#Storage ceiling (Next to Shaft 3)
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor WestStorageCeil, SLDropCeiling, 0.5, -19, 4, -9, 16, 9, 9, 0, 0, false

	#Endpoints
	Set Endpoint = 16
	if[%floor% > 7] Set Endpoint = -16.5

	#Interior perimeter walls for 5th floor
		#1. Front and left walls
		WallOrientation = Left
		DrawWalls = false, true, false, false, false, false

		AddWall_CustomTex(Front_5F, 2, %6%_Lower, %6%, Blank, 0.5, -%1% + 0.5, %Endpoint%, %1% - 0.5, %Endpoint%, 4, %height% - 4, 0, 0, false)
		AddWall_CustomTex(Left_5F, 2, %6%_Lower, %6%, Blank, 0.5, -%1%, %Endpoint%, -%1%, %2%, 4, %height% - 4, 0, 0, false)

		#2. Back and right walls
		WallOrientation = Right
		DrawWalls = true, false, false, false, false, false
		AddWall_CustomTex(Right_5F, 2, %6%_Lower, %6%, Blank, 0.5, %1%, %Endpoint%, %1%, 46.5, 4, %height% - 4, 0, 0, false)
		AddWall_CustomTex(Right-SM_5F, 2, %6%_Lower, %6%, Blank, 0.5, -18.5, 46.5 - 0.5, -18.5, %2% - 0.5, 4, %height% - 4, 0, 0, false)

		AddWall_CustomTex(Back_5F, 2, %6%_Lower, %6%, Blank, 0.5, -%1% + 0.5, %2%, -18.5, %2%, 4, %height% - 4, 0, 0, false)
		AddWall_CustomTex(Back-SM_5F, 2, %6%_Lower, %6%, Blank, 0.5, -18.5, 46.5, %1% - 0.5, 46.5, 4, %height% - 4, 0, 0, false)
<EndFloor>

<Floors -2 to 7>
	#Cut walls for elevator lobby
	Set LowerOffset = 0
	if[%floor% = -2] Set LowerOffset = %interfloorheight%

	CutAll -9, %LowerOffset%, 16 - 0.1, 0, %fullheight%, 16 + 0.1, true, false

	Set WallHeight = %height%
	Set WallOffset = %interfloorheight%

		#Elevator lobby back wall
		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall ParkingELWall_Back, ParkingLobbyWall, 0.5, -9, 16, 0, 16, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

#Atrium cuts
<Floors 1 to 6>
	#East atrium
	if[%floor% > 1] CutAll 25, %interfloorheight% - 1, 60, 80, %interfloorheight% + 1, 120, false, true
	if[%floor% < 6] CutAll 25, %fullheight% - 1, 60, 80, %fullheight% + 1, 120, false, true

		#Extra cuts for escalators
			#1. South
			if[%floor% > 1] CutAll 25, %interfloorheight% - 1, 60 - 4.5, 25 + 30, %interfloorheight% + 1, 60, false, true
			if[%floor% < 6] CutAll 25, %fullheight% - 1, 60 - 4.5, 25 + 30, %fullheight% + 1, 60, false, true

			#2. North
			if[%floor% > 1] CutAll 25, %interfloorheight% - 1, 120, 25 + 30, %interfloorheight% + 1, 120 + 4.5, false, true
			if[%floor% < 6] CutAll 25, %fullheight% - 1, 120, 25 + 30, %fullheight% + 1, 120 + 4.5, false, true
<EndFloors>

<Floors 1 to 8>
	#West atrium
	if[%floor% > 1] CutAll -90, %interfloorheight% - 1, 52.5, -60, %interfloorheight% + 1, 72, false, true
	if[%floor% < 8] CutAll -90, %fullheight% - 1, 52.5, -60, %fullheight% + 1, 72, false, true
<EndFloors>

#========================================#

<Floors -1 to 0>
	WallTex() #Wall textures

	#Cuts for escalators between G and 1
	if[%floor% > -1] CutAll -18, %interfloorheight% - 1, 83, -18 + 16, %interfloorheight% + 1, 83 + 30, false, true
	if[%floor% < 0] CutAll -18, %fullheight% - 1, 83, -18 + 16, %fullheight% + 1.5, 83 + 30, false, true

	#Escalator railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 0] AddWall CtrEsc-LeftRail, %6%3, 0.5, -18, 83 - 0.5, -18, 83 + 30 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall CtrEsc-FrontRail, %6%3, 0.5, -18, 83, -18 + 16, 83, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% = 0] AddWall CtrEsc-RightRail, %6%3, 0.5, -18 + 16, 83 - 0.5, -18 + 16, 83 + 30 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall CtrEsc-BackRailA, %6%3, 0.5, -18, 83 + 30, -18 + 4, 83 + 30, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall CtrEsc-BackRailB, %6%3, 0.5, -18 + 16 - 4, 83 + 30, -18 + 16, 83 + 30, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFloors>

#========================================#

#ATRIUM RAILINGS
<Function AtriumRails-East>
	WallTex() #Wall textures

	#East atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall EALeftRail-A, %6%3, 0.5, 25, 60 - 0.5, 25, 90 - 15, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall EALeftRail-B, %6%3, 0.5, 25, 90 + 15, 25, 120 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall EAFrontRail, %6%3, 0.5, 25 + 30, 60, 80, 60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall EAFrontRail-Esc, %6%3, 0.5, 25, 60 - 4.5, 25 + 30, 60 - 4.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	AddWall EARightRail, %6%3, 0.5, 80, 60 - 0.5, 80, 120 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall EABackRail, %6%3, 0.5, 25 + 30, 120, 80, 120, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall EABackRail-Esc, %6%3, 0.5, 25, 120 + 4.5, 25 + 30, 120 + 4.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	if[%floor% = 6] AddWall EAFrontEscLink, %6%3, 0.5, 25 + 30, 60 - 5, 25 + 30, 60 - 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 6] AddWall EABackEscLink, %6%3, 0.5, 25 + 30, 120 + 0.5, 25 + 30, 120 + 5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFunction>

<Function AtriumRails-West>
	WallTex() #Wall textures
	
	Set Suffix = 3
	if[%floor% = 8] Set Suffix = _Lower2

	#West atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall WALeftRail, %6%%Suffix%, 0.5, -90, 52.5 + 4, -90, 72 - 4, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall WAFrontRail, %6%%Suffix%, 0.5, -90 - 0.5, 52.5, -60 + 0.5, 52.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% < 8] AddWall WARightRail, %6%%Suffix%, 0.5, -60, 52.5 + 4, -60, 72 - 4, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 8] AddWall WARightRail, %6%%Suffix%, 0.5, -60, 52.5, -60, 72, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall WABackRail, %6%%Suffix%, 0.5, -90 - 0.5, 72, -60 + 0.5, 72, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFunction>

<Floors 2 to 6>
	if[%floor% ! 3 & %floor% ! 5] AtriumRails-East()
	if[%floor% ! 3 & %floor% ! 5] AtriumRails-West()
<EndFloors>

<Floor 8>
	AtriumRails-West()
<EndFloor>

#========================================#

#Atrium skylight cuts (East atrium only)
<Floors 7 to 8>
	#Cuts for atrium
	if[%floor% > 7] CutAll 30, %interfloorheight% - 1, 60, 80, %interfloorheight% + 1, 120, false, true
	if[%floor% < 8] CutAll 30, %fullheight% - 1, 60, 80, %fullheight% + 1, 120, false, true

		#Skylight
		DrawWalls = true, true, false, false, false, false
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 8] AddFloor Skylight, SkylightInt, 0, 30, 60, 80, 120, %interfloorheight%, %interfloorheight%, 1.25, 6, true

		#Skylight atrium cover
		if[%floor% = 7] CreateWallBox2 floor, SLAtriumCover, %6%_Skylight, 30 + 25, 60 + 30, 50, 60, Floor(8).InterfloorHeight, %height%, 0, 0, true, false, false, false 
<EndFloors>

<Floors -3 to -2>
	#West Basement Stairs
	#Cuts for stairs
	if[%floor% > -3] CutAll -60.75 - 20 - 4, %interfloorheight% - 0.5, 43.5 - 5 - 0.25, -60.75, %interfloorheight% + 0.5, 43.5 + 0.25, false, true
	if[%floor% < -2] CutAll -60.75 - 20 - 4, %fullheight% - 0.5, 43.5 - 5 - 0.25, -60.75, %fullheight% + 1.5, 43.5 + 0.25, false, true

		#Stairs creation
		if[%floor% < -2] OP_OrthoStair(floor, WBStairs_Lower, BasementStairs, 43.5 - 5, 43.5, left, -60.75 - 20 - 4, 10, 1, 0.5, 0, 0.5)
		if[%floor% < -2] OP_OrthoStair(floor, WBStairs_Upper, BasementStairs, 43.5 - 5, 43.5, left, -60.75 - 10, 10, 1, 0.5, 0.5 * 10, 0.5)

		#Stairs landing
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		if[%floor% < -2] AddFloor WBStairsLanding, BasementStairsFloor, 0.5, -60.75 - 10 - 4, 43.5 - 5, -60.75 - 10, 43.5, 0.5 * 10, 0.5 * 10, 0, 0, false

		#Railings around stairs opening
		Set RailHeight = 3 + %interfloorheight%
		Set RailOffset = -%interfloorheight%
		Set RailOffsetU1 = (0.5 * 10) - %interfloorheight%
		Set RailOffsetU2 = (0.5 * 20) - %interfloorheight%

		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		if[%floor% > -3] AddWall WBStairsOpeningFront, BasementStairsWall, 0.4, -60.75 - 24, 43.5 - 5.25, -60.75, 43.5 - 5.25, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
		if[%floor% > -3] AddWall WBStairsOpeningLeft, BasementStairsWall, 0.4, -60.75 - 24, 43.5 - 5.65, -60.75 - 24, 43.5 + 0.65, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
		WallOrientation = left
		if[%floor% > -3] AddWall WBStairsOpeningRight-IFloor, BasementStairsWall, 0.4, -60.75, 43.5 - 5.25, -60.75, 43.5 + 0.25, %interfloorheight% - 0.5, %interfloorheight% - 0.5, %RailOffset%, %RailOffset%, 0, 0, false
		if[%floor% > -3] AddWall WBStairsOpeningBack, BasementStairsWall, 0.4, -60.75 - 24, 43.5 + 0.25, -60.75, 43.5 + 0.25, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false

		#Railings next to stair steps
		Set RailHeight = 3 + 0.5
		Set RailOffset = -0.5
		Set RailOffsetU1 = (0.5 * 10) - 0.5
		Set RailOffsetU2 = (0.5 * 20) - 0.5
	
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		if[%floor% < -2] AddWall WBStairsFrontRailA, BasementStairsWall2, 0.25, -60.75 - 24, 43.5 - 5, -60.75 - 14, 43.5 - 5, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall WBStairsFrontRailB, BasementStairsWall2, 0.25, -60.75 - 14, 43.5 - 5, -60.75 - 10, 43.5 - 5, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall WBStairsFrontRailC, BasementStairsWall2, 0.25, -60.75 - 10, 43.5 - 5, -60.75, 43.5 - 5, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU2%, 0, 0, false

		WallOrientation = left
		if[%floor% < -2] AddWall WBStairsBackRailA, BasementStairsWall2, 0.25, -60.75 - 24, 43.5, -60.75 - 14, 43.5, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall WBStairsBackRailB, BasementStairsWall2, 0.25, -60.75 - 14, 43.5, -60.75 - 10, 43.5, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall WBStairsBackRailC, BasementStairsWall2, 0.25, -60.75 - 10, 43.5, -60.75, 43.5, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU2%, 0, 0, false

	#========================================#

	#East Basement Stairs
	#Cuts for stairs
	if[%floor% > -3] CutAll 31.25 - 0.25, %interfloorheight% - 0.5, 76, 31.25 + 8.25, %interfloorheight% + 0.5, 76 + 20 + 7, false, true
	if[%floor% < -2] CutAll 31.25 - 0.25, %fullheight% - 0.5, 76, 31.25 + 8.25, %fullheight% + 0.5, 76 + 20 + 7, false, true

		#Stairs creation
		if[%floor% < -2] OP_OrthoStair(floor, EBStairs_Lower, BasementStairs, 31.25, 31.25 + 8, back, 76 + 20 + 7, 10, 1, 0.5, 0, 0.5)
		if[%floor% < -2] OP_OrthoStair(floor, EBStairs_Upper, BasementStairs, 31.25, 31.25 + 8, back, 76 + 10, 10, 1, 0.5, 0.5 * 10, 0.5)

		#Stairs landing
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		if[%floor% < -2] AddFloor WBStairsLanding, BasementStairsFloor, 0.5, 31.25, 76 + 10, 31.25 + 8, 76 + 17, 0.5 * 10, 0.5 * 10, 0, 0, false

		#Railings around stairs opening
		Set RailHeight = 3 + %interfloorheight%
		Set RailOffset = -%interfloorheight%
		Set RailOffsetU1 = (0.5 * 10) - %interfloorheight%
		Set RailOffsetU2 = (0.5 * 20) - %interfloorheight%

		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		if[%floor% > -3] AddWall EBStairsOpeningFront, BasementStairsWall, 0.4, 31.25 - 0.25, 76, 31.25 + 8.25, 76, %interfloorheight% - 0.5, %interfloorheight% - 0.5, %RailOffset%, %RailOffset%, 0, 0, false
		if[%floor% > -3] AddWall EBStairsOpeningLeft, BasementStairsWall, 0.4, 31.25 - 0.25, 76, 31.25 - 0.25, 76 + 27, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
		WallOrientation = left
		if[%floor% > -3] AddWall EBStairsOpeningRight, BasementStairsWall, 0.4, 31.25 + 8.25, 76, 31.25 + 8.25, 76 + 27, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false
		if[%floor% > -3] AddWall EBStairsOpeningBack, BasementStairsWall, 0.4, 31.25 - 0.65, 76 + 27, 31.25 + 8.65, 76 + 27, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0, false

		#Railings next to stair steps
		Set RailHeight = 3 + 0.5
		Set RailOffset = -0.5
		Set RailOffsetU1 = (0.5 * 10) - 0.5
		Set RailOffsetU2 = (0.5 * 20) - 0.5
	
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		if[%floor% < -2] AddWall EBStairsLeftRailA, BasementStairsWall2, 0.25, 31.25, 76 + 17, 31.25, 76 + 27, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffset%, 0, 0, false
		if[%floor% < -2] AddWall EBStairsLeftRailB, BasementStairsWall2, 0.25, 31.25, 76 + 10, 31.25, 76 + 17, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall EBStairsLeftRailC, BasementStairsWall2, 0.25, 31.25, 76, 31.25, 76 + 10, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0, false

		WallOrientation = left
		if[%floor% < -2] AddWall EBStairsLeftRailA, BasementStairsWall2, 0.25, 31.25 + 8, 76 + 17, 31.25 + 8, 76 + 27, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffset%, 0, 0, false
		if[%floor% < -2] AddWall EBStairsLeftRailB, BasementStairsWall2, 0.25, 31.25 + 8, 76 + 10, 31.25 + 8, 76 + 17, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		if[%floor% < -2] AddWall EBStairsLeftRailC, BasementStairsWall2, 0.25, 31.25 + 8, 76, 31.25 + 8, 76 + 10, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0, false
<EndFloors>

<Floor 8>
	#Roof railings (5th floor)
	Set WallHeight = 4.5
	Set WallOffset = %interfloorheight%

	WallOrientation = Right
	DrawWalls = true, true, true, true, true, false
	AddWall F%floorid%_RightRailA, ExtFacade, 0.5, %1%, 46.5, %1%, 111, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_RightRailB, ExtFacade, 0.5, %1%, 135, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_BackRailA, ExtFacade, 0.5, -18.5, %2%, 19 - 24, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_BackRailB, ExtFacade, 0.5, 19, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Exterior garden
	FloorOrientation = bottom
	DrawWalls = false, true, true, true, true, true
	AddFloor FlowerBedE1, FlowerBed, 1, 128, 50, 138, 110, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor FlowerBedE2A, FlowerBed, 1, 128, 137.5, 138, 192.5, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor FlowerBedE2B, FlowerBed, 1, 50.5, 182.5, 128, 192.5, %interfloorheight%, %interfloorheight%, 0, 0, true
	DrawWalls = false, true, false, false, false, false
	AddFloor FlowerBedE1_Grass, Grass_Dark, 0, 128 + 1, 50 + 1, 138 - 1, 110 - 1, %interfloorheight% + 1.01, %interfloorheight% + 1.01, 0, 0, true
	AddFloor FlowerBedE2A_Grass, Grass_Dark, 0, 128 + 1, 137.5 + 1, 138 - 1, 192.5 - 1, %interfloorheight% + 1.01, %interfloorheight% + 1.01, 0, 0, true
	AddFloor FlowerBedE2B_Grass, Grass_Dark, 0, 50.5 + 1, 182.5 + 1, 128 + 1, 192.5 - 1, %interfloorheight% + 1.01, %interfloorheight% + 1.01, 0, 0, true
<EndFloor>

#Trees
#Flower Bed E1
AddTree(Tree1, 133, 57.5, 10, 11.25, Floor(8).Base + 1.01)
AddTree(Tree1, 133, 72.5, 10, 11.25, Floor(8).Base + 1.01)
AddTree(Tree1, 133, 87.5, 10, 11.25, Floor(8).Base + 1.01)
AddTree(Tree1, 133, 102.5, 10, 11.25, Floor(8).Base + 1.01)

#Flower Bed E2A
AddTree(Tree2, 133, 142.5, 10.5, 14, Floor(8).Base + 1.01)
AddTree(Tree2, 133, 157.5, 10.5, 14, Floor(8).Base + 1.01)
AddTree(Tree2, 133, 172.5, 10.5, 14, Floor(8).Base + 1.01)
AddTree(Tree2, 133, 187.5, 10.5, 14, Floor(8).Base + 1.01) #Corner

#Flower Bed E2B
AddTree(Tree2, 118, 187.5, 10.5, 14, Floor(8).Base + 1.01)
AddTree(Tree2, 103, 187.5, 10.5, 14, Floor(8).Base + 1.01)
AddTree(Tree1, 88, 187.5, 10, 11.25, Floor(8).Base + 1.01)
AddTree(Tree1, 73, 187.5, 10, 11.25, Floor(8).Base + 1.01)
AddTree(Tree1, 58, 187.5, 10, 11.25, Floor(8).Base + 1.01)

<Floor 10>
	#Roof railings (6th floor)
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	AddWall F%floorid%_FrontRail, ExtFacade, 0.5, -%1% + 0.5, -16.5, %1% - 0.5, -16.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_LeftRailA, ExtFacade, 0.5, -%1%, -16.5, -%1%, 45 - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_LeftRailB, ExtFacade, 0.5, -%1%, 45 + 12, -%1%, 73.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	DrawWalls = true, true, true, true, true, false
	AddWall F%floorid%_RightRail-A, ExtFacade, 0.5, -18.5, 46.5 - 0.5, -18.5, 73.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_RightRail-B, ExtFacade, 0.5, %1%, -16.5, %1%, 16, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall F%floorid%_BackRail, ExtFacade, 0.5, -18.5, 46.5, 128, 46.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#Entrance doors from parking garage
<Function PGEntDoors>
	WallTex()

	#Access point A (East)
	Set DTex = BLKEntDoorInt
	Set DSTex = BLKEntDoorSide

	Set Door_MainX = 80
	Set Door_MainZ = 16

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_PGEntDoorA_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_PGEntDoorA_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

	Add3DWindows(PGEntA_WinTop, %Door_MainX%, %Door_MainZ%, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
	Add3DWindows(PGEntA_WinSide1, %Door_MainX% - 3 - 1.75, %Door_MainZ%, front, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
	Add3DWindows(PGEntA_WinSide2, %Door_MainX% + 3 + 1.75, %Door_MainZ%, front, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

	#Access point B (West)
	Set Door_MainX = -50
	Set Door_MainZ = 16

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_PGEntDoorB_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_PGEntDoorB_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

	Add3DWindows(PGEntA_WinTop, %Door_MainX%, %Door_MainZ%, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
	Add3DWindows(PGEntA_WinSide1, %Door_MainX% - 3 - 1.75, %Door_MainZ%, front, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
	Add3DWindows(PGEntA_WinSide2, %Door_MainX% + 3 + 1.75, %Door_MainZ%, front, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

	#Access point C (Center)
	Set Door_MainX = -4.5
	Set Door_MainZ = 16

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_PGEntDoorC_L, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 3.5 + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX% - 3.5 + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, true, 0, 0, true
	Add3DWindows(PGEntC_WinSide1, %Door_MainX% + 3.5 - 1.875, %Door_MainZ%, front, 3.75, 7 - 0.25, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
	
		#Exit sign
		AddBoxSign(AccessC_ExitSign, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, %Door_MainX% - 3.5 + 1.5, %Door_MainZ% + 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFunction>

<Function PGEntWindows>
	WallTex()

	#Access point A
	Set Door_MainX = 80
	Set Door_MainZ = 16
	Add3DWindows(PGEntA_WinUpper, %Door_MainX%, %Door_MainZ%, front, 6 + 6 + 0.5, %height% - 2, 1, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 4/4, 1)

	#Access point B
	Set Door_MainX = -50
	Set Door_MainZ = 16
	Add3DWindows(PGEntB_WinUpper, %Door_MainX%, %Door_MainZ%, front, 6 + 6 + 0.5, %height% - 2, 1, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 4/4, 1)

	#Access point C
	Set Door_MainX = -4.5
	Set Door_MainZ = 16
	Add3DWindows(PGEntB_WinUpper, %Door_MainX%, %Door_MainZ%, front, 7, %height% - 2, 1, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
<EndFunction>

<Floors -2 to 7>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 0] PGEntDoors()
	if[%Mod% = 1] PGEntWindows()
<EndFloors>

<Floors 8 to 9>
	WallTex() #Set wall textures

	#Windows at parking elevators
	Add3DWindows(PGLbyWindows_Level%floorid%, -4.5, -16.5, front, 7, %height% - 1, 0.5, MainWindowsB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
<EndFloors>

<Floor 8>
	WallTex() #Set wall textures

	#5th floor roof access (Doors A-C = Front of roof, Doors D-E = Left of roof)
	Set DTex = BLKEntDoorInt
	Set DTex_Ext = BLKEntDoorExt
	Set DSTex = BLKEntDoorSide

	#Doors A
	Set Door_MainX = 80
	Set Door_MainZ = 46.5

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessA_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessA_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

	Add3DWindows(RFAccessA_WinTop, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessA_WinSide1, %Door_MainX% - 3 - 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessA_WinSide2, %Door_MainX% + 3 + 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Doors B
	Set Door_MainX = 40
	Set Door_MainZ = 46.5

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessB_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessB_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

	Add3DWindows(RFAccessB_WinTop, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessB_WinSide1, %Door_MainX% - 3 - 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessB_WinSide2, %Door_MainX% + 3 + 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Doors C
	Set Door_MainX = 0
	Set Door_MainZ = 46.5

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessC_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessC_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

	Add3DWindows(RFAccessC_WinTop, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessC_WinSide1, %Door_MainX% - 3 - 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessC_WinSide2, %Door_MainX% + 3 + 1.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	########################################

	#Doors D
	Set Door_MainX = -18.5
	Set Door_MainZ = 112.5

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessD_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessD_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

	Add3DWindows(RFAccessD_WinTop, %Door_MainX%, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessD_WinSide1, %Door_MainX%, %Door_MainZ% - 3 - 1.375, right, 2.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessD_WinSide2, %Door_MainX%, %Door_MainZ% + 3 + 1.375, right, 2.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Doors E
	Set Door_MainX = -18.5
	Set Door_MainZ = 157.5

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessE_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_RFAccessE_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

	Add3DWindows(RFAccessE_WinTop, %Door_MainX%, %Door_MainZ%, right, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessE_WinSide1, %Door_MainX%, %Door_MainZ% - 3 - 1.375, right, 2.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(RFAccessE_WinSide2, %Door_MainX%, %Door_MainZ% + 3 + 1.375, right, 2.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
<EndFloor>

<Floor 9>
	WallTex()

	#Windows above roof access doors
	#Access point A
	Set Door_MainX = 80
	Set Door_MainZ = 46.5
	Add3DWindows(RfAccA_WinUpper, %Door_MainX%, %Door_MainZ%, back, 6 + 6 + 0.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)

	#Access point B
	Set Door_MainX = 40
	Set Door_MainZ = 46.5
	Add3DWindows(RfAccB_WinUpper, %Door_MainX%, %Door_MainZ%, back, 6 + 6 + 0.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)

	#Access point C
	Set Door_MainX = 0
	Set Door_MainZ = 46.5
	Add3DWindows(RfAccB_WinUpper, %Door_MainX%, %Door_MainZ%, back, 6 + 6 + 0.5, %height% - 2, 1, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
<EndFloor>

#Office Tower
<Floors 0 to 9>
	WallTex() #Set wall texture
	Set Office_East = -18.5

	#Windows for lower section (also for mall entrance doors)
	Set WinHeight = %height% - 1
	Set WinOffset = 0.5

		#Left
		#Add3DWindows(TowerWinL1, -%1%, 90 - 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL2, -%1%, 90 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL3, -%1%, 105 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL4, -%1%, 120 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL5, -%1%, 135 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL6, -%1%, 150 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		Add3DWindows(TowerWinL7, -%1%, 165 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)
		#Add3DWindows(TowerWinL8, -%1%, 180 + 7.5, left, 11, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, %6%, 0.5, 3/4, 1)

		#Right
		#if[%floor% > 7] Add3DWindows(TowerWinR1, %Office_East%, 90 - 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% > 7] Add3DWindows(TowerWinR2, %Office_East%, 90 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% = 9] Add3DWindows(TowerWinR3, %Office_East%, 105 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% > 7] Add3DWindows(TowerWinR4, %Office_East%, 120 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% > 7] Add3DWindows(TowerWinR5, %Office_East%, 135 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% = 9] Add3DWindows(TowerWinR6, %Office_East%, 150 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		if[%floor% > 7] Add3DWindows(TowerWinR7, %Office_East%, 165 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)
		#if[%floor% > 7] Add3DWindows(TowerWinR8, %Office_East%, 180 + 7.5, right, 11, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 3/4, 1)

		#Back
		#Add3DWindows(TowerWinB1, -130, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		Add3DWindows(TowerWinB2, -110, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		if[%floor% ! 0] Add3DWindows(TowerWinB3, -90, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		if[%floor% ! 0] Add3DWindows(TowerWinB4, -70, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		Add3DWindows(TowerWinB5, -50, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		#Add3DWindows(TowerWinB6, -30, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)

		#Back (Mall entrances)
		if[%floor% = 1] Add3DWindows(Mall_BackWin1, 110, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		if[%floor% = 1] Add3DWindows(Mall_BackWin2, 90, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		if[%floor% = 1] Add3DWindows(Mall_BackWin3, 30, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
		#if[%floor% < 2] Add3DWindows(Mall_BackWin4, 50, %2%, back, 16, %WinHeight%, %WinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 4/4, 1)
<EndFloors>

#Cut interior walls on level LL
Cut external, -%1% + 0.5 - 0.1, Floor(-1).Base, 103.5, -%1% + 0.5 + 0.1, Floor(0).Altitude, %2% - 0.5, true, false #Left
Cut external, -%1% + 0.5, Floor(-1).Base, %2% - 0.5 - 0.1, -57 + 10, Floor(0).Altitude, %2% - 0.5 + 0.1, true, false #Back

<Floor -1>
	#Interior walls for office tower's service area
	Set WallHeight = %height%
	Set WallOffset = 0

		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		AddWall LLServiceLeft, LLServiceWall, 0.5, -%1%, 103.5, -%1%, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = right
		DrawWalls = true, false, false, false, false, false
		AddWall LLServiceRight, LLServiceWall, 0.5, -%1% + 0.5, %2%, -57 + 10, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	
	#Service entrance doors (Level LL)
	Set DTex = ServiceDoor1
	Set DTex_Ext = %DTex%
	Set DSTex = %DTex%Side

	#Doors A
	Set Door_MainX = -70
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_ServEntA_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_ServEntA_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls LLServiceWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Exit sign
		AddBoxSign(ServEntA_ExitSign, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, %Door_MainX%, %Door_MainZ% - 0.55, 1.8, 0.9, 7.2, false)

	#Doors B
	Set Door_MainX = -90
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_ServEntB_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_ServEntB_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls LLServiceWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Exit sign
		AddBoxSign(ServEntB_ExitSign, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, %Door_MainX%, %Door_MainZ% - 0.55, 1.8, 0.9, 7.2, false)
<EndFloor>

<Floors -1 to 0>
	WallTex() #Set wall texture

	#Mall entrance doors (Levels LL and 1)
	Set DTex = BLKEntDoorInt
	Set DTex_Ext = BLKEntDoorExt
	Set DSTex = BLKEntDoorSide

	#Doors A
	Set Door_MainX = 110
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_MallEntrA_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_MallEntrA_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 7, 8.25, %interfloorheight%, true, 0, 0, true

	Add3DWindows(MallEntrA_WinSide1, %Door_MainX% - 3.5 - 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(MallEntrA_WinSide2, %Door_MainX% + 3.5 + 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Doors B
	Set Door_MainX = 90
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	if[%floor% = 0] AddStdDoor DoorManager, %floorid%_MallEntrB_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	if[%floor% = 0] AddStdDoor DoorManager, %floorid%_MallEntrB_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	if[%floor% = 0] AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 7, 8.25, %interfloorheight%, true, 0, 0, true

	if[%floor% = 0] Add3DWindows(MallEntrB_WinSide1, %Door_MainX% - 3.5 - 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	if[%floor% = 0] Add3DWindows(MallEntrB_WinSide2, %Door_MainX% + 3.5 + 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
<EndFloors>

<Floor 0>
	WallTex() #Set wall texture

	#Center entrance doors (From entrance elevators
	Set Door_MainX = 30
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_CenterEnt_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_CenterEnt_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 7, 8.25, %interfloorheight%, true, 0, 0, true

	Add3DWindows(CenterEnt_WinSide1, %Door_MainX% - 3.5 - 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(CenterEnt_WinSide2, %Door_MainX% + 3.5 + 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Office lobby entrance doors (Level 1)
	#Doors A
	Set Door_MainX = -70
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_OfficeEntrA_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_OfficeEntrA_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 7, 8.25, %interfloorheight%, true, 0, 0, true

	Add3DWindows(OfficeEntrA_WinSide1, %Door_MainX% - 3.5 - 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(OfficeEntrA_WinSide2, %Door_MainX% + 3.5 + 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

	#Doors B
	Set Door_MainX = -90
	Set Door_MainZ = %2%

	WallOrientation = right
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_OfficeEntrB_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddStdDoor DoorManager, %floorid%_OfficeEntrB_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8.25, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls %6%, 0.5, %Door_MainX%, %Door_MainZ%, 7, 8.25, %interfloorheight%, true, 0, 0, true

	Add3DWindows(OfficeEntrB_WinSide1, %Door_MainX% - 3.5 - 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
	Add3DWindows(OfficeEntrB_WinSide2, %Door_MainX% + 3.5 + 2.375, %Door_MainZ%, back, 4.25, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
<EndFloor>

#Service area on level LL (Office tower) / Level LL entrance area (Mall)
<Floors -2 to -1>
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	
	Set Office_South = 103.5 #For service area only
	Set Office_East = -57 + 10 #For service area only
	
	Set MidOffset = 5 #Ramp middle offset
	Set UpperOffset = %height% + Floor(-1).InterfloorHeight #Ramp upper offset

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -1] AddFloor OfficeSAFloor, LLServiceFloor, 0.5, -%1%, %Office_South%, %Office_East%, %2%, 0, 0, 0, 0, false
	if[%floor% = -1] AddFloor MallEntFloor, LLEntranceFloor, 0.5, 100, %2% - 15, 118.5, %2%, 0, 0, 0, 0, false

		#Floor supports
		if[%floor% = -2] ColumnWallBox2 LLEntSupport1/1, %6Rail%, 100 + 1.25, 190 - 4, 2, 2, 10, %interfloorheight%, 0, 0, false, true, false, false
		if[%floor% = -2] ColumnWallBox2 LLEntSupport1/2, %6Rail%, 118 - 1.25, 190 - 4, 2, 2, 10, %interfloorheight%, 0, 0, false, true, false, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = -2] AddFloor OfficeSACeiling, %7%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, %height%, %height%, 0, 0, false
	if[%floor% = -2] AddFloor MallEntCeiling, LLEntranceUnderside, 0.5, 100, %2% - 15, 118.5, %2%, %height%, %height%, 0, 0, false

	if[%floor% = -1] CutAll -%1%, %fullheight% - 0.1, %Office_South%, %Office_East%, %fullheight% + 0.1, %2%, false, true #Ceiling on level LL
	if[%floor% = -1] AddFloor OfficeSACeiling2, LLServiceCeiling, 0.5, -%1%, %Office_South%, %Office_East%, %2%, %height%, %height%, 0, 0, false

	#========================================#

	#Railings for mall entrance area
		Set WallHeight = %interfloorheight% + 3
		Set WallOffset = -%interfloorheight%

		#Front
		WallOrientation = left
		DrawWalls = true, true, true, true, true, false
		if[%floor% = -1] AddWall MallEnt-FrontRail1, %6Rail%, 0.5, 100 + 0.5, %2% - 15, 103, %2% - 15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		if[%floor% = -1] AddWall MallEnt-FrontRail1-IFloor, %6Rail%, 0.5, 103, %2% - 15, 118, %2% - 15, %interfloorheight% - 0.5, %interfloorheight% - 0.5, %WallOffset%, %WallOffset%, 0, 0, false
		#if[%floor% = -1] AddWall MallEnt-FrontRail2, %6Rail%, 0.5, 118, %2% - 15, 120 - 0.5, %2% - 15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Left
		if[%floor% = -1] AddWall MallEnt-LeftRail, %6Rail%, 0.5, 100, %2% - 15, 100, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		#if[%floor% = -1] AddWall MallEnt-LeftRail1, %6Rail%, 0.5, 100, %2% - 15, 100, 190 - 8, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		#if[%floor% = -1] AddWall MallEnt-LeftRail1-IFloor, %6Rail%, 0.5, 100, 190 - 8, 100, 190, %interfloorheight% - 0.5, %interfloorheight% - 0.5, %WallOffset%, %WallOffset%, 0, 0, false
		#if[%floor% = -1] AddWall MallEnt-LeftRail2, %6Rail%, 0.5, 100, 190, 100, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Right
		WallOrientation = right
		if[%floor% = -1] AddWall MallEnt-RightRail, %6Rail%, 0.5, 118.5, %2% - 15, 118.5, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#========================================#

	#Service area cover walls
		Set WallHeight = %fullheight%
		Set WallOffset = -%interfloorheight%

		#Front
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, LLServiceWall, Blank, Blank, Blank, Blank
		if[%floor% = -1] AddWall FrontSAWall1, %6%, 0.5, -%1%, %Office_South%, -111, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		TextureOverride %6%, LLServiceWall, Blank, Blank, Blank, Blank
		if[%floor% = -1] AddWall FrontSAWall2, %6%, 0.5, -99, %Office_South%, -69, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Right
		WallOrientation = right
		TextureOverride LLServiceWall, %6%, Blank, Blank, Blank, Blank
		if[%floor% = -1] AddWall RightSAWall, %6%, 0.5, %Office_East%, 115.5, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Service area storage walls
		if[%floor% = -1] Set 6 = LLServiceWall #Override for office tower core only
		Set WallHeight = %height%
		Set WallOffset = 0

		WallOrientation = right
		if[%floor% = -1] AddWall SAStorageLeft, %6%, 0.5, -89, 103.5, -89, 107.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = left
		if[%floor% = -1] AddWall SAStorageRight, %6%, 0.5, -79, 103.5, -79, 107.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Doors to storages
	Set DTex = Door1
	Set DSTex = %DTex%Side

		#Left storage
		WallOrientation = right
		if[%floor% = -1] AddStdDoor Floor %floor%, LeftStorageDoor, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, -89, 105.75, 3, 7, 0, 0, 0, 0, 0
		if[%floor% = -1] AddFillerWalls ConnectionWall, 0.5, -89, 105.75, 3, 7, 0, false, 0, 0, false

		#Right storage
		WallOrientation = left
		if[%floor% = -1] AddStdDoor Floor %floor%, RightStorageDoor, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, -79, 105.75, 3, 7, 0, 0, 0, 0, 0
		if[%floor% = -1] AddFillerWalls ConnectionWall, 0.5, -79, 105.75, 3, 7, 0, false, 0, 0, false
<EndFloors>

#Cut interior walls on levels B and G
Cut external, 19, Floor(-3).Base, 194.5 - 0.1, 30 - 0.5, Floor(-2).Altitude, 195 + 0.1, true, false #Back
Cut external, 20 + 0.5, Floor(-2).Base, 194.5 - 0.1, 40 - 0.5, Floor(-1).Altitude, 195 + 0.1, true, false #Back

<Floor -3>
	#Connection to Entrance Elevators
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z

		#Floor
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor EntElevAreaLink_Flr, ParkingFloor2, 0.5, 0, %2%, 30, %2% + 10, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EntElevAreaLink_Cei1, ParkingCeiling, 0.5, 0, %2% - 0.5, 30, %2% + 10, %fullheight%, %fullheight%, 0, 0, true

		#Walls
		Set WallHeight = %height%
		Set WallOffset = %interfloorheight%

			WallOrientation = left
			DrawWalls = false, true, false, true, false, false
			AddWall FrontLinkWall, ParkingLinkWall, 0.5, 0, %2%, 19, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			WallOrientation = right
			DrawWalls = false, true, false, false, false, false
			AddWall LeftLinkWall, ParkingLinkWall, 0.5, 0, %2%, 0, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			WallOrientation = right
			DrawWalls = true, false, false, false, false, false
			AddWall RightLinkWall, ParkingLinkWall, 0.5, 30, %2% - 0.5, 30, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
			DrawWalls = true, false, true, false, false, false
			AddWall BackLinkWall, ParkingLinkWall, 0.5, 20, %2% + 10, 30, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Exit sign
		AddBoxSign(NewEntr_ExitSign, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, 25, %2% - 0.55, 1.8, 0.9, %fullheight%, true)
<EndFloor>

<Floor -2>
	#Connection to Entrance Elevators
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z

		#Floor
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor EntElevAreaLink_Flr1, LowerShopLinkFloor, 0.5, 0, %2%, 20, %2% + 10, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor EntElevAreaLink_Flr2, LowerShopFloor, 0.5, 20, %2%, 40, %2% + 8, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EntElevAreaLink_Cei11, LowerShopCeiling, 0.5, 0, %2% - 0.5, 20, %2% + 10, %fullheight%, %fullheight%, 0, 0, true
		AddFloor EntElevAreaLink_Cei12, LowerShopCeiling, 0.5, 20, %2% - 0.5, 40, %2% + 8, %fullheight%, %fullheight%, 0, 0, true

		#Walls
		Set WallHeight = %height%
		Set WallOffset = %interfloorheight%

			WallOrientation = left
			DrawWalls = false, true, false, false, false, false
			AddWall FrontLinkWall, LowerShopLinkWall, 0.5, 0, %2%, 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			WallOrientation = right
			AddWall LeftLinkWall, LowerShopLinkWall, 0.5, 0, %2%, 0, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
			DrawWalls = true, true, false, false, false, false
			TextureOverride LowerShopLinkWall, LowerShopWall, Blank, Blank, Blank, Blank
			AddWall LeftLinkWall2, LowerShopLinkWall, 0.5, 20 + 0.5, %2% - 0.5, 20 + 0.5, %2% + 8, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			WallOrientation = left
			DrawWalls = true, false, false, false, false, false
			AddWall RightLinkWallA, LowerShopLinkWall, 0.5, 20, %2% + 8, 20, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

			WallOrientation = right
			AddWall RightLinkWallB, LowerShopWall, 0.5, 40, %2% - 0.5, 40, %2% + 8, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
			AddWall BackLinkWall, LowerShopWall, 0.5, 20, %2% + 8, 40, %2% + 8, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	########################################

	#Entrance doors
	Set DTex = BLKEntDoorInt
	Set DTex_Ext = BLKEntDoorInt
	#Set DTex_Ext = BLKEntDoorExt
	Set DSTex = BLKEntDoorSide

		Set Door_MainX = 20
		Set Door_MainZ = 199
	
		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddStdDoor DoorManager, %floorid%_MallEntrA_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddStdDoor DoorManager, %floorid%_MallEntrA_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls LowerShopWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	
		Add3DWindows(NewMallEntr_WinAbove, %Door_MainX%, %Door_MainZ%, left, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, LowerShopWall, 0.5, 1/4, 1)

		#Exit sign
		AddBoxSign(NewEntr_ExitSign, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, %Door_MainX% + 0.55, %Door_MainZ%, 1.8, 0.9, %interfloorheight% + 7, true)

	########################################

	#Stairs from LL to B1
		#Stairs creation
		OP_OrthoStair(floor, LL-B1Stairs_Lower, LLEntranceFloor, 103, 118, front, 180 - 20 - 9, 10, 1, 0.5, 0, 0.5)
		OP_OrthoStair(floor, LL-B1Stairs_Upper, LLEntranceFloor, 103, 118, front, 180 - 10, 10, 1, 0.5, 0.5 * 10, 0.5)

		#Stairs landing
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		AddFloor LL-B1StairsLanding, B1EntranceFloor, 0.5, 103, 180 - 10 - 9, 118, 180 - 10, 0.5 * 10, 0.5 * 10, 0, 0, false

		#Railings next to stair steps
		Set RailHeight = 3 + 0.5
		Set RailOffset = -0.5
		Set RailOffsetU1 = (0.5 * 10) - 0.5
		Set RailOffsetU2 = (0.5 * 20) - 0.5
	
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		AddWall LL-B1LeftRailA, LLEntranceWall, 0.5, 103, 180 - 20 - 9, 103, 180 - 10 - 9, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
		AddWall LL-B1LeftRailB, LLEntranceWall, 0.5, 103, 180 - 10 - 9, 103, 180 - 10, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		AddWall LL-B1LeftRailC, LLEntranceWall, 0.5, 103, 180 - 10, 103, 180, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU2%, 0, 0, false

		WallOrientation = left
		AddWall LL-B1RightRailA, LLEntranceWall, 0.5, 118, 180 - 20 - 9, 118, 180 - 10 - 9, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0, false
		AddWall LL-B1RightRailB, LLEntranceWall, 0.5, 118, 180 - 10 - 9, 118, 180 - 10, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU1%, 0, 0, false
		AddWall LL-B1RightRailC, LLEntranceWall, 0.5, 118, 180 - 10, 118, 180, %RailHeight%, %RailHeight%, %RailOffsetU1%, %RailOffsetU2%, 0, 0, false
<EndFloor>

<Floors 10 to 27>
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	
	Set Office_South = 73.5
	Set Office_East = -18.5

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor OfficeFloor, %5%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, 0, 0, 0, 0, false

		#Setbacks
		if[%floor% = 10] AddFloor RoofSetback1, %5C%, 0.5, -%1%, -16.5, %1%, 46.5, %interfloorheight%, %interfloorheight%, 0, 0, true
		if[%floor% = 10] AddFloor RoofSetback2, %5C%, 0.5, -%1%, 46.5, %Office_East%, %Office_South%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor OfficeCeiling, %7%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, %height%, %height%, 0, 0, false

	#Windows
	Set IFloorType = 2
	if[%floor% = 10] Set IFloorType = 1
	Set ExtTex = ExtFacade

	SetAutoSize = true, false
	if[%floor% > 10] AddCustomWindows(FrontWin, MainWindows, MainWindowsInt, -%1% + 5, %Office_South%, -25, %Office_South%, %height%, 0, 0, %IFloorType%, %ExtTex%, %6%)
	if[%floor% = 10] AddCustomWindows(FrontWin1, MainWindows, MainWindowsInt, -%1% + 5, %Office_South%, -90, %Office_South%, %height%, 0, 0, %IFloorType%, %ExtTex%, %6%)
	if[%floor% = 10] AddCustomWindows(FrontWin2, MainWindows, MainWindowsInt, -80, %Office_South%, -25, %Office_South%, %height%, 0, 0, %IFloorType%, %ExtTex%, %6%)
	AddCustomWindows(LeftWin, MainWindows, MainWindowsInt, -%1%, 80, -%1%, %2% - 5, %height%, 0, 0, %IFloorType%, %ExtTex%, %6%)
	AddCustomWindows(RightWin, MainWindowsInt, MainWindows, %Office_East%, 80, %Office_East%, %2% - 5, %height%, 0, 0, %IFloorType%, %6%, %ExtTex%)
	AddCustomWindows(BackWin, MainWindowsInt, MainWindows, -%1% + 5, %2%, -25, %2%, %height%, 0, 0, %IFloorType%, %6%, %ExtTex%)
	SetAutoSize = true, true

	#Cuts for south perimeter walls
	if[%floor% = 10] CutAll -90, %interfloorheight%, %Office_South% - 0.5, -80, %fullheight%, %Office_South% + 0.5, true, false #South
	if[%floor% = 11] CutAll -90, 0, %Office_South% - 0.1, -80, %interfloorheight%, %Office_South% + 0.1, true, false #South

	#Perimeter walls
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, false, true, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall FrontWall1, ExtFacade, 0.5, -%1%, %Office_South%, -%1% + 5, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		#DrawWalls = true, true, true, true, false, false
		#TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		#if[%floor% = 10] AddWall FrontWall1A, ExtFacade, 0.5, -90, %Office_South%, -80, %Office_South%, %WallHeight% + Floor(11).InterfloorHeight, %WallHeight% + Floor(11).InterfloorHeight, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall FrontWall2, ExtFacade, 0.5, -25, %Office_South%, %Office_East%, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, false, true, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall BackWall1, ExtFacade, 0.5, -%1%, %2%, -%1% + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall BackWall2, ExtFacade, 0.5, -25, %2%, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Left walls
		WallOrientation = left
		DrawWalls = true, true, false, true, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall LeftWall1, ExtFacade, 0.5, -%1%, %Office_South%, -%1%, 80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall LeftWall2, ExtFacade, 0.5, -%1%, %2% - 5, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Right walls
		WallOrientation = right
		DrawWalls = true, true, false, true, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall RightWall1, ExtFacade, 0.5, %Office_East%, %Office_South%, %Office_East%, 80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, true, false, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall RightWall2, ExtFacade, 0.5, %Office_East%, %2% - 5, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floor 10>
	WallTex()

	#Perimeter wall
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0

		#Front wall
		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		if[%floor% = 10] AddWall FrontWall1A, ExtFacade, 0.5, -90, %Office_South%, -80, %Office_South%, %WallHeight% + Floor(11).InterfloorHeight, %WallHeight% + Floor(11).InterfloorHeight, %WallOffset%, %WallOffset%, 0, 0, true

	#6th floor roof access
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side

	Set Door_MainX = -85
	Set Door_MainZ = %Office_South%

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_RFAccess_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_RFAccess_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

<Floors 28 to 29>
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	
	Set Office_South = 73.5
	Set Office_East = -18.5

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MechFloor, %5%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MechCeiling, %7%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, %height%, %height%, 0, 0, false

	#Perimeter walls
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall FrontWall, ExtFacade, 0.5, -%1%, %Office_South%, %Office_East%, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall BackWall, ExtFacade, 0.5, -%1%, %2%, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Left walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall LeftWall, ExtFacade, 0.5, -%1%, %Office_South%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Right walls
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall RightWall, ExtFacade, 0.5, %Office_East%, %Office_South%, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floor 30>
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	FloorTex() #Set floor texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	
	Set Office_South = 73.5
	Set Office_East = -18.5

	#Roof
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor OfficeTowerRoof, %5B%, 0.5, -%1%, %Office_South%, %Office_East%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Railings
		WallTex() #Set wall texture
		Set WallHeight = %interfloorheight% + 5.5
		Set WallOffset = 0

		#Front and left
		WallOrientation = left
		DrawWalls = true, true, true, true, true, false
		AddWall FrontRail, ExtFacade, 0.5, -%1% + 0.5, %Office_South%, %Office_East% - 0.5, %Office_South%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall LeftWall, ExtFacade, 0.5, -%1%, %Office_South%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Right and back
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		AddWall RightWall, ExtFacade, 0.5, %Office_East%, %Office_South%, %Office_East%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall BackWall, ExtFacade, 0.5, -%1% + 0.5, %2%, %Office_East% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#--------------------

#RESTROOMS
#Set door textures
<Function RR_DTex>
	Set DTex = Door8
	if[%floor% = -2 | %floor% = 8] Set DTex = Door9b
	if[%floor% > 9] Set DTex = Door6
	Set DSTex = %DTex%Side
<EndFunction>

#A. MALL RESTROOMS
#A1. 5th floor
<Floor 8>
	WallTex() #Set wall textures
	RR_DTex() #Set door textures

	Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	Set RRCeiHeight = 8.5

	#EAST RESTROOMS
		#Outer wall(s)
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall EastRR_5F_Left_L, %6%_Lower, 0.5, 116, -16, 116, 16, 4, 4, 0, 0, 0, 0, false
		AddWall EastRR_5F_Left_U, %6%, 0.5, 116, -16, 116, 16, %RRHeight% - 4, %RRHeight% - 4, 4, 4, 0, 0, false
		
		#Inner divider wall
		WallOrientation = center
		AddWall EastRR_5F_Center_L, %6%_Lower, 1, 116, 0, %1%, 0, 4, 4, 0, 0, 0, 0, false
		AddWall EastRR_5F_Center_U, %6%, 1, 116, 0, %1%, 0, %RRHeight% - 4, %RRHeight% - 4, 4, 4, 0, 0, false
	
		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EastRR_5F_Cei, DropCeiling, 0.5, 116, -16, %1%, 16, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom doors
		WallOrientation = right
		AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, 116.5, 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, 116.5, -2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 116.5, 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 116.5, -2.5, 3, 7, 0, false, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		#Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		#Set SignSuffix = _Gray

			AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, 116 - 0.75, 2.5, 1.5, 1.5, 7.5, false)
			AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, 116 - 0.75, -2.5, 1.5, 1.5, 7.5, false)
			
	#========================================#

	#WEST RESTROOMS
		#Outer wall(s)
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall WestRR_5F_Left_L, %6%_Lower, 0.5, -100, -16, -100, 16, 4, 4, 0, 0, 0, 0, false
		AddWall WestRR_5F_Left_U, %6%, 0.5, -100, -16, -100, 16, %RRHeight% - 4, %RRHeight% - 4, 4, 4, 0, 0, false
		WallOrientation = right
		AddWall WestRR_5F_Right_L, %6%_Lower, 0.5, -60, -16, -60, 16, 4, 4, 0, 0, 0, 0, false
		AddWall WestRR_5F_Right_U, %6%, 0.5, -60, -16, -60, 16, %RRHeight% - 4, %RRHeight% - 4, 4, 4, 0, 0, false
		
		#Inner divider wall
		WallOrientation = center
		AddWall WestRR_5F_Center_L, %6%_Lower, 1, -100, 0, -60, 0, 4, 4, 0, 0, 0, 0, false
		AddWall WestRR_5F_Center_U, %6%, 1, -100, 0, -60, 0, %RRHeight% - 4, %RRHeight% - 4, 4, 4, 0, 0, false

		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor WestRR_5F_Cei, DropCeiling, 0.5, -100, -16, -60, 16, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left,  left, 75, 75, -60.5, 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, -60.5, -2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -60.5, 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -60.5, -2.5, 3, 7, 0, false, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		#Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		#Set SignSuffix = _Gray

			AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -60 + 0.75, 2.5, 1.5, 1.5, 7.5, false)
			AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -60 + 0.75, -2.5, 1.5, 1.5, 7.5, false)
<EndFloor>

#A2. Ground-4th floors
<Function Mall_RR>
	WallTex() #Set wall textures

	Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	Set RRCeiHeight = 8.5

	#EAST RESTROOMS
		#Outer wall(s)
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall EastRR_%floorid%F_Left, %6%, 0.5, 122, 46.5, 122, 46.5 + 25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall EastRR_%floorid%F_Back, %6%, 0.5, 122, 46.5 + 25, %1%, 46.5 + 25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		
		#Inner divider wall
		WallOrientation = center
		AddWall EastRR_%floorid%F_Center, %6%, 1, 122, 46.5 + 12.5, %1%, 46.5 + 12.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
	
		#Hallway divider wall
		WallOrientation = left
		DrawWalls = true, true, false, true, false, false
		AddWall East_%floorid%F_HallDiv, %6%, 0.5, 116, 46.5, 116, 46.5 + 25, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
	
		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EastRR_%floorid%F_Cei, DropCeiling, 0.5, 122, 46.5, %1%, 46.5 + 25, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom doors
		WallOrientation = right
		AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, 122.5, 46.5 + 12.5 + 2.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, 122.5, 46.5 + 12.5 - 2.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 122.5, 46.5 + 12.5 + 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 122.5, 46.5 + 12.5 - 2.5, 3, 7, 0, false, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		if[%floor% < 0] Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		if[%floor% < 0] Set SignSuffix = _Gray

			#Signs at hallways
			AddBoxSign(EastRRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, 116 - 0.75, 71.5 - 0.25, 1.5, 1.5, 8, false)

			#Sign above doors
			AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, %BoxTex%, %BoxTex%, 0.05, false, true, true, 122 - 0.025, 46.5 + 12.5 + 2.5, 1.25, 1.25, 7.25, false)
			AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, %BoxTex%, %BoxTex%, 0.05, false, true, true, 122 - 0.025, 46.5 + 12.5 - 2.5, 1.25, 1.25, 7.25, false)

	#========================================#

	#WEST RESTROOMS
		#Outer wall(s)
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall WestRR_%floorid%F_Right, %6%, 0.5, -100, 26, -100, 33 + 0.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall WestRR_%floorid%F_Back, %6%, 0.5, -128, 33, -100 + 0.5, 33, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		
		#Inner divider wall
		WallOrientation = center
		AddWall WestRR_%floorid%F_Center, %6%, 1, -120, 16.5, -120, 33, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
	
		#Hallway divider wall
		WallOrientation = left
		DrawWalls = true, true, false, true, false, false
		AddWall WestRR_%floorid%F_HallDiv, %6%, 0.75, -128, 40, -100 - 7.5, 40, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
	
		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor WestRR_%floorid%F_Cei, DropCeiling, 0.5, -%1%, 16.5, -100, 33, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	
		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, -120 + 2.5, 33, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, -120 - 2.5, 33, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -120 + 2.5, 33, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -120 - 2.5, 33, 3, 7, 0, true, 0, 0, false
	
		#Restroom signs
		Set BoxTex = WoodSign2
		if[%floor% < 0] Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		if[%floor% < 0] Set SignSuffix = _Gray

			#Signs at hallways
			AddBoxSign(WestRRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, -99.5 + 0.75, 33.5 - 0.5, 1.5, 1.5, 8, false)

			#Sign above doors
			AddBoxSign(WRR_Sign, %BoxTex%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -120 + 2.5, 33.5 + 0.025, 1.25, 1.25, 7.25, false)
			AddBoxSign(MRR_Sign, %BoxTex%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -120 - 2.5, 33.5 + 0.025, 1.25, 1.25, 7.25, false)
<EndFunction>

<Floors -2 to 6>
	RR_DTex() #Set door textures
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5] Mall_RR()
<EndFloors>

#B. OFFICE TOWER RESTROOMS
<Function Office_RR1>
	WallTex() #Set wall textures

	Set RRHeight = %height%
	if[%floor% > -1 & %floor% < 10] Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	Set RRCeiHeight = 8.5

	#Women's restroom
	if[%floor% ! 8] CreateWallBox2 floor, WRestroom_Ext, %6%, -63, 152.5, 12, 20, %RRHeight%, 0, 0, 0, false, true, false, false
	if[%floor% ! 8] CreateWallBox2 floor, WRestroom_Int, %6%, -63, 152.5, 12 - 1, 20 - 1, %RRHeight%, 0, 0, 0, true, false, false, false

		#5th floor only
		if[%floor% = 8] CreateWallBox2 floor, WRestroom_Ext_L, %6%_Lower3, -63, 152.5, 12, 20, 4, 0, 0, 0, false, true, false, false
		if[%floor% = 8] CreateWallBox2 floor, WRestroom_Ext_U, %6%, -63, 152.5, 12, 20, %RRHeight% - 4, 4, 0, 0, false, true, false, false
		if[%floor% = 8] CreateWallBox2 floor, WRestroom_Int_L, %6%_Lower3, -63, 152.5, 12 - 1, 20 - 1, 4, 0, 0, 0, true, false, false, false
		if[%floor% = 8] CreateWallBox2 floor, WRestroom_Int_U, %6%, -63, 152.5, 12 - 1, 20 - 1, %RRHeight% - 4, 4, 0, 0, true, false, false, false

	#Men's restroom
	if[%floor% ! 8] CreateWallBox2 floor, MRestroom_Ext, %6%, -105, 152.5, 12, 20, %RRHeight%, 0, 0, 0, false, true, false, false
	if[%floor% ! 8] CreateWallBox2 floor, MRestroom_Int, %6%, -105, 152.5, 12 - 1, 20 - 1, %RRHeight%, 0, 0, 0, true, false, false, false
    
		#5th floor only
		if[%floor% = 8] CreateWallBox2 floor, MRestroom_Ext_L, %6%_Lower3, -105, 152.5, 12, 20, 4, 0, 0, 0, false, true, false, false
		if[%floor% = 8] CreateWallBox2 floor, MRestroom_Ext_U, %6%, -105, 152.5, 12, 20, %RRHeight% - 4, 4, 0, 0, false, true, false, false
		if[%floor% = 8] CreateWallBox2 floor, MRestroom_Int_L, %6%_Lower3, -105, 152.5, 12 - 1, 20 - 1, 4, 0, 0, 0, true, false, false, false
		if[%floor% = 8] CreateWallBox2 floor, MRestroom_Int_U, %6%, -105, 152.5, 12 - 1, 20 - 1, %RRHeight% - 4, 4, 0, 0, true, false, false, false

	#Restrooms' ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! -2] AddFloor WomensRR_Cei, DropCeiling, 0.5, -63 - 6, 152.5 - 10, -63 + 6, 152.5 + 10, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false
	if[%floor% ! -2] AddFloor MensRR_Cei, DropCeiling, 0.5, -105 - 6, 152.5 - 10, -105 + 6, 152.5 + 10, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

	#Restroom doors
	WallOrientation = right
	AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, -63, 143, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, -105, 143, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -63, 143, 3, 7, 0, true, 0, 0, false
	AddFillerWalls ConnectionWall, 0.5, -105, 143, 3, 7, 0, true, 0, 0, false

	#Restroom signs
	Set BoxTex = WoodSign2
	if[%floor% < 0] Set BoxTex = BlackTrim
	Set SignSuffix = _Brown
	if[%floor% < 0] Set SignSuffix = _Gray

		if[%floor% ! -2] AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, -63, 142.5 - 0.75, 1.5, 1.5, 7.5, false)
		if[%floor% ! -2] AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, -105, 142.5 - 0.75, 1.5, 1.5, 7.5, false)
		if[%floor% = -2] AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, -63, 142.5 - 0.5, 1, 1, 7.25, false)
		if[%floor% = -2] AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, -105, 142.5 - 0.5, 1, 1, 7.25, false)
<EndFunction>

<Function Office_RR2>
	WallTex() #Set wall textures

	Set RRHeight = %height%
	Set RRCeiHeight = 8.5

	#Perimeter walls
	CreateWallBox2 floor, Restroom_Ext, %6%, -84, 152.5, 20, 20, %RRHeight%, 0, 0, 0, false, true, false, false
	CreateWallBox2 floor, Restroom_Int, %6%, -84, 152.5, 20 - 1, 20 - 1, %RRHeight%, 0, 0, 0, true, false, false, false

	#Inner divider wall
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall RR_Mid, %6%, 1, -84, 152.5 - 10, -84, 152.5 + 10, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

	#Restrooms' ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor RR_Cei, DropCeiling, 0.5, -84 - 10, 152.5 - 10, -84 + 10, 152.5 + 10, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

	#Restroom doors
	WallOrientation = right
	AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, -84 + 2.5, 143, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, -84 - 2.5, 143, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -84 + 2.5, 143, 3, 7, 0, true, 0, 0, false
	AddFillerWalls ConnectionWall, 0.5, -84 - 2.5, 143, 3, 7, 0, true, 0, 0, false

	#Restroom signs
	Set BoxTex = WoodSign2
	#Set BoxTex = BlackTrim
	Set SignSuffix = _Brown
	#Set SignSuffix = _Gray

		AddBoxSign(WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, false, true, true, -84 + 2.5, 142.5 - 0.75, 1.5, 1.5, 7.5, false)
		AddBoxSign(MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, false, true, true, -84 - 2.5, 142.5 - 0.75, 1.5, 1.5, 7.5, false)
<EndFunction>

<Floors -2 to 8>
	RR_DTex() #Set door textures
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] Office_RR1()
<EndFloors>

<Floors 10 to 18>
	RR_DTex() #Set door textures
	Office_RR1()
<EndFloors>

<Floors 19 to 27>
	RR_DTex() #Set door textures
	Office_RR2()
<EndFloors>

#--------------------

#Mall and Parking Garage Supports
<Floors -3 to 9>
	#Set Values
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z

	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	if[%floor% = -3 | %floor% = 7] Set SupportHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% = -3 | %floor% = 7] Set SupportOffset = -%interfloorheight%
	if[%floor% = -2 | %floor% = 8] Set SupportHeight = %height%
	if[%floor% = -2 | %floor% = 8] Set SupportOffset = 0

	Set SupportHeight2 = %SupportHeight%
	if[%floor% = 7] Set SupportHeight2 = %interfloorheight% + 4.25

	Set ShowTop = false
	Set ShowTop2 = %ShowTop%
	if[%floor% = 7] Set ShowTop2 = true

	#Row A
	Set Prefix = A
	Set SupportZ = -%2% + 1.25
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row B
	Set Prefix = B
	Set SupportZ = -%2% + (%DistanceZ% * 1)
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row C
	Set Prefix = C
	Set SupportZ = -%2% + (%DistanceZ% * 2)
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row D
	Set Prefix = D
	Set SupportZ = -%2% + (%DistanceZ% * 3)
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row E
	Set Prefix = E
	Set SupportZ = -%2% + (%DistanceZ% * 4)
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row F
	Set Prefix = F
	Set SupportZ = -%2% + (%DistanceZ% * 5)
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight2%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row G
	Set Prefix = G
	Set SupportZ = -%2% + (%DistanceZ% * 6)
	CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row H
	Set Prefix = H
	Set SupportZ = -%2% + (%DistanceZ% * 7)
	CreateWallBox2 external, Support%Prefix%1, %6SP2%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP2%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP2%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP2%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%5, %6SP2%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%6, %6SP2%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%7, %6SP2%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%8, %6SP2%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row JA
	Set Prefix = JA
	Set SupportZ = -%2% + (%DistanceZ% * 8)
	#CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row JB
	Set Prefix = JB
	Set SupportZ = -%2% + (%DistanceZ% * 9)
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 0] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row K
	Set Prefix = K
	Set SupportZ = -%2% + (%DistanceZ% * 10)
	CreateWallBox2 external, Support%Prefix%1, %6SP3%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 0] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row L
	Set Prefix = L
	Set SupportZ = -%2% + (%DistanceZ% * 11)
	CreateWallBox2 external, Support%Prefix%1, %6SP3%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% = -3] CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% = -3] CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row M
	Set Prefix = M
	Set SupportZ = -%2% + (%DistanceZ% * 12)
	CreateWallBox2 external, Support%Prefix%1, %6SP3%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP3%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP3%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row N
	Set Prefix = N
	Set SupportZ = %2% - 1.25
	CreateWallBox2 external, Support%Prefix%1, %6SP3%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP3%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP3%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%5, %6SP%, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%6, %6SP%, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%7, %6SP%, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	if[%floor% < 8] CreateWallBox2 external, Support%Prefix%8, %6SP%, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

#Office Tower Supports
<Floors 10 to 29>
	#Set Values
	Set 1 = 140 #Building Dimension X
	Set 2 = 195 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z

	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%
	Set ShowTop = false

	#Row JB
	Set Prefix = JB
	Set SupportZ = -%2% + (%DistanceZ% * 9)
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row K
	Set Prefix = K
	Set SupportZ = -%2% + (%DistanceZ% * 10)
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row L
	Set Prefix = L
	Set SupportZ = -%2% + (%DistanceZ% * 11)
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 0] CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#if[%floor% < 0] CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row M
	Set Prefix = M
	Set SupportZ = -%2% + (%DistanceZ% * 12)
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row N
	Set Prefix = N
	Set SupportZ = %2% - 1.25
	CreateWallBox2 external, Support%Prefix%1, %6SP%, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%2, %6SP%, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%3, %6SP%, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, Support%Prefix%4, %6SP%, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

##--------------------------------------------------------------------------------##
#ESCALATORS
#--------------------#
#Set escalator properties
	OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
	OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)
	OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
	OP_EscTruss(SilverBalustrade, ShopEscWall, 0.5, 3.5, 0, 0, 0, 0)

#--------------------#
#Escalators creation

#A. EAST ESCALATORS 1-4
<Floors 0 to 4>
	if[%floor% ! 1 & %floor% ! 3] OP_Escalator(%floorid%_EastEsc1, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, 25, 60 - 2.5, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 1 & %floor% ! 3] OP_Escalator(%floorid%_EastEsc2, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, 25, 120 + 2.5, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

OP_EscTruss(SilverBalustrade, ShopEscWall2, 0.5, 3.5, 0, 0, 0, 0) #Set exterior tex. for West Escalators

#B. WEST ESCALATORS 1-5
<Floors 0 to 6>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5] OP_Escalator(%floorid%_WestEsc1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -90, 52.5 + 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5] OP_Escalator(%floorid%_WestEsc2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -90, 72 - 2, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

OP_EscTruss(SilverBalustrade, LowerShopEscWall, 0.5, 3.5, 0, 0, 0, 0) #Set exterior tex. for Escalators from B1-1

#Set landing tex. for front/back escalators
OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)

#C. CENTRAL ESCALATORS B1-1
<Floor -2>
	OP_Escalator(%floorid%_CtrEsc1, up, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -12, 83 + 30, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(%floorid%_CtrEsc2, down, %floor% + 2, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -8, 83 + 30, 3, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

##--------------------------------------------------------------------------------##
#SHAFTS
#East Elevators
AddShaft 1, 25, 90, -4, 8
ShaftCut 1, -4.67 + 0.33, -14.67 + 0.33, 4.67 - 0.33, 14.67 - 0.33, 0, 5
ShowFullShaft 1 = true
ShaftShowOutside 1 = -3 - 7
ShaftShowFloors 1 = -3 - 7

#Shaft pit and base
<Floors -4 to -3>
	Set 8 = 25 #Center X
	Set 9 = 90 #Center Z
	Set 10 = 4.67 #Cut X
	Set 11 = 14.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -4] AddShaftFloor %12%, Shaft%12%-PitBase, %SHWallTex%, %FloorThick%, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>

#Main walls
<Floors -2 to 7>
	Set 8 = 25 #Center X
	Set 9 = 90 #Center Z
	Set 10 = 4.67 #Cut X
	Set 11 = 14.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture

	#Shaft Floor
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, 0, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	if[%floor% = -2 | %floor% = 0] AddShaftWall %12%, Shaft%12%FrontEX, %SHWallTex%, %WallThick%, 0, -%11%, %10%, -%11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% = -2 | %floor% = 0] AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, 0, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	if[%floor% = -2 | %floor% = 0] AddShaftWall %12%, Shaft%12%BackEX, %SHWallTex%, %WallThick%, 0, %11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
<EndFloors>

<Floors -4 to 8>
	Set WallHeight = %fullheight%
	if[%floor% = 8] Set WallHeight = %interfloorheight%

	#Divider walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Divider1, GLEShaftWall, 0.66, -%10%, -5, 0, -5, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Divider2, GLEShaftWall, 0.66, -%10%, 5, 0, 5, %WallHeight%, %WallHeight%, 0, 0, 0, 0

	#Glass elevator tracks
	Set EachElevWidth = 6.5 #Estimated width for each glass elevator's area
	Set TrackEndpoint = %EachElevWidth% / 2

	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	AddShaftWall %12%, Shaft%12%Track1, GLETrack, 1, 0, -%11% - 0.33, 0, -10 - %TrackEndpoint%, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, true, false, false
	AddShaftWall %12%, Shaft%12%Track2, GLETrack, 1, 0, -10 + %TrackEndpoint%, 0, 0 - %TrackEndpoint%, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Track3, GLETrack, 1, 0, 0 + %TrackEndpoint%, 0, 10 - %TrackEndpoint%, %WallHeight%, %WallHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	AddShaftWall %12%, Shaft%12%Track4, GLETrack, 1, 0, 10 + %TrackEndpoint%, 0, %11% + 0.33, %WallHeight%, %WallHeight%, 0, 0, 0, 0
<EndFloors>

#Glass panels
<Floors -2 to 0>
	Set WallHeight = 8
	if[%floor% = -2] Set WallHeight = %height% + Floor(%floor% + 1).FullHeight
	Set TileZ = 1

	Set GLEPanelTex = GLEPanel
	if[%floor% = -2] Set GLEPanelTex = GLEPanel2

	#Shaft 1
	Set 12 = 1 #Shaft Number
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! -1] AddWall Shaft%12%PanelFront, %GLEPanelTex%, 0, 25, 75.66, 29.34, 75.66, %WallHeight%, %WallHeight%, 0, 0, 1, %TileZ%, false
	if[%floor% ! -1] AddWall Shaft%12%PanelRight, %GLEPanelTex%, 0, 29.34, 75.66, 29.34, 104.34, %WallHeight%, %WallHeight%, 0, 0, 6, %TileZ%, false
	if[%floor% ! -1] AddWall Shaft%12%PanelBack, %GLEPanelTex%, 0, 25, 104.34, 29.34, 104.34, %WallHeight%, %WallHeight%, 0, 0, 1, %TileZ%, false
<EndFloors>

#Machine room
<Floor 8>
	Set 8 = 25 #Center X
	Set 9 = 90 #Center Z
	Set 10 = 4.67 #Cut X
	Set 11 = 14.67 #Cut Z
	Set 12 = 1 #Shaft Number
	Set FloorThick = 0.5
	Set WallThick = 0.33
	Set SHWallTex = GLEShaftWall #Wall Texture
	Set SHWallTex2 = ShaftIntWall #Wall Texture (Machine Room)

	#Shaft Floors
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride %SHWallTex%, %SHWallTex2%, Blank, Blank, Blank, Blank
	if[%floor% = 8] AddShaftFloor %12%, Shaft%12%-MRBase, %SHWallTex%, %FloorThick%, -%10% + %WallThick%, -%11% + %WallThick%, %10% - %WallThick%, %11% - %WallThick%, %interfloorheight%, %interfloorheight%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddShaftFloor %12%, Shaft%12%-MRTop, %SHWallTex2%, %FloorThick%, -%10%, -%11%, %10%, %11%, %fullheight% + 2, %fullheight% + 2, 0, 0

	#Interfloor walls, to match with the shaft's main part
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, %WallThick%, -%10%, -%11%, %10%, -%11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, %WallThick%, -%10%, -%11%, -%10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, %WallThick%, %10%, -%11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, %WallThick%, -%10%, %11%, %10%, %11%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0

	#Machine room walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%MRFront, %SHWallTex2%, %WallThick%, -%10%, -%11%, %10%, -%11%, %height% + 2, %height% + 2, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRLeft, %SHWallTex2%, %WallThick%, -%10%, -%11%, -%10%, %11%, %height% + 2, %height% + 2, %interfloorheight%, %interfloorheight%, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%MRRight, %SHWallTex2%, %WallThick%, %10%, -%11%, %10%, %11%, %height% + 2, %height% + 2, %interfloorheight%, %interfloorheight%, 0, 0
	AddShaftWall %12%, Shaft%12%MRBack, %SHWallTex2%, %WallThick%, -%10%, %11%, %10%, %11%, %height% + 2, %height% + 2, %interfloorheight%, %interfloorheight%, 0, 0
<EndFloor>

#External walls for shaft 1
<Floor -3>
	WallTex()

	#Shaft 1 (East elevators)
	if[%floor% = -3] CreateShaftWall(%6%, %6PL2%, %6PL2%, %6PL2%, %6%, %6%, 0.33, 25, 90, 5, 15, SH1, %SHeight%, %SOffset%, true, true, true, true, false, false, false)
	if[%floor% > -3 & %floor% < 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1, %SHeight%, %SOffset%, true, true, false, true, false, false, false)
<EndFloor>

<Floors -2 to 6>
	WallTex()
	Set SHeight2 = %height% + Floor(%floor% + 1).FullHeight #A special value for this section only

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Shaft 1 (East elevators)
	#ALL OTHER SIDES EXCEPT LEFT
	if[%Mod% = 0] CreateShaftWall(%6%4L, %6%4L, %6%4L, %6%4L, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1L1, 4, 0, true, false, false, true, false, false, false)
	if[%Mod% = 0] CreateShaftWall(%6%4, %6%4, %6%4, %6%4, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1U1, %SHeight2% - 4, 4, true, false, false, true, false, false, false)
<EndFloors>

<Floors -2 to 7>
	WallTex()
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 0] Set SHeight = %height% #Special values for this section
	if[%Mod% = 1] Set SHeight = %fullheight%
	if[%Mod% = 1] Set SOffset = -%interfloorheight%

	#Shaft 1 (East elevators)
	#LEFT SIDE ONLY (This had to be done to get the windows working)
	if[%Mod% = 0] CreateShaftWall(%6%4L, %6%4L, %6%4L, %6%4L, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1L2, 4, 0, false, true, false, false, false, false, false)
	if[%Mod% = 0] CreateShaftWall(%6%4, %6%4, %6%4, %6%4, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1U2, %SHeight% - 4, 4, false, true, false, false, false, false, false)
	if[%Mod% = 1] CreateShaftWall(%6%4, %6%4, %6%4, %6%4, %6%, %6%, 0.33, 25 - 2.5, 90, 2.5, 15, SH1Main, %SHeight%, %SOffset%, false, true, false, false, false, false, false)
<EndFloors>

<Floor 8>
	Set 6 = ExtFacade #Override
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 25, 90, 5, 15, SH1_Roof, %height% + 2, %interfloorheight%, true, true, true, true, true, false, true)

	#Machine room doors
	Set DTex = ServiceDoor1
	Set DSTex = %DTex%Side

	Set Door_MainX = 25 - 5
	Set Door_MainZ = 90

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_Shaft1MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft1MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

<Floors -1 to 7>
	#Inside windows
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	Set WH = 8
	Set WO = -0.75

	if[%Mod% = 1] Add3DWindows(E1Windows, 20, 100, left, 4 + 0.4, %WH%, %WO%, MainWindowsIntB, MainWindowsIntB, GLEShaftWall, 0.66 + 0.01, 1/4, 1)
	if[%Mod% = 1] Add3DWindows(E2Windows, 20, 90, left, 4 + 0.4, %WH%, %WO%, MainWindowsIntB, MainWindowsIntB, GLEShaftWall, 0.66 + 0.01, 1/4, 1)
	if[%Mod% = 1] Add3DWindows(E3Windows, 20, 80, left, 4 + 0.4, %WH%, %WO%, MainWindowsIntB, MainWindowsIntB, GLEShaftWall, 0.66 + 0.01, 1/4, 1)
<EndFloors>

#West elevators
AddStdShaft(2, 2, -80, 21, 19.67, 4.67, -4, 9, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)

	#Interior wall cuts for shaft walls
	<Floors -3 to 9>
		CutAll -100 + 0.33, 0, 16.5 - 0.1, -60 - 0.33, %fullheight%, 16.5 + 0.1, true, false #Front wall cuts
	<EndFloors>

#External walls for shaft 2
<Floors -3 to 9>
	WallTex()

	#Shaft 2 (West elevators)
	WallTex()
	Set ShowFront = false
	if[%floor% = -3 | %floor% > 7] Set ShowFront = true

	#Levels B-4
	Set ShowR&B = false #Show Right & Back
	if[%floor% = -3 | %floor% = 9] Set ShowR&B = true

		#ALL OTHER SIDES EXCEPT RIGHT/BACK
		if[%floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6PL2%, %6%, %6%, 0.33, -80, 21, 20, 5, SH2, %SHeight%, %SOffset%, %ShowFront%, true, %ShowR&B%, %ShowR&B%, false, false, false)

		#RIGHT/BACK SIDES ONLY
		#Separated into a new section.

	#Level 5 only
	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.33, -80, 21, 20, 5, SH2_Lower, %SHeightL%, %SOffsetL%, %ShowFront%, true, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -80, 21, 20, 5, SH2_Upper, %SHeightU%, %SOffsetU%, %ShowFront%, true, true, true, false, false, false)
<EndFloors>

<Floors -2 to 6>
	WallTex()
	Set SHeight2 = %height% + Floor(%floor% + 1).FullHeight #A special value for this section only

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Levels G-4
		#RIGHT/BACK SIDES ONLY
		if[%Mod% = 0] CreateShaftWall(%6%, %6%, %6%4L, %6%4L, %6%, %6%, 0.33, -80, 21, 20, 5, SH2L, 4, 0, false, false, true, true, false, false, false)
		if[%Mod% = 0] CreateShaftWall(%6%, %6%, %6%4, %6%4, %6%, %6%, 0.33, -80, 21, 20, 5, SH2U, %SHeight2% - 4, 4, false, false, true, true, false, false, false)
<EndFloors>

#Parking elevators
AddStdShaft(3, 2, -14, -6, 4.67, 9.67, -3, 9, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)
AddStdShaft(4, 2, 5, -6, 4.67, 9.67, -3, 9, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)
ShowFullShaft 3 = true
ShowFullShaft 4 = true

#External walls for shafts 3 and 4
<Floors -3 to 9>
	WallTex()
	
	Set PGShaftHeight = %fullheight%
	Set PGShaftOffset = 0
	if[%floor% = -3 | %floor% = 7] Set PGShaftHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight - 0.5
	if[%floor% = -3 | %floor% = 7] Set PGShaftOffset = 0
	if[%floor% = -2 | %floor% = 8] Set PGShaftHeight = %height%
	if[%floor% = -2 | %floor% = 8] Set PGShaftOffset = %interfloorheight%

	if[%floor% = -3] Set 6 = ParkingWall #Override
	if[%floor% > -3 & %floor% < 8] Set 6 = PGExtFacade2 #Override

	if[%floor% ! 8] CreateShaftWall(%6%, %6%, %6PL%, %6%, %6%, %6%, 0.33, -14, -6, 5, 10, SH3, %PGShaftHeight%, %PGShaftOffset%, true, true, true, true, false, false, true)
	if[%floor% ! 8] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.33, 5, -6, 5, 10, SH4, %PGShaftHeight%, %PGShaftOffset%, true, true, true, false, false, false, true)

	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.33, -14, -6, 5, 10, SH3L, %SHeightL%, %SOffsetL% + %interfloorheight%, true, true, true, true, false, false, true)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -14, -6, 5, 10, SH3U, %SHeightU%, %SOffsetU% + %interfloorheight%, true, true, true, true, false, false, true)
	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.33, 5, -6, 5, 10, SH4L, %SHeightL%, %SOffsetL% + %interfloorheight%, true, true, true, false, false, false, true)
	if[%floor% = 8] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.33, 5, -6, 5, 10, SH4U, %SHeightU%, %SOffsetU% + %interfloorheight%, true, true, true, false, false, false, true)

	#Storage next to Shaft 3
	if[%floor% < 8] Set STRHeight = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5
	if[%floor% < 8] Set STROffset = %interfloorheight%
	if[%floor% = 8] Set STRHeight = %height%
	if[%floor% = 8] Set STROffset = %interfloorheight%
	if[%floor% = 9] Set STRHeight = %fullheight%
	if[%floor% = 9] Set STROffset = 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! 8] AddWall STR1_Left, %6%, 0.5, -19, 4, -19, 16, %STRHeight%, %STRHeight%, %STROffset%, %STROffset%, 0, 0, true
	if[%floor% = 8] AddWall_CustomTex(STR1_Left_5F, 2, %6%_Lower, %6%, Blank, 0.5, -19, 4, -19, 16, 4, %STRHeight% - 4, 0, %interfloorheight%, true)

	WallOrientation = right
	TextureOverride %6%, %6PL%, Blank, Blank, Blank, Blank
	if[%floor% ! 8] AddWall STR1_Right, %6%, 0.5, -9, 4, -9, 16, %STRHeight%, %STRHeight%, %STROffset%, %STROffset%, 0, 0, true
	if[%floor% = -3 | %floor% = 9] AddWall STR1_Back, %6%, 0.5, -19, 16, -9, 16, %STRHeight%, %STRHeight%, %STROffset%, %STROffset%, 0, 0, true

	if[%floor% = 8] AddWall_CustomTex(STR1_Right_5F, 2, %6%_Lower, %6%, Blank, 0.5, -9, 4, -9, 16, 4, %STRHeight% - 4, 0, %interfloorheight%, true)
	if[%floor% = 8] AddWall_CustomTex(STR1_Back_5F, 2, %6%_Lower, %6%, Blank, 0.5, -19, 16, -9, 16, 4, %STRHeight% - 4, 0, %interfloorheight%, true)

		#Storage door
		Set DTex = Door1
		Set DSTex = Door1Side
		if[%floor% = 8] Set DTex = ServiceDoor3
		if[%floor% = 8] Set DSTex = ServiceDoor3Side
	
		Set Door_MainX = -9
		Set Door_MainZ = 6
	
		WallOrientation = right
		if[%floor% < 9] AddStdDoor DoorManager, %floorid%_STR1, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		if[%floor% < 9] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 3, 7, %interfloorheight%, false, 0, 0, true
<EndFloors>

<Floor 8>
	WallTex()

	#Storage behind Shaft 4
	Set STRHeight = %height% + Floor(9).FullHeight
	Set STROffset = 0

	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall STR2_Back_L, %6%_Lower, 0.5, 22, -16, 22, 4, 4, 4, %STROffset%, %STROffset%, 0, 0, false
	AddWall STR2_Back_U, %6%, 0.5, 22, -16, 22, 4, %STRHeight% - 4, %STRHeight% - 4, 4, 4, 0, 0, false

		#Storage ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EastStorageCeil, SLDropCeiling, 0.5, 10, -16.5, 22, 4, 10, 10, 0, 0, false

		#Storage door
		Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side
	
		Set Door_MainX = 22
		Set Door_MainZ = -6
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_STR2_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%_STR2_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
<EndFloor>

#Freight elevator
AddStdShaft(5, 1, 134, 37.25, 5.67, 8.92, -3, 10, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

	#Wall cuts for shaft walls
	<Floors -2 to 8>
		CutAll 139.5 - 0.1, 0, 37.25 - 7.67, 139.5 + 0.1, %fullheight%, 37.25 + 7.67, true, false #Right wall cuts
		if[%floor% = 8] CutAll 134 - 5.67, 0, 46 - 0.1, 134 + 5.67, %fullheight%, 46 + 0.1, true, false #Back wall cuts
	<EndFloors>
	
	#External walls for shaft 5
	<Floors -3 to 9>
		WallTex()
		Set FE-SWHeight = %height% + Floor(%floor% + 1).FullHeight

		Set ShowBack = true
		if[%floor% > 7] Set ShowBack = false
		if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 134, 37.25, 6, 9.25, SH5, %SHeight%, %SOffset%, true, true, false, %ShowBack%, false, false, false)

		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 134, 37.25, 6, 9.25, SH5, %FE-SWHeight%, 0, true, true, false, %ShowBack%, false, false, false)
		if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.33, 134, 37.25, 6, 9.25, SH5L, 4, 0, true, true, false, %ShowBack%, false, false, false)
		if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 134, 37.25, 6, 9.25, SH5U, %FE-SWHeight% - 4, 4, true, true, false, %ShowBack%, false, false, false)
	
		########################################
	
		#Freight elevator lobby walls
		Set FEL_Height = %height% + Floor(%floor% + 1).FullHeight
		if[%floor% = -3] Set FEL_Height = %height% + Floor(-2).InterfloorHeight - 0.5

		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6] AddWall FELbyLeft, %6%, 0.5, 116, 28, 116, 46.5, %FEL_Height%, %FEL_Height%, 0, 0, 0, 0, false
		if[%floor% = 8] AddWall FELbyLeftL, %6%_Lower, 0.5, 116, 28, 116, 46.5, 4, 4, 0, 0, 0, 0, false
		if[%floor% = 8] AddWall FELbyLeftU, %6%, 0.5, 116, 28, 116, 46.5, %FEL_Height% - 4, %FEL_Height% - 4, 4, 4, 0, 0, false
		WallOrientation = right
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6] AddWall FELbyBack, %6%, 0.5, 116, 46.5, 128, 46.5, %FEL_Height%, %FEL_Height%, 0, 0, 0, 0, false

		########################################

		#Freight elevator lobby doors (FELD for short)
		Set DTex = ServiceDoor1
		if[%floor% = -2] Set DTex = ServiceDoor2
		if[%floor% = 8] Set DTex = ServiceDoor3
		Set DSTex = %DTex%Side
	
		Set Door_MainX = 116 + 0.5
		Set Door_MainZ = 37.25

		WallOrientation = right
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddStdDoor Floor %floor%, %floorid%_FELD_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddStdDoor Floor %floor%, %floorid%_FELD_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

		#Dropped ceiling
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		if[%floor% = -2 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddFloor FEDropCeil, SLDropCeiling, 0.5, 116, 28, 128, 46.5, 10, 10, 0, 0, false
	<EndFloors>

	<Floor 10>
		#WallTex()
		Set 6 = ExtFacade #Override
		CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 134, 37.25, 6, 9.25, SH5, %fullheight%, 0, true, true, true, true, true, false, true)
	<EndFloor>

#Machine room doors
<Floor 10>
	Set DTex = ServiceDoor1
	Set DSTex = %DTex%Side

	Set Door_MainX = 134 - 6
	Set Door_MainZ = 37.25

	WallOrientation = left
	AddStdDoor DoorManager, %floorid%_Shaft5MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft5MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

#Office low-rise elevators
AddStdShaft(6, 1, -94, 152.5, 4.67, 9.67, -1, 18, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)
AddStdShaft(7, 1, -74, 152.5, 4.67, 9.67, -1, 18, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#Office high-rise elevators
AddStdShaft(8, 1, -94, 117.5, 4.67, 9.67, -1, 29, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)
AddStdShaft(9, 1, -74, 117.5, 4.67, 9.67, -1, 29, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#External walls for shafts 6-9
<Floors -1 to 29>
	WallTex()
	if[%floor% = -1] Set 6 = LLServiceWall #Override for office tower core only

	Set ShowBottom = false
	#if[%floor% = -1] Set ShowBottom = true
	
	Set ShowLR = false #Show or don't show either left/right sides, for walls covered restrooms
	if[%floor% = -1] Set ShowLR = true #Show or don't show either left/right sides, for walls covered restrooms

	#Shafts 6-7 (Low-rise)
	if[%floor% < 19 & %floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -94, 152.5, 5, 10, SH6, %SHeight%, %SOffset%, true, %ShowLR%, true, true, false, %ShowBottom%, false)
	if[%floor% < 19 & %floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -74, 152.5, 5, 10, SH7, %SHeight%, %SOffset%, true, true, %ShowLR%, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.33, -94, 152.5, 5, 10, SH6L, %SHeightL%, %SOffsetL%, true, %ShowLR%, true, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -94, 152.5, 5, 10, SH6U, %SHeightU%, %SOffsetU%, true, %ShowLR%, true, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.33, -74, 152.5, 5, 10, SH7L, %SHeightL%, %SOffsetL%, true, true, %ShowLR%, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -74, 152.5, 5, 10, SH7U, %SHeightU%, %SOffsetU%, true, true, %ShowLR%, true, false, %ShowBottom%, false)

	#Shafts 8-9 (High-rise)
	if[%floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -94, 117.5, 5, 10, SH8, %SHeight%, %SOffset%, true, false, true, true, false, %ShowBottom%, false)
	if[%floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -74, 117.5, 5, 10, SH9, %SHeight%, %SOffset%, true, true, false, true, false, %ShowBottom%, false)

	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.33, -94, 117.5, 5, 10, SH8L, %SHeightL%, %SOffsetL%, true, false, true, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -94, 117.5, 5, 10, SH8U, %SHeightU%, %SOffsetU%, true, false, true, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.33, -74, 117.5, 5, 10, SH9L, %SHeightL%, %SOffsetL%, true, true, false, true, false, %ShowBottom%, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -74, 117.5, 5, 10, SH9U, %SHeightU%, %SOffsetU%, true, true, false, true, false, %ShowBottom%, false)
<EndFloors>

<Floors 10 to 16>
	#Elevator lobby sign
	AddBoxSign(PElevLbySign, Sign_Elev, Sign_Elev, WoodSign2, 0.1, false, true, true, -89 - 0.5, 142.5 - 0.75, 1.5, 1.5, 8, false)
<EndFloors>

<Floors 17 to 27>
	#Elevator lobby sign
	AddBoxSign(PElevLbySign, Sign_Elev, Sign_Elev, WoodSign2, 0.1, false, true, true, -79 + 0.5, 127.5 + 0.75, 1.5, 1.5, 8, false)
<EndFloors>

#Machine room doors
<Floor 18>
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side

	Set Door_MainX = -94 + 5
	Set Door_MainZ = 152.5

	WallOrientation = right
	AddStdDoor Floor %floor%, %floorid%_Shaft8MR_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft8MR_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

	Set Door_MainX = -74 - 5
	Set Door_MainZ = 152.5

	WallOrientation = left
	AddStdDoor Floor %floor%, %floorid%_Shaft9MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft9MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
<EndFloor>

<Floor 29>
	Set DTex = ServiceDoor1
	Set DSTex = %DTex%Side

	Set Door_MainX = -94 + 5
	Set Door_MainZ = 117.5

	WallOrientation = right
	AddStdDoor Floor %floor%, %floorid%_Shaft8MR_L, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft8MR_R, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false

	Set Door_MainX = -74 - 5
	Set Door_MainZ = 117.5

	WallOrientation = left
	AddStdDoor Floor %floor%, %floorid%_Shaft9MR_L, , , false, %DTex%, %DSTex%, 0.2, right, left, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, 0, 0, 0, 0, 0
	AddStdDoor Floor %floor%, %floorid%_Shaft9MR_R, , , false, %DTex%, %DSTex%, 0.2, left, left, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, 0, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, 0, false, 0, 0, false
<EndFloor>

#Office service elevator
AddStdShaft(10, 1, -52, 109.5, 4.67, 5.67, -2, 30, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

#External walls for shaft 10
<Floors -2 to 29>
	WallTex()
	if[%floor% = -1] Set 6 = LLServiceWall #Override for office tower core only
	if[%floor% = -1] Set 6A = LLServiceWall #Override for office tower core only

	if[%floor% ! 8] CreateShaftWall(%6X%, %6%, %6X%, %6A%, %6%, %6%, 0.33, -52, 109.5, 5, 6, SH10, %SHeight%, %SOffset%, true, false, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.33, -52, 109.5, 5, 6, SH10L, %SHeightL%, %SOffsetL%, true, false, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6A%, %6%, %6%, 0.33, -52, 109.5, 5, 6, SH10U, %SHeightU%, %SOffsetU%, true, false, true, true, false, false, false)

	Set 6 = ParkingWall2 #Override
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -52, 109.5, 5, 6, SH10-IFloor, %interfloorheight% - 0.5, 0, true, false, true, true, false, true, true)
<EndFloors>

<Floors 0 to 27>
	WallTex() #Set wall textures

		#Service elevator lobby walls
		Set SEL_Height = %height% + Floor(%floor% + 1).FullHeight
		if[%floor% = -1 | %floor% > 9] Set SEL_Height = %height%

		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6A%, %6%, Blank, Blank, Blank, Blank
		if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 8 & %floor% ! 9] AddWall SELbyRight, %6%, 0.5, -47, 127.5 - 12, -47, 127.5, %SEL_Height%, %SEL_Height%, 0, 0, 0, 0, false
		TextureOverride %6A%, %6%, Blank, Blank, Blank, Blank
		if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 8 & %floor% ! 9] AddWall SELbyBack, %6%, 0.5, -57, 127.5, -47, 127.5, %SEL_Height%, %SEL_Height%, 0, 0, 0, 0, false

			#Walls on the 5th floor
			Set SEL_Height2 = %SEL_Height% - 4
			WallOrientation = right
			DrawWalls = true, true, false, false, false, false
			if[%floor% = 8] AddWall_CustomTex(SELbyRight_5F, 2, %6%_Lower3, %6%, Blank, 0.5, -47, 127.5 - 12, -47, 127.5, 4, %SEL_Height2%, 0, 0, false)
			if[%floor% = 8] AddWall_CustomTex(SELbyBack_5F, 2, %6%_Lower3, %6%, Blank, 0.5, -57, 127.5, -47, 127.5, 4, %SEL_Height2%, 0, 0, false)

		########################################

		#Service elevator lobby doors (SELD for short)
		Set DTex = ServiceDoor3
		#if[%floor% = 8 | %floor% = 9] Set DTex = ServiceDoor1
		if[%floor% > 9] Set DTex = ServiceDoor2
		Set DSTex = %DTex%Side
	
		Set Door_MainX = -52
		Set Door_MainZ = 127.5 - 0.5

		WallOrientation = left
		if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStdDoor Floor %floor%, %floorid%_SELD_L, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStdDoor Floor %floor%, %floorid%_SELD_R, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, true, 0, 0, false

		#Dropped ceiling
		Set SELD_CeiHeight = %height%
		if[%floor% < 10] Set SELD_CeiHeight = 10.5
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddFloor SEDropCeil, SLDropCeiling, 0.5, -57, 127.5 - 12, -47, 127.5, %SELD_CeiHeight%, %SELD_CeiHeight%, 0, 0, false

	#Elevator lobby sign
	if[%floor% > 9] AddBoxSign(SElevLbySign, Sign_ServiceElevA, Sign_ServiceElevB, WoodSign2, 0.1, false, true, true, %Door_MainX%, %Door_MainZ% + 0.5 + 0.75, 1.5, 1.5, 8, false)
<EndFloors>

<Floors 10 to 27>
	#Service lobby floor (6th-23rd floors)
	CutAll -57, %interfloorheight% - 0.1, 127.5 - 12.66, -47, %interfloorheight% + 0.1, 127.5 - 0.5 + 0.2, false, true #Floor cuts
	if[%floor% > 16] CutAll -57, %fullheight% - 0.1, 127.5 - 12.66, -47, %fullheight% + 0.1, 127.5, false, true #Ceiling cuts

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor F%floorid%_SELbyFloor, OfficeFloor2, 0.5, -57, 127.5 - 12.66, -47, 127.5 - 0.5, 0, 0, 0, 0, false
	AddFloor F%floorid%_SELbyFloorTrim, BlackTrim, 0.5, -57, 127.5 - 0.5, -47, 127.5 - 0.5 + 0.2, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 16] AddFloor F%floorid%_SELbyCeiling, OfficeCeiling, 0.5, -57, 127.5 - 12.66, -47, 127.5, %height%, %height%, 0, 0, false
<EndFloors>

<Floor 30>
	#WallTex()
	Set 6 = ExtFacade #Override
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -52, 109.5, 5, 6, SH10-Rofo, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Machine room doors
	Set DTex = ServiceDoor3
	Set DSTex = %DTex%Side

	Set Door_MainX = -52
	Set Door_MainZ = 109.5 + 6

	WallOrientation = right
	AddStdDoor DoorManager, %floorid%_Shaft10MR_L, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddStdDoor DoorManager, %floorid%_Shaft10MR_R, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

##--------------------------------------------------------------------------------##

#ELEVATORS
#East Elevators
<Elevator 1>
	Name = East Elevator 1
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6
	AssignedShaft = 1
	CreateElevator true, -1.92, 10, 0
<EndElevator>

<Elevator 2>
	Name = East Elevator 2
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6
	AssignedShaft = 1
	CreateElevator true, -1.92, 0, 0
<EndElevator>

<Elevator 3>
	Name = East Elevator 3
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6
	AssignedShaft = 1
	CreateElevator true, -1.92, -10, 6
<EndElevator>

#Button creation function (Elevators 1-3)
<Function BtnPanelE1-3>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 1, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 2, 2, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 3, 2, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 1, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 1, 1, off, 0.45, 0.45, -0.75, 0
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 2, 1, -2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 3, 1, -3, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 5, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 5, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 6, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 6, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 3>
	DisplayFloors = -3, -2, 0, 2, 4, 6
	RecallFloor = 0

	Set Prefix = East
	AutoEnable = false

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt2, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(3.84, 6, 8, 1.5, 0.2, true, false, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1, 1, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Interior walls detailing
		#1. Panoramic cab
		Floors and ceiling
		DrawWalls = true, false, false, false, false, false
		AddCustomFloor elevator, FloorInt, %Prefix%ElevFloor, 1.92, -3, 1.92 + 2, -3, 1.92 + 3.66, -1.5, 1.92 + 3.66, 1.5, 1.92 + 2, 3, 1.92, 3, 0, 0, 0
		DrawWalls = false, true, false, false, false, false
		AddCustomFloor elevator, FloorExt, ElevExt2, 1.92, -3, 1.92 + 2, -3, 1.92 + 3.66, -1.5, 1.92 + 3.66, 1.5, 1.92 + 2, 3, 1.92, 3, -1.5, 0, 0
		DrawWalls = true, true, false, false, false, false
		AddCustomFloor elevator, Ceiling, Blank, 1.92, -3, 1.92 + 2, -3, 1.92 + 3.66, -1.5, 1.92 + 3.66, 1.5, 1.92 + 2, 3, 1.92, 3, 8 + 1.5, 0, 0

		#Floor covering walls
		DrawWalls = true, false, false, false, false, false
		AddWall GlassWall1_Ext, ElevExt2, 0, 1.92, -3, 1.92 + 2, -3, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall2_Ext, ElevExt2, 0, 1.92 + 2, -3, 1.92 + 3.66, -1.5, 1.5, 1.5, -1.5, -1.5, 0, 0
		DrawWalls = false, true, false, false, false, false
		AddWall GlassWall3_Ext, ElevExt2, 0, 1.92 + 3.66, -1.5, 1.92 + 3.66, 1.5, 1.5, 1.5, -1.5, -1.5, 0, 0
		DrawWalls = false, true, false, false, false, false
		AddWall GlassWall4_Ext, ElevExt2, 0, 1.92 + 3.66, 1.5, 1.92 + 2, 3, 1.5, 1.5, -1.5, -1.5, 0, 0
		AddWall GlassWall5_Ext, ElevExt2, 0, 1.92 + 2, 3, 1.92, 3, 1.5, 1.5, -1.5, -1.5, 0, 0

		#Glass walls
		DrawWalls = true, true, false, false, false, false
		AddWall GlassWall1, %Prefix%ElevWallGlass, 0, 1.92, -3, 1.92 + 2, -3, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall2, %Prefix%ElevWallGlass, 0, 1.92 + 2, -3, 1.92 + 3.66, -1.5, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall3, %Prefix%ElevWallGlass, 0, 1.92 + 3.66, -1.5, 1.92 + 3.66, 1.5, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall4, %Prefix%ElevWallGlass, 0, 1.92 + 3.66, 1.5, 1.92 + 2, 3, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0
		AddWall GlassWall5, %Prefix%ElevWallGlass, 0, 1.92 + 2, 3, 1.92, 3, 8 + 1.5, 8 + 1.5, 0, 0, 0, 0

		#2. Walls
		WallOrientation = right
		DrawWalls = false, true, false, false, false, false
		AddWall LeftInt-Link, %Prefix%ElevWall, 0, 1.92, -3, 1.92, -2.8, 8, 8, 0, 0, 0, 0
		WallOrientation = right
		DrawWalls = false, true, false, false, false, false
		AddWall RightInt-Link, %Prefix%ElevWall, 0, 1.92, 2.8, 1.92, 3, 8, 8, 0, 0, 0, 0
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddWall CeilingDeco, %Prefix%ElevCeilingDeco, 0.01, 1.92, -3, 1.92, 3, 1.5, 1.5, 8, 8, 0, 0

		#3. Ceiling lights
		CreateWallBox2 elevator, Light1A, %Prefix%ElevCeilingLight, 0.1 - 0.9, -2.8 + 0.75, 1.6, 1.25, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light1B, %Prefix%ElevCeilingLight, 0.1 + 0.9, -2.8 + 0.75, 1.6, 1.25, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2A, %Prefix%ElevCeilingLight, 0.1 - 0.9, 2.8 - 0.75, 1.6, 1.25, 0.08, 8 - 0.08, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Light2B, %Prefix%ElevCeilingLight, 0.1 + 0.9, 2.8 - 0.75, 1.6, 1.25, 0.08, 8 - 0.08, 0, 0, false, true, true, true

		#4. Panels on walls
		Set WPTex = %Prefix%ElevWallPanel

		CreateWallBox2 elevator, Panel_Front, %WPTex%, 0.1, -2.8 + 0.01, 2, 0.02, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_Back, %WPTex%, 0.1, 2.8 - 0.01, 2, 0.02, 8 - 1.5 - 0.08, 0.75, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -1.92

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%Side, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2Side, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, -2.12, -(2 * 2), -1.92, 2 * 2, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.4 #Right panel
	Set Position2 = -2.4 #Left panel

		#Panel
		CreatePanel , 6, 2, right, -1.72 + 0.001, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 6, 2, right, -1.72 + 0.001, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE1-3(1)
			BtnPanelE1-3(2)

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -1.72 + 0.001, 0 - 0.25, -1.72 + 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicators
	AddFloorIndicator MAInd_Button, right, -1.72 + 0.001, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, right, -1.72 + 0.001, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 9.5, 0
		RopeTexture = Ropes
	
		#Counterweight
		if[%elevator% < 3] Set Position = 3 + 0.75
		if[%elevator% = 3] Set Position = -3 - 0.75
	
		CreateCounterweight CWeight_Frame, CWeight, -0.5, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, -0.5, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#West Elevators
#Set the motors' position
<Elevators 4 to 7>
	MotorPosition = 0, Floor(10).Altitude - 0.5, 0
<EndElevators>

<Elevator 4>
	Name = West Elevator 1
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6, 8
	AssignedShaft = 2
	CreateElevator true, 15, 0.59, 0
<EndElevator>

<Elevator 5>
	Name = West Elevator 2
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6, 8
	AssignedShaft = 2
	CreateElevator true, 5, 0.59, 0
<EndElevator>

<Elevator 6>
	Name = West Elevator 3
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6, 8
	AssignedShaft = 2
	CreateElevator true, -5, 0.59, 8
<EndElevator>

<Elevator 7>
	Name = West Elevator 4
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3, -2, 0, 2, 4, 6, 8
	AssignedShaft = 2
	CreateElevator true, -15, 0.59, 8
<EndElevator>

#Button creation function (Elevators 4-7)
<Function BtnPanelE4-7>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 2, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 3, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 4, 2, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 2, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 3, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 3, 1, off, 0.45, 0.45, -0.75, 0
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 4, 1, -2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 5, 1, -3, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 7, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 7, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 8, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 8, 2, alarm, 1, 1
<EndFunction>

<Elevators 4 to 7>
	DisplayFloors = -3, -2, 0, 2, 4, 6, 8
	RecallFloor = 0

	Set Prefix = West

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, true, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Lights
	CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, 0, 0 + 1.5, 6, 2.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 0, 0 - 1.5, 6, 2.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0 + (6.6 * 1/4), -3.05 + 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.3 + 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.3 - 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP%, 2 + (2 * 1), %IDP% + 0.2, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right panel
	Set Position2 = -2.65 #Left panel

		#Panels
		CreatePanel ElevPanel, 9, 2, front, %Position%, 3.05 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel ElevPanel, 9, 2, front, %Position2%, 3.05 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE4-7(1)
			BtnPanelE4-7(2)

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 3.05 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, front, %Position%, 3.05 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, front, %Position2%, 3.05 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75

		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#Parking Elevators
	#These elevator don't stop at B.
	#This to simulate how some real buildings allocate the lowest basement level for the shaft pit.

#Set the motors' position
<Elevators 8 to 11>
	MotorPosition = 0, Floor(10).Altitude - 0.5, 0
<EndElevators>

<Elevator 8>
	Name = Parking Elevator 1
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 8
	AssignedShaft = 3
	CreateElevator true, 0.59, -5, 0
<EndElevator>

<Elevator 9>
	Name = Parking Elevator 2
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 8
	AssignedShaft = 3
	CreateElevator true, 0.59, 5, 0
<EndElevator>

#Button creation function (Elevators 8-11)
<Function BtnPanelE8-11>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 2, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4A, %BtnPrefix%Lit4A, 3, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 4, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3A, %BtnPrefix%Lit3A, 5, 2, 5, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 6, 2, 4, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%2A, %BtnPrefix%Lit2A, 2, 1, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1A, %BtnPrefix%Lit1A, 4, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 5, 1, off, 0.45, 0.45, -0.75, 0
	AddButton %PanelNumber%, , %BtnPrefix%LL, %BtnPrefix%LitLL, 6, 1, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 7, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 9, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 9, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 10, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 10, 2, alarm, 1, 1
<EndFunction>

<Elevators 8 to 9>
	Set Prefix = Parking

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2 - (2 * 1), %IDP% + 0.2, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.65 #Right panel
	Set Position2 = 2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, 3.05 - 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, 3.05 - 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 11, 2, left, 3.05 - 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 11, 2, left, 3.05 - 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE8-11(1)
			BtnPanelE8-11(2)

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 3.05 - 0.001, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevator 10>
	Name = Parking Elevator 3
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 8
	AssignedShaft = 4
	CreateElevator true, -0.59, -5, 8
<EndElevator>

<Elevator 11>
	Name = Parking Elevator 4
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 8
	AssignedShaft = 4
	CreateElevator true, -0.59, 5, 8
<EndElevator>

<Elevators 10 to 11>
	Set Prefix = Parking

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - 0.2, -2 - (2 * 1), %IDP%, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right panel
	Set Position2 = -2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, -3.05 + 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, -3.05 + 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 11, 2, right, -3.05 + 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 11, 2, right, -3.05 + 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE8-11(1)
			BtnPanelE8-11(2)

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -3.05 + 0.001, 0 - 0.25, -3.05 + 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3.25 + 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevators 8 to 11>
	RecallFloor = 0

	#DETAILED INTERIORS
	#1. Lights
	CreateWallBox2 elevator, E%elevator%_Light1/1, %Prefix%ElevCeilingLight, 0 - 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/2, %Prefix%ElevCeilingLight, 0, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/3, %Prefix%ElevCeilingLight, 0 + 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/1, %Prefix%ElevCeilingLight, 0 - 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/2, %Prefix%ElevCeilingLight, 0, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/3, %Prefix%ElevCeilingLight, 0 + 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		if[%elevator% < 10] CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.05 + 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% < 10] CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.05 + 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		if[%elevator% > 9] CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.05 - 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% > 9] CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.05 - 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
<EndElevators>

#Button panel for freight elevator
<Function BtnPanelE12>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%LitBlue5, 1, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%LitBlue4, 2, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%LitBlue3, 3, 2, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%LitBlue2, 1, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%LitBlue1, 2, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 2, 1, off, 0.45, 0.45, -0.75, 0
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitBlueB1, 3, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Hold, %BtnPrefix%Hold, 5, 1, hold, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 7, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 7, 2, alarm, 1, 1
<EndFunction>

#Freight Elevator
<Elevator 12>
	Name = Freight
	Type = Freight
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2, 0, 2, 4, 6, 8
	DisplayFloors = -2, 0, 2, 4, 6, 8
	AssignedShaft = 5
	CreateElevator true, 0, 0, 0
	
	#Set values
	RecallFloor = 0
	Set Prefix = Freight
	AutoEnable = false

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.68, 12.5, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 0.25, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, FE_CL_Front, %Prefix%ElevCeilingLight, 0, -6.05 + 1.25, 9, 2, 0.05, 8 - 0.05, 0, 0, false, true, true, true
	CreateWallBox2 elevator, FE_CL_Back, %Prefix%ElevCeilingLight, 0, 6.05 - 1.25, 9, 2, 0.05, 8 - 0.05, 0, 0, false, true, true, true

	#2. Ceiling trims
	CreateWallBox2 elevator, FE_CL_Trim, %Prefix%ElevCeilingTrim, 0, 0, 9.68 - 0.4, 5, 0.08, 8 - 0.08, 0, 0, false, true, true, true

	#3. Wall trims
	Set WPTex = %Prefix%ElevWallTrim
	Set WPanelHeight = 8
	Set Direction = %param2%

		#Front
		CreateWallBox2 elevator, E%elevator%_FWT1, %WPTex%, -1.5, -6.05 + 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_FWT2, %WPTex%, 1.5, -6.05 + 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Back
		CreateWallBox2 elevator, E%elevator%_BWT1, %WPTex%, -1.5, 6.05 - 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_BWT2, %WPTex%, 1.5, 6.05 - 0.01, 0.2, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Right
		CreateWallBox2 elevator, E%elevator%_RWT1, %WPTex%, 4.64 - 0.01, -3, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_RWT2, %WPTex%, 4.64 - 0.01, 0, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, E%elevator%_RWT3, %WPTex%, 4.64 - 0.01, 3, 0.02, 0.2, %WPanelHeight%, 0, 0, 0, false, true, true, true

	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -4.84

	WallOrientation = right
	AddDoorComponent 1, VFDoorInside1, %ElevDoorTex%, FEDoor_Side, 0.2, up, 0.2, %IDP%, -6, %IDP%, 6, 7, 0, 5, 2, 0, 0
	AddDoorComponent 1, VFDoorInside2, %ElevDoorTex%2, Blank, 0.199, up, 0.2, %IDP% - 0.0005, -6, %IDP% - 0.0005, 6, 7, 0, 30/4, 18, 0, 0
	FinishDoors 1, false, false
	DoorSensor 1 = false #Disable door sensor for freight elevator.

		#Door sill
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, FreightDoorSill, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorSill, FreightDoorSill, 1, %IDP% - 0.2, -6, %IDP%, 6, 0, 0, 0, 0	
	#--------------------
	#Button Panels
	Set Position = 6.05 - 0.051 #Right panel
	Set Position2 = -6.05 + 0.051 #Left panel
	Set PanelCenter = -4.64 + 0.75

		#Panel back
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		AddWall PanelBack, ElevPanel2, 0.05, %PanelCenter% - 0.35, 6.05, %PanelCenter% + 0.35, 6.05, 4.75, 4.75, 1.875, 1.875, 0, 0

		#Panels
		CreatePanel , 7, 2, front, %PanelCenter%, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE12(1)

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = true, false, false, false, false, false
	AddWall ProximityScanner, HIDScanGreen, 0, %PanelCenter% - (%PScanWidth% / 2), %Position%, %PanelCenter% + (%PScanWidth% / 2), %Position%, %PSscanHeight%, %PSscanHeight%, 4.3, 4.3, 0, 0

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %PanelCenter% - 0.25, %Position%, %PanelCenter% + 0.25, %Position%, 0.5, 0.5, 6.3 - 0.375, 6.3 - 0.375, 0, 0

	#Indicator
	AddFloorIndicator MAInd_Button, front, %PanelCenter%, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143 - 0.25
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 6.25 + 0.8
	
		#CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 3, 7.5, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 6.25 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1.5 + 0.06, 0.1
<EndElevator>

#Office Low-Rise Elevators
<Elevator 13>
	Name = Office Low-Rise Elevator 1
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10 - 16
	AssignedShaft = 6
	CreateElevator true, 0.59, 5, 0
<EndElevator>

<Elevator 14>
	Name = Office Low-Rise Elevator 2
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10 - 16
	AssignedShaft = 6
	CreateElevator true, 0.59, -5, 0
<EndElevator>

#Button creation function (Office Low-Rise)
<Function BtnPanelOLR>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%12, %BtnPrefix%Lit12, 2, 2, 16, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%11, %BtnPrefix%Lit11, 3, 2, 15, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%10, %BtnPrefix%Lit10, 4, 2, 14, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%9, %BtnPrefix%Lit9, 5, 2, 13, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%8, %BtnPrefix%Lit8, 6, 2, 12, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%7, %BtnPrefix%Lit7, 7, 2, 11, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 2, 1, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 3, 1, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 4, 1, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 5, 1, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 6, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 7, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 7, 1, off, 0.45, 0.45, -0.75, 0

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 9, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 9, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 10, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 10, 2, alarm, 1, 1
<EndFunction>

<Elevators 13 to 14>
	Set Prefix = Office

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2 - (2 * 1), %IDP% + 0.2, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.65 #Right panel
	Set Position2 = 2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, 3.05 - 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, 3.05 - 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 11, 2, left, 3.05 - 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 11, 2, left, 3.05 - 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelOLR(1)
			BtnPanelOLR(2)

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 3.05 - 0.001, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevator 15>
	Name = Office Low-Rise Elevator 3
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10 - 16
	AssignedShaft = 7
	CreateElevator true, -0.59, 5, 16
<EndElevator>

<Elevator 16>
	Name = Office Low-Rise Elevator 4
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10 - 16
	AssignedShaft = 7
	CreateElevator true, -0.59, -5, 16
<EndElevator>

<Elevators 15 to 16>
	Set Prefix = Office

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - 0.2, -2 - (2 * 1), %IDP%, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right panel
	Set Position2 = -2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, -3.05 + 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, -3.05 + 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 11, 2, right, -3.05 + 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 11, 2, right, -3.05 + 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelOLR(1)
			BtnPanelOLR(2)

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -3.05 + 0.001, 0 - 0.25, -3.05 + 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3.25 + 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevators 13 to 16>
	DisplayFloors = 0, 2, 4, 6, 8, 10 - 16

	#DETAILED INTERIORS
	#1. Lights
	#CreateWallBox2 elevator, E%elevator%_Light1/1, %Prefix%ElevCeilingLight, 0 - 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light1/2, %Prefix%ElevCeilingLight, 0, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light1/3, %Prefix%ElevCeilingLight, 0 + 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/1, %Prefix%ElevCeilingLight, 0 - 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/2, %Prefix%ElevCeilingLight, 0, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/3, %Prefix%ElevCeilingLight, 0 + 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		if[%elevator% < 15] CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.05 + 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% < 15] CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.05 + 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		if[%elevator% > 14] CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.05 - 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% > 14] CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.05 - 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
<EndElevators>

#Office High-Rise Elevators
<Elevator 17>
	Name = Office High-Rise Elevator 1
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 8, 17 - 27
	AssignedShaft = 8
	CreateElevator true, 0.59, 5, 0
<EndElevator>

<Elevator 18>
	Name = Office High-Rise Elevator 2
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 8, 17 - 27
	AssignedShaft = 8
	CreateElevator true, 0.59, -5, 0
<EndElevator>

#Button creation function (Office High-Rise)
<Function BtnPanelOHR>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%23, %BtnPrefix%Lit23, 2, 2, 27, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%22, %BtnPrefix%Lit22, 3, 2, 26, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%21, %BtnPrefix%Lit21, 4, 2, 25, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%20, %BtnPrefix%Lit20, 5, 2, 24, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%19, %BtnPrefix%Lit19, 6, 2, 23, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%18, %BtnPrefix%Lit18, 7, 2, 22, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%17, %BtnPrefix%Lit17, 2, 1, 21, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%16, %BtnPrefix%Lit16, 3, 1, 20, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%15, %BtnPrefix%Lit15, 4, 1, 19, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%14, %BtnPrefix%Lit14, 5, 1, 18, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%13, %BtnPrefix%Lit13, 6, 1, 17, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 7, 1, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 8, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 8, 1, off, 0.45, 0.45, -0.75, 0

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 10, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 10, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 11, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 11, 2, alarm, 1, 1
<EndFunction>

<Elevators 17 to 18>
	Set Prefix = Office

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor2, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP%, -2 - (2 * 1), %IDP% + 0.2, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.65 #Right panel
	Set Position2 = 2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, 3.05 - 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, 3.05 - 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 13, 2, left, 3.05 - 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 13, 2, left, 3.05 - 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelOHR(1)
			BtnPanelOHR(2)

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 3.05 - 0.001, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, left, 3.05 - 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevator 19>
	Name = Office High-Rise Elevator 3
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 8, 17 - 27
	AssignedShaft = 9
	CreateElevator true, -0.59, 5, 27
<EndElevator>

<Elevator 20>
	Name = Office High-Rise Elevator 4
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 8, 17 - 27
	AssignedShaft = 9
	CreateElevator true, -0.59, -5, 27
<EndElevator>

<Elevators 19 to 20>
	Set Prefix = Office

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor2, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6.5, 7, 8, 0.2, 0.2, true, false, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, true, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %IDP% - 0.2, -2 - (2 * 1), %IDP%, 2 + (2 * 1), 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right panel
	Set Position2 = -2.65 #Left panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel2, -3.05 + 0.025, %Position%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel2, -3.05 + 0.025, %Position2%, 0.05, 0.7, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 13, 2, right, -3.05 + 0.051, %Position%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0
		CreatePanel , 13, 2, right, -3.05 + 0.051, %Position2%, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelOHR(1)
			BtnPanelOHR(2)

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -3.05 + 0.001, 0 - 0.25, -3.05 + 0.001, 0 + 0.25, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	AddFloorIndicator MAInd_Button, right, -3.05 + 0.051, %Position2%, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3.25 + 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, true, 3.5 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevators 17 to 20>
	DisplayFloors = 0, 2, 4, 6, 8, 10 - 27

	#DETAILED INTERIORS
	#1. Lights
	#CreateWallBox2 elevator, E%elevator%_Light1/1, %Prefix%ElevCeilingLight, 0 - 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light1/2, %Prefix%ElevCeilingLight, 0, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light1/3, %Prefix%ElevCeilingLight, 0 + 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/1, %Prefix%ElevCeilingLight, 0 - 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/2, %Prefix%ElevCeilingLight, 0, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2/3, %Prefix%ElevCeilingLight, 0 + 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel2
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), -3.3 + 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (6.1 * 1/4), 3.3 - 0.01, (6.1 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		if[%elevator% < 19] CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.05 + 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% < 19] CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.05 + 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		if[%elevator% > 18] CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.05 - 0.01, 0 - (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		if[%elevator% > 18] CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.05 - 0.01, 0 + (6.6 * 1/4), 0.02, (6.6 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
<EndElevators>

<Elevators 13 to 20>
	#DETAILED INTERIORS
	#1. Lights
	CreateWallBox2 elevator, E%elevator%_Light1/1, %Prefix%ElevCeilingLight, 0 - 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/2, %Prefix%ElevCeilingLight, 0, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1/3, %Prefix%ElevCeilingLight, 0 + 2, -3.3 + 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/1, %Prefix%ElevCeilingLight, 0 - 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/2, %Prefix%ElevCeilingLight, 0, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2/3, %Prefix%ElevCeilingLight, 0 + 2, 3.3 - 0.8, 1.8, 1.5, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Downlights
	Set DLOffset = 8 - 0.001
	FloorOrientation = top
	DrawWalls = true, false, false, false, true, true
	AddFloor Downlight1A, %Prefix%ElevCeilingDL, 0, -1.75 - 0.11, 0.85 - 0.11, -1.75 + 0.11, 0.85 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight1B, %Prefix%ElevCeilingDL, 0, 1.75 - 0.11, 0.85 - 0.11, 1.75 + 0.11, 0.85 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight2A, %Prefix%ElevCeilingDL, 0, -1.75 - 0.11, -0.85 - 0.11, -1.75 + 0.11, -0.85 + 0.11, %DLOffset%, %DLOffset%, 0, 0
	AddFloor Downlight2B, %Prefix%ElevCeilingDL, 0, 1.75 - 0.11, -0.85 - 0.11, 1.75 + 0.11, -0.85 + 0.11, %DLOffset%, %DLOffset%, 0, 0
<EndElevators>

#Buttons for office service elevator
<Function BtnPanelE21>
	Set PanelNumber = %param1%
	Set ButtonPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%24, %BtnPrefix%Lit24, 2, 3, 28, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%23, %BtnPrefix%Lit23, 2, 2, 27, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%22, %BtnPrefix%Lit22, 2, 1, 26, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%21, %BtnPrefix%Lit21, 3, 3, 25, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%20, %BtnPrefix%Lit20, 3, 2, 24, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%19, %BtnPrefix%Lit19, 3, 1, 23, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%18, %BtnPrefix%Lit18, 4, 3, 22, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%17, %BtnPrefix%Lit17, 4, 2, 21, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%16, %BtnPrefix%Lit16, 4, 1, 20, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%15, %BtnPrefix%Lit15, 5, 3, 19, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%14, %BtnPrefix%Lit14, 5, 2, 18, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%13, %BtnPrefix%Lit13, 5, 1, 17, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%12, %BtnPrefix%Lit12, 6, 3, 16, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%11, %BtnPrefix%Lit11, 6, 2, 15, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%10, %BtnPrefix%Lit10, 6, 1, 14, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%9, %BtnPrefix%Lit9, 7, 3, 13, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%8, %BtnPrefix%Lit8, 7, 2, 12, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%7, %BtnPrefix%Lit7, 7, 1, 11, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 8, 3, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 8, 2, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 8, 1, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 9, 3, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 9, 2, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 9, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 9, 1, off, 0.45, 0.45, -0.75, 0
	AddButton %PanelNumber%, , %BtnPrefix%LL, %BtnPrefix%LitLL, 10, 2, -1, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 12, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 12, 3, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 13, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 13, 3, alarm, 1, 1
<EndFunction>

#Office Service Elevator
<Elevator 21>
	Name = Office Service Elevator
	Type = Service
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 0, 2, 4, 6, 8, 10 - 28
	DisplayFloors = -1 - 0, 2, 4, 6, 8, 10 - 28
	AssignedShaft = 10
	CreateElevator true, 0 - 0.5, 0, 0
	#--------------------
	RecallFloor = 0
	Set Prefix = Service

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6, 9.28, 8, 0.2, 0.2, true, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 1.25, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#MORE DETAILED INTERIORS
	#1. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.1 - 0.5

		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (5.6 * 1/4), -4.44 + 0.01, (5.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (5.6 * 1/4), -4.44 + 0.01, (5.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -2.8 + 0.01, 0 - (8.88 * 1/3), 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -2.8 + 0.01, 0, 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L3, %WPTex%, -2.8 + 0.01, 0 + (8.88 * 1/3), 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 2.8 - 0.01, 0 - (8.88 * 1/3), 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 2.8 - 0.01, 0, 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R3, %WPTex%, 2.8 - 0.01, 0 + (8.88 * 1/3), 0.02, (8.88 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

	#2. Ceiling lights
	CreateWallBox2 elevator, CL_Left1, %Prefix%ElevCeilingLight, -2.8 + (1.5 / 2), 0 - 2.95, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Left2, %Prefix%ElevCeilingLight, -2.8 + (1.5 / 2), 0, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Left3, %Prefix%ElevCeilingLight, -2.8 + (1.5 / 2), 0 + 2.95, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	CreateWallBox2 elevator, CL_Right1, %Prefix%ElevCeilingLight, 2.8 - (1.5 / 2), 0 - 2.95, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Right2, %Prefix%ElevCeilingLight, 2.8 - (1.5 / 2), 0, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, CL_Right3, %Prefix%ElevCeilingLight, 2.8 - (1.5 / 2), 0 + 2.95, 1.5, 2.7, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 4.64

	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.8, 0.6, -2.75, %IDP% + (0.15 * 1), -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, right, 0.4, 0.3, -2.75 + (2.25 * 1), %IDP%, -2.75 + (2.25 * 2), %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2.75, %IDP%, -2.75 + (2.25 * 3), %IDP% + (0.15 * 2), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, -2.75, %IDP%, -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), 7, 7, 0, 0

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.15 * 2, -3, %IDP%, -2.75, %IDP%, 7, 7, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.275

		#Panel
		CreatePanel , 14, 3, front, %Position%, 4.44 - 0.001, 0.2, 0.2, 0.2, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE21(1)

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712
	Set PScanTex = HIDScanRed
	
	Set ExtraOffset = 0

	DrawWalls = true, false, false, false, false, false
	AddWall ProximityScanner, %PScanTex%, 0, %Position% - (%PScanWidth% / 2), 4.44 - 0.001, %Position% + (%PScanWidth% / 2), 4.44 - 0.001, %PSscanHeight%, %PSscanHeight%, 4.625 + %ExtraOffset%, 4.625 + %ExtraOffset%, 0, 0

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, -0.5 - 0.25, 4.44 - 0.001, -0.5 + 0.25, 4.44 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#Indicator sets
	AddFloorIndicator MAInd_Button, front, %Position%, 4.44 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3 + 0.8

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		#AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
		#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevator>

#HALL STATIONS
#Set textures (East elevators)
<Function ElevHallTex-East>
	#Shaft doors
	if[%floor% = -3] Set MDoorTexture = PLElevDoors
	if[%floor% = -2] Set MDoorTexture = Mall2AElevDoors
	if[%floor% > -2] Set MDoorTexture = Mall2ElevDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %MDoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		#if[%floor% = -3] Set SideDecoH = 8
		#if[%floor% = -3] Set TopDecoH = 1

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		#if[%floor% = -3] Set ExtraLateralOffset = 0.05
<EndFunction>

#1. EAST ELEVATORS
<Function HallStn-East>
	#Shaft Doors
	ElevHallTex-East() #Set shaft door and panel textures
	Set StartNo = 1 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -1.92 - 0.3

	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %MDoorTexture%, %MDoorTexture%Side, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %MDoorTexture%2, %MDoorTexture%2Side, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %MDoorTexture%, %MDoorTexture%Side, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %MDoorTexture%2, %MDoorTexture%2Side, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %MDoorTexture%, %MDoorTexture%Side, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %MDoorTexture%2, %MDoorTexture%2Side, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(1, 1, -4.34, -4.14, 10 - 4, 10 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(2, 1, -4.34, -4.14, 0 - 4, 0 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(3, 1, -4.34, -4.14, -10 - 4, -10 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set BankPrefix = Mall
	Set Shaft1CX = 25 #1st shaft for elevator bank
	Set Shaft1CZ = 90

		#1st shaft
		AddDecoObject(Elev%BankPrefix%1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% + 10, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ%, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% - 10, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2, 3
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5 - 0.001, %Shaft1CZ% + 5, 3.5, left, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5 - 0.001, %Shaft1CZ% - 5, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		AddBoxSign(Mall-FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft1CX% - 5, %Shaft1CZ% + 5, 1, 1, 5.5, false)
		AddBoxSign(Mall-FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft1CX% - 5, %Shaft1CZ% - 5, 1, 1, 5.5, false)

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% = -3] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(left, 1, %Shaft1CX% - 5 - %ExtraLateralOffset%, %Shaft1CZ% + 10, %Offset%, -3, 6)
		ACMELobbyInds(left, 2, %Shaft1CX% - 5 - %ExtraLateralOffset%, %Shaft1CZ%, %Offset%, -3, 6)
		ACMELobbyInds(left, 3, %Shaft1CX% - 5 - %ExtraLateralOffset%, %Shaft1CZ% - 10, %Offset%, -3, 6)
<EndFunction>

<Floors -3 to -2>
	HallStn-East()
<EndFloors>

<Floors 0 to 6>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5] HallStn-East()
<EndFloors>

#Set textures (West elevators)
<Function ElevHallTex-West>
	#Shaft doors
	if[%floor% = -3] Set WestDoorTexture = PLElevDoors
	if[%floor% = -2] Set WestDoorTexture = Mall4ElevDoors
	if[%floor% > -2 & %floor% < 8] Set WestDoorTexture = Mall3ElevDoors
	if[%floor% = 8] Set WestDoorTexture = Office5FElevDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %WestDoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% = -2 | %floor% = 8] Set SideDecoH = 9.5
		if[%floor% = -2 | %floor% = 8] Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% = -2 | %floor% > 7] Set ExtraLateralOffset = 0.05
<EndFunction>

#2. WEST ELEVATORS
<Function HallStn-West>
	#Shaft Doors
	ElevHallTex-West() #Set shaft door and panel textures
	Set StartNo = 4 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %WestDoorTexture%, %WestDoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %WestDoorTexture%2, %WestDoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %WestDoorTexture%, %WestDoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %WestDoorTexture%2, %WestDoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %WestDoorTexture%, %WestDoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %WestDoorTexture%2, %WestDoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 3, 1, Left, %WestDoorTexture%, %WestDoorTexture%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %WestDoorTexture%2, %WestDoorTexture%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(4, 2, 15 - 4, 15 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(5, 2, 5 - 4, 5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(6, 2, -5 - 4, -5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(7, 2, -15 - 4, -15 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set BankPrefix = DS
	Set Shaft1CX = -80 #1st shaft for elevator bank
	Set Shaft1CZ = 21

		#1st shaft
		AddDecoObject(Elev%BankPrefix%1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 15, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 15, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 4, 5, 6, 7
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 10, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX%, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 10, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(DS-FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% + 10, %Shaft1CZ% + 5, 1, 1, 5.5, false)
		AddBoxSign(DS-FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% - 10, %Shaft1CZ% + 5, 1, 1, 5.5, false)

	#Poster above doors
	DrawWalls = false, true, false, false, false, false
	if[%floor% > -2 & %floor% < 8] AddWall E4-7Poster, Poster%floorid%A, 0, %Shaft1CX% - 16, %Shaft1CZ% + 5.001, %Shaft1CX% + 16, %Shaft1CZ% + 5.001, 4, 4, %interfloorheight% + 11, %interfloorheight% + 11, 0, 0, true

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% = 8] Set Offset = 7.75
	if[%floor% = -3] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(back, 4, %Shaft1CX% + 15, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 8)
		ACMELobbyInds(back, 5, %Shaft1CX% + 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 8)
		ACMELobbyInds(back, 6, %Shaft1CX% - 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 8)
		ACMELobbyInds(back, 7, %Shaft1CX% - 15, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 8)
<EndFunction>

<Floors -3 to -2>
	HallStn-West()
<EndFloors>

<Floors 0 to 8>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] HallStn-West()
<EndFloors>

#Set textures (Parking elevators)
<Function ElevHallTex-Parking>
	#Shaft doors
	if[%floor% < 8] Set PKDoorTexture = PLElevDoors
	#if[%floor% = 8] Set PKDoorTexture = Mall3ElevDoors
	if[%floor% = 8] Set PKDoorTexture = Office5FElevDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %PKDoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% = 8] Set SideDecoH = 9.5
		if[%floor% = 8] Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	#Set BPanelTexture = ElevExtPanels
	Set BPanelTexture = ElevExtPanels-Alt
	Set ButtonPrefix = MAButton

	#Lantern panels
	#Set LPanelTexture = %BPanelTexture%
	Set LPanelTexture = ElevExtPanels
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > 7] Set ExtraLateralOffset = 0.05
<EndFunction>

#3. PARKING ELEVATORS
<Floors -2 to 8>
	#Shaft Doors
	ElevHallTex-Parking() #Set shaft door and panel textures
	Set StartNo = 8 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %PKDoorTexture%, %PKDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %PKDoorTexture%2, %PKDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %PKDoorTexture%, %PKDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %PKDoorTexture%2, %PKDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	Set IDP = -3.25 - 0.3
	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %PKDoorTexture%, %PKDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %PKDoorTexture%2, %PKDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, Left, %PKDoorTexture%, %PKDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %PKDoorTexture%2, %PKDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(8, 3, 4.14, 4.34, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(9, 3, 4.14, 4.34, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(10, 4, -4.34, -4.14, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(11, 4, -4.34, -4.14, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set BankPrefix = P
	Set Shaft1CX = -14 #1st shaft for elevator bank
	Set Shaft1CZ = -6
	Set Shaft2CX = 5 #1st shaft for elevator bank
	Set Shaft2CZ = -6

		#Decos on 5th floor
		#1st shaft
		if[%floor% = 8] AddDecoObject(Elev%BankPrefix%1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		if[%floor% = 8] AddDecoObject(Elev%BankPrefix%2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		#2nd shaft
		if[%floor% = 8] AddDecoObject(Elev%BankPrefix%3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		if[%floor% = 8] AddDecoObject(Elev%BankPrefix%4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

		#Filler walls on all other floors
		#Elevators 8-9
		WallOrientation = right
		if[%floor% ! 8] AddFillerWalls %6PL%, 0.66, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %interfloorheight%, false, 0, 0, true
		if[%floor% ! 8] AddFillerWalls %6PL%, 0.66, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %interfloorheight%, false, 0, 0, true

		#Elevators 10-11
		WallOrientation = left
		if[%floor% ! 8] AddFillerWalls %6PL%, 0.66, %Shaft2CX% - 5, %Shaft2CZ% - 5, 4, 7, %interfloorheight%, false, 0, 0, true
		if[%floor% ! 8] AddFillerWalls %6PL%, 0.66, %Shaft2CX% - 5, %Shaft2CZ% + 5, 4, 7, %interfloorheight%, false, 0, 0, true

	#****************************************#

	#Call buttons
	CallButtonElevators = 8, 9, 10, 11
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5 + 0.001, %Shaft1CZ%, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5 - 0.001, %Shaft2CZ%, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		DrawWalls = false, true, false, false, false, false
		AddWall E8-11FloorSign1, BlankSign%floorid%, 0, %Shaft1CX% + 5 + 0.001, %Shaft1CZ% - 0.75, %Shaft1CX% + 5 + 0.001, %Shaft1CZ% + 0.75, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false
		DrawWalls = true, false, false, false, false, false
		AddWall E8-11FloorSign2, BlankSign%floorid%, 0, %Shaft2CX% - 5 - 0.001, %Shaft2CZ% - 0.75, %Shaft2CX% - 5 - 0.001, %Shaft2CZ% + 0.75, 1.5, 1.5, 6 - 0.75, 6 - 0.75, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.5
	if[%floor% = 8] Set Offset = 7.75

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(right, 8, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% - 5, %Offset%, -2, 8)
		ACMELobbyInds(right, 9, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% + 5, %Offset%, -2, 8)
		ACMELobbyInds(left, 10, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% - 5, %Offset%, -2, 8)
		ACMELobbyInds(left, 11, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% + 5, %Offset%, -2, 8)
<EndFloors>

#Set textures (Freight elevator)
<Function FE_HallTx>
	#Shaft doors
	Set SDoorTexture = ElevDoorsA

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set SDoorTrimTexture = %SDoorTexture%_Trim

		#Top
		Set SDoorTrimTexture_Top = %SDoorTrimTexture%

	#Deco dimensions
		Set SSideDecoH = 7.2
		Set STopDecoH = 0.2

	#Call button panels
	Set SBPanelTexture = ElevExtPanels
	Set SButtonPrefix = MAButton

	#Lantern panels
	Set SLPanelTexture = %SBPanelTexture%
	Set SLanternPrefix = MALantern
<EndFunction>

<Function FEHallStation>
	#Shaft Doors
	FE_HallTx() #Set shaft door and panel textures

		#Elevator 12
		Set IDP = -4.84 - 0.3

		WallOrientation = right
		TextureOverride %SDoorTexture%_Top, %SDoorTexture%_Top2, %SDoorTexture%_Side, %SDoorTexture%_Side, %SDoorTexture%_Side, %SDoorTexture%_Side
		AddShaftDoorComponent 12, 1, VFDoorOutside_Top, %SDoorTexture%_Top, %SDoorTexture%_Side, 0.2, up, 0.6, %IDP%, -6, %IDP%, 6, 3.5, 3.5, 0, 0, 0, 0
		TextureOverride %SDoorTexture%_Bottom, %SDoorTexture%_Bottom2, %SDoorTexture%_Side, %SDoorTexture%_Side, %SDoorTexture%_Side, %SDoorTexture%_Side
		AddShaftDoorComponent 12, 1, VFDoorOutside_Bottom, %SDoorTexture%_Bottom, %SDoorTexture%_Side, 0.2, down, 0.6, %IDP%, -6, %IDP%, 6, 3.5, 0, 0, 0, 0, 0
		FinishShaftDoor 12, 1, false, false

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 134 #1st shaft for elevator bank
	Set Shaft1CZ = 37.25

		#1st shaft
		AddDecoObject(Elev12, %SDoorTrimTexture%, %SDoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft1CX% - 6, %Shaft1CZ%, 12, 7, %SSideDecoH%, %STopDecoH%, 0, true, %SDoorTrimTexture%, 0.66, floor)

	#Call buttons
	CallButtonElevators = 12
	CreateCallButtons %SBPanelTexture%, %SButtonPrefix%Up, %SButtonPrefix%UpLitBlue, %SButtonPrefix%Down, %SButtonPrefix%DownLit, %Shaft1CX% - 6 - 0.001, %Shaft1CZ% - 6 - 1.25, 3.5, left, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1X = %Shaft1CX% - 6 #1st shaft for elevator bank
		Set Sign1Z = %Shaft1CZ% - 6 - 1.25

		DrawWalls = true, false, false, false, false, false
		AddWall FEFloorSign, FlrSign%floorid%, 0, %Sign1X% - 0.001, %Sign1Z% - 0.5, %Sign1X% - 0.001, %Sign1Z% + 0.5, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%SLanternPrefix%Up, %SLanternPrefix%UpLit, %SLanternPrefix%Down, %SLanternPrefix%DownLit, %SLPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(left, 12, %Shaft1CX% - 6, %Shaft1CZ%, %Offset%, -2, 8)
<EndFunction>

#3a. FREIGHT ELEVATOR
<Floors -2 to 8>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 0] FEHallStation()
<EndFloors>

#Set textures (Office elevators)
<Function ElevHallTex-Office>
	#Shaft doors
	Set OFDoorTexture = OUElevDoors #OU = Office Upper (6-12)
	if[%floor% > 16] Set OFDoorTexture = OU2ElevDoors #OU2 = Office Upper 2 (13-23)
	if[%floor% < 8] Set OFDoorTexture = OLElevDoors #OL = Office Lobby
	if[%floor% = 8] Set OFDoorTexture = Office5FElevDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %OFDoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% > -1 & %floor% < 8] Set SideDecoH = %height% + Floor(%floor% + 1).FullHeight
		if[%floor% = 8] Set SideDecoH = 9.5
		if[%floor% > -1 & %floor% < 10] Set TopDecoH = %SideDecoH% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	if[%floor% = 0 | %floor% = 8] Set BPanelTexture = ElevExtPanels-Alt
	if[%floor% > 16 & %floor% < 28] Set BPanelTexture = ElevExtPanels2
	Set ButtonPrefix = MAButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	if[%floor% = 0 | %floor% = 8] Set LPanelTexture = ElevExtPanels
	Set LanternPrefix = MALantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% > -1 & %floor% < 10] Set ExtraLateralOffset = 0.05
<EndFunction>

#4. OFFICE LOW-RISE ELEVATORS
<Function OfficeLRHall>
	#Shaft Doors
	ElevHallTex-Office() #Set shaft door and panel textures
	Set StartNo = 13 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	Set IDP = -3.25 - 0.3
	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(13, 6, 4.14, 4.34, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(14, 6, 4.14, 4.34, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(15, 7, -4.34, -4.14, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(16, 7, -4.34, -4.14, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set BankPrefix = OfficeLR
	Set Shaft1CX = -94 #1st shaft for elevator bank
	Set Shaft1CZ =  152.5
	Set Shaft2CX = -74 #1st shaft for elevator bank
	Set Shaft2CZ =  152.5

		#1st shaft
		AddDecoObject(Elev%BankPrefix%1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		#2nd shaft
		AddDecoObject(Elev%BankPrefix%3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 13, 14, 15, 16
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5 + 0.001, %Shaft1CZ%, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5 - 0.001, %Shaft2CZ%, 3.5, left, 0.5, 1, true, 0, 0

		#Signs (EBS = Elevator bank sign)
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		if[%floor% ! 0 & %floor% ! 8] AddBoxSign(OfficeLR-FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft1CX% + 5, %Shaft1CZ%, 1, 1, 5.5, false)
		if[%floor% = 0 | %floor% = 8] AddBoxSign(OfficeLR-EBS1, SignOffice1, SignOffice1, ElevBankSide, 0.01, false, false, false, %Shaft1CX% + 5, %Shaft1CZ%, 1.8, 1.2, 5.4, false)
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		if[%floor% ! 0 & %floor% ! 8] AddBoxSign(OfficeLR-FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft2CX% - 5, %Shaft2CZ%, 1, 1, 5.5, false)
		if[%floor% = 0 | %floor% = 8] AddBoxSign(OfficeLR-EBS2, SignOffice1, SignOffice1, ElevBankSide, 0.01, false, false, false, %Shaft2CX% - 5, %Shaft2CZ%, 1.8, 1.2, 5.4, false)

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% > 7] Set Offset = 7.75

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(right, 13, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% + 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(right, 14, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% - 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(left, 15, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% + 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(left, 16, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% - 5, %Offset%, 0, 16)
		if[%floor% ! 0] ACMELobbyLanterns(right, 13, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% + 5, %Offset%, 0, 16)
		if[%floor% ! 0] ACMELobbyLanterns(right, 14, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% - 5, %Offset%, 0, 16)
		if[%floor% ! 0] ACMELobbyLanterns(left, 15, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% + 5, %Offset%, 0, 16)
		if[%floor% ! 0] ACMELobbyLanterns(left, 16, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% - 5, %Offset%, 0, 16)
<EndFunction>

#5. OFFICE HIGH-RISE ELEVATORS
<Function OfficeHRHall>
	#Shaft Doors
	ElevHallTex-Office() #Set shaft door and panel textures
	Set StartNo = 17 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	Set IDP = -3.25 - 0.3
	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, Left, %OFDoorTexture%, %OFDoorTexture%, 0.2, right, 0.8, 0.6, %IDP%, 0, %IDP%, 2, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %OFDoorTexture%2, %OFDoorTexture%2, 0.2, left, 0.8, 0.6, %IDP%, -2, %IDP%, 0, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(17, 8, 4.14, 4.34, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(18, 8, 4.14, 4.34, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(19, 9, -4.34, -4.14, 5 - 4, 5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)
	AddShaftTrack(20, 9, -4.34, -4.14, -5 - 4, -5 + 4, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set BankPrefix = OfficeHR
	Set Shaft1CX = -94 #1st shaft for elevator bank
	Set Shaft1CZ =  117.5
	Set Shaft2CX = -74 #1st shaft for elevator bank
	Set Shaft2CZ =  117.5

		#1st shaft
		AddDecoObject(Elev%BankPrefix%1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		#2nd shaft
		AddDecoObject(Elev%BankPrefix%3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev%BankPrefix%4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, left, true, false, 0.05, 0.2, %Shaft2CX% - 5, %Shaft2CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 17, 18, 19, 20
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5 + 0.001, %Shaft1CZ%, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5 - 0.001, %Shaft2CZ%, 3.5, left, 0.5, 1, true, 0, 0


		#Signs (EBS = Elevator bank sign)
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		if[%floor% ! 0 & %floor% ! 8] AddBoxSign(OfficeHR-FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft1CX% + 5, %Shaft1CZ%, 1, 1, 5.5, false)
		if[%floor% = 0 | %floor% = 8] AddBoxSign(OfficeHR-EBS1, SignOffice2, SignOffice2, ElevBankSide, 0.01, false, false, false, %Shaft1CX% + 5, %Shaft1CZ%, 1.8, 1.2, 5.4, false)
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		if[%floor% ! 0 & %floor% ! 8] AddBoxSign(OfficeHR-FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, false, false, false, %Shaft2CX% - 5, %Shaft2CZ%, 1, 1, 5.5, false)
		if[%floor% = 0 | %floor% = 8] AddBoxSign(OfficeHR-EBS2, SignOffice2, SignOffice2, ElevBankSide, 0.01, false, false, false, %Shaft2CX% - 5, %Shaft2CZ%, 1.8, 1.2, 5.4, false)

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% > 7] Set Offset = 7.75

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, MAInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(right, 17, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% + 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(right, 18, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% - 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(left, 19, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% + 5, %Offset%, 0, 16)
		if[%floor% = 0] ACMELobbyInds(left, 20, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% - 5, %Offset%, 0, 16)
		if[%floor% ! 0] ACMELobbyLanterns(right, 17, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% + 5, %Offset%, 0, 27)
		if[%floor% ! 0] ACMELobbyLanterns(right, 18, %Shaft1CX% + 5 + %ExtraLateralOffset%, %Shaft1CZ% - 5, %Offset%, 0, 27)
		if[%floor% ! 0] ACMELobbyLanterns(left, 19, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% + 5, %Offset%, 0, 27)
		if[%floor% ! 0] ACMELobbyLanterns(left, 20, %Shaft2CX% - 5 - %ExtraLateralOffset%, %Shaft2CZ% - 5, %Offset%, 0, 27)
<EndFunction>

<Floor 0>
	OfficeLRHall() #Elevators 12-15
	OfficeHRHall() #Elevators 16-19
<EndFloor>

<Floors 2 to 6>
	if[%floor% ! 3 & %floor% ! 5] OfficeLRHall()
<EndFloors>

<Floor 8>
	OfficeLRHall() #Elevators 12-15
	OfficeHRHall() #Elevators 16-19
<EndFloor>

<Floors 10 to 16>
	OfficeLRHall()
<EndFloors>

<Floors 17 to 27>
	OfficeHRHall()
<EndFloors>

#Set textures (Office service elevator)
<Function SE_HallTx>
	#Shaft doors
	Set SDoorTexture = ElevDoorsB
	if[%floor% > -1 & %floor% < 8] Set SDoorTexture = ElevDoorsC
	if[%floor% > 27] Set SDoorTexture = ElevDoorsD

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set SDoorTrimTexture = %SDoorTexture%_Trim

		#Top
		Set SDoorTrimTexture_Top = %SDoorTrimTexture%

	#Deco dimensions
		Set SSideDecoH = 7.2
		Set STopDecoH = 0.2

	#Call button panels
	Set SBPanelTexture = ElevExtPanels
	Set SButtonPrefix = MAButton

	#Lantern panels
	Set SLPanelTexture = %SBPanelTexture%
	Set SLanternPrefix = MALantern
<EndFunction>

<Function SEHallStation>
	#Shaft Doors
	SE_HallTx() #Set shaft door and panel textures

		#Elevator 21
		Set IDP = 4.64 + (0.15 * 2) + 0.1

		WallOrientation = left
		AddShaftDoorComponent 21, 1, 2Speed_Fast, %SDoorTexture%, %SDoorTexture%, 0.15, right, 0.8, 0.6, -2.75, %IDP%, -2.75 + (2.25 * 1), %IDP%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 21, 1, 2Speed_Slow, %SDoorTexture%2, %SDoorTexture%2, 0.15, right, 0.4, 0.3, -2.75 + (2.25 * 1), %IDP% + (0.15 * 1), -2.75 + (2.25 * 2), %IDP% + (0.15 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 21, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(21, 10, -1 - 2.25, -1 + 4.5, 5.34 - 0.3, 5.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#Top filler
	AddShaftTrack(21, 10, -1 - 2.25, -1, 5.34 - 0.15, 5.34, %SDoorTrimTexture%, ElevExt, 0.05, 2, 7)

	#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, %SDoorTrimTexture%, %SDoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 10, GapFiller_Elev21, ElevExt, 0.15 * 2, -1 - 2.25 - 0.25, 5.34, -1 - 2.25, 5.34, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0	

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	if[%floor% = -1] Set 6A = LLServiceWall #Override for office tower core only
	Set Shaft1CX = -52 #1st shaft for elevator bank
	Set Shaft1CZ = 109.5

		#Decos for office levels (NOT IN USE)
		#if[%floor% > 9 & %floor% < 28] AddDecoObject(Elev21, %SDoorTrimTexture%, %SDoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 1, %Shaft1CZ% + 6, 4.5, 7, %SSideDecoH%, %STopDecoH%, 0, true, %SDoorTrimTexture%, 0.66, floor)

		#Filler walls for all levels
		WallOrientation = right
		if[%floor% ! 8] AddFillerWalls %6A%, 0.66, %Shaft1CX% - 1, %Shaft1CZ% + 6, 4.5, 7, 0, true, 0, 0, false
		if[%floor% = 8] AddFillerWalls %6%, 0.66, %Shaft1CX% - 1, %Shaft1CZ% + 6, 4.5, 7 - 4, 4, true, 0, 0, false

			#Extra filler walls to match with shaft walls
			DrawWalls = true, true, false, false, false, false
			if[%floor% = 8] AddWall E21Filler1, UpperShopWall_Lower3, 0, %Shaft1CX% - 1 - 2.25, %Shaft1CZ% + 6 - 0.66, %Shaft1CX% - 1 - 2.25, %Shaft1CZ% + 6, 4, 4, 0, 0, 0, 0, false
			if[%floor% = 8] AddWall E21Filler2, UpperShopWall_Lower3, 0, %Shaft1CX% - 1 + 2.25, %Shaft1CZ% + 6 - 0.66, %Shaft1CX% - 1 + 2.25, %Shaft1CZ% + 6, 4, 4, 0, 0, 0, 0, false

	#Call buttons
	CallButtonElevators = 21
	CreateCallButtons %SBPanelTexture%, %SButtonPrefix%Up, %SButtonPrefix%UpLit, %SButtonPrefix%Down, %SButtonPrefix%DownLit, %Shaft1CX% - 1 + 2.25 + 1.25, %Shaft1CZ% + 6 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1X = %Shaft1CX% - 1 + 2.25 + 1.25 #1st shaft for elevator bank
		Set Sign1Z = %Shaft1CZ% + 6

		DrawWalls = false, true, false, false, false, false
		AddWall FEFloorSign, FlrSign%floorid%, 0, %Sign1X% - 0.5, %Sign1Z% + 0.001, %Sign1X% + 0.5, %Sign1Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 7.75
	if[%floor% = -1] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%SLanternPrefix%Up, %SLanternPrefix%UpLit, %SLanternPrefix%Down, %SLanternPrefix%DownLit, %SLPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(back, 21, %Shaft1CX% - 1, %Shaft1CZ% + 6, %Offset%, -1, 28)
<EndFunction>

#5a. OFFICE SERVICE ELEVATOR
<Floors -1 to 8>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] SEHallStation()
<EndFloors>

<Floors 10 to 28>
	SEHallStation()
<EndFloors>

#GLOBAL SETTINGS
<Elevators 1 to 21>
	#Notifications
	UpChimeSound 1 = KW_Sounds/tk_us_upchime.wav
	DownChimeSound 1 = KW_Sounds/tk_us_downchime.wav
	if[%elevator% < 13] NotifyEarly = 1
	if[%elevator% > 12] NotifyEarly = 2
	QueueResets = true

	#Motor sounds
	if[%elevator% ! 12] MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	if[%elevator% ! 12] MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	if[%elevator% ! 12] MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

<Elevators 1 to 11>
	#Beep sound
	if[%elevator% < 8] BeepSound = Other People's Fixtures/ThyssenKrupp Studio/tkstudiobeep.wav #Vector, gooper1, et al.

	#Door settings
	DoorTimer 1 = 15000
	QuickClose 1 = 10000
	if[%elevator% > 7 & %elevator% < 12] DoorTimer 1 = 8400
	if[%elevator% > 7 & %elevator% < 12] QuickClose 1 = 5600
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881

	#Elevator movement sounds
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>

<Elevator 12>
	#Door settings
	DoorTimer 1 = 30000
	QuickClose 1 = 20000
	NudgeTimer 1 = 120
	OpenSound 1 = EG881Sounds/clamshelldooropen1.wav #EG881
	CloseSound 1 = EG881Sounds/clamshelldoorclose1b.wav #EG881

	#Car movement sounds
	CarStartSound = EG881Sounds/slowelevstart.wav #EG881
	CarMoveSound = EG881Sounds/slowelevmove.wav #EG881
	CarStopSound = EG881Sounds/slowelevstop.wav #EG881

	#Motor movement sounds
	MotorStartSound = EG881Sounds/motor_start4.wav #EG881
	MotorRunSound = EG881Sounds/motor_running4.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop4.wav #EG881
<EndElevator>

<Elevators 13 to 21>
	#Door settings + Leveling
	DoorTimer 1 = 15000
	QuickClose 1 = 10000
	if[%elevator% < 21] OpenSound 1 = EG881Sounds/elevopenairlock.wav #EG881
	if[%elevator% < 21] CloseSound 1 = EG881Sounds/elevcloseairlock.wav #EG881
	if[%elevator% = 21] OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	if[%elevator% = 21] CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881
	LevelingOpen = 0.2

	#Elevator movement sounds
	CarStartSound = EG881Sounds/elevstart12.wav #EG881
	CarMoveSound = EG881Sounds/elevmove12.wav #EG881
	CarStopSound = EG881Sounds/elevstop12.wav #EG881
<EndElevators>

##--------------------------------------------------------------------------------##

#STAIRWELLS
<Function StairwellSets>
	#Set Values
	Set NumSteps = 10 #Total: 20 steps
	if[%floor% > 9] Set NumSteps = 12 #Total: 24 steps

	#Extra sets at transition points
	Set NumStepsAlt = %NumSteps%
	if[%floor% = 10] Set NumStepsAlt = 10
<EndFunction>

#Northeast Mall Stairwell
CreateStairwell 1, 134, 123, -3, 8
CutStairwell 1, -5.5, -11.5, 5.5 + 0.5, 11.5, 0, 5
ShowFullStairs 1 = always

	#Wall cuts for stairwell walls
	<Floors -3 to 7>
		CutAll 139.5 - 0.1, 0, 123 - 11.5, 139.5 + 0.1, %fullheight%, 123 + 11.5, true, false #Right wall cuts
		if[%floor% = 7] CutAll 139.5 - 0.1, %fullheight%, 123 - 11.5, 139.5 + 0.1, %fullheight% + Floor(8).InterfloorHeight, 123 + 11.5, true, false #Back wall cuts
	<EndFloors>

<Floors -3 to 8>
	StairwellSets() #Determine stairs' size

	Set 21 = 134 #Center X
	Set 22 = 123 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 5, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 5, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23% + 0.5, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 8] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, 0, true, true, false, true, false, false, false)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, true, true, false, true, false, false, false)
	if[%floor% > -2 & %floor% < 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, true, true, false, true, false, false, false)
	Set 6 = ExtFacade #Override
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0

	#Emergency Exit Door
	SetLock 2, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, %24% - 2, 3, 7, 0, 0, 0
	SetLock 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = 8] AddFillerWalls ConnectionWall, 0.5, %21% - %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		WallOrientation = right
		if[%floor% = -1] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% + 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = -1] AddBoxSign(Stair%25%_SignEmerExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#North-Central Mall Stairwell
CreateStairwell 2, 7, 189, -3, 8
CutStairwell 2, -11.5, -5.5, 11.5, 5.5 + 0.5, 0, 5
ShowFullStairs 2 = always

	#Wall cuts for stairwell walls
	<Floors -3 to 7>
		CutAll 7 - 11.5, 0, 194.5 - 0.1, 7 + 11.5, %fullheight%, 194.5 + 0.1, true, false #Back wall cuts
		if[%floor% = 7] CutAll 7 - 11.5, %fullheight%, 194.5 - 0.1, 7 + 11.5, %fullheight% + Floor(8).InterfloorHeight, 194.5 + 0.1, true, false #Back wall cuts
	<EndFloors>

<Floors -3 to 8>
	StairwellSets() #Determine stairs' size

	Set 21 = 7 #Center X
	Set 22 = 189 #Center Z
	Set 23 = 11.5 #Cut X
	Set 24 = 5.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, %23% - 5 - %NumSteps%, 0, %23% - 5, 0, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 8] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5 - %NumSteps%, %24% - 5, %23% - 5 - %NumSteps%, %24%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 8] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %24% - 5, %24%, left, %23% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 8] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%24%, -%24% + 5, right, %23% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23% - 5 - %NumSteps%, %24% + 0.5, 0, 0, false, false, 0, 0
	if[%floor% < 8] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, %23% - 5, -%24%, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 1, -%23% + 0.001, %SignCenterPoint% + 1, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, 0, true, true, true, false, false, false, false)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, true, true, true, false, false, false, false)
	if[%floor% > -2 & %floor% < 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, true, true, true, false, false, false, false)
	Set 6 = ExtFacade #Override
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, -%23% + 2, -%24%, 3, 7, 0, 0, 0

	#Emergency Exit Door
	SetLock 2, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, -%23% + 2, %24% + 0.5, 3, 7, 0, 0, 0
	SetLock 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = 8] AddFillerWalls ConnectionWall, 0.5, %21% - %23% + 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true
		WallOrientation = right
		if[%floor% = -1] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% + %24% + 0.5, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% - 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = -1] AddBoxSign(Stair%25%_SignEmerExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Southeast Mall Stairwell
CreateStairwell 3, 128, 22, -3, 10
CutStairwell 3, -11.5, -5.5, 11.5, 5.5, 0, 5
ShowFullStairs 3 = always

	#Wall cuts for stairwell walls
	<Floors -3 to 9>
		CutAll 128 - 11.5, 0, 16.5 - 0.1, 128 + 11.5, %fullheight%, 16.5 + 0.1, true, false #Front wall cuts
		CutAll 139.5 - 0.1, 0, 22 - 5.5, 139.5 + 0.1, %fullheight%, 22 + 5.5, true, false #Right wall cuts
	<EndFloors>

<Floors -3 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = 128 #Center X
	Set 22 = 22 #Center Z
	Set 23 = 11.5 #Cut X
	Set 24 = 5.5 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, %23% - 5 - %NumSteps%, 0, %23% - 5, 0, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5 - %NumSteps%, %24% - 5, %23% - 5 - %NumSteps%, %24%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %24% - 5, %24%, left, %23% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%24%, -%24% + 5, right, %23% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23% - 5 - %NumSteps%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, %23% - 5 - %NumSteps%, -%24%, %23% - 5 - %NumStepsAlt%, -%24% + 5, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, %23% - 5, -%24%, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 1, -%23% + 0.001, %SignCenterPoint% + 1, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	Set ShowFront = false
	if[%floor% > 7] Set ShowFront = true

	if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, 0, true, true, false, true, false, false, false)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, false, true, false, true, false, false, false)
	if[%floor% > -2 & %floor% < 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, %ShowFront%, true, false, true, false, false, false)

	Set F5ShaftWallH = %height% + Floor(9).FullHeight
	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%L, 4, 0, %ShowFront%, true, false, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%U, %F5ShaftWallH% - 4, 4, %ShowFront%, true, false, true, false, false, false)
	Set 6 = ExtFacade #Override
	if[%floor% = 10] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %fullheight%, 0, true, true, true, true, true, false, true)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < 0 & %floor% ! -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = 8 | %floor% = 10] AddFillerWalls ConnectionWall, 0.5, %21% - %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp
	Set SignPos = %22% - %24% + 2
	if[%floor% < 0] Set SignPos = %22% + %24% - 2

	if[%floor% ! -1 & %floor% ! 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %SignPos%, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#South-Central Mall Stairwell (Linked to Parking Garage)
CreateStairwell 4, 11, 10, -3, 10
CutStairwell 4, -10.5, -5.5, 10.5, 5.5 + 0.5, 0, 5
ShowFullStairs 4 = always

<Floors -3 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = 11 #Center X
	Set 22 = 10 #Center Z
	Set 23 = 10.5 #Cut X
	Set 24 = 5.5 #Cut Z
	Set 25 = 4 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, PGStairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, PGStairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, PGStairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, PGStairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railings
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (%26% * 10) - 0.5
	Set RailOffsetU2 = (%26% * 20) - 0.5

		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		if[%floor% = 10] AddStairsWall %25%, Stair%25%SMRail, PGStairsWall2, 0.25, %23% - 5 - %NumSteps%, %24% - 5 - 1, %23% - 5 - %NumSteps%, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0
		DrawWalls = true, true, true, true, true, true
		if[%floor% < 10] AddStairsWall %25%, Stair%25%LowerRail, PGStairsWall2, 0.5, %23% - 5 - %NumSteps%, %24% - 5, %23% - 5, %24% - 5, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU1%, 0, 0
		WallOrientation = left
		if[%floor% < 10] AddStairsWall %25%, Stair%25%UpperRail, PGStairsWall2, 0.5, %23% - 5 - %NumSteps%, -%24% + 5, %23% - 5, -%24% + 5, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffsetU1%, 0, 0
		if[%floor% = 10] AddStairsWall %25%, Stair%25%SMRail-Transition, PGStairsWall2, 0.5, %23% - 5 - %NumSteps%, -%24% + 5, %23% - 5 - %NumStepsAlt%, -%24% + 5, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, PGStairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, PGStairs, %24% - 5, %24%, left, %23% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, PGStairs, -%24%, -%24% + 5, right, %23% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, PGStairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, PGStairsFloor, 0.5, -%23%, -%24%, %23% - 5 - %NumSteps%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Transition1, PGStairsFloor, 0.5, %23% - 5 - %NumSteps%, -%24%, %23% - 5 - %NumStepsAlt%, -%24% + 5, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, PGStairsFloor, 0.5, %23% - 5, -%24%, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 1, -%23% + 0.001, %SignCenterPoint% + 1, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% > -3 & %floor% < 8] Set 6 = PGExtFacade2 #Override
	if[%floor% = 10] Set 6 = ExtFacade #Override for roof

	if[%floor% = -3] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, %interfloorheight%, true, true, true, true, false, false, true)
	if[%floor% = -2] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, %interfloorheight%, true, true, true, false, false, false, true)
	if[%floor% > -2 & %floor% < 7] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, 0, true, true, true, false, false, false, true)

	Set F4A_WH = %fullheight% + Floor(8).InterfloorHeight - 0.5
	if[%floor% = 7] CreateShaftWall(%6%, %6PL%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %F4A_WH%, 0, true, true, true, false, false, false, true)

	Set F5_WH = %height% + Floor(9).FullHeight
	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_5F_Lower, 4, 0, true, true, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_5F_Upper, %F5_WH% - 4, 4, true, true, true, true, false, false, false)
	if[%floor% = 10] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %height%, %interfloorheight%, true, true, true, true, true, false, true)

	#Doors
	Set DoorOpened = true
	if[%floor% = 10] Set DoorOpened = false
	WallOrientation = right
	TextureOverride Door8, Door8, Door8Side, Door8Side, Door8Side, Door8Side
	if[%floor% > 0 & %floor% ! 9] AddStairsDoor %25%, , , %DoorOpened%, Door8, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0
	TextureOverride Door8, Door8, Door8Side, Door8Side, Door8Side, Door8Side
	if[%floor% < 0] AddStairsDoor %25%, , , %DoorOpened%, Door8, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride Door8, Door8, Door8Side, Door8Side, Door8Side, Door8Side
	if[%floor% = 0] AddStairsDoor %25%, , , %DoorOpened%, Door8, 0.2, 4, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% > 0 & %floor% ! 9] AddFillerWalls ConnectionWall, 0.5, %21% - %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		if[%floor% < 1] AddFillerWalls ConnectionWall, 0.5, %21% - %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp
	Set SignPos = %22% - %24% + 2
	if[%floor% < 0] Set SignPos = %22% + %24% - 2

	if[%floor% ! 0 & %floor% < 8] AddBoxSign(Stair%25%_SignHall, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, true, true, true, -4.5 - 3.5 + 1.5, %SignPos%, 1.8, 0.9, %fullheight% - 0.9, true)
	if[%floor% ! 0 & %floor% ! 9] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %SignPos%, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Southwest Mall Stairwell
CreateStairwell 5, -134, 45, -3, 10
CutStairwell 5, -5.5 - 0.5, -11.5, 5.5, 11.5, 0, 5
ShowFullStairs 5 = always

	#Wall cuts for stairwell walls
	<Floors -3 to 9>
		CutAll -139.5 - 0.1, 0, 45 - 11.5, -139.5 + 0.1, %fullheight%, 45 + 11.5, true, false #Left wall cuts
	<EndFloors>

<Floors -3 to 10>
	StairwellSets() #Determine stairs' size

	Set 21 = -134 #Center X
	Set 22 = 45 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 5 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 10] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 5, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 5, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 10] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 5, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23% - 0.5, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, %23% - 5, -%24% + 5 + %NumStepsAlt%, %23%, -%24% + 5 + %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 10] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, 0, true, false, true, true, false, false, false)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, true, false, true, true, false, false, false)
	if[(%floor% > -2 & %floor% < 10) & %floor% ! 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, true, false, true, true, false, false, false)

	if[%floor% = 8] CreateShaftWall(%6%_Lower, %6%_Lower, %6%_Lower, %6%_Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_LWall, 4, 0, true, false, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_UWall, %height% - 4, 4, true, false, true, true, false, false, false)

	Set 6 = ExtFacade #Override
	if[%floor% = 10] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %fullheight%, 0, true, true, true, true, true, false, true)

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0

	#Emergency Exit Door
	SetLock 1, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0
	SetLock 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 8 | %floor% = 10] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		WallOrientation = left
		if[%floor% = -1] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = -1] AddBoxSign(Stair%25%_SignEmerExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#East Parking Stairs
CreateStairwell 6, 91, -120, -3, 7
CutStairwell 6, -2 - 0.25, -10, 2 + 0.25, 10, 2, 5
ShowFullStairs 6 = always

<Floors -3 to 7>
	StairwellSets() #Determine stairs' size

	Set 21 = 91 #Center X
	Set 22 = -120 #Center Z
	Set 23 = 2 #Cut X
	Set 24 = 10 #Cut Z
	Set 25 = 6 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Railings
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (%26% * 10) - 0.5
	Set RailOffsetU2 = (%26% * 20) - 0.5

	#Railings around stairs
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 7] AddStairsWall %25%, Stair%25%Front, StairsWall3, 0.25, -%23% - 0.5, -%24%, %23% + 0.5, -%24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0
	if[%floor% > -3] AddStairsWall %25%, Stair%25%Left, StairsWall3, 0.25, -%23% - 0.25, -%24%, -%23% - 0.25, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0
	WallOrientation = left
	if[%floor% > -3] AddStairsWall %25%, Stair%25%Right, StairsWall3, 0.25, %23% + 0.25, -%24%, %23% + 0.25, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0

	#Railings next to stairs
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (%26% * 10) - 0.5
	Set RailOffsetU2 = (%26% * 20) - 0.5

	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% < 7] AddStairsWall %25%, Stair%25%RailLeft, StairsWall4, 0.25, -%23%, -%24%, -%23%, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU2%, 0, 0
	WallOrientation = left
	if[%floor% < 7] AddStairsWall %25%, Stair%25%RailRight, StairsWall4, 0.25, %23%, -%24%, %23%, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffsetU2%, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 7] OP_OrthoStair(%25%, ST%25%_MainStairs, Stairs, -%23%, %23%, front, -%24%, %NumSteps% * 2, 1, %26%, 0, 0.5)
<EndFloors>

#West Parking Stairs
CreateStairwell 7, -91, -60, -3, 7
CutStairwell 7, -2 - 0.25, -10, 2 + 0.25, 10, 2, 5
ShowFullStairs 7 = always

<Floors -3 to 7>
	StairwellSets() #Determine stairs' size

	Set 21 = -91 #Center X
	Set 22 = -60 #Center Z
	Set 23 = 2 #Cut X
	Set 24 = 10 #Cut Z
	Set 25 = 7 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Railings
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (%26% * 10) - 0.5
	Set RailOffsetU2 = (%26% * 20) - 0.5

	#Railings around stairs
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% > -3] AddStairsWall %25%, Stair%25%Left, StairsWall3, 0.25, -%23% - 0.25, -%24%, -%23% - 0.25, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0
	WallOrientation = left
	if[%floor% > -3] AddStairsWall %25%, Stair%25%Right, StairsWall3, 0.25, %23% + 0.25, -%24%, %23% + 0.25, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0
	if[%floor% = 7] AddStairsWall %25%, Stair%25%Back, StairsWall3, 0.25, -%23% - 0.5, %24%, %23% + 0.5, %24%, %RailHeight%, %RailHeight%, %RailOffset%, %RailOffset%, 0, 0

	#Railings next to stairs
	Set RailHeight = 3.5 + 0.5
	Set RailOffset = -0.5
	Set RailOffsetU1 = (%26% * 10) - 0.5
	Set RailOffsetU2 = (%26% * 20) - 0.5

	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% < 7] AddStairsWall %25%, Stair%25%RailLeft, StairsWall4, 0.25, -%23%, -%24%, -%23%, %24%, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffset%, 0, 0
	WallOrientation = left
	if[%floor% < 7] AddStairsWall %25%, Stair%25%RailRight, StairsWall4, 0.25, %23%, -%24%, %23%, %24%, %RailHeight%, %RailHeight%, %RailOffsetU2%, %RailOffset%, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 7] OP_OrthoStair(%25%, ST%25%_MainStairs, Stairs, -%23%, %23%, back, %24%, %NumSteps% * 2, 1, %26%, 0, 0.5)
<EndFloors>

#Office Tower West Stairwell
CreateStairwell 8, -105, 115.5, -3, 30
CutStairwell 8, -5.5, -11.5, 5.5, 11.5, 0, 5
ShowFullStairs 8 = always

<Floors -3 to 30>
	StairwellSets() #Determine stairs' size

	Set 21 = -105 #Center X
	Set 22 = 115.5 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 8 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 30] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 5, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 30] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 30] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 5, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 30] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 5, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, %23% - 5, -%24% + 5 + %NumStepsAlt%, %23%, -%24% + 5 + %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 30] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% = -1] Set 6 = LLServiceWall #Override for office tower core only

	if[%floor% = -3] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, 9.5, 0, true, true, true, true, false, false, false)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, true, true, true, true, false, false, false)
	if[(%floor% > -2 & %floor% < 30) & %floor% ! 8] CreateShaftWall(%6X%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, true, true, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%L, 4, 0, true, true, true, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%U, %height% - 4, 4, true, true, true, true, false, false, false)

	Set 6 = ExtFacade #Override
	if[%floor% = 30] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %fullheight%, 0, true, true, true, true, true, false, true)

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, %23% - 2, %24%, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, -%23% + 2, %24% + 0.5, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 8 | %floor% = 30] AddFillerWalls ConnectionWall, 0.5, %21% + %23% - 2, %22% + %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp
	Set SignPos = %21% + %23% - 2
	if[%floor% < 0] Set SignPos = %21% - %23% + 2

	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %SignPos%, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGround, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#Office Tower East Stairwell
CreateStairwell 9, -63, 115.5, -2, 29
CutStairwell 9, -5.5, -11.5, 5.5, 11.5, 0, 5

<Floors -2 to 29>
	StairwellSets() #Determine stairs' size

	Set 21 = -63 #Center X
	Set 22 = 115.5 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 9 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	if[%floor% = -2] DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 29] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 29] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 29] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 5, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 29] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 5, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -2] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 10] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumStepsAlt%, -%23% + 5, -%24% + 5 + %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 29] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %SignCenterPoint% - 1, %24% - 0.001, %SignCenterPoint% + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#External walls
	WallTex()
	if[%floor% = -1] Set 6 = LLServiceWall #Override for office tower core only
	if[%floor% = -1] Set 6A = LLServiceWall #Override for office tower core only

	if[%floor% = -2] CreateShaftWall(ParkingWall2, ParkingWall2, ParkingWall2, ParkingWall2, ParkingWall2, ParkingWall2, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_IFloor, %interfloorheight% - 0.5, 0, true, true, true, true, false, true, true)
	if[%floor% = -2] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_%floorid%, %height%, 0, true, true, true, true, false, false, false)

	Set ShowRight = true
	if[%floor% > -2 & %floor% ! 8] CreateShaftWall(%6X%, %6%, %6A%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %fullheight%, -%interfloorheight%, true, true, %ShowRight%, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%_Lower3, %6%_Lower3, %6%_Lower3, %6%_Lower3, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, 4, 0, true, true, %ShowRight%, true, false, false, false)
	if[%floor% = 8] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %height% - 4, 4, true, true, %ShowRight%, true, false, false, false)

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, %23% - 2, %24%, 3, 7, 0, 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, %23% - 2, %24% + 0.5, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 8] AddFillerWalls ConnectionWall, 0.5, %21% - %23% + 2, %22% + %24%, 3, 7 - 0.001, 0, true, 0, 0, false

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp
	Set SignPos = %21% - %23% + 2
	if[%floor% < 0] Set SignPos = %21% + %23% - 2

	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %SignPos%, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGround, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>