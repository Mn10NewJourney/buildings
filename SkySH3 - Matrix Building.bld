#Skyscraper School (V3) - Matrix Building
#Copyright (c) 2021-Present - Mn10
#Edited 5 July 2023: Changed the doors of classrooms and teachers' rooms to sliding doors.

#Include my new scripts
<Include buildings/Mn10_Scripts/Deco2023_R1.txt>

#Include my previous scripts
<Include Deco2011/Scripts/r4_script.txt>
<Include CustomObjects2018/Scripts/r1_script.txt>
<Include Shaft Wall Creator/Scripts/r1_script.txt>
<Include data/ACME Floor Indicator/Scripts/Indicators.txt>

##--------------------------------------------------------------------------------##

#Determinant for the positions of the Classrooms and Teachers' Rooms (use only one value with its two related files at a time):
	# The ClassDeterminant values will only determine the sign holders, floor (for music/performing arts rooms), and walls to be created according to the layout.
		# As the Include function does not work with if statements, you have to manually change the two file names to be loaded,
		# to ensure that the signs, as well as the tables and chairs, are created according to the chosen layout.

#Set ClassDeterminant = 1
#<Include buildings/SkyscraperSchool (V3)/MatrixBuilding/RoomSign_Arrange1.txt>
#<Include buildings/SkyscraperSchool (V3)/MatrixBuilding/Table_MatrixBuilding.txt>

Set ClassDeterminant = 2
<Include buildings/SkyscraperSchool (V3)/MatrixBuilding/RoomSign_Arrange2.txt>
<Include buildings/SkyscraperSchool (V3)/MatrixBuilding/Table_MatrixBuilding_Arrange2.txt>

#Note: M.6/1 to 6/7 classrooms always remain in the same positions, no matter which layout is used.

#If ClassDeterminant is 1:
	# 1. All classrooms are on the 2nd-7th floors, with all teachers' rooms on 8th floor.
	# 2. Music and Performing Arts Rooms are two separate rooms, located on the north end of the 4th floor.

#If ClassDeterminant is 2:
	# 1. Classrooms are on the 2nd-8th floors.
	# 2. Teachers' rooms are separated on the 3rd-8th floors.
	# 3. Music and Performing Arts Rooms is one room, located on the 8th floor, directly south of the passenger elevator lobby.

##--------------------------------------------------------------------------------##

<Globals>
	Name = Skyscraper School - Matrix Building
	Designer = Mn10
	Location = Skyscraper School
	Version = 3
	Description = The tallest building in the school, containing M.4-M.6 (Grade 10-12) classrooms, activity rooms, meeting rooms, and an auditorium.
	CameraFloor = 0
	CameraPosition = -5.5, -20
	CameraRotation = 0, 0, 0
<EndGlobals>

<Textures>
	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	#Load data/grndroad1mid.jpg, Road, 0.04, 0.04
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125

	#Concrete
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade, 0.075, 0.075 #EG881 #Main facade
	Load data/stucco1b.jpg, ExtFacade2, 0.188, 0.188, true #EG881
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade3, 0.075, 0.075 #EG881 #Roof railings and shaft tops
	Load data/EG881/cem_tr2b.jpg, Concrete1, 0.075225, 0.0625 #EG881

	#Support columns
	Load data/stucco4b.jpg, ColumnTex, 0.25, 0.25

	#Main textures
		#Windows
		LoadAlphaBlend data/windows11h.jpg, data/windows11ispec.png, data/sky3k.jpg, MainWindowsB, true, 1, 1, false
		LoadAlphaBlend data/windows11h.jpg, data/windows11ispec.png, data/sky1.jpg, MainWindows-Link, true, 1, 1, false #Link to Priscilla Bldg.

		Load data/windows11h.jpg, MainWindows-Room, 1, 1, false
		Load data/windows11h_inside.gif, MainWindowsIntB, 1, 1, false

		#Vents
		Load data/vents1b.jpg, VentsExt, 1, 1, false
		Load data/vents1b.jpg, VentsInt, 1, 1, false

		#Link to Skydream Bldg.
		Load data/MT/treatment01.jpg, LinkFlr, 0.11, 0.11
		Load data/windows11e.jpg, LinkWindowsB, 1, 1, false
		Load data/windows11e_inside.gif, LinkWindowsIntB, 1, 1, false
		Load data/marb047.jpg, LinkTop, 0.11, 0.11

	Load data/stucco4.jpg, WindowsFiller_Classes, 0.25, 0.25 #EG881 #Levels 2-8
	Load data/wall5.jpg, WindowsFiller, 0.25, 0.25 #Levels 9-10
	Load data/stucco5.jpg, WindowsFiller_Top, 0.25, 0.25 #Level 11
	Load data/EG881/cem_tr2c.jpg, OpenAreaFloor, 0.075225, 0.0625 #EG881

	Load data/floor065.jpg, MainFloor, 0.25, 0.25
	Load data/floor065b.jpg, MainFloor2, 0.25, 0.25

	Load data/wall5.jpg, LobbyWall, 0.25, 0.25 #Hallways on levels 1 and M
	Load data/granite_0008b.jpg, LobbyWallLower, 0.25, 0.25
	Load data/wall5.jpg, LobbyWallUpper, 0.25, 0.25
	Load data/stucco1b.jpg, LobbyCeiling, 0.125, 0.125

	Load data/stucco4.jpg, MainWall, 0.25, 0.25 #Hallways on levels 2-8
	Load data/graniteTexture_0015b.jpg, MainWallLower, 0.125, 0.125
	Load data/stucco4.jpg, MainWallUpper, 0.25, 0.25
	Load data/stucco1.jpg, MainCeiling, 0.125, 0.125
	Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881

	Load data/wall5.jpg, MeetingWall, 0.25, 0.25 #Hallways on levels 9-10
	Load data/granite_0007e.jpg, MeetingWallLower, 0.125, 0.125
	Load data/wall5.jpg, MeetingWallUpper, 0.25, 0.25
	Load data/granite_0007c.jpg, MeetingTransitionWall, 0.0625, 0.0625
	Load data/stucco1b.jpg, MeetingCeiling, 0.125, 0.125

	Load data/stucco5.jpg, ConfWall, 0.25, 0.25 #Hallways on levels 11
	Load data/marbletile.jpg, ConfWallLower, 0.25, 0.5
	Load data/stucco5.jpg, ConfWallUpper, 0.25, 0.25
	Load data/stucco3.jpg, ConfCeiling, 0.25, 0.25
	
	#Textures for new areas in update 5
		#Level B
		Load data/brick040+.jpg, LevelBFloor, 0.15, 0.15
		Load data/stucco1.jpg, LevelBWall, 0.2, 0.2
		Load data/cinderblocks.jpg, LevelBWall2, 0.25, 0.25
		Load data/EG881/cem_tr2b.jpg, LevelBCeiling, 0.075225, 0.0625 #EG881

		#Loading dock (Level 1)
		Load data/grndroad1mid.jpg, LoadingDockFloor, 0.04, 0.04
		Load data/graniteTexture_0016c.jpg, LoadingDockWall, 0.11, 0.11
		Load data/marb123.jpg, LoadingDockWall2, 0.15, 0.15
		Load data/EG881/cem_tr2b.jpg, LoadingDockCeiling, 0.075225, 0.0625 #EG881

		#Level M1
		Load data/brick102.jpg, LevelM1Floor, 0.15, 0.15
		Load data/st_wall2.jpg, LevelM1Wall, 0.1818, 0.1302
		Load data/brick021.jpg, LevelM1OfficeWall, 0.25, 0.25
		Load data/stucco1b.jpg, LevelM1Railing, 0.125, 0.125
		#Load data/st_wall.jpg, LevelM1Railing, 0.25, 0.1792
		Load data/windows11e_inside.gif, LevelM1Railing-Upper, 1, 1, false
		
	#Rooms on levels 9-11
		Load data/wall5.jpg, F9Wall, 0.25, 0.25
		Load data/diamond09.jpg, F9WallLower, 0.36, 0.36
		Load data/wall5.jpg, F9WallUpper, 0.25, 0.25
		Load data/checker08.jpg, F9MeetingRoomFloor, 0.4, 0.4

		Load data/stucco2f.jpg, F10Wall, 0.08, 0.08
		Load data/diamond18j.jpg, F10WallLower, 0.36, 0.36
		Load data/stucco2f.jpg, F10WallUpper, 0.08, 0.08
		Load data/checker03.jpg, F10MeetingRoomFloor, 0.4, 0.4

		Load data/stucco22.jpg, F11Wall, 0.125, 0.125
		Load data/diamond18i.jpg, F11WallLower, 0.36, 0.36
		Load data/stucco22.jpg, F11WallUpper, 0.125, 0.125
		Load data/MT/treatment02.jpg, F11MeetingRoomFloor, 0.15, 0.15

		#Elevator lobbies, 9th-11th floors
		Load data/marble5c.jpg, F9LobbyWall, 0.25, 0.25
		Load data/marble5c.jpg, F10LobbyWall, 0.25, 0.25
		#Load data/granite_0008b.jpg, F11LobbyWall, 0.111, 0.1111
		Load data/st_wall2.jpg, F11LobbyWall, 0.13635, 0.09765

		#Meeting room ceiling (9th-11th floors)
		Load data/EG881/ceilingtile2b.jpg, MeetingRoomCeiling, 0.16666, 0.16666 #EG881

		#Auditorium (9th-10th floors)
		Load data/rose_marble.jpg, AuditoriumFloor, 0.111, 0.111
		Load data/marble22.jpg, AuditoriumWall, 0.1345, 0.125
		Load data/marb148.jpg, AuditoriumWall2, 0.25, 0.25
		Load data/stonec.jpg, AuditoriumLobbyWall, 0.125, 0.125
		Load data/granite_0007e.jpg, AuditoriumLobbyRailing, 0.25, 0.25
		Load data/windows11e_inside.gif, AuditoriumLobbyRailing-Upper, 1, 1, false
		Load data/EG881/ceilingtile3x3.jpg, AuditoriumCeiling, 0.16666, 0.16666 #EG881

		#Exhibition hall (11th floor)
		Load data/Carpet0021b_S.jpg, ExhibitionFloor, 0.2, 0.2
		Load data/Carpet0002_S.jpg, ExhibitionFloor2, 0.2, 0.2
		Load data/marble1.jpg, ExhibitionWall, 0.18, 0.18
		Load data/ceilinglight1.jpg, ExhibitionCeiling, 0.25, 0.25

	#Service levels & roof
		Load data/EG881/cem_tr2b.jpg, ServiceFloor, 0.075225, 0.0625 #EG881
		Load data/stucco4c.jpg, ServiceWall, 0.25, 0.25
		Load data/EG881/cinderblocks3b.jpg, ServiceWall2, 0.25, 0.5 #EG881
		Load data/EG881/cem_tr3.jpg, ServiceCeiling, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2c.jpg, ServiceCeiling2, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881

	#Link areas
		Load data/st_wall2.jpg, AnnexLobbyWall, 0.1818, 0.1302
		Load data/marble5c.jpg, CanteenWall, 0.25, 0.25
		Load data/lopacwall1.jpg, LibraryWall, 0.2, 0.074074
		Load data/marbl3.jpg, HallWall, 0.125, 0.125
		Load data/granite_0007e.jpg, CourtsideFloor, 0.1, 0.1
		Load data/marble6f.jpg, CanteenFloor, 0.1, 0.1
		Load data/floor111b.jpg, LibraryFloor, 0.25, 0.25
		Load data/marble3.jpg, CompLabFloor, 0.1, 0.1
		Load data/MarbleWhite0047b_S.jpg, HallEntranceFloor, 0.1, 0.2

		Load data/ceilinglight1.jpg, CanteenCeiling, 0.2, 0.2
		Load data/EG881/ceilingtile2b.jpg, LibraryCeiling, 0.16666, 0.16666 #EG881
		Load data/EG881/ceilingtile3x3.jpg, HallCeiling, 0.125, 0.125 #EG881

	#2nd-7th floor walls
	Load data/stucco22b.jpg, ClassroomWall, 0.125, 0.125 #Classrooms on levels 2-3 and 5-7 (including 4th floor lab)
	Load data/graniteTexture_0001b.jpg, ClassroomWallLower, 0.125, 0.125
	Load data/stucco22b.jpg, ClassroomWallUpper, 0.125, 0.125
	Load data/EG881/ceilingtile2b.jpg, ClassroomCeiling1, 0.1, 0.1 #EG881 #Most classrooms
	Load data/EG881/ceilingtile2.jpg, ClassroomCeiling2, 0.1, 0.1 #EG881 #Certain rooms on 4th floor and lower
	Load data/ceilinglight1.jpg, ElevatorLobbyCeiling, 0.2, 0.2

	Load data/stucco1b.jpg, LobbyOfficeWall, 0.125, 0.125 #EG881 #1st floor & mezzanine offices
	Load data/graniteTexture_0001b.jpg, LobbyOfficeWallLower, 0.125, 0.125
	Load data/stucco1b.jpg, LobbyOfficeWallUpper, 0.125, 0.125 #EG881

	Load data/EG881/stucco2f_white.jpg, F2OfficeWall, 0.25, 0.25 #EG881 #2nd floor offices
	Load data/marble4.jpg, F2OfficeWallLower, 0.25, 0.25
	Load data/EG881/stucco2f_white.jpg, F2OfficeWallUpper, 0.25, 0.25 #EG881

	Load data/stucco1b.jpg, F4ClassroomWall, 0.125, 0.125 #Classrooms on level 4 (except lab)
	Load data/marb148.jpg, F4ClassroomWallLower, 0.25, 0.25
	Load data/stucco1b.jpg, F4ClassroomWallUpper, 0.125, 0.125

	Load data/stucco1b.jpg, F7ARoomWall, 0.125, 0.125 #EG881 #Activity room, 7th floor

	#8th floor carpets & walls
		#NOTE: Music/Performing Arts Rooms are on the 4th floors if Layout 1 is selected.
	Load data/Carpet0012_S.jpg, MusicRoomFloor, 0.2, 0.2 #Music & performing arts rooms' floor
	Load data/EG881/stucco2f_white2.jpg, PartitionWall, 0.125, 0.125 #EG881 #Room partition walls for 8th floor
	Load data/Melvin/Skyscraper School (V3)/PtWallMid.jpg, PartitionWallMid, 0.074074, 1
	Load data/stucco1b.jpg, F8RoomWall, 0.125, 0.125 #EG881 #Room perimeter walls for 8th floor
	Load data/wall3.jpg, F8ARoomWall, 0.25, 0.25 #EG881 #Activity room, 8th floor

	#Manual sliding doors
	Load data/Melvin/SlidingDoors/darkwooddoor_slide_window.png, DWSDoor, 1, 1, false #EG881 #DWS = DarkWoodSliding
	Load data/Melvin/SlidingDoors/darkwooddoor_slide_window_narrow.png, DWSDoor_NA, 1, 1, false #EG881 #DWS = DarkWoodSliding
	LoadCropped data/EG881/darkwooddoor_withwindow.gif, DWSDoorSide, 236, 0, 20, 499, 1, 1, false #EG881
	#Load data/EG881/brownwood.jpg, DWSDoorSide, 1, 1, false #EG881
	Load data/EG881/brownwood.jpg, DWSDoorTrim, 1, 1, false #EG881

	#Doors
	Load data/gray2.jpg, GrayTrim, 0.25, 0.25, true
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	#Load data/EG881/darkwooddoor_withwindow.gif, MainDoor, 1, 1, false #EG881
	#LoadCropped data/EG881/darkwooddoor_withwindow.gif, MainDoorSide, 236, 0, 20, 499, 1, 1, false #EG881

	Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
	LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
	Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
	Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
	Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
	Load data/servicedoor3_trans.gif, ServiceDoor3Trans, 1, 1, false
	LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/EG881/miscdoor8_blacktrans.png, Door88Trans_Int, 1, 1, false #EG881
		Load data/EG881/miscdoor8_blacktranstinted.jpg, Door88Trans_Ext, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, Door88Trans_Side, 236, 0, 20, 512, 1, 1, false #EG881

		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		Load data/miscdoor88.gif, EntDoor_Int, 1, 1, false
		LoadAlphaBlend data/Melvin/SDU_Signs/miscdoor88_outside.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3k.jpg, EntDoor_Ext, true, 1, 1, false #EG881
		LoadCropped data/miscdoor88.gif, EntDoor_Side, 236, 0, 20, 512, 1, 1, false

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/cinderblocks.jpg, StairsWall, 0.25, 0.25
	Load data/stucco1.jpg, StairsWall2, 0.25, 0.25
	Load data/cutston.jpg, StairsCeiling, 0.25, 0.25

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		#Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/panel-back4.jpg, ElevPanel, 1, 1, false
		Load data/panel-back3.jpg, ElevPanel2, 1, 1, false
		
		#Passenger elevators
		Load data/Carpet0012_S.jpg, PassengerElevFloor, 0.2, 0.2
		Load data/Carpet0021d_S.jpg, PassengerElevFloor2, 0.2, 0.2
		Load data/marb148.jpg, PassengerElevWall, 0.26, 0.26
		Load data/diamond18c.jpg, PassengerElevWallPanel, 0.5, 0.5
		Load data/diamond18g.jpg, PassengerElevWallPanel2, 0.5, 0.5
		Load data/marb148.jpg, PassengerElevPanelMain, 0.26, 0.26
		Load data/marb148.jpg, PassengerElevPanelTop, 0.26, 0.26
		Load data/otis4_downlightceiling.jpg, PassengerElevCeiling, 3, 2, false
		Load data/otis4_weaveceiling_2x3.jpg, PassengerElevCeiling2, 1, 1, false
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsC, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsC2, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsE, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsE2, 1, 1, false #EG881

		#Service elevator
		Load data/checker05.jpg, ServiceElevFloor, 0.5, 0.5
		Load data/metal080.jpg, ServiceElevWall, 0.5, 0.5
		Load data/panel-back3.jpg, ServiceElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, ServiceElevPanelTop, 1, 0.125, false
		Load data/MT/CeilingD.jpg, ServiceElevCeiling, 1, 1, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsD2, 1, 1, false #EG881

		#Shaft doors & outside panels
		Load data/panel-back4.jpg, ElevExtPanels, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels2, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels-Meeting, 1, 1, false #9th-10th floors

			#Passenger elevators
			Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ElevDoorsA, -1, 1, false #EG881 #1st floor and mezzanine
			Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, ElevDoorsA2, -1, 1, false #EG881
			Load data/panel-back4.jpg, ElevDoorsA_Trim, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsQ, -1, 1, false #EG881 #2nd-8th floors
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ElevDoorsQ2, -1, 1, false #EG881
			Load data/panel-back3.jpg, ElevDoorsQ_Trim, 1, 1, false

			Load data/EG881/lightaluminumdoor2.jpg, ElevDoorsX, 1, 1, false #EG881 #9th-11th floors
			Load data/EG881/lightaluminumdoor2.jpg, ElevDoorsX2, -1, 1, false #EG881
			Load data/panel-back3.jpg, ElevDoorsX_Trim, 1, 1, false

			#Service elevator
			Load data/door2.jpg, ElevDoorsLB, 1, 1, false #EG881 #Level B
			Load data/door2.jpg, ElevDoorsLB2, -1, 1, false #EG881
			Load data/Melvin/elevpanelmetal.jpg, ElevDoorsLB_Trim, 1, 1, false

			Load data/door1c.jpg, ElevDoorsB, 1, 1, false #EG881 #1st floor
			Load data/door1c.jpg, ElevDoorsB2, -1, 1, false #EG881

			Load data/Melvin/SRH/st_doors_blackedge.jpg, ElevDoorsLX, 1, 1, false #EG881 #Level M1
			Load data/Melvin/SRH/st_doors_blackedge.jpg, ElevDoorsLX2, -1, 1, false #EG881
			Load data/Melvin/st_panel.jpg, ElevDoorsLX_Trim, 1, 1, false

			Load data/door1.jpg, ElevDoorsBX, 1, 1, false #EG881 #Level M2
			Load data/door1.jpg, ElevDoorsBX2, -1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ElevDoorsXD, -1, 1, false #EG881 #2nd-8th floors
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ElevDoorsXD2, -1, 1, false #EG881

			Load data/brushed metal door.tga, ElevDoorsXQ, 1, 1, false #9th-10th floors
			Load data/brushed metal door.tga, ElevDoorsXQ2, -1, 1, false

			Load data/EG881_Otis/Doors/otisgraydoorright.jpg, ElevDoorsZ, -1, 1, false #EG881 #11th floor
			Load data/EG881_Otis/Doors/otisgraydoorleft.jpg, ElevDoorsZ2, -1, 1, false #EG881

			Load data/door2.jpg, ElevDoorsL, 1, 1, false #12th floor
			Load data/door2.jpg, ElevDoorsL2, -1, 1, false
			Load data/Melvin/elevpanelmetal.jpg, ElevDoorsL_Trim, 1, 1, false

		#Decos on 2nd-8th floors
		Load data/Other People's Textures/marb044.png, OddFlrDeco, 0.25, 0.25
		Load data/Other People's Textures/marb045.png, EvenFlrDeco, 0.25, 0.25

		#Fixtures
		Load data/MT/upbutton.gif, ButtonUp, 1, 1, false
		Load data/MT/upbutton_lit.gif, ButtonUpLit, 1, 1, false
		Load data/MT/downbutton.gif, ButtonDown, 1, 1, false
		Load data/MT/downbutton_lit.gif, ButtonDownLit, 1, 1, false

		Load data/callbutton3.gif, GoldButtonUp, 1, 1, false
		Load data/callbutton3_litamber.gif, GoldButtonUpLit, 1, 1, false
		Load data/callbutton3.gif, GoldButtonDown, 1, -1, false
		Load data/callbutton3_litamber.gif, GoldButtonDownLit, 1, -1, false

		Load data/MT/MT.gif, Button, 1, 1, false
		Load data/MT/MTlit.gif, ButtonLit, 1, 1, false
		Load data/MT/Open.gif, ButtonOpen, 1, 1, false
		Load data/MT/Close.gif, ButtonClose, 1, 1, false
		Load data/MT/Stop.gif, ButtonStop, 1, 1, false
		Load data/MT/Alarm.gif, ButtonAlarm, 1, 1, false

		AddText Button, ButtonBTemp, nimbus_sans_bold_condensed.ttf, 63, B, 16, 55, 135, 148, center, center, 255, 255, 255
		AddText ButtonLit, ButtonLitBTemp, nimbus_sans_bold_condensed.ttf, 63, B, 16, 55, 135, 148, center, center, 255, 255, 255
		AddText Button, ButtonMTemp, nimbus_sans_bold_condensed.ttf, 63, M, 16, 55, 135, 148, center, center, 255, 255, 255
		AddText ButtonLit, ButtonLitMTemp, nimbus_sans_bold_condensed.ttf, 63, M, 16, 55, 135, 148, center, center, 255, 255, 255

		AddTextRange 1, 12, Button, Button%number%Temp, nimbus_sans_bold_condensed.ttf, 63, %number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 12, ButtonLit, ButtonLit%number%Temp, nimbus_sans_bold_condensed.ttf, 63, %number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 2, Button, ButtonM%number%Temp, nimbus_sans_bold_condensed.ttf, 63, M%number%, 16, 55, 135, 148, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonLit, ButtonLitM%number%Temp, nimbus_sans_bold_condensed.ttf, 63, M%number%, 16, 55, 135, 148, center, center, 255, 255, 255

		AddText ButtonBTemp, ButtonB, braille.ttf, 25, ;B, 16, 148, 135, 194, center, center, 255, 255, 255
		AddText ButtonLitBTemp, ButtonLitB, braille.ttf, 25, ;B, 16, 148, 135, 194, center, center, 255, 255, 255
		AddText ButtonMTemp, ButtonM, braille.ttf, 25, ;M, 16, 148, 135, 194, center, center, 255, 255, 255
		AddText ButtonLitMTemp, ButtonLitM, braille.ttf, 25, ;M, 16, 148, 135, 194, center, center, 255, 255, 255

		AddTextRange 1, 12, Button%number%Temp, Button%number%, braille.ttf, 25, $%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 12, ButtonLit%number%Temp, ButtonLit%number%, braille.ttf, 25, $%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonM%number%Temp, ButtonM%number%, braille.ttf, 25, ;M$%number%, 16, 148, 135, 194, center, center, 255, 255, 255
		AddTextRange 1, 2, ButtonLitM%number%Temp, ButtonLitM%number%, braille.ttf, 25, ;M$%number%, 16, 148, 135, 194, center, center, 255, 255, 255

		#Lanterns
		Load data/MT/LanternUnlit.gif, LanternUp, 1, 1, false
		Load data/MT/LanternLit.gif, LanternUpLit, 1, 1, false
		Load data/MT/LanternUnlit.gif, LanternDown, 1, -1, false
		Load data/MT/LanternLit.gif, LanternDownLit, 1, -1, false

		#Inside indicators
		Load data/black.jpg, IndBack, 1, 1, false
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, IndBack_Outside, 1, 1, false

			#Elevators 1-6
			AddText IndBack, Ind_ButtonM2, acme_led.ttf, 75, _M, -1, -1, -1, -1, center, center, 255, 0, 0
			AddTextRange 1, 9, IndBack, Ind_Button%number%, acme_led.ttf, 75, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0
			AddTextRange 10, 11, IndBack, Ind_Button%number%, acme_led.ttf, 75, %number%, -1, -1, -1, -1, center, center, 255, 0, 0

			#Elevator 7
			AddText IndBack, Ind2_ButtonB, acme_led.ttf, 75, _B, -1, -1, -1, -1, center, center, 255, 0, 0
			AddTextRange 1, 9, IndBack, Ind2_Button%number%, acme_led.ttf, 75, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0
			AddTextRange 10, 12, IndBack, Ind2_Button%number%, acme_led.ttf, 75, %number%, -1, -1, -1, -1, center, center, 255, 0, 0
			AddTextRange 1, 2, IndBack, Ind2_ButtonM%number%, acme_led.ttf, 75, M%number%, -1, -1, -1, -1, center, center, 255, 0, 0

		#Outside indicators (Elevator 7 only)
		AddText IndBack_Outside, OutsideInd_ButtonB, acme_led.ttf, 240, _B, -1, -1, -1, -1, center, center, 255, 0, 0
		AddTextRange 1, 9, IndBack_Outside, OutsideInd_Button%number%, acme_led.ttf, 240, _%number%, -1, -1, -1, -1, center, center, 255, 0, 0
		AddTextRange 10, 12, IndBack_Outside, OutsideInd_Button%number%, acme_led.ttf, 240, %number%, -1, -1, -1, -1, center, center, 255, 0, 0
		AddTextRange 1, 2, IndBack_Outside, OutsideInd_ButtonM%number%, acme_led.ttf, 240, M%number%, -1, -1, -1, -1, center, center, 255, 0, 0

	#Signs
		#Elevator instruction signs
		Load data/signs_mod/elevhallsign1.png, ElevHallSign, 1, 1, false

		#Floor signs
		Load data/Melvin/transparent128.png, Blank, 1, 1, false
		AddText Blank, BlankSignB, nimbus_sans_bold.ttf, 72, B, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 13, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 2, Blank, BlankSignM%number%, nimbus_sans_bold.ttf, 72, M%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignM, nimbus_sans_bold.ttf, 72, M, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Elevator number signs (Outside)
		AddTextRange 1, 6, Blank, ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText Blank, ElevNo7, nimbus_sans_bold.ttf, 72, 7, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#Elevator number signs (Inside)
			Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
			AddTextRange 1, 7, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 45, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Elevator lobbies
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false

		#Restrooms
		Load data/signs_mod/Restroom1A.png, Sign_Restroom, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW2, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM2, 1, 1, false

		#Main textures
		Load data/panel-back3.jpg, SignHolder, 1, 1, false
		Load data/EG881/brownwood.jpg, WoodSign, 0.23, 0.212, true #EG881
		Load data/text16.jpg, WoodSign2, 1, 1, false
		Load data/EG881Mod/brownwood_long1.jpg, WoodSignLong1, 1, 1, false
		Load data/EG881Mod/brownwood_long2.jpg, WoodSignLong2, 1, 1, false

		#Classrooms and teachers’ rooms
		AddTextRange 1, 10, WoodSignLong1, SignM4%number%, nimbus_sans_bold.ttf, 60, M.4/%number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 10, WoodSignLong1, SignM5%number%, nimbus_sans_bold.ttf, 60, M.5/%number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 10, WoodSignLong1, SignM6%number%, nimbus_sans_bold.ttf, 60, M.6/%number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 4, 6, WoodSignLong2, SignM%number%TeachersRoom, nimbus_sans_bold.ttf, 36, M.%number% Teachers' Rm., -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Offices
		#Level 1
			AddText WoodSignLong2, SignRegistration, nimbus_sans_bold.ttf, 45, Registration, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignStationeryRoom, nimbus_sans_bold_condensed.ttf, 45, Stationery Room, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignStationeryDept, nimbus_sans_bold_condensed.ttf, 43, Stationery Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Level M1
			AddText WoodSignLong2, SignDocument, nimbus_sans_bold_condensed.ttf, 45, Document Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignTechnology, nimbus_sans_bold_condensed.ttf, 45, Technology Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
		
		#Level M2
			AddText WoodSignLong2, SignFinance, nimbus_sans_bold.ttf, 45, Finance Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignAdministrativeOffice, nimbus_sans_bold_condensed.ttf, 40, Administrative Office, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignAdministrativeMeeting, nimbus_sans_bold.ttf, 43, Admin. Meeting, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Level 2
			AddText WoodSignLong2, SignAcademic, nimbus_sans_bold.ttf, 45, Academic Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignGuidance, nimbus_sans_bold.ttf, 45, Guidance Dept., -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Activity rooms, labs, and miscellaneous rooms
			#3rd floor
			AddTextRange 1, 2, WoodSignLong2, SignChemLab%number%, nimbus_sans_bold.ttf, 36, Chemistry Lab %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false

			#4th floor
			AddText WoodSignLong2, SignMusicRoom, nimbus_sans_bold.ttf, 45, Music Room, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignPerformArts, nimbus_sans_bold_condensed.ttf, 45, Performing Arts, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignPhysicsLab, nimbus_sans_bold.ttf, 45, Physics Lab, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignBiologyLab, nimbus_sans_bold.ttf, 45, Biology Lab, -1, -1, -1, -1, center, center, 255, 255, 255, false

			#6th floor
			AddText WoodSignLong2, SignPreFunction, nimbus_sans_bold.ttf, 48, Pre-Function, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignLangLoversClub, nimbus_sans_bold_condensed.ttf, 45, Language Lovers, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignCityTourClub, nimbus_sans_bold.ttf, 45, City Tour Club, -1, -1, -1, -1, center, center, 255, 255, 255, false

			#7th floor
			AddText WoodSignLong2, SignEnglishRoom, nimbus_sans_bold.ttf, 45, English Room, -1, -1, -1, -1, center, center, 255, 255, 255, false

			#8th floor
			AddText WoodSignLong2, SignESportClub, nimbus_sans_bold.ttf, 45, E-Sports Club, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignActorsClub, nimbus_sans_bold.ttf, 45, Actors' Club, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignLawClub, nimbus_sans_bold.ttf, 48, Law Club, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignPhotoClub, nimbus_sans_bold_condensed.ttf, 45, Photography Club, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddText WoodSignLong2, SignGermanClub, nimbus_sans_bold.ttf, 45, German Club, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Meeting rooms
			AddTextRange 9, 11, WoodSignLong2, SignRoom%number%A, nimbus_sans_bold_condensed.ttf, 41, Meeting Rm. %number%A, -1, -1, -1, -1, center, center, 255, 255, 255, false
			AddTextRange 9, 11, WoodSignLong2, SignRoom%number%B, nimbus_sans_bold_condensed.ttf, 41, Meeting Rm. %number%B, -1, -1, -1, -1, center, center, 255, 255, 255, false
			#AddText WoodSignLong2, SignRoom11C, nimbus_sans_bold_condensed.ttf, 41, Meeting Rm. 11C, -1, -1, -1, -1, center, center, 255, 255, 255, false
			#AddText WoodSignLong2, SignRoom11D, nimbus_sans_bold_condensed.ttf, 41, Meeting Rm. 11D, -1, -1, -1, -1, center, center, 255, 255, 255, false

			Load data/Melvin/Sign-LightBlue-Long.png, Sign_LB_Long, 1, 1, false
			AddText Sign_LB_Long, SignAuditorium, nimbus_sans_bold.ttf, 90, Auditorium, -1, -1, -1, -1, center, center, 0, 0, 0, false


		#Building sign
			Load data/Melvin/Skyscraper School (V3)/MatrixBldgSign.png, MatrixBldg, 1, 1, false

		#Elevator lobby signs
			LoadRange 1, 2, data/Melvin/Skyscraper School (V3)/Matrix_ElevBank%number%.png, Matrix_ElevBank%number%, 1, 1, false
	#--------------------
	#Exit signs
	Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
	Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
	Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
	Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
	Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
	Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false
<EndTextures>

#########################################################################

#Floor Assignments
<Floor -1>
	ID = B
	Name = Basement
	Type = Basement
	Height = 11.5
	InterfloorHeight = 1.5
	Altitude = -14.5
<EndFloor>

<Floor -2>
	ID = -
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Lobby
	Type = Lobby
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -1.5
	Group = 1, 2
<EndFloor>

<Floor 1>
	ID = M1
	Name = Mezzanine Level 1
	Type = Mezzanine
	Height = 9
	InterfloorHeight = 1.5
	Group = 0, 2
<EndFloor>

<Floor 2>
	ID = M2
	Name = Mezzanine Level 2
	Type = Mezzanine
	Height = 13.5
	InterfloorHeight = 1.5
	Group = 0, 1
<EndFloor>

<Floors 3 to 9>
	ID = %floor% - 1
	Name = Level %floorid%
	Type = Office
	Height = 13.5
	InterfloorHeight = 1.5
<EndFloors>

<Floors 10 to 12>
	ID = %floor% - 1
	Name = Conference
	Type = Conference
	Height = 13.5
	InterfloorHeight = 1.5
	if[%floor% = 10] Group = 11 #Group 9th floor (Auditorium) with 10th floor
	if[%floor% = 11] Group = 10 #Group 10th floor (Auditorium Balcony) with 9th floor
<EndFloors>

<Floor 13>
	ID = %floor% - 1
	Name = Main Roof and Mechanical
	Type = Roof
	Height = 10.5
	InterfloorHeight = 1.5
	Group = 14
<EndFloor>

<Floor 14>
	ID = %floor% - 1
	Name = Mechanical
	Type = Mechanical
	Height = 10.5
	InterfloorHeight = 1.5
	Group = 13
<EndFloor>

<Floor 15>
	ID = R
	Name = Rooftop
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

#Landscape
AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920
Cut Landscape, -26 - 10, -1, -132 - 10, 26 + 10, 1, 132 + 10, false, true
AddFloor landscape, Sidewalk, Sidewalk, 0, -26 - 10, -132 - 10, 26 + 10, 132 + 10, 0, 0, 0, 0
Cut Landscape, -26, -1, -132, 26, 1, 132, false, true

Cut Landscape, -26 - 10, -1, -132 + 35 + 3, -26, 1, -132 + 45 + 3, false, true
Cut Landscape, -26 - 10, -1, 14, -26, 1, 24, false, true

	#Loading dock entrance
	Cut Landscape, 26, -1, -132, 26 + 10, 1, -94 - 10, false, true
	AddFloor landscape, DockEntrance, LoadingDockFloor, 0, 26, -132, 26 + 10, -94 - 10, 0, 0, 0, 0

#Functions
<Include buildings/SkyscraperSchool (V3)/Functions.txt>

<Function WindowsZ2-1Feet>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set TitleX = %param11%
	Set TitleZ = %param12%

	#Filler Walls
	if[%Direction% = front | %Direction% = Front] WallOrientation = Left
	if[%Direction% = back | %Direction% = Back] WallOrientation = Right
	AddFillerWalls %FillerWallTexture%, 1, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, true, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = front | %Direction% = Front] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ% + 1, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = back | %Direction% = Back] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ% - 1, %PositionX% + (%Width% / 2), %PositionZ%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%
	AddWall %Name%, %MainPositiveTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ%, %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

#Room doors
<Function RoomDoors>
	Set DTex = %param1% #Door texture
	Set TrimTex = %param2% #Trim texture
	Set MainZ = %param3%

	#Doors
	WallOrientation = left
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -2, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -2, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	#Door Trims
	if[%floor% > 2 & %floor% < 12] AddDeco4(%TrimTex%, %TrimTex%, left, true, true, external, 0, 0.2, -2 - 0.01, %MainZ%, 6, 7, 7.2, 0.2, 0, false, Blank, 0.5 + 0.02)
	WallOrientation = left
	if[%floor% > 2 & %floor% < 12] AddFillerWalls %TrimTex%, 0.5 + 0.02, -2 - 0.01, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	if[%floor% < 3] AddFillerWalls %TrimTex%, 0.5, -2, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	if[%floor% = 12] AddFillerWalls %TrimTex%, 0.5, -2, %MainZ%, 6, 7, 0, false, 0, 0, false
<EndFunction>

<Function RoomDoors-F2Dept>
	Set DTex = %param1% #Door texture
	Set TrimTex = %param2% #Trim texture
	Set MainZ = %param3%

	#Doors
	WallOrientation = left
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -2, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -2, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	#Door Trims
	WallOrientation = left
	AddFillerWalls %TrimTex%, 0.5, -2, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFunction>

<Function RoomDoorsM1>
	Set DTex = %param1% #Door texture
	Set TrimTex = %param2% #Trim texture
	Set MainZ = %param3%

	#Doors
	WallOrientation = left
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -2 + 10, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -2 + 10, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	#Door Trims
	#AddDeco4(%TrimTex%, %TrimTex%, left, true, true, external, 0, 0.2, -2 + 10 - 0.01, %MainZ%, 6, 7, 7.2, 0.2, 0, false, Blank, 0.5 + 0.02)
	WallOrientation = left
	AddFillerWalls %TrimTex%, 0.5, -2 + 10, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	#AddFillerWalls %TrimTex%, 0.5 + 0.02, -2 + 10 - 0.01, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFunction>

<Function RoomDoors-Alt>
	Set DOutTex = %param1% #Outside texture
	Set DInTex = %param2% #Inside texture
	Set DSideTex = %param3% #Side texture
	Set TrimTex = %param4% #Trim texture
	Set MainZ = %param5%

	#Doors
	WallOrientation = left
	TextureOverride %DOutTex%, %DInTex%, %DSideTex%, %DSideTex%, %DSideTex%, %DSideTex%
	AddExternalDoor , , false, %DTex%, 0.2, 4, 75, -2, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DOutTex%, %DInTex%, %DSideTex%, %DSideTex%, %DSideTex%, %DSideTex%
	AddExternalDoor , , false, %DTex%, 0.2, 1, 75, -2, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	#Door Trims
	if[%floor% > 2] AddDeco4(%TrimTex%, %TrimTex%, left, true, true, external, 0, 0.2, -2 - 0.01, %MainZ%, 6, 7, 7.2, 0.2, 0, false, Blank, 0.5 + 0.02)
	WallOrientation = left
	if[%floor% > 2] AddFillerWalls %TrimTex%, 0.5 + 0.02, -2 - 0.01, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	if[%floor% < 3] AddFillerWalls %TrimTex%, 0.5, -2, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFunction>

<Function RoomDoors_West>
	Set DTex = %param1% #Door texture
	Set TrimTex = %param2% #Trim texture
	Set MainZ = %param3%

	#Doors
	WallOrientation = right
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddDoor , , false, %DTex%, 0.2, 3, 75, -12, %MainZ% + 1.5, 3, 7, 0, 0, 0
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	AddDoor , , false, %DTex%, 0.2, 2, 75, -12, %MainZ% - 1.5, 3, 7, 0, 0, 0

	#Door Trims
	AddDeco4(%TrimTex%, %TrimTex%, right, true, true, external, 0, 0.2, -12 + 0.01, %MainZ%, 6, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5 + 0.02)
<EndFunction>

<Function RoomDoors_Sliding>
	Set DName = %param1% #Door name
	Set DTex = %param2% #Door texture
	Set DSTex = %param3% #Side texture
	Set TrimTex = %param4% #Trim texture
	Set Door_MainX = %param5%
	Set Door_MainZ = %param6% #Each room's center point.
	Set Deco_Dir = %param7%

	if[%Deco_Dir% = left | %Deco_Dir% = Left] Set WallDir = left
	if[%Deco_Dir% = right | %Deco_Dir% = Right] Set WallDir = right
	if[%WallDir% = left] Set DoorDir = right
	if[%WallDir% = right] Set DoorDir = left

	#Doors
	WallOrientation = %DoorDir%
	if[%WallDir% = left] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_FrontDoor, , , false, %DTex%, %DSTex%, 0.2, right, right, 4, 2, %Door_MainX%, %Door_MainZ% - 10.75 + 2.5, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0
	if[%WallDir% = left] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_RearDoor, , , false, %DTex%, %DSTex%, 0.2, left, left, 4, 2, %Door_MainX%, %Door_MainZ% + 10.75 - 2.5, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0
	DrawWalls = true, true, true, true, true, false
	AddWall %DName%_DoorStopper, %TrimTex%, 0.2, %Door_MainX%, %Door_MainZ% - 0.75, %Door_MainX%, %Door_MainZ% + 0.75, 0.2, 0.2, %interfloorheight%, %interfloorheight%, 0, 0, true

	WallOrientation = %DoorDir%
	if[%WallDir% = right] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_FrontDoor, , , false, %DTex%, %DSTex%, 0.2, left, left, 4, 2, %Door_MainX%, %Door_MainZ% + 10.75 - 2.5, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0
	if[%WallDir% = right] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_RearDoor, , , false, %DTex%, %DSTex%, 0.2, right, right, 4, 2, %Door_MainX%, %Door_MainZ% - 10.75 + 2.5, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0

	#Door decos
	if[%Deco_Dir% = left | %Deco_Dir% = Left] AddDecoObject(Floor%floorid%_%DName%_ExtDeco, %TrimTex%, %TrimTex%, left, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 21.5, 7, 7 + 0.75, 0.75, 0, false, %TrimTex%, 0.5, external)
	if[%Deco_Dir% = left | %Deco_Dir% = Left] AddDecoObject(Floor%floorid%_%DName%_IntDeco_Front, %TrimTex%, %TrimTex%, left, false, true, 0.05, 0.2, %Door_MainX%, %Door_MainZ% - 10.75 + 2.5, 5, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5, external)
	if[%Deco_Dir% = left | %Deco_Dir% = Left] AddDecoObject(Floor%floorid%_%DName%_IntDeco_Back, %TrimTex%, %TrimTex%, left, false, true, 0.05, 0.2, %Door_MainX%, %Door_MainZ% + 10.75 - 2.5, 5, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5, external)
	if[%Deco_Dir% = right | %Deco_Dir% = right] AddDecoObject(Floor%floorid%_%DName%_ExtDeco, %TrimTex%, %TrimTex%, right, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 21.5, 7, 7 + 0.75, 0.75, 0, false, %TrimTex%, 0.5, external)
	if[%Deco_Dir% = right | %Deco_Dir% = right] AddDecoObject(Floor%floorid%_%DName%_IntDeco_Front, %TrimTex%, %TrimTex%, right, false, true, 0.05, 0.2, %Door_MainX%, %Door_MainZ% + 10.75 - 2.5, 5, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5, external)
	if[%Deco_Dir% = right | %Deco_Dir% = right] AddDecoObject(Floor%floorid%_%DName%_IntDeco_Back, %TrimTex%, %TrimTex%, right, false, true, 0.05, 0.2, %Door_MainX%, %Door_MainZ% - 10.75 + 2.5, 5, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5, external)
<EndFunction>

<Function RoomDoors_Sliding_Lab>
	Set DName = %param1% #Door name
	Set DTex = %param2% #Door texture
	Set DSTex = %param3% #Side texture
	Set TrimTex = %param4% #Trim texture
	Set Door_MainX = %param5%
	Set Door_MainZ = %param6% #Each door's center point.
	Set Position = %param7%

	Set WallDir = left
	Set DoorDir = right

	#Doors
	WallOrientation = %DoorDir%
	if[%Position% = 1] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_Door, , , false, %DTex%, %DSTex%, 0.2, right, right, 4, 2, %Door_MainX%, %Door_MainZ%, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0
	if[%Position% = 2] AddSlidingDoor DoorManager, Floor%floorid%_%DName%_Door, , , false, %DTex%, %DSTex%, 0.2, left, left, 4, 2, %Door_MainX%, %Door_MainZ%, 5, 7, Floor(%floor%).Base, 0, 0, 0, 0

	#Door decos
	if[%Position% = 1] AddDecoObject(Floor%floorid%_%DName%_ExtDeco, %TrimTex%, %TrimTex%, left, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ% + 2.5, 10, 7, 7 + 0.75, 0.75, 0, false, %TrimTex%, 0.5, external)
	if[%Position% = 2] AddDecoObject(Floor%floorid%_%DName%_ExtDeco, %TrimTex%, %TrimTex%, left, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ% - 2.5, 10, 7, 7 + 0.75, 0.75, 0, false, %TrimTex%, 0.5, external)
	AddDecoObject(Floor%floorid%_%DName%_IntDeco, %TrimTex%, %TrimTex%, left, false, true, 0.05, 0.2, %Door_MainX%, %Door_MainZ%, 5, 7, 7.2, 0.2, 0, true, %TrimTex%, 0.5, external)
<EndFunction>

#Link area creation
<Function LinkArea>
	#Levels 1, M1, and M2
	if[%floor% < 3] Set 6L = AnnexLobbyWall #Wall Texture

	#2nd floor (Canteen)
	if[%floor% = 3] Set 6L = CanteenWall #Wall Texture

	#3rd-4th floors (Library)
	#5th floor (Computer Labs)
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 6L = LibraryWall #Wall Texture

	#6th floor (Priscilla Steveson Hall)
	if[%floor% = 7] Set 6L = HallWall #Wall Texture

	Set Front = %param1%
	Set Back = %param2%
	Set ExtFacadeTexture = %param3%
	Set TZ = 1
	#if[%floor% = 0] Set TZ = 2

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	TextureOverride %ExtFacadeTexture%, %6L%, %ExtFacadeTexture%, %ExtFacadeTexture%, %6L%, %6L%
	AddWall FrontFacade-IFloorCover, %ExtFacadeTexture%, 1, -%1% - 10, %Front%, -%1%, %Front%, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, 0, 0, true
	AddWall FrontFacade-Extra, %6L%, 1.1, -%1%, %Front%, -%1% + 0.5, %Front%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindows-Link, MainWindowsIntB, Blank, Blank, Blank, Blank
	AddWall FrontFacade-Windows, %ExtFacadeTexture%, 0, -%1% - 10, %Front%, -%1%, %Front%, %height% - 3.5, %height% - 3.5, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0.5, %TZ%, true

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	TextureOverride %6L%, %ExtFacadeTexture%, %ExtFacadeTexture%, %ExtFacadeTexture%, %6L%, %6L%
	AddWall BackFacade-IFloorCover, %ExtFacadeTexture%, 1, -%1% - 10, %Back%, -%1%, %Back%, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, 0, 0, true
	AddWall BackFacade-Extra, %6L%, 1.1, -%1%, %Back%, -%1% + 0.5, %Back%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindowsIntB, MainWindows-Link, Blank, Blank, Blank, Blank
	AddWall BackFacade-Windows, %ExtFacadeTexture%, 0, -%1% - 10, %Back%, -%1%, %Back%, %height% - 3.5, %height% - 3.5, %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0.5, %TZ%, true
<EndFunction>

#########################################################################

#Set textures
<Function FloorTex>
	Set 5 = MainFloor #Floor Texture
	if[%floor% = -1] Set 5 = LevelBFloor #Floor Texture #Basement level
	if[%floor% = 1] Set 5 = LevelM1Floor #Floor Texture #Level M1
	if[%floor% = 12] Set 5 = MainFloor2 #Floor Texture #11th floor meeting rooms
	if[%floor% = 13 | %floor% = 14] Set 5 = ServiceFloor #Floor Texture #12th-13th floors service area (Mechanical Penthouse)

	#Link area
	Set 5L = %5% #Floor Texture
	if[%floor% = 0] Set 5L = CourtsideFloor #Floor Texture
	if[%floor% = 3] Set 5L = CanteenFloor #Floor Texture #2nd floor (Canteen)
	if[%floor% = 4 | %floor% = 5] Set 5L = LibraryFloor #Floor Texture #3rd-4th floors (Library)
	if[%floor% = 6] Set 5L = CompLabFloor #Floor Texture #5th floor (Computer labs)
	if[%floor% = 7] Set 5L = HallEntranceFloor #Floor Texture #6th floor (Priscilla Steveson Hall)
<EndFunction>

<Function WallTex>
	Set 6 = MainWall #Wall Texture
	Set 6P = LevelBWall2 #Perimeter walls for basement
	if[%floor% = 13 | %floor% = 14] Set 6P = ServiceWall2 #Perimeter walls for mechanical penthouse

	if[%floor% = -1] Set 6 = LevelBWall #Wall Texture #Basement level
	if[%floor% = 0 | %floor% = 2] Set 6 = LobbyWall #Wall Texture #Levels 1 and M2
	if[%floor% = 1] Set 6 = LevelM1Wall #Wall Texture #Level M1
	if[%floor% > 9 & %floor% < 12] Set 6 = MeetingWall #Wall Texture #9th-10th floors
	if[%floor% = 12] Set 6 = ConfWall #Wall Texture #11th floor
	if[%floor% = 13 | %floor% = 14] Set 6 = ServiceWall #Wall Texture #12th-13th floors service area (Mechanical Penthouse)

	Set 6M = MainWall #Hallway Wall Texture
	if[%floor% = -1] Set 6M = LevelBWall #Hallway Wall Texture #Basement level
	if[%floor% = 0 | %floor% = 2] Set 6M = LobbyWall #Hallway Wall Texture #Levels 1, M1 and M2
	if[%floor% = 1] Set 6M = LevelM1Wall #Wall Texture #Level M1
	if[%floor% > 9 & %floor% < 12] Set 6M = MeetingWall #Hallway Wall Texture #9th-10th floors
	if[%floor% = 12] Set 6M = ConfWall #Hallway Wall Texture #11th floor

	#Link area
	if[%floor% < 3] Set 6L = AnnexLobbyWall #Wall Texture #Levels 1 and M2
	if[%floor% = 3] Set 6L = CanteenWall #Wall Texture #2nd floor
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 6L = LibraryWall #Wall Texture #3rd-5th floors
	if[%floor% = 7] Set 6L = HallWall #Wall Texture #6th floor

	#Override wall texture for support columns
	Set 6A = ColumnTex
<EndFunction>

<Function CeilingTex>
	Set 7 = MainCeiling #Ceiling Texture
	if[%floor% = -1] Set 7 = LevelBCeiling #Ceiling Texture #Basement level
	if[%floor% > -1 & %floor% < 3] Set 7 = LobbyCeiling #Ceiling Texture #Levels 1, M1 and M2
	if[%floor% > 9 & %floor% < 12] Set 7 = MeetingCeiling #Ceiling Texture #9th-10th floors
	if[%floor% = 12] Set 7 = ConfCeiling #Ceiling Texture #11th floor
	if[%floor% = 13] Set 7 = ServiceCeiling2 #Ceiling Texture #12th-13th floors service area (Mechanical Penthouse)
	if[%floor% = 14] Set 7 = ServiceCeiling #Ceiling Texture

	#Link area
	Set 7L = %7%
	if[%floor% = 3] Set 7L = CanteenCeiling #Ceiling Texture #2nd floor
	if[%floor% = 4 | %floor% = 5 | %floor% = 6] Set 7L = LibraryCeiling #Ceiling Texture #3rd-5th floors
	if[%floor% > 6] Set 7L = HallCeiling #Ceiling Texture #6th floor
<EndFunction>

<Function WindowsFillers>
	Set FillerPrefix = WindowsFiller_Classes
	#if[%floor% < 3] Set FillerPrefix = LobbyWall #Levels 1, M1 and M2

	if[%floor% = 0 | %floor% = 2] Set FillerPrefix = LobbyWall
	if[%floor% = 1] Set FillerPrefix = Level%floorid%Wall

	if[%floor% = 10 | %floor% = 11] Set FillerPrefix = WindowsFiller #9th-10th floors
	if[%floor% = 12] Set FillerPrefix = WindowsFiller_Top #11th floor
	if[%floor% > 12] Set FillerPrefix = %6P% #12-13th floors
<EndFunction>

#Basement level
<Floor -1>
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	Set LevelB-NorthEnd = -%2% + 56 + 5

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MainFloor, %5%, 0.5, -%1%, -%2%, %1%, %LevelB-NorthEnd%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MainCeiling, %7%, 0.5,-%1%, -%2%, %1%, %LevelB-NorthEnd%, %height%, %height%, 0, 0, false

	#Interior perimeter walls
	Set WallHeight = %height%
	Set WallOffset = 0
	WallTex()

	WallOrientation = Left
	DrawWalls = false, true, false, false, false, false
	AddWall FrontPerimeter, %6P%, 0.5, -%1% + 14, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPerimeter, %6P%, 0.5, -%1%, -97 + 3, -%1%, %LevelB-NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	AddWall RightPerimeter, %6P%, 0.5, %1%, -%2%, %1%, %LevelB-NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall BackPerimeter, %6P%, 0.5, -%1%, %LevelB-NorthEnd%, %1%, %LevelB-NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloor>

#1st-13th floor
<Floors 0 to 12>
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0 | %floor% = 2] AddFloor MainFloor1A, %5%, 0.5, -%1%, -%2%, %1% - 28, 24, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 2] AddFloor MainFloor1B, %5%, 0.5, %1% - 28, -%2%, %1%, 20, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor LoadingDockLink, %5%, 0.5, %1% - 28, -%2%, %1% - 28 + 1, -94, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor LoadingDockFloor1, Sidewalk, 0.5, %1% - 28 + 1, -%2%, %1% - 28 + 10, -94, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor LoadingDockFloor2, LoadingDockFloor, 0.5, %1% - 28 + 10, -%2%, %1%, -94 - 10, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor LoadingDockFloor3, Sidewalk, 0.5, %1% - 28 + 10, -94 - 10, %1%, -94, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor MainFloor1B, %5%, 0.5, %1% - 28, -94, %1%, 20, %interfloorheight%, %interfloorheight%, 0, 0, true

	if[%floor% = 0] AddFloor MainFloor2A, OpenAreaFloor, 0.5, -%1%, 24, %1%, %2% - 28, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor MainFloor2B, OpenAreaFloor, 0.5, -%1%, %2% - 28, %1% - 28, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0] AddFloor MainFloor2C, OpenAreaFloor, 0.5, %1% - 28, 20, %1%, 24, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor MainFloor2C, %5%, 0.5, %1% - 28, %2% - 28, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[(%floor% ! 0 & %floor% ! 1 & %floor% ! 2) & %floor% < 10] AddFloor MainFloor, %5%, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true


	if[%floor% > 9] AddFloor MeetingHallwayFloor1, %5%, 0.5, -%1%, -%2%, %1% - 28, -20, 0, 0, 0, 0, false
	if[%floor% > 9] AddFloor MeetingRoomFloor-South, F%floorid%MeetingRoomFloor, 0.5, %1% - 28, -%2%, %1%, -20, 0, 0, 0, 0, false

	#if[%floor% = 12] AddFloor MeetingHallwayFloorA, %5%, 0.5, -%1%, -20, %1%, 20, 0, 0, 0, 0, false
	#if[%floor% = 12] AddFloor MeetingHallwayFloorB, %5%, 0.5, -%1%, 20, %1% - 28, %2%, 0, 0, 0, 0, false
	#if[%floor% = 12] AddFloor MeetingRoomFloor-North, F%floorid%MeetingRoomFloor, 0.5, %1% - 28, 20, %1%, %2%, 0, 0, 0, 0, false

	Set MeetFloorTex = AuditoriumFloor
	if[%floor% = 12] Set MeetFloorTex = ExhibitionFloor
	Set NamePrefix = Auditorium
	if[%floor% = 12] Set NamePrefix = Exhibition

	if[%floor% > 9] AddFloor MeetingHallwayFloor2, %5%, 0.5, -%1%, -20, %1%, 20, 0, 0, 0, 0, false
	if[%floor% > 9] AddFloor %NamePrefix%Floor, %MeetFloorTex%, 0.5, -%1%, 20, %1%, %2%, 0, 0, 0, 0, false
	#if[%floor% = 12] AddFloor ExhibitFlr2, ExhibitionFloor2, 0.5, -%1% + 14 + 5, %2% - 28, %1% - 5, %2% - 5, 0.001, 0.001, 0, 0, false
	if[%floor% = 12] AddFloor ExhibitFlr2, ExhibitionFloor2, 0.5, -%1% + 8, 20 + 8, %1% - 8, %2% - 28 - 8, 0.001, 0.001, 0, 0, false

	if[%floor% = 2] AddFloor F%floorid%-SkydreamLink-Floor, LinkFlr, 0.5, %1% - 28 - 10, %2%, %1% - 28, %2% + 10, %interfloorheight%, %interfloorheight%, 0, 0, true

	if[%floor% = 0 | %floor% = 2] AddFloor PriscillaBuildingLinkD1, %5L%, 0.5, -%1% - 10, -%2% + 35 + 3, -%1%, -%2% + 45 + 3, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor PriscillaBuildingLinkD2, %5L%, 0.5, -%1% - 10, 10 + 4, -%1%, 20 + 4, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddFloor PriscillaBldgLink_Upper, %5L%, 0.5, -%1% - 10, -%2% + (28 * 2), -%1%, -%2% + (28 * 3), %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 2] AddFloor SkybridgeFloor1, LinkFlr, 0.5, %1% - 28 - 10, 24, %1% - 28, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 2] AddFloor SkybridgeFloor2, LinkFlr, 0.5, -%1%, %2% - 25 - 3, %1% - 28 - 10, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	DrawWalls = false, true, true, true, true, true
	if[%floor% = 8] AddFloor AnnexLink_Upper, ExtFacade, %interfloorheight% + 3.5, -%1% - 10, -%2% + (28 * 2), -%1%, -%2% + (28 * 3), %interfloorheight% + 3.5, %interfloorheight% + 3.5, 0, 0, true

	Set ExtraFlrOffset = 0
	if[%floor% = 1] Set ExtraFlrOffset = 5.5

	if[%floor% = 1 | %floor% = 3] AddFloor AnnexLinkCA, ExtFacade, %interfloorheight% + 3.5 + %ExtraFlrOffset%, -%1% - 10, -%2% + 35 + 3, -%1%, -%2% + 45 + 3, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %interfloorheight% + 3.5 + %ExtraFlrOffset%, 0, 0, true
	if[%floor% = 1 | %floor% = 3] AddFloor AnnexLinkCB, ExtFacade, %interfloorheight% + 3.5 + %ExtraFlrOffset%, -%1% - 10, 14, -%1%, 24, %interfloorheight% + 3.5 + %ExtraFlrOffset%, %interfloorheight% + 3.5 + %ExtraFlrOffset%, 0, 0, true

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 1] AddFloor MainCeiling2C, %7%, 0.5, %1% - 28, %2% - 28, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% < 10] AddFloor MainCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 10 | %floor% = 11 | %floor% = 12] AddFloor MeetingCeiling, %7%, 0.5, -%1%, -%2%, %1%, 20, %height%, %height%, 0, 0, false

	Set ADCei = AuditoriumCeiling
	if[%floor% = 12] Set ADCei = ExhibitionCeiling
	Set NamePrefix = Auditorium
	if[%floor% = 12] Set NamePrefix = Exhibition
	
	if[%floor% > 9] AddFloor %NamePrefix%Ceiling, %ADCei%, 0.5, -%1%, 20, %1%, %2%, %height%, %height%, 0, 0, false

	if[%floor% = 1] AddFloor MainCeiling1, %7%, 0.5, -%1%, -%2%, %1% - 28, 24, %fullheight%, %fullheight%, 0, 0, true
	#if[%floor% = 1] AddFloor MainCeiling2, %7%, 0.5, %1% - 28, -%2%, %1%, 20, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor LoadingDockCeilingMain1, LoadingDockCeiling, 0.5, %1% - 28, -%2%, %1%, -94, %fullheight%, %fullheight%, 0, 0, true
	#if[%floor% = 1] AddFloor LoadingDockCeilingMain2, LoadingDockCeiling, 0.5, %1% - 28 + 10, -94 - 10, %1%, -94, %fullheight%, %fullheight%, 0, 0, true

	#if[%floor% = 0] AddFloor LoadingDockCeiling2, LoadingDockCeiling, 0.5, %1% - 28, -94 - 11, %1% - 28 + 11, -94, %fullheight%, %fullheight%, 0, 0, true
	#if[%floor% = 1] AddFloor CornerCeiling, %7%, 0.5, %1% - 28, -94 - 10, %1% - 28 + 10, -94, %fullheight%, %fullheight%, 0, 0, true

	if[%floor% = 1] AddFloor MainCeiling2, %7%, 0.5, %1% - 28, -94, %1%, 20, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor SkybridgeCeiling, %7%, 0.5, %1% - 28 - 10, 24, %1% - 28, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor SkybridgeCeiling, %7%, 0.5, -%1%, %2% - 25 - 3, %1% - 28 - 10, %2%, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor PriscillaBuildingLink, %7%, 0.5, -%1% - 10, -%2% + 35 + 3, -%1%, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 0 | %floor% = 2] AddFloor PriscillaBuildingLink, %7%, 0.5, -%1% - 10, 10 + 4, -%1%, 20 + 4, %fullheight%, %fullheight%, 0, 0, true

	if[%floor% = 1] AddFloor PriscillaBuildingLink_UpperQA, ExtFacade, 0.5, -%1% - 10, -%2% + 35 + 3, -%1%, -%2% + 45 + 3, %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor PriscillaBuildingLink_UpperQB, ExtFacade, 0.5, -%1% - 10, 14, -%1%, 24, %fullheight%, %fullheight%, 0, 0, true


	if[%floor% = 2] AddFloor PriscillaBuildingLink_UpperXA, ExtFacade, 0.5, -%1% - 10, -%2% + (28 * 2), -%1%, -%2% + (28 * 3), %fullheight%, %fullheight%, 0, 0, true
	if[%floor% > 2 & %floor% < 8] AddFloor PriscillaBuildingLink_UpperXB, %7L%, 0.5, -%1% - 10, -%2% + (28 * 2), -%1%, -%2% + (28 * 3), %fullheight%, %fullheight%, 0, 0, true
	if[%floor% = 1] AddFloor F%floorid%-SkydreamLink-Ceiling, %7%, 0.5, %1% - 38, %2%, %1% - 28, %2% + 10, %fullheight%, %fullheight%, 0, 0, true
<EndFloors>

<Floor 0>
	#Ceilings (for sections that have level M1 above)
	CeilingTex() #Ceiling Texture

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MezCeiling-West, %7%, 0.5, -%1%, -%2%, -%1% + 14, -20, %fullheight%, %fullheight%, 0, 0, true
	AddFloor MezCeiling-Cross1, %7%, 0.5, -%1% + 14, -84 - 10, %1% - 28, -84, %fullheight%, %fullheight%, 0, 0, true
	AddFloor MezCeiling-Cross2, %7%, 0.5, -%1% + 14, -68, %1% - 28, -57, %fullheight%, %fullheight%, 0, 0, true
	AddFloor MezCeiling-East, %7%, 0.5, %1% - 28, -84 - 10, %1%, -20, %fullheight%, %fullheight%, 0, 0, true
<EndFloor>

<Floor 1>
	#Floors
	FloorTex() #Floor Texture

	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MezFloor-West, %5%, 0.5, -%1%, -%2%, -%1% + 14, -20, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor MezFloor-Cross1, %5%, 0.5, -%1% + 14, -84 - 10, %1% - 28, -84, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor MezFloor-Cross2, %5%, 0.5, -%1% + 14, -68, %1% - 28, -57, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor MezFloor-East, %5%, 0.5, %1% - 28, -84 - 10, %1%, -20, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Railings
		#Cross 1 (From service elevator)
		WallOrientation = left
		Set WallHeight = %interfloorheight% + 0.5
		Set WallOffset = 0
		DrawWalls = true, true, true, true, true, false
		AddWall M1-Cross1RailFront-Lower, LevelM1Railing, 0.5, -12, -94, -2, -94, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		AddWall M1-Cross1RailBack-Lower, LevelM1Railing, 0.5, -12, -84, -2, -84, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		Set WallHeight = 3
		Set WallOffset = %interfloorheight% + 0.5
		DrawWalls = true, true, false, false, false, false
		AddWall M1-Cross1RailFront-Upper, LevelM1Railing-Upper, 0, -12, -94, -2, -94, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 1, true
		AddWall M1-Cross1RailBack-Upper, LevelM1Railing-Upper, 0, -12, -84, -2, -84, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 1, true

		#Cross 2 (From service elevator)
		WallOrientation = left
		Set WallHeight = %interfloorheight% + 0.5
		Set WallOffset = 0
		DrawWalls = true, true, true, true, true, false
		AddWall M1-Cross2RailFront-Lower, LevelM1Railing, 0.5, -12, -68, -2, -68, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		AddWall M1-Cross2RailBack-Lower, LevelM1Railing, 0.5, -12, -57, -2, -57, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		Set WallHeight = 3
		Set WallOffset = %interfloorheight% + 0.5
		DrawWalls = true, true, false, false, false, false
		AddWall M1-Cross2RailFront-Upper, LevelM1Railing-Upper, 0, -12, -68, -2, -68, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 1, true
		AddWall M1-Cross2RailBack-Upper, LevelM1Railing-Upper, 0, -12, -57, -2, -57, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 1, true

		#East
		WallOrientation = left
		Set WallHeight = %interfloorheight% + 0.5
		Set WallOffset = 0
		DrawWalls = true, true, true, true, true, false
		AddWall M1-EastRail1-Lower, LobbyWall, 0.5, -2, -84 - 0.5, -2, -68 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall M1-EastRail2-Lower, LobbyWall, 0.5, -2, -57 - 0.5, -2, -20.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		Set WallHeight = 3
		Set WallOffset = %interfloorheight% + 0.5
		DrawWalls = true, true, false, false, false, false
		AddWall M1-EastRail1-Upper, LevelM1Railing-Upper, 0, -2, -84, -2, -68, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 3/3, 1, true
		AddWall M1-EastRail2-Upper, LevelM1Railing-Upper, 0, -2, -57, -2, -20.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 7/3, 1, true
<EndFloor>

<Floor 2>
	CeilingTex() #Ceiling Texture

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor InsideCeiling1, %7%, 0.5, -%1%, -%2%, %1%, 20, %height%, %height%, 0, 0, false
	AddFloor InsideCeiling2, %7%, 0.5, -%1%, 20, %1% - 28, 24, %height%, %height%, 0, 0, false
	AddFloor OutsideCeiling1, LinkTop, 0.5, -%1%, 24, %1% - 28, %2%, %fullheight%, %fullheight%, 0, 0, true
	AddFloor OutsideCeiling2, LinkTop, 0.5, %1% - 28, 20, %1%, %2%, %fullheight%, %fullheight%, 0, 0, true

	#Skybridge railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	AddWall RailingLeft1, ExtFacade, 0.5, %1% - 38, 24, %1% - 38, %2% - 25 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RailingLeft2, ExtFacade, 0.5, %1% - 38, %2%, %1% - 38, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall RailingRight1, ExtFacade, 0.5, %1% - 28, 24, %1% - 28, %2% - 28, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RailingRight2, ExtFacade, 0.5, %1% - 28, %2%, %1% - 28, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	AddWall RailingRightExtraA, ExtFacade, 1, %1% - 28 - 0.5, %2%, %1% - 28, %2%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddWall RailingLeftExtraA, ExtFacade, 1, %1% - 38, %2%, %1% - 38 + 0.5, %2%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#WallOrientation = left
	#AddWall RailingRight-Linking, ExtFacade, 1, %1% - 28 - 0.5, %2% - 28, %1% - 28, %2% - 28, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	#AddWall RailingLeft-Linking, ExtFacade, 1, %1% - 38, %2% - 28, %1% - 38 + 0.5, %2% - 28, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Skybridge ceiling
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, false, false
	TextureOverride LinkTop, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	AddFloor F%floorid%-SkydreamLink-Top, LinkTop, 2, %1% - 28 - 10, %2%, %1% - 28, %2% + 10, %fullheight%, %fullheight%, 0, 0, true

	#Skybridge Windows
	Set WallHeight = %height% - 3.5
	Set WallOffset = %interfloorheight% + 3.5

	DrawWalls = true, true, false, false, false, false
	TextureOverride LinkWindowsB, LinkWindowsIntB, Blank, Blank, Blank, Blank
	AddWall BridgeLinkWindowsLeft, LinkWindowsIntB, 0, %1% - 38, %2%, %1% - 38, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
	TextureOverride LinkWindowsIntB, LinkWindowsB, Blank, Blank, Blank, Blank
	AddWall BridgeLinkWindowsRight, LinkWindowsIntB, 0, %1% - 28, %2%, %1% - 28, %2% + 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2/3, 0, true
<EndFloor>

<Floors 0 to 2>
	Set F1-LbyHeight = %height% + Floor(1).FullHeight

	Set SouthernEndpoint = %1% #For front-side walls
	if[%floor% < 2] Set SouthernEndpoint = %1% - 28

	#Perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = true, false, false, false, false, false
	AddWall FrontFacade, ExtFacade, 0.5, -%1%, -%2%, %SouthernEndpoint%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftFacade1, ExtFacade, 0.5, -%1%, -%2%, -%1%, -%2% + 35 + 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftFacade1A, ExtFacade, 0.5, -%1%, -%2% + 35 + 3 + 1.1, -%1%, -%2% + 45 + 3 - 1.1, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftFacade2, ExtFacade, 0.5, -%1%, -%2% + 45 + 3, -%1%, 14, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftFacade2A, ExtFacade, 0.5, -%1%, 14 + 1.1, -%1%, 24 - 1.1, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% = 1] AddWall LeftFacade2B, ExtFacade, 0.5, -%1%, -%2%, -%1%, 24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	Set SoutheastEnd = -%2% #For right-side walls #Set endpoints for loading dock
	if[%floor% < 2] Set SoutheastEnd = -94

	WallOrientation = Right
	DrawWalls = false, true, false, false, false, false
	AddWall RightFacade1, ExtFacade, 0.5, %1%, %SoutheastEnd%, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RightFacade2, ExtFacade2, 0.5, %1% - 28 + 0.5, 20, %1% - 28 + 0.5, 24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackFacade1, ExtFacade2, 0.5, -%1%, 24, %1% - 28 + 0.5, 24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackFacade2, ExtFacade2, 0.5, %1% - 28, 20, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Northeastern section
	WallOrientation = Left
	DrawWalls = true, false, false, false, false, false
	AddWall NEFrontFacade, ExtFacade2, 0.5, %1% - 28, %2% - 28, %1%, %2% - 28, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall NELeftFacade, ExtFacade2, 0.5, %1% - 28, %2% - 28, %1% - 28, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = false, true, false, false, false, false
	AddWall NERightFacade, ExtFacade, 0.5, %1%, %2% - 28, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall NEBackFacade, ExtFacade, 0.5, %1% - 28, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Left interior perimeter wall for level M1
	WallTex()
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddWall F%floorid%_LeftInterior1B, %6M%, 0.5, -%1%, -94, -%1%, -68, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	
	#Interior perimeter walls
	WallTex()
	Set PWallOffset = %interfloorheight%
	Set PWallExternal = true
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1] AddWall_CustomTex(F%floorid%_LeftInterior1A-Extra, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -%2% + 35 + 3 + 1.1, -%1%, -%2% + 45 + 3 - 1.1, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 0] AddWall_CustomTex(F%floorid%_LeftInterior1A, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -87 + 3, -%1%, -45 - 3, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 2] AddWall_CustomTex(F%floorid%_LeftInterior1A, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -87 + 3, -%1%, -68 + 10, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)

	#if[%floor% = 1] AddWall_CustomTex(F%floorid%_LeftInterior1B, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -%2% + 35 + 3, -%1%, -68, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)

	if[%floor% = 2] AddWall_CustomTex(F%floorid%_LeftInterior2A, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -20, -%1%, 14, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 0] AddWall_CustomTex(F%floorid%_LeftInterior2B, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -20, -%1%, 14, 4, %F1-LbyHeight% - 4, 0, %PWallOffset%, %PWallExternal%)

	Set 6X = LobbyWall #Override
	if[%floor% = 1] AddWall F%floorid%_LeftInterior2-ExtraA, %6X%, 0.5, -%1%, 14, -%1%, 24, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	if[%floor% ! 1] AddWall_CustomTex(F%floorid%_LeftInterior2-ExtraB, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, 14 + 1.1, -%1%, 24 - 1.1, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)

	DrawWalls = true, false, false, false, false, false
	if[%floor% = 2] AddWall_CustomTex(F%floorid%_RightInterior1, 2, %6M%Lower, %6M%Upper, 0, 0.5, -2, 20, -2, 24, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 0] AddWall_CustomTex(F%floorid%_RightInterior1, 2, %6M%Lower, %6M%Upper, 0, 0.5, -2, 20, -2, 24, 4, %F1-LbyHeight% - 4, 0, %PWallOffset%, %PWallExternal%)
	WallOrientation = right
	if[%floor% = 2] AddWall_CustomTex(F%floorid%_BackInterior, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, 24, -2, 24, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 0] AddWall_CustomTex(F%floorid%_BackInterior, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, 24, -2, 24, 4, %F1-LbyHeight% - 4, 0, %PWallOffset%, %PWallExternal%)
<EndFloors>

<Floors 3 to 12>
	#Perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%
	
	WallOrientation = Left
	DrawWalls = true, false, false, false, false, false
	AddWall FrontFacade, ExtFacade, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% > 7] AddWall LeftFacadeU, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% < 8] AddWall LeftFacadeL1, ExtFacade, 0.5, -%1%, -%2%, -%1%, -%2% + (28 * 2), %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#if[%floor% > 3 & %floor% < 9] AddWall LeftFacade, ExtFacade, 0.5, -%1%, -%2% + (28 * 2) + 1.1, -%1%, -%2% + (28 * 3) - 1.1, %interfloorheight% + 2, %interfloorheight% + 2, -2, -2, 0, 0, true
	if[%floor% < 8] AddWall LeftFacadeL2, ExtFacade, 0.5, -%1%, -%2% + (28 * 3), -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = false, true, false, false, false, false
	AddWall RightFacade, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackFacade, ExtFacade, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 12>
	#Interior perimeter walls
	WallTex()
	Set PWallOffset = 0
	Set PWallExternal = false
	if[%floor% < 3] Set PWallOffset = %interfloorheight%
	if[%floor% < 3] Set PWallExternal = true

	Set F1-LbyHeight = %height% + Floor(1).FullHeight


	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddWall_CustomTex(FrontInt, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -%2%, %1% - 28, -%2%, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 0] AddWall_CustomTex(FrontInt-Hallway, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -%2%, %1% - 28, -%2%, 4, %F1-LbyHeight% - 4, 0, %PWallOffset%, %PWallExternal%)
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 2 & %floor% < 10] AddWall_CustomTex(BackInt, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, %2%, %1% - 28, %2%, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
<EndFloors>

<Floors 3 to 7>
	#Interior perimeter walls
	WallTex()
	Set PWallOffset = 0
	Set PWallExternal = false
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall_CustomTex(LeftInterior1, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -97 + 3, -%1%, -76, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	#AddWall_CustomTex(LeftInterior2, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -48, -%1%, -45, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	AddWall_CustomTex(LeftInterior3, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -20, -%1%, 107 - 3, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
<EndFloors>

<Floors 8 to 12>
	#Interior perimeter walls
	WallTex()
	Set PWallOffset = 0
	Set PWallExternal = false
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false

	if[%floor% < 10] AddWall_CustomTex(LeftInterior1A, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -97 + 3, -%1%, -%2% + 56, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% < 10] AddWall LeftInterior1B, F%floorid%ARoomWall, 0.5, -%1%, -%2% + 56, -%1%, -45 - 3, %height%, %height%, 0, 0, 0, 0, false
	#if[%floor% < 10] AddWall_CustomTex(LeftInterior1C, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -97 + 3, -%1%, -45 - 3, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)

	if[%floor% > 9] AddWall_CustomTex(LeftInterior1, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -97 + 3, -%1%, -45 - 3, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)

	if[%floor% ! 10 & %floor% ! 11 & %floor% ! 12] AddWall_CustomTex(LeftInterior2, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -20, -%1%, 107 - 3, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 12] AddWall_CustomTex(Left_ExhibitionLobby, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, -20, -%1%, 20, 4, %height% - 4, 0, %PWallOffset%, %PWallExternal%)
	if[%floor% = 10 | %floor% = 11] AddWall LeftInteriorF%floorid%_2A, AuditoriumLobbyWall, 0.5, -%1%, -20, -%1%, 20, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0, false
<EndFloors>

<Floors 10 to 12>
	#Auditorium walls, 9th-10th floors (Also the Exhibition Hall's wall on 11th floor)

	Set AuditoriumHeight = %height%
	Set AuditoriumOffset = 0
	if[%floor% ! 10] Set AuditoriumHeight = %fullheight%
	if[%floor% ! 10] Set AuditoriumOffset = -%interfloorheight%

	Set MeetWallTex = AuditoriumWall
	if[%floor% = 12] Set MeetWallTex = ExhibitionWall

	Set NameSuffix = Auditorium
	if[%floor% = 12] Set NameSuffix = Exhibition

	#Auditorium walls
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall LeftInterior-%NameSuffix%, %MeetWallTex%, 0.5, -%1%, 20, -%1%, 107 - 3, %AuditoriumHeight%, %AuditoriumHeight%, %AuditoriumOffset%, %AuditoriumOffset%, 0, 0, false

	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall RightInterior-%NameSuffix%, %MeetWallTex%, 0.5, %1%, 20, %1%, %2%, %AuditoriumHeight%, %AuditoriumHeight%, %AuditoriumOffset%, %AuditoriumOffset%, 0, 0, false
	AddWall BackInterior-%NameSuffix%, %MeetWallTex%, 0.5, -%1% + 14, %2%, %1%, %2%, %AuditoriumHeight%, %AuditoriumHeight%, %AuditoriumOffset%, %AuditoriumOffset%, 0, 0, false
<EndFloors>

<Floors 13 to 14>
	#Mechanical penthouse
		#Exterior perimeter walls
		Set WallHeight = %fullheight%
		Set WallOffset = 0

		WallOrientation = Left
		DrawWalls = true, false, false, false, false, false
		AddWall FrontFacade, ExtFacade, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall LeftFacade, ExtFacade, 0.5, -%1%, -%2%, -%1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		WallOrientation = Right
		DrawWalls = false, true, false, false, false, false
		AddWall RightFacade, ExtFacade, 0.5, %1%, -%2%, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall BackFacade, ExtFacade, 0.5, -%1%, 20, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Interior perimeter walls
		Set WallHeight = %height%
		Set WallOffset = 0
		if[%floor% = 14] Set WallHeight = %fullheight%
		if[%floor% = 14] Set WallOffset = -%interfloorheight%
		WallTex()
	
		WallOrientation = Left
		DrawWalls = false, true, false, false, false, false
		AddWall Int-FrontFacade, %6P%, 0.5, -%1% + 14, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall Int-LeftFacade1, %6P%, 0.5, -%1%, -97 + 3, -%1%, -45 - 3, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall Int-LeftFacade2, %6P%, 0.5, -%1%, -20, -%1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	
		WallOrientation = Right
		DrawWalls = true, false, false, false, false, false
		AddWall Int-RightFacade1, %6P%, 0.5, %1%, -%2%, %1%, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall Int-RightFacade2, %6P%, 0.5, %1%, -10, %1%, 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		#if[%floor% = 14] AddWall Int-RightFacade, %6P%, 0.5, %1%, -%2%, %1%, 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall Int-BackFacade, %6P%, 0.5, -%1%, 20, %1% - 28, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

<Floors 0 to 7>
	#Windows and walls at connection areas
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	Set FacadeTex = ExtFacade
	WallTex() #Set wall texture

	if[%floor% > 2 & %floor% < 8] LinkArea(-%2% + 56, -%2% + 84, %FacadeTex%)
	if[%floor% = 0 | %floor% = 2] LinkArea(-%2% + 35 + 3, -%2% + 45 + 3, %FacadeTex%)
	if[%floor% = 0 | %floor% = 2] LinkArea(24 - 10, 24, %FacadeTex%)
<EndFloors>

#Drop ceilings
<Floors 0 to 12>
	#Ceilings
	Set LobbyHeight = 11.5
	#if[%floor% = 0] Set LobbyHeight = 19
	if[%floor% = 0] Set LobbyHeight = %height% + Floor(1).FullHeight - 2

	Set LobbyCeilingHeight = 0 + %LobbyHeight%
	if[%floor% < 3] Set LobbyCeilingHeight = %interfloorheight% + %LobbyHeight%
	Set IsExternal = false
	if[%floor% < 3] Set IsExternal = true
	Set 7A = ElevatorLobbyCeiling #Ceiling Texture

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	#Elevator lobby
	if[%floor% ! 1] AddFloor F%floorid%_ElevLbyCeiling, %7A%, 0.5, %1% - 28, -10, %1%, 10, %LobbyCeilingHeight%, %LobbyCeilingHeight%, 0, 0, %IsExternal%

	#Main area
	#if[%floor% > 9] AddFloor DroppedCeiling, DropCeiling, 0.5, -%1%, -%2%, %1%, %2%, %LobbyCeilingHeight%, %LobbyCeilingHeight%, 0, 0, %IsExternal%
	#if[%floor% < 3] AddFloor DroppedCeiling, %7A%, 0.5, -%1%, -%2%, %1%, 20, %LobbyCeilingHeight%, %LobbyCeilingHeight%, 0, 0, %IsExternal%
	#if[%floor% < 3] AddFloor DroppedCeiling, %7A%, 0.5, -%1%, 20, %1% - 28, 24, %LobbyCeilingHeight%, %LobbyCeilingHeight%, 0, 0, %IsExternal%
	#if[%floor% > 2 & %floor% < 10] AddFloor DroppedCeiling, DropCeiling, 0.5, -%1%, -%2%, %1% - 28, %2%, %LobbyCeilingHeight%, %LobbyCeilingHeight%, 0, 0, false

	Set LobbyWallOffset = 0
	if[%floor% < 3] Set LobbyWallOffset = %interfloorheight%
	WallTex() #Set wall texture

	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	WallOrientation = right
	if[%floor% ! 1 & %floor% < 10] AddWall_CustomTex(ElevLbyWall_Right, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1%, -10, %1%, 10, 4, %LobbyHeight% - 4, 0, %LobbyWallOffset%, %IsExternal%)
<EndFloors>

#Classrooms & offices
<Floors 0 to 2>
	#Registration/Finance Departments
	WallTex() #Set wall texture
	#Ceilings
	Set RoomHeight = 10.5
	if[%floor% = 0] Set RoomHeight = %height% - 0.5
	if[%floor% = 1] Set RoomHeight = %height% - 0.25

	Set RoomCeilingHeight = 0 + %RoomHeight%
	Set 7A = ClassroomCeiling2 #Ceiling Texture
	#Set 6C = ClassroomWall
	Set 6C = LobbyOfficeWall

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 0] AddFloor F%floorid%_NorthCeiling, %7A%, 0.5, %1% - 28, %2% - 28, %1%, %2%, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false

	Set SouthEnd = -%2% #Set endpoints for loading dock
	if[%floor% < 2] Set SouthEnd = -94
	
	Set ExtraWestOffset = 0
	if[%floor% = 1] Set ExtraWestOffset = 10 #Offset for level M1's ceiling
	
	AddFloor F%floorid%_SouthCeiling, %7A%, 0.5, %1% - 28 + %ExtraWestOffset%, %SouthEnd%, %1%, -%2% + (28 * 4), %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false

	#Room-hallway divider walls
	Set OfficeWallHeight = %height%
	if[%floor% = 0] Set OfficeWallHeight = %height% + Floor(1).FullHeight
	
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% ! 1] AddWall_CustomTex(North_FrontIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, %2% - 28, %1%, %2% - 28, 4, %OfficeWallHeight% - 4, 0, 0, false)
		if[%floor% ! 1] AddWall_CustomTex(North_LeftIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, %2% - 28, %1% - 28, %2%, 4, %OfficeWallHeight% - 4, 0, 0, false)

		WallOrientation = right
		DrawWalls = true, false, false, false, false, false
		if[%floor% = 0] AddWall_CustomTex(North_RightIn_1, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1%, %2% - 28, %1%, %2%, 4, %height% - 4, 0, 0, false)
		if[%floor% = 1] AddWall North_RightIn_2, %6C%, 0.5, %1%, %2% - 28, %1%, %2%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0, false
		if[%floor% = 2] AddWall_CustomTex(North_RightIn_3, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1%, %2% - 28, %1%, %2%, 4, %OfficeWallHeight% - 4, 0, 0, false)
		if[%floor% ! 1] AddWall_CustomTex(North_BackIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, %2%, %1%, %2%, 4, %OfficeWallHeight% - 4, 0, 0, false)
		
	Set DTex = Door8 #Door texture
	Set MainZ = %2% - 14

	#Doors
	WallOrientation = right
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	if[%floor% ! 1] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, -2 + 0.5, %MainZ%, 3.5, 8, %interfloorheight%, 0, 0
	if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, -2 + 0.5, %MainZ%, 3.5, 8, %interfloorheight%, false, 0, 0, true
<EndFloors>

<Floors 10 to 12>
	#Elevator lobby walls (Meeting room levels)
	CreateWallBox2 floor, MeetingLobbyWall, F%floorid%LobbyWall, 12, 0, 28 - (0.5 * 2), 20, %height%, 0, 0, 0, true, false, false, false 
<EndFloors>

<Floors 0 to 12>
	WallTex() #Set wall texture
	WindowsFillers()

	Set LobbyWallHeight = %height%
	if[%floor% = 0] Set LobbyWallHeight = %height% + Floor(1).FullHeight

	#1. Elevator lobby
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 9] DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddWall_CustomTex(ElevLby_Left, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, -10, %1% - 28, 10, 4, %LobbyWallHeight% - 4, 0, 0, false)
	if[%floor% = 0] AddWall_CustomTex(ElevLby_Left, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, -10, %1% - 28, 10, 4, %LobbyWallHeight% - 4, 0, 0, false)

	#WallOrientation = left
	#DrawWalls = true, false, false, false, false, false
	#if[%floor% > 9] AddWall MeetingLbyWall_Ext, F%floorid%LobbyWall, 0.5, %1% - 28, -10, %1% - 28, 10, %height%, %height%, 0, 0, 0, 0, false

		#Lobby doors
		#Set DTex = Door88
		#Set MainZ = 0
		#WallOrientation = right
		#TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		#if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 3, 75, %1% - 28 + 0.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
		#TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		#if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 2, 75, %1% - 28 + 0.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
		#if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %1% - 28 + 0.5, %MainZ%, 6, 7, 0, false, 0, 0, false

		#Sliding doors
		Set Door_MainX = -2
		Set Door_MainZ = 0
		Set FlrLabel = %floorid%
		if[%floor% = 2] Set FlrLabel = M
	
		Set Texture = DWSDoor
		Set SideTexture = DWSDoorSide
		WallOrientation = right
		if[%floor% ! 1] CreateCustomDoor Door Manager, Level%FlrLabel%_ElevLbyDoor, , , false

		if[%floor% ! 1] CustomDoorComponent Door Manager, Level%FlrLabel%_ElevLbyDoor, Left, %Texture%, %SideTexture%, 0.2, left, left, false, 4, 2, 0, 0 - 6, 0, 0, 7, 0, 0, 0, 0, 0
		if[%floor% ! 1] CustomDoorComponent Door Manager, Level%FlrLabel%_ElevLbyDoor, Right, %Texture%, %SideTexture%, 0.2, right, right, false, 4, 2, 0, 0, 0, 0 + 6, 7, 0, 0, 0, 0, 0
		if[%floor% ! 1] FinishDoor Door Manager, Level%FlrLabel%_ElevLbyDoor, true
		if[%floor% ! 1] MoveDoor Door Manager, Level%FlrLabel%_ElevLbyDoor, %Door_MainX%, Floor(%floor%).Base, %Door_MainZ%

			#Sliding door decos
			if[%floor% ! 1] AddDecoObject(ElevLbyDoorDeco, DWSDoorTrim, DWSDoorTrim, left, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 6 * 4, 7, 7.75, 0.75, 0, false, DWSDoorTrim, 0.5, external)

			#Filler walls only for the door's width
			WallOrientation = left
			if[%floor% ! 1] AddFillerWalls DWSDoorTrim, 0.5, %Door_MainX%, %Door_MainZ%, 6 * 2, 7, %interfloorheight%, false, 0, 0, true

		#Signs
		Set SignPos = 0
		#if[%floor% ! 0] Set SignPos = 10 - 1.25
		#if[%floor% > 9] Set SignPos = 10 + 0.5

		Set ExtraOffset = 0
		#if[%floor% = 0] Set ExtraOffset = 0.75 / 2
		if[%floor% ! 0 & %floor% ! 1 & %floor% ! 2 & %floor% ! 12] AddBoxSign(ElevLbySign, Sign_Elev, Sign_Elev, WoodSign2, 0.1, true, true, true, %1% - 28 - 0.75, %SignPos%, 1.5, 1.5, 8.25 - %ExtraOffset%, false)

	#Windows surrounding doors
	#Set FillerPrefix2 = %FillerPrefix%
	#if[%floor% > 9 & %floor% < 13] Set FillerPrefix2 = F%floorid%LobbyWall

		#if[%floor% ! 1] WindowsX2(ElevLbyWindowsL1, %1% - 28, %MainZ% + 5.5, left, 4, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix2%, 0.25, 1)
		#if[%floor% ! 1] WindowsX2(ElevLbyWindowsL2, %1% - 28, %MainZ% - 5.5, left, 4, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix2%, 0.25, 1)
		#if[%floor% > 0 & %floor% ! 1] WindowsX2(ElevLbyWindowsL3, %1% - 28, %MainZ%, left, 15, 3.5, 7.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix2%, 1, 1)
		#if[%floor% = 0] WindowsX2(ElevLbyWindowsL3, %1% - 28, %MainZ%, left, 15, 8.5, 15.25 - 6, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1, 1)
		#if[%floor% = 0] WindowsX2(ElevLbyWindowsR1, %1%, %MainZ% + 5.5, right, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.25, 1)
		#if[%floor% = 0] WindowsX2(ElevLbyWindowsR2, %1%, %MainZ% - 5.5, right, 3.5, 7, 1, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.25, 1)

	#2. Service elevator lobby
		Set SELbyNorthEnd = -%2% + 56
		#if[%floor% = 1] Set SELbyNorthEnd = -68
		if[%floor% = 1 | %floor% = 2] Set SELbyNorthEnd = -84	

		#Walls (Level M1 only)
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6M%, LobbyWall, Blank, Blank, Blank, Blank
		if[%floor% = 1] AddWall Level%floorid%_ServiceElevLby_Right, %6M%, 0.5, -%1% + 14, -%2% + 35 + 3, -%1% + 14, %SELbyNorthEnd%, %height%, %height%, 0, 0, 0, 0, false
		TextureOverride %6M%, LobbyWall, Blank, Blank, Blank, Blank
		if[%floor% = 1] AddWall Level%floorid%_ServiceElevLby_Right_Extra, %6M%, 0.5, -%1% + 14, %SELbyNorthEnd%, -%1% + 14, -68, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0, false
		WallOrientation = center
		if[%floor% = 1] AddWall Level%floorid%_ServiceElevLby_Back, %6M%, 1, -%1%, %SELbyNorthEnd%, -%1% + 14, %SELbyNorthEnd%, %height%, %height%, 0, 0, 0, 0, false

		#Walls (All other floors)
		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		if[%floor% ! 1] AddWall_CustomTex(ServiceElevLby_Right, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -%2% + 35 + 3, -%1% + 14, %SELbyNorthEnd%, 4, %height% - 4, 0, 0, false)
		WallOrientation = center
		if[%floor% ! 1 & %floor% ! 8 & %floor% ! 9] DrawWalls = true, true, false, false, false, false
		if[%floor% = 1 | %floor% = 8 | %floor% = 9] DrawWalls = true, false, false, false, false, false
		if[%floor% ! 1] AddWall_CustomTex(ServiceElevLby_Back, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, %SELbyNorthEnd%, -%1% + 14, %SELbyNorthEnd%, 4, %height% - 4, 0, 0, false)
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 8 | %floor% = 9] AddWall ServiceElevLby_Back_Ext, F%floorid%ARoomWall, 1, -%1%, -%2% + 56, -%1% + 14, -%2% + 56, %height%, %height%, 0, 0, 0, 0, false

		Set DTex = ServiceDoor3
		Set MainZ = -%2% + 45 + 3
		if[%floor% < 3] Set MainZ = -%2% + 40 + 3
		Set DTexAlt = ServiceDoor3Trans
		WallOrientation = left
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 4, 75, -%1% + 14 - 0.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 1, 75, -%1% + 14 - 0.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 14 - 0.5, %MainZ%, 6, 7, 0, false, 0, 0, false
		
		#Signs
		Set ExtraOffset = 0
		#if[%floor% = 0] Set ExtraOffset = 1
		if[%floor% ! 1] AddBoxSign(ServiceElevLbySign, Sign_ServiceElevB, Sign_ServiceElevA, WoodSign2, 0.1, true, true, true, -%1% + 14 + 0.75, %MainZ%, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
<EndFloors>

<Floor 1>
	#Utility room opposite the service elevator
		Set DTex = ServiceDoor3

		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 7, 75, -19 - (3/2), -84 + 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 6, 75, -19 + (3/2), -84 + 0.5, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 1, -19, -84 + 0.5, 6, 7, 0, true, 0, 0, false
<EndFloor>

<Floors 3 to 9>
	WallTex() #Set wall texture
	#Ceilings
	Set RoomHeight = 10.5
	Set RoomCeilingHeight = 0 + %RoomHeight%
	Set 7A = ClassroomCeiling1 #Ceiling Texture

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_NorthRMCeiling, %7A%, 0.5, %1% - 28, %2% - (28 * 4), %1%, %2%, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false

	if[%floor% < 6] Set 7A = ClassroomCeiling2 #Ceiling Texture
	#if[%floor% = 3] Set RoomCeilingHeight = %RoomHeight% + 1
	AddFloor F%floorid%_SouthRMCeiling, %7A%, 0.5, %1% - 28, -%2%, %1%, -%2% + (28 * 4), %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false

	if[%floor% > 7] AddFloor F%floorid%_ARoomCeiling, %7A%, 0.5, -%1%, -%2% + (28 * 2), -%1% + 14, -45 - 3, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false


	#Northern section
	if[%floor% = 5] Set 6C = F%floorid%ClassroomWall
	if[%floor% ! 5] Set 6C = ClassroomWall

		#Room-hallway divider walls (All floors except 8th floor, except the wall on the hallway side which is also the same textures on the 8th floor)
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% ! 9] AddWall_CustomTex(North_FrontIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, 20, %1%, 20, 4, %height% - 4, 0, 0, false)
		if[%floor% ! 9] AddWall_CustomTex(North_LeftIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, 20, %1% - 28, %2%, 4, %height% - 4, 0, 0, false)
		DrawWalls = true, false, false, false, false, false
		AddWall_CustomTex(North_LeftOut, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, 20, %1% - 28, %2%, 4, %height% - 4, 0, 0, false)

		WallOrientation = right
		if[%floor% ! 9] AddWall_CustomTex(North_RightIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1%, 20, %1%, %2%, 4, %height% - 4, 0, 0, false)
		if[%floor% ! 9] AddWall_CustomTex(North_BackIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, %2%, %1%, %2%, 4, %height% - 4, 0, 0, false)

		#Room-hallway divider walls (8th floor)
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 9] AddWall North_FrontIn, F%floorid%RoomWall, 0.5, %1% - 28, 20, %1%, 20, %height%, %height%, 0, 0, 0, 0, false
		if[%floor% = 9] AddWall North_LeftIn, F%floorid%RoomWall, 0.5, %1% - 28, 20, %1% - 28, %2%, %height%, %height%, 0, 0, 0, 0, false
		DrawWalls = true, false, false, false, false, false
		WallOrientation = right
		if[%floor% = 9] AddWall North_RightIn, F%floorid%RoomWall, 0.5, %1%, 20, %1%, %2%, %height%, %height%, 0, 0, 0, 0, false
		if[%floor% = 9] AddWall North_BackIn, F%floorid%RoomWall, 0.5, %1% - 28, %2%, %1%, %2%, %height%, %height%, 0, 0, 0, 0, false

		#Room divider walls
		Set PositionA = %2% - (28 * 1)
		Set PositionB = %2% - (28 * 2)
		Set PositionC = %2% - (28 * 3)
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		if[%floor% ! 9] AddWall_CustomTex(Room8-7_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionA%, %1%, %PositionA%, 4, %height% - 4, 0, 0, false)
		if[%floor% ! 9] AddWall_CustomTex(Room7-6_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionB%, %1%, %PositionB%, 4, %height% - 4, 0, 0, false)
		if[%floor% ! 9] AddWall_CustomTex(Room6-5_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionC%, %1%, %PositionC%, 4, %height% - 4, 0, 0, false)

		#Doors
		#RoomDoors(MainDoor, GrayTrim, 111 + 14) #Room 8, rear doors
		#RoomDoors(MainDoor, GrayTrim, 111) #Room 8, front doors
		#RoomDoors(MainDoor, GrayTrim, 83 + 14) #Room 7, rear doors
		#RoomDoors(MainDoor, GrayTrim, 83) #Room 7, front doors
		#RoomDoors(MainDoor, GrayTrim, 55 + 14) #Room 6, rear doors
		#RoomDoors(MainDoor, GrayTrim, 55) #Room 6, front doors
		#RoomDoors(MainDoor, GrayTrim, 27 + 14) #Room 5, rear doors
		#RoomDoors(MainDoor, GrayTrim, 27) #Room 5, front doors

		#Sliding doors
		RoomDoors_Sliding(%floorid%08, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, 118, left)
		RoomDoors_Sliding(%floorid%07, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, 90, left)
		RoomDoors_Sliding(%floorid%06, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, 62, left)
		RoomDoors_Sliding(%floorid%05, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, 34, left)
<EndFloors>

#Music/Performing Arts Room Floor
FloorOrientation = top
DrawWalls = false, true, false, false, false, false

#4th floor
<Floor 5>
	Set NorthEndpoint = %2%
	if[%ClassDeterminant% = 1] AddFloor MusicRMFlr_F%floorid%, MusicRoomFloor, 0.5, %1% - 28, %NorthEndpoint% - (28 * 2), %1%, %NorthEndpoint%, 0.001, 0.001, 0, 0, false
<EndFloor>

#8th floor
<Floor 9>
	Set NorthEndpoint = -20
	if[%ClassDeterminant% = 2] AddFloor MusicRMFlr_F%floorid%, MusicRoomFloor, 0.5, %1% - 28, %NorthEndpoint% - (28 * 2), %1%, %NorthEndpoint%, 0.001, 0.001, 0, 0, false
<EndFloor>

#Auditorium lobby (Double-height area)
<Floors 10 to 11>
	WallTex()
	
	#Floor cuts for auditorium lobby
	Set ADLobbyWidth = 12
		if[%floor% = 11] CutAll -%1%, %interfloorheight% - 1, -20, -%1% + %ADLobbyWidth% - 0.5, %interfloorheight% + 1, 19.5, false, true
		if[%floor% = 10] CutAll -%1%, %fullheight% - 1, -20, -%1% + %ADLobbyWidth% - 0.5, %fullheight% + 1, 19.5, false, true

		#Auditorium lobby railing
		WallOrientation = right
		Set WallHeight = %interfloorheight% + 0.5
		Set WallOffset = -%interfloorheight%

		DrawWalls = true, true, true, true, true, false
		if[%floor% = 11] AddWall AD-LbyRail-Lower, AuditoriumLobbyRailing, 0.5, -%1% + %ADLobbyWidth%, -20 + 0.25, -%1% + %ADLobbyWidth%, 19.5 - 0.25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		Set WallHeight = 3
		Set WallOffset = 0.5
		DrawWalls = true, true, false, false, false, false
		if[%floor% = 11] AddWall AD-LbyRail-Upper, AuditoriumLobbyRailing-Upper, 0, -%1% + %ADLobbyWidth% - 0.5, -20 + 0.25, -%1% + %ADLobbyWidth% - 0.5, 19.5 - 0.25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 2, 1, false

		#Transition wall
		DrawWalls = true, true, true, true, false, false
		if[%floor% = 10] Set WallHeight = %height% + Floor(11).FullHeight
		if[%floor% = 10] Set WallOffset = 0
		#if[%floor% = 11] Set WallHeight = %fullheight%
		#if[%floor% = 11] Set WallOffset = -%interfloorheight%
		if[%floor% = 10] AddWall AD-LbyTranWall-Back, MeetingTransitionWall, 0.25, -%1% + %ADLobbyWidth% - 0.5 - 1, 19.5, -%1% + %ADLobbyWidth% + 0.5, 19.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = left
		if[%floor% = 10] AddWall AD-LbyTranWall-Front, MeetingTransitionWall, 0.25, -%1% + %ADLobbyWidth% - 0.5 - 1, -20, -%1% + %ADLobbyWidth% + 0.5, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Floor cuts for auditorium
	if[%floor% = 11] CutAll -%1% + 14, %interfloorheight% - 1, %2% - 20, %1%, %interfloorheight% + 1, %2%, false, true
	if[%floor% = 11] CutAll -%1% + 14 + 5.5, %interfloorheight% - 1, 20 + 30, %1% - 5.5, %interfloorheight% + 1, %2% - 20, false, true
	if[%floor% = 10] CutAll -%1% + 14, %fullheight% - 1, %2% - 20, %1%, %fullheight% + 1, %2%, false, true
	if[%floor% = 10] CutAll -%1% + 14 + 5.5, %fullheight% - 1, 20 + 30, %1% - 5.5, %fullheight% + 1, %2% - 20, false, true

	#Auditorium walls (outside)
	WallOrientation = center
	DrawWalls = true, false, false, false, false, false
	#if[%floor% = 10] AddWall_CustomTex(Auditorium_F9Ext, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, 20, -%1% + 24, 20, 4, %height% - 4, 0, 0, false)
	if[%floor% = 10] AddWall Auditorium_F%floorid%Ext1, AuditoriumLobbyWall, 1, -%1%, 20, -%1% + %ADLobbyWidth% - 0.5, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall_CustomTex(Auditorium_F%floorid%Ext2, 2, %6M%Lower, %6M%Upper, 0, 1, -%1% + %ADLobbyWidth% - 0.5, 20, -%1% + 24, 20, 4, %height% - 4, 0, 0, false)

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 10] AddWall Auditorium_F%floorid%Ext3, AuditoriumLobbyWall, 0.5, -%1%, -20, -%1% + %ADLobbyWidth% - 0.5, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall_CustomTex(Auditorium_F%floorid%Ext4, 2, %6M%Lower, %6M%Upper, 0, 1, -%1% + %ADLobbyWidth% - 0.5, -20, -%1% + 14, -20, 4, %height% - 4, 0, 0, false)
<EndFloors>

<Floors 10 to 12>
	WallTex()

	#Exhibition hall wall (outside)
	WallOrientation = center
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 12] AddWall_CustomTex(Exhibition_ExtWall, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, 20, -%1% + 24, 20, 4, %height% - 4, 0, 0, false)


	#Auditorium/Exhibition hall walls (inside)
	Set MeetWallTex = AuditoriumWall
	if[%floor% = 12] Set MeetWallTex = ExhibitionWall
	Set NamePrefix = Auditorium
	if[%floor% = 12] Set NamePrefix = Exhibition

	WallOrientation = center
	DrawWalls = false, true, false, false, false, false
	AddWall %NamePrefix%_Int, %MeetWallTex%, 1, -%1%, 20, %1%, 20, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! 12] AddWall %NamePrefix%_Left, %MeetWallTex%, 0.5, -%1% + 14, 20, -%1% + 14, %2% - 25 - 3, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = center
	Set AuditoriumHeight = %height%
	Set AuditoriumOffset = 0
	if[%floor% = 11] Set AuditoriumHeight = %fullheight%
	if[%floor% = 11] Set AuditoriumOffset = -%interfloorheight%
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! 12] AddWall Auditorium_ServiceArea, %MeetWallTex%, 1, -%1% + 14, 126, %1%, 126, %AuditoriumHeight%, %AuditoriumHeight%, %AuditoriumOffset%, %AuditoriumOffset%, 0, 0, false

	#Auditorium railings
	WallOrientation = right
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	DrawWalls = true, true, true, true, true, false
	if[%floor% = 11] AddWall AD-LeftRail1, AuditoriumWall2, 0.5, -%1% + 14 + 5.5, 50 - 0.5, -%1% + 14 + 5.5, %2% - 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = 11] AddWall AD-LeftRail2, AuditoriumWall2, 0.5, -%1% + 14, %2% - 20, -%1% + 14 + 5, %2% - 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	if[%floor% = 11] AddWall AD-MiddleRail, AuditoriumWall2, 0.5, -%1% + 14 + 5.5, 50, %1% - 5.5, 50, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = 11] AddWall AD-RightRail1, AuditoriumWall2, 0.5, %1% - 5, %2% - 20, %1% - 0.5	, %2% - 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% = 11] AddWall AD-RightRail2, AuditoriumWall2, 0.5, %1% - 5.5, 50 - 0.5, %1% - 5.5, %2% - 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false


	#Entrance doors to Auditorium (9th-10th)/Exhibiton Hall (11th)
	Set DTex = Door9b
	Set TrimTex = Door9bSide
	if[%floor% = 12] Set DTex = Door6
	#if[%floor% = 12] Set TrimTex = GrayTrim

		#Doors
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 5, 75, -7 + 1.5, 20 - 0.1, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		AddDoor , , false, %DTex%, 0.2, 8, 75, -7 - 1.5, 20 - 0.1, 3, 7, 0, 0, 0

		#Door Trims
		if[%floor% ! 12] AddDeco4(%TrimTex%, %TrimTex%, front, true, true, floor, 0, 0.2, -7, 20 - 0.5 - 0.01, 6, 7, 7.2, 0.2, 0, true, Door9bSide, 1 + 0.02)
		#if[%floor% ! 12] AddFillerWalls AuditoriumWall, 1, -7, 20 - 0.5, 6, 7, 0, true, 0, 0, false
		if[%floor% = 12] AddFillerWalls ExhibitionWall, 1, -7, 20 - 0.5, 6, 7, 0, true, 0, 0, false

		#Exit sign
		AddBoxSign(%NamePrefix%_ExitSign, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, -7, 20 + 0.5 + 0.05, 1.8, 0.9, 7.5, false)

	#Service areas
		Set DTex = ServiceDoor1 #Door texture
		#West
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 12] AddDoor , , false, %DTex%, 0.2, 1, 75, -%1% + 13.5, 40 - (2.75/2), 2.75, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 12] AddDoor , , false, %DTex%, 0.2, 4, 75, -%1% + 13.5, 40 + (2.75/2), 2.75, 7, 0, 0, 0
		if[%floor% ! 12] AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, 40, 2.75 * 2, 7, 0, false, 0, 0, false

		Set DTex = ServiceDoor3 #Door texture
		#North
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 10] AddDoor , , false, %DTex%, 0.2, 6, 75, 21, 126.5, 3, 7, 0, 0, 0
		if[%floor% = 10] AddFillerWalls ConnectionWall, 1, 21, 126.5, 3, 7, 0, true, 0, 0, false
<EndFloors>

<Floors 0 to 12>
	#Southern section
		Set SoutheastEnd = -%2% #For right-side walls #Set endpoints for loading dock
		if[%floor% < 2] Set SoutheastEnd = -94

		WallTex()
		Set 6C = ClassroomWall
		if[%floor% = 0 | %floor% = 2] Set 6C = LobbyOfficeWall
		#if[%floor% = 1] Set 6C = Level%floorid%Wall
		if[%floor% = 1] Set 6C = Level%floorid%OfficeWall
		if[%floor% = 3] Set 6C = F%floorid%OfficeWall
		if[%floor% > 9] Set 6C = F%floorid%Wall

		#Walls for level M1
			WallOrientation = left
			DrawWalls = true, true, false, false, false, false
			TextureOverride %6M%, %6C%, Blank, Blank, Blank, Blank
			if[%floor% = 1] AddWall F%floorid%South_Left, %6C%, 0.5, %1% - 28 + 10, %SoutheastEnd%, %1% - 28 + 10, -20, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
			DrawWalls = false, true, false, false, false, false
			if[%floor% = 1] AddWall F%floorid%South_FrontIn1, %6C%, 0.5, %1% - 28 + 10, %SoutheastEnd%, %1%, %SoutheastEnd%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
			DrawWalls = false, true, true, false, false, false
			TextureOverride %6C%, %6%, LobbyWall, LobbyWall, LobbyWall, LobbyWall
			if[%floor% = 1] AddWall F%floorid%South_FrontIn2, %6M%, 0.5, %1% - 28, %SoutheastEnd%, %1% - 28 + 10, %SoutheastEnd%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
			WallOrientation = right
			DrawWalls = true, false, false, false, false, false
			if[%floor% = 1] AddWall F%floorid%South_RightIn1, %6C%, 0.5, %1%, %SoutheastEnd%, %1%, -20, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
			DrawWalls = true, false, false, true, false, false
			if[%floor% = 1] AddWall F%floorid%South_RightIn2, %6M%, 0.5, %1% - 28 + 10, %SoutheastEnd%, %1% - 28 + 10, %SoutheastEnd% + 0.5, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
			DrawWalls = true, false, true, false, false, false
			TextureOverride %6M%, %6M%, LobbyWall, LobbyWall, LobbyWall, LobbyWall
			if[%floor% = 1] AddWall F%floorid%South_BackIn-A, %6M%, 0.5, %1% - 28, -20, %1% - 28 + 10, -20, %fullheight%, %fullheight%, 0, 0, 0, 0, true
			DrawWalls = true, false, false, false, false, false
			if[%floor% = 1] AddWall F%floorid%South_BackIn-B, %6C%, 0.5, %1% - 28 + 10, -20, %1%, -20, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Room-hallway divider walls (All floors except level M1 and 8th floor, except the wall on the hallway side which is also the same textures on the 8th floor)
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 0] AddWall_CustomTex(F%floorid%South_FrontIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, -94, %1%, -94, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% > 1 & %floor% ! 9] AddWall_CustomTex(F%floorid%South_FrontIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, -%2%, %1%, -%2%, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% ! 1 & %floor% ! 9] AddWall_CustomTex(F%floorid%South_LeftIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, %SoutheastEnd%, %1% - 28, -20, 4, %height% - 4, 0, 0, false)

		Set ExtHeight = %height% + Floor(1).FullHeight
		DrawWalls = true, false, false, false, false, false
		if[%floor% ! 1] AddWall_CustomTex(F%floorid%South_LeftOut, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, %SoutheastEnd%, %1% - 28, -20, 4, %height% - 4, 0, %interfloorheight%, true)
		#if[%floor% = 0] AddWall_CustomTex(F%floorid%South_LoadingDockInt-PartA, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, -94 - 10, %1% - 28, -94, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% = 0] AddWall_CustomTex(F%floorid%South_LoadingDockInt-AllPart, 2, %6M%Lower, %6M%Upper, 0, 0.5, %1% - 28, -%2%, %1% - 28, -94, 4, %ExtHeight% - 4, 0, %interfloorheight%, true)

		WallOrientation = right
		if[%floor% ! 1 & %floor% ! 9] AddWall_CustomTex(F%floorid%South_RightIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1%, %SoutheastEnd%, %1%, -20, 4, %height% - 4, 0, 0, false)
		if[%floor% ! 1 & %floor% ! 9] AddWall_CustomTex(F%floorid%South_BackIn, 2, %6C%Lower, %6C%Upper, 0, 0.5, %1% - 28, -20, %1%, -20, 4, %height% - 4, 0, %interfloorheight%, true)

		#Room-hallway divider walls (8th floor)
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 9] AddWall South_FrontIn, F%floorid%RoomWall, 0.5, %1% - 28, -%2%, %1%, -%2%, %height%, %height%, 0, 0, 0, 0, false
		if[%floor% = 9] AddWall South_LeftIn, F%floorid%RoomWall, 0.5, %1% - 28, -%2%, %1% - 28, -20, %height%, %height%, 0, 0, 0, 0, false
		DrawWalls = true, false, false, false, false, false
		WallOrientation = right
		if[%floor% = 9] AddWall South_RightIn, F%floorid%RoomWall, 0.5, %1%, -%2%, %1%, -20, %height%, %height%, 0, 0, 0, 0, false
		if[%floor% = 9] AddWall South_BackIn, F%floorid%RoomWall, 0.5, %1% - 28, -20, %1%, -20, %height%, %height%, 0, 0, 0, 0, false
<EndFloors>

<Floors 0 to 1>
	#Loading dock walls
	Set 6Z = LoadingDockWall #Override
	if[%floor% = 0] Set DKWallHeight = %height%
	if[%floor% = 0] Set DKWallOffset = %interfloorheight%
	if[%floor% = 1] Set DKWallHeight = %fullheight%
	if[%floor% = 1] Set DKWallOffset = 0

	Set DKExtraOffset = 0
	#if[%floor% = 1] Set DKExtraOffset = 10
	
	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall DKLeft, %6Z%, 1, %1% - 28, -%2%, %1% - 28, -94 - %DKExtraOffset%, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true

	DrawWalls = true, true, false, true, false, false
	TextureOverride ExtFacade, %6Z%, %6Z%, %6Z%, %6Z%, %6Z%
	AddWall DKFront, %6Z%, 1, %1% - 28, -%2%, %1%, -%2%, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true

	DrawWalls = false, true, false, true, false, false
	AddWall DKLeft-Extra, LoadingDockWall2, 1.1, %1% - 28, -%2%, %1% - 28, -%2% + 2.5, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true
	
	#DrawWalls = false, true, true, false, false, false
	#if[%floor% = 1] AddWall DKLeft2, %6Z%, 1, %1% - 28 + %DKExtraOffset%, -94 - %DKExtraOffset% - 1, %1% - 28 + %DKExtraOffset%, -94, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true

	WallOrientation = right
	DrawWalls = true, false, false, true, false, false
	AddWall DKBack, %6Z%, 1, %1% - 28, -94, %1%, -94, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true
	#if[%floor% = 1] AddWall DKFront2, %6Z%, 1, %1% - 28, -94 - %DKExtraOffset%, %1% - 28 + %DKExtraOffset%, -94 - %DKExtraOffset%, %DKWallHeight%, %DKWallHeight%, %DKWallOffset%, %DKWallOffset%, 0, 0, true

		#Vents
		Set VentHeight = %height% - 4
		if[%floor% = 1] WindowsZ2-1Feet(Dock-Vents, %1% - 14, -%2%, front, 21, %height% - 4.5, 6.75 - %VentHeight%, VentsExt, VentsInt, LoadingDockWall, 3, 1)


		#Entrance doors from dock
		Set DTex = ServiceDoor1
		Set MainZ = -99
		Set DTexAlt = ServiceDoor1

		WallOrientation = right
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %1% - 28 + 1, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% = 0] AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %1% - 28 + 1, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 0] AddFillerWalls ConnectionWall, 1, %1% - 28 + 1, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
		
		#Exit sign
		#if[%floor% = 0] AddBoxSign(DockEnt_Sign1, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, true, true, true, -7, %MainZ%, 1.8, 0.9, %height% - 0.9, false)
		if[%floor% = 0] AddBoxSign(DockEnt_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, -2 - 0.05, %MainZ%, 1.8, 0.9, 7.2, false)
<EndFloors>

#Exit signs
<Floors 3 to 7>
	AddBoxSign(ExitFromPSBldg, ExitSignBoth, StainlessSteel, StainlessSteel, 0.1, false, true, true, -7, -20 - 28 - 14, 1.8, 0.9, %fullheight% - 0.9, true)
<EndFloors>

<Floors 0 to 9>
		#Room divider walls
		WallTex()
		Set 6C = ClassroomWall
		if[%floor% = 0 | %floor% = 2] Set 6C = LobbyOfficeWall
		#if[%floor% = 1] Set 6C = Level%floorid%Wall
		if[%floor% = 1] Set 6C = Level%floorid%OfficeWall

		if[%floor% = 3] Set 6C = F%floorid%OfficeWall
		if[%floor% > 9] Set 6C = F%floorid%Wall
		Set PositionD = -20 - (28 * 1)
		Set PositionE = -20 - (28 * 2)
		Set PositionF = -20 - (28 * 3)
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		if[%floor% = 1] AddWall RoomDiv2-1 Flr%floorid%, %6C%, 1, %1% - 28 + 10, %PositionD%, %1%, %PositionD%, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true


		if[%floor% > 5 & %floor% ! 7 & %floor% ! 9] AddWall_CustomTex(Room4-3_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionD%, %1%, %PositionD%, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% = 0] AddWall_CustomTex(Room3-2_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionE%, %1%, %PositionE%, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% > 2 & (%floor% = 4 | %floor% = 5)] AddWall_CustomTex(Room3-2_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionE% + 14, %1%, %PositionE% + 14, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% > 2 & (%floor% = 4 | %floor% = 5)] AddWall_CustomTex(Room2-1_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionE% - 14, %1%, %PositionE% - 14, 4, %height% - 4, 0, %interfloorheight%, true)

		if[%floor% > 2 & (%floor% = 4 | %floor% = 5)] AddWall_CustomTex(Room2Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 14, %PositionE% - 14, %1% - 14, %PositionE% + 14, 4, %height% - 4, 0, %interfloorheight%, true)

		if[%floor% > 1 & %floor% ! 4 & %floor% ! 5 & %floor% ! 9] AddWall_CustomTex(Room3-2_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionE%, %1%, %PositionE%, 4, %height% - 4, 0, %interfloorheight%, true)
		if[%floor% = 3 | (%floor% > 5 & %floor% ! 9)] AddWall_CustomTex(Room2-1_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionF%, %1%, %PositionF%, 4, %height% - 4, 0, %interfloorheight%, true)

		#Doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -41 + 14) #Room 4, rear doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -41) #Room 4, front doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -69 + 14) #Room 3, rear doors
		#if[%floor% > 2 & %floor% ! 3 & %floor% ! 4 & %floor% ! 5] RoomDoors(MainDoor, GrayTrim, -69) #Room 3, front doors
		#if[%floor% > 2 & %floor% ! 3 & %floor% ! 4 & %floor% ! 5] RoomDoors(MainDoor, GrayTrim, -97 + 14) #Room 2, rear doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -97) #Room 2, front doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -125 + 14) #Room 1, rear doors
		#if[%floor% > 2 & %floor% ! 3] RoomDoors(MainDoor, GrayTrim, -125) #Room 1, front doors

		#Sliding doors
			if[%floor% > 3] RoomDoors_Sliding(%floorid%04, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -34, left)
			if[%floor% > 3 & %floor% ! 4 & %floor% ! 5] RoomDoors_Sliding(%floorid%03, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -62, left)
			if[%floor% > 3 & %floor% ! 4 & %floor% ! 5] RoomDoors_Sliding(%floorid%02, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -90, left)
			if[%floor% = 4 | %floor% = 5] RoomDoors_Sliding_Lab(%floorid%NorthLab, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -62 + 10.75 - 2.5, 2)
			if[%floor% = 4 | %floor% = 5] RoomDoors_Sliding_Lab(%floorid%SouthLab, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -90 - 10.75 + 2.5, 1)
			if[%floor% > 3] RoomDoors_Sliding(%floorid%01, DWSDoor, DWSDoorSide, DWSDoorTrim, -2, -118, left)
<EndFloors>

<Floor 9>
	#Partition walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false

	#if[%ClassDeterminant% = 2] AddWall_CustomTex(M48-M49_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionA%, %1%, %PositionA%, 4, %height% - 4, 0, 0, false)
	#if[%ClassDeterminant% = 2] AddWall_CustomTex(M410-M4Teachers_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionC%, %1%, %PositionC%, 4, %height% - 4, 0, 0, false)

	SetAutoSize = true, false
	if[%ClassDeterminant% = 2] AddWall M48-M49_Divider, PartitionWallMid, 0.2, %1% - 28 + 0.5, %PositionA%, %1% - 0.5, %PositionA%, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, 0, 0, false
	#SetAutoSize = true, true
	AddWall Middle_Divider, PartitionWallMid, 0.2, %1% - 28 + 0.5, %PositionB%, %1% - 0.5, %PositionB%, %height%, %height%, 0, 0, 0, 0, false
	#SetAutoSize = true, false
	if[%ClassDeterminant% = 2] AddWall M410-M4Teachers_Divider, PartitionWallMid, 0.2, %1% - 28 + 0.5, %PositionC%, %1% - 0.5, %PositionC%, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, 0, 0, false
	SetAutoSize = true, true

	AddWall Room2-3_Divider, PartitionWall, 0.2, %1% - 28 + 0.5, %PositionE%, %1% - 0.5, %PositionE%, %height%, %height%, 0, 0, 0, 0, false
	SetAutoSize = true, false
	AddWall Room2_Divider, PartitionWallMid, 0.2, %1% - 28 + 0.5, %PositionE% - 14, %1% - 0.5, %PositionE% - 14, %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, 0, 0, false
	SetAutoSize = true, true
	AddWall Room2-1_Divider, PartitionWall, 0.2, %1% - 28 + 0.5, %PositionF%, %1% - 0.5, %PositionF%, %height%, %height%, 0, 0, 0, 0, false
	AddWall Room1_Divider, PartitionWall, 0.2, %1% - 28 + 0.5, %PositionF% - 14, %1% - 0.5, %PositionF% - 14, %height%, %height%, 0, 0, 0, 0, false
<EndFloor>

<Floors 0 to 2>
	WindowsFillers()
	Set FillerPrefix = LobbyOfficeWall #Override
	if[%floor% = 1] Set FillerPrefix = Level%floorid%OfficeWall #Override

		#Doors
		if[%floor% ! 1] RoomDoors(Door88, GrayTrim, -20 - 5) #Room 2, front doors (Levels 1 and M)
		if[%floor% ! 1] RoomDoors(Door88, GrayTrim, -20 - 56 + 5) #Room 2, rear doors (Levels 1 and M)
		if[%floor% > 1] RoomDoors-Alt(Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, GrayTrim, -%2% + 56 - 5) #Room 1 (Level M)
		if[%floor% > 1] RoomDoors-Alt(Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, GrayTrim, -%2% + 6)

		Set SpecialPosition = -20 - (28 * 2) - 9 #Used on 1st floor only
		if[%floor% = 0] RoomDoors(Door88, GrayTrim, %SpecialPosition%) #Room 1 (1st floor)

		#Windows around doors
		if[%floor% ! 1] WindowsX2(Floor%floorid%_RoomWindows1, %1% - 28, -48, left, 26, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1.25, 1)
		if[%floor% > 1] WindowsX2(Floor%floorid%_RoomWindows2, %1% - 28, -%2% + 28, left, 26, 6.5, 0.5, MainWindows-Room, MainWindowsIntB, %FillerPrefix%, 1.25, 1)

		#These windows are now ununused due to the addtion of level M1.
		#if[%floor% = 0] WindowsX2(Floor%floorid%_RoomWindows1U, %1% - 28, -48, left, 52, 6, 15.25 - 6, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 2.75, 1)
		#if[%floor% = 0] WindowsX2(Floor%floorid%_RoomWindows2U, %1% - 28, -%2% + 28 + 0.5, left, 51, 6, 15.25 - 6, MainWindows-Room, MainWindowsIntB, %FillerPrefix%, 2.75, 1)
<EndFloors>

<Floor 1>
	WindowsFillers()
	Set FillerPrefix = Level%floorid%OfficeWall #Override

		#Doors
		RoomDoorsM1(Door88, %FillerPrefix%, -48 + 5) #Room 2
		RoomDoorsM1(Door88, %FillerPrefix%, -62.5) #Room 1, main
		RoomDoorsM1(Door88, %FillerPrefix%, -89) #Room 1, secondary

		#Windows around doors
		#WindowsX2(Floor%floorid%_RoomWindows1A, %1% - 28 + 10, -87.5, left, 12, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1, 1)
		#WindowsX2(Floor%floorid%_RoomWindows1B, %1% - 28 + 10, -73.5, left, 12, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1, 1)
		WindowsX2(Floor%floorid%_RoomWindows1, %1% - 28 + 10, -75.75, left, 15, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1.25, 1)
		WindowsX2(Floor%floorid%_RoomWindows2, %1% - 28 + 10, -48 - 6, left, 9, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 0.75, 1)
		WindowsX2(Floor%floorid%_RoomWindows3, %1% - 28 + 10, -20 - 8.5 + 7.5 - 9, left, 18, 6.5, 0.5, MainWindowsIntB, MainWindowsIntB, %FillerPrefix%, 1.5, 1)
<EndFloor>

#Academic and Guidance Departments
<Floor 3>
		#Doors
		RoomDoors-F2Dept(Door88, GrayTrim, -41 + 7) #Room 4
		RoomDoors-F2Dept(Door6, GrayTrim, -69 + 7) #Room 3
		RoomDoors-F2Dept(Door6, GrayTrim, -97 + 7) #Room 2
		RoomDoors-F2Dept(Door88, GrayTrim, -125 + 14) #Room 1

	#Connection door
	Set Texture = Door6
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, -2 + 7, -75.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 1, -2 + 7, -75.5, 3, 7, 0, true, 0, 0, false
<EndFloor>

#Laboratories
<Floors 4 to 5>
	#Connection doors
	#Set Texture = Door6
	#WallOrientation = left
	#TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	#AddDoor , , false, %Texture%, 0.2, 5, 75, -2 + 21, -62.5, 3, 7, 0, 0, 0
	#TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	#AddDoor , , false, %Texture%, 0.2, 8, 75, -2 + 7, -62.5, 3, 7, 0, 0, 0
	#AddFillerWalls ConnectionWall, 1, -2 + 21, -62.5, 3, 7, 0, true, 0, 0, false
	#AddFillerWalls ConnectionWall, 1, -2 + 7, -62.5, 3, 7, 0, true, 0, 0, false

	#WallOrientation = right
	#TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	#AddDoor , , false, %Texture%, 0.2, 6, 75, -2 + 21, -89.5, 3, 7, 0, 0, 0
	#TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	#AddDoor , , false, %Texture%, 0.2, 7, 75, -2 + 7, -89.5, 3, 7, 0, 0, 0
	#AddFillerWalls ConnectionWall, 1, -2 + 21, -89.5, 3, 7, 0, true, 0, 0, false
	#AddFillerWalls ConnectionWall, 1, -2 + 7, -89.5, 3, 7, 0, true, 0, 0, false
	
	#Sliding doors (Teachers' rooms between labs)
	#Northeast door
		Set Door_MainX = -2 + 21 + 1.5
		Set Door_MainZ = -61.5
	
		Set Texture = DWSDoor_NA
		Set SideTexture = DWSDoorSide
		WallOrientation = left
		AddSlidingDoor Floor %floor%, NETeachersRoomDr_%floorid%, , , false, %Texture%, %SideTexture%, 0.2, back, left, 4, 2, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 7, 0, 0, 0, 0, 0

			#Sliding door decos
			AddDecoObject(NETeachersRoom_ExtDeco, DWSDoorTrim, DWSDoorTrim, back, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 3.5 * 2, 7, 7.75, 0.75, 0, false, DWSDoorTrim, 1, floor)
			AddDecoObject(NETeachersRoom_IntDeco, DWSDoorTrim, DWSDoorTrim, back, false, true, 0.2, 0.2, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 7, 7.2, 0.2, 0, true, DWSDoorTrim, 1, floor)

	#Northwest door
		Set Door_MainX = -2 + 7 - 1.5
		Set Door_MainZ = -61.5
	
		Set Texture = DWSDoor_NA
		Set SideTexture = DWSDoorSide
		WallOrientation = left
		AddSlidingDoor Floor %floor%, NWTeachersRoomDr_%floorid%, , , false, %Texture%, %SideTexture%, 0.2, front, right, 4, 2, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 7, 0, 0, 0, 0, 0

			#Sliding door decos
			AddDecoObject(NWTeachersRoom_ExtDeco, DWSDoorTrim, DWSDoorTrim, back, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 3.5 * 2, 7, 7.75, 0.75, 0, false, DWSDoorTrim, 1, floor)
			AddDecoObject(NWTeachersRoom_IntDeco, DWSDoorTrim, DWSDoorTrim, back, false, true, 0.2, 0.2, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 7, 7.2, 0.2, 0, true, DWSDoorTrim, 1, floor)

	#Southeast door
		Set Door_MainX = -2 + 21 + 1.5
		Set Door_MainZ = -90.5
	
		Set Texture = DWSDoor_NA
		Set SideTexture = DWSDoorSide
		WallOrientation = right
		AddSlidingDoor Floor %floor%, SETeachersRoomDr_%floorid%, , , false, %Texture%, %SideTexture%, 0.2, back, left, 4, 2, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 7, 0, 0, 0, 0, 0

			#Sliding door decos
			AddDecoObject(SETeachersRoom_ExtDeco, DWSDoorTrim, DWSDoorTrim, front, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 3.5 * 2, 7, 7.75, 0.75, 0, false, DWSDoorTrim, 1, floor)
			AddDecoObject(SETeachersRoom_IntDeco, DWSDoorTrim, DWSDoorTrim, front, false, true, 0.2, 0.2, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 7, 7.2, 0.2, 0, true, DWSDoorTrim, 1, floor)

	#Southwest door
		Set Door_MainX = -2 + 7 - 1.5
		Set Door_MainZ = -90.5
	
		Set Texture = DWSDoor_NA
		Set SideTexture = DWSDoorSide
		WallOrientation = right
		AddSlidingDoor Floor %floor%, SWTeachersRoomDr_%floorid%, , , false, %Texture%, %SideTexture%, 0.2, front, right, 4, 2, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 7, 0, 0, 0, 0, 0

			#Sliding door decos
			AddDecoObject(SWTeachersRoom_ExtDeco, DWSDoorTrim, DWSDoorTrim, front, true, false, 0.2, 0.2, %Door_MainX%, %Door_MainZ%, 3.5 * 2, 7, 7.75, 0.75, 0, false, DWSDoorTrim, 1, floor)
			AddDecoObject(SWTeachersRoom_IntDeco, DWSDoorTrim, DWSDoorTrim, front, false, true, 0.2, 0.2, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 7, 7.2, 0.2, 0, true, DWSDoorTrim, 1, floor)
<EndFloors>

#Link to Priscilla Steveson Building
<Floors 3 to 7>
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Link area decorations
	CutAll -%1%, %interfloorheight% - 1, -76, -%1% + 14, %interfloorheight% + 1, -45, false, true
	CutAll -%1%, %fullheight% - 1, -76, -%1% + 14, %fullheight% + 1, -45, false, true

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor F%floorid%_LinkAreaFlr, %5L%, 0.5, -%1%, -76, -%1% + 14, -45 - 3, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_LinkAreaCei, %7L%, 0.5, -%1%, -76, -%1% + 14, -45 - 3, %fullheight%, %fullheight%, 0, 0, true

	WallOrientation = left
	DrawWalls = false, true, false, true, false, false
	AddWall F%floorid%_LinkArea_Front, %6L%, 0.75, -23.75 - 1.75, -76, -12, -76, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	#DrawWalls = false, true, false, false, false, false
	#AddWall LinkArea_Left, %6L%, 0.75, -25.5, -47, -25.5, -45, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	WallOrientation = right
	DrawWalls = true, false, false, true, false, false
	AddWall F%floorid%_LinkArea_Back, %6L%, 0.75, -25.5, -45 - 3, -12, -45 - 3, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
<EndFloors>

<Floors 8 to 9>
	#Activity room
	Set 6C = MainWall
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall_CustomTex(F%floorid%ActivityRM_RightExt, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -%2% + 56, -%1% + 14, -45 - 3, 4, %height% - 4, 0, 0, false)
	DrawWalls = true, false, false, false, false, false
	AddWall F%floorid%ActivityRM_RightInt, F%floorid%ARoomWall, 0.5, -%1% + 14, -%2% + 56, -%1% + 14, -45 - 3, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = center
	DrawWalls = true, false, false, false, false, false
	AddWall F%floorid%ActivityRM_Front, F%floorid%ARoomWall, 1, -%1%, -45 - 3, -%1% + 14, -45 - 3, %height%, %height%, 0, 0, 0, 0, false

		#Doors
		#RoomDoors_West(MainDoor, GrayTrim, -69 + 14) #Activity room, front doors
		#RoomDoors_West(MainDoor, GrayTrim, -69) #Activity room, rear doors
		RoomDoors_Sliding(%floorid%_Activity, DWSDoor, DWSDoorSide, DWSDoorTrim, -12, -62, right)
<EndFloors>

<Floors 10 to 12>
	#Ceilings
	Set RoomHeight = 10.5
	Set RoomCeilingHeight = 0 + %RoomHeight%
	Set 7A = MeetingRoomCeiling #Ceiling Texture

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_SouthMeetingCei, %7A%, 0.5, %1% - 28, -%2%, %1%, -%2% + (28 * 4), %RoomCeilingHeight%, %RoomCeilingHeight%, 0, 0, false

		#Room divider walls
		#WallTex()
		Set 6C = ClassroomWall
		if[%floor% < 4] Set 6C = %6M%
		if[%floor% > 9] Set 6C = F%floorid%Wall
		Set PositionE = -20 - (28 * 2)
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall_CustomTex(RoomA-B_Divider, 2, %6C%Lower, %6C%Upper, 0, 1, %1% - 28, %PositionE%, %1%, %PositionE%, 4, %height% - 4, 0, %interfloorheight%, true)

		#Doors
		if[%floor% = 12] SetAutoSize = false, false
		Set MeetingDTex = Door9b
		if[%floor% = 12] Set MeetingDTex = Door6
		Set MeetingDtTex = Door9bSide
		if[%floor% = 12] Set MeetingDtTex = ConnectionWall
		
		#Room A
		RoomDoors(%MeetingDTex%, %MeetingDtTex%, -41 + 7) #Front
		RoomDoors(%MeetingDTex%, %MeetingDtTex%, -69 + 7) #Fear

		#Room B
		RoomDoors(%MeetingDTex%, %MeetingDtTex%, -97 + 7) #Front
		RoomDoors(%MeetingDTex%, %MeetingDtTex%, -125 + 7) #Rear
		SetAutoSize = true, true
<EndFloors>

#Sign holders
<Floors 0 to 2>
	Set SignOffset = %interfloorheight% + 9.5

	#Northern section
	if[%floor% ! 1] AddBoxSign(Room%floorid%03_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, %2% - 14, 2.5, 0.1, %SignOffset%, true)

	Set SignOffset = %interfloorheight% + 8.5
	if[%floor% = 1] Set SignOffset = %interfloorheight% + 7.75 + 0.5

	#Southern section
	Set ExtraPosition = 0
	if[%floor% = 1] Set ExtraPosition = 10

	Set SpecialPosition = -20 - (28 * 2) - 9 #Used on 1st floor only

	Set RM2_SignPos = -20 - 5
	if[%floor% = 1] Set RM2_SignPos = -48 + 5

	AddBoxSign(Room%floorid%02_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25 + %ExtraPosition%, %RM2_SignPos%, 2.5, 0.1, %SignOffset%, true)
	if[%floor% = 0] AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25 + %ExtraPosition%, %SpecialPosition%, 2.5, 0.1, %SignOffset%, true)
	if[%floor% = 1] AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25 + %ExtraPosition%, -62.5, 2.5, 0.1, %SignOffset%, true)
	if[%floor% > 1] AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -%2% + 56 - 5, 2.5, 0.1, %SignOffset%, true)
<EndFloors>

#Floor ID = 2 to 8
<Floors 3 to 9>
	Set SignOffset = 0 + 9

	#Northern section
	if[%floor% ! 9] AddBoxSign(Room%floorid%08_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 118 - 8.25, 2.5, 0.1, %SignOffset%, false)
	AddBoxSign(Room%floorid%07_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 90 - 8.25, 2.5, 0.1, %SignOffset%, false)
	if[%floor% ! 9] AddBoxSign(Room%floorid%06_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 62 - 8.25, 2.5, 0.1, %SignOffset%, false)
	AddBoxSign(Room%floorid%05_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 34 - 8.25, 2.5, 0.1, %SignOffset%, false)
<EndFloors>

#Floor ID = 8
<Floor 9>
	Set SignOffset = 0 + 9

	#Sign holders for 8th floor classrooms and Music Room (if ClassDeterminant is set to 2)
	if[%ClassDeterminant% = 2] AddBoxSign(M48_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 118 - 8.25, 2.5, 0.1, %SignOffset%, false)
	if[%ClassDeterminant% = 2] AddBoxSign(M410_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, 62 - 8.25, 2.5, 0.1, %SignOffset%, false)
	if[%ClassDeterminant% = 2] AddBoxSign(Music&PerformArts_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -62 - 8.25, 2.5, 0.1, %SignOffset%, false)
<EndFloor>

<Floor 3>
	Set SignOffset = %interfloorheight% + 8.5
	#Southern section
	AddBoxSign(Room%floorid%04_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -41 + 7, 2.5, 0.1, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -125 + 14, 2.5, 0.1, %SignOffset%, true)
<EndFloor>

<Floors 4 to 9>
	Set SignOffset = %interfloorheight% + 9

	#Southern section
	Set ExtraOffset = 0
	if[%floor% = 4 | %floor% = 5 | %floor% = 7 | %floor% = 9] Set ExtraOffset = 16.5

	if[%floor% > 7] AddBoxSign(Room%floorid%09_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -12 + 1.25, -62 + 8.25, 2.5, 0.1, %SignOffset%, true)
	AddBoxSign(Room%floorid%04_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -34 - 8.25 + %ExtraOffset%, 2.5, 0.1, %SignOffset%, true)

	if[%floor% ! 4 & %floor% ! 5 & %floor% ! 9] AddBoxSign(Room%floorid%03_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -62 - 8.25, 2.5, 0.1, %SignOffset%, true)

	if[%floor% = 9] AddBoxSign(Room%floorid%02A_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -90 + 8.25, 2.5, 0.1, %SignOffset%, true)
	if[%floor% ! 4 & %floor% ! 5] AddBoxSign(Room%floorid%02_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -90 - 8.25, 2.5, 0.1, %SignOffset%, true)

	if[%floor% = 9] AddBoxSign(Room%floorid%01A_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -118 + 8.25, 2.5, 0.1, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -118 - 8.25, 2.5, 0.1, %SignOffset%, true)
<EndFloors>

<Floors 10 to 12>
	Set SignOffset = 0 + 8.5

	#Southern section
	AddBoxSign(Room%floorid%03_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -41 + 7, 2.5, 0.1, %SignOffset%, false)
	AddBoxSign(Room%floorid%04_SignHolder, SignHolder, SignHolder, SignHolder, 0.1, true, true, true, -2 - 1.25, -97 + 7, 2.5, 0.1, %SignOffset%, false)
<EndFloors>

##--------------------------------------------------------------------------------##

#Room signs
AddFlexibleSigns()

<Floor 0>
	Set SignOffset = %interfloorheight% + 9

	#Northern section
	AddBoxSign(Room%floorid%03_Sign, SignRegistration, SignRegistration, WoodSign, 0.1, true, true, true, -2 - 1.5, %2% - 14, 2, 0.5, %SignOffset%, true)

	Set SignOffset = %interfloorheight% + 8
	Set SpecialPosition = -20 - (28 * 2) - 9 #Used on 1st floor only

	#Southern section
	AddBoxSign(Room%floorid%02_Sign, SignStationeryRoom, SignStationeryRoom, WoodSign, 0.1, true, true, true, -2 - 1.5, -20 - 5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignStationeryDept, SignStationeryDept, WoodSign, 0.1, true, true, true, -2 - 1.5, %SpecialPosition%, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 1>
	Set SignOffset = %interfloorheight% + 7.75
	#Southern section
	AddBoxSign(Room%floorid%02_Sign, SignDocument, SignDocument, WoodSign, 0.1, true, true, true, -2 + 10 - 1.5, -48 + 5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignTechnology, SignTechnology, WoodSign, 0.1, true, true, true, -2 + 10 - 1.5, -62.5, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 2>
	Set SignOffset = %interfloorheight% + 9

	#Northern section
	AddBoxSign(Room%floorid%03_Sign, SignFinance, SignFinance, WoodSign, 0.1, true, true, true, -2 - 1.5, %2% - 14, 2, 0.5, %SignOffset%, true)

	Set SignOffset = %interfloorheight% + 8
	#Southern section
	AddBoxSign(Room%floorid%02_Sign, SignAdministrativeOffice, SignAdministrativeOffice, WoodSign, 0.1, true, true, true, -2 - 1.5, -20 - 5, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignAdministrativeMeeting, SignAdministrativeMeeting, WoodSign, 0.1, true, true, true, -2 - 1.5, -%2% + 56 - 5, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 3>
	Set SignOffset = 0 + 8.5

	#Northern section
	AddBoxSign(Room%floorid%08_Sign, SignM61, SignM61, WoodSign, 0.1, true, true, true, -2 - 1.5, 118 - 8.25, 1.5, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%07_Sign, SignM62, SignM62, WoodSign, 0.1, true, true, true, -2 - 1.5, 90 - 8.25, 1.5, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%06_Sign, SignM63, SignM63, WoodSign, 0.1, true, true, true, -2 - 1.5, 62 - 8.25, 1.5, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%05_Sign, SignM64, SignM64, WoodSign, 0.1, true, true, true, -2 - 1.5, 34 - 8.25, 1.5, 0.5, %SignOffset%, false)

	Set SignOffset = %interfloorheight% + 8
	#Southern section
	AddBoxSign(Room%floorid%04_Sign, SignAcademic, SignAcademic, WoodSign, 0.1, true, true, true, -2 - 1.5, -41 + 7, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignGuidance, SignGuidance, WoodSign, 0.1, true, true, true, -2 - 1.5, -125 + 14, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 4>
	Set SignOffset = 0 + 8.5

	#Northern section
	AddBoxSign(Room%floorid%06_Sign, SignM65, SignM65, WoodSign, 0.1, true, true, true, -2 - 1.5, 118 - 8.25, 1.5, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%05_Sign, SignM66, SignM66, WoodSign, 0.1, true, true, true, -2 - 1.5, 90 - 8.25, 1.5, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%04_Sign, SignM67, SignM67, WoodSign, 0.1, true, true, true, -2 - 1.5, 62 - 8.25, 1.5, 0.5, %SignOffset%, false)

	#Southern section
	Set SignOffset = %interfloorheight% + 8.5
	AddBoxSign(Room%floorid%02_Sign, SignChemLab2, SignChemLab2, WoodSign, 0.1, true, true, true, -2 - 1.5, -34 + 8.25, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignChemLab1, SignChemLab1, WoodSign, 0.1, true, true, true, -2 - 1.5, -118 - 8.25, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 5>
	#Southern section
	AddBoxSign(Room%floorid%02_Sign, SignPhysicsLab, SignPhysicsLab, WoodSign, 0.1, true, true, true, -2 - 1.5, -34 + 8.25, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignBiologyLab, SignBiologyLab, WoodSign, 0.1, true, true, true, -2 - 1.5, -118 - 8.25, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 7>
	#Southern section
	AddBoxSign(Room%floorid%04_Sign, SignPreFunction, SignPreFunction, WoodSign, 0.1, true, true, true, -2 - 1.5, -34 + 8.25, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%03_Sign, SignPreFunction, SignPreFunction, WoodSign, 0.1, true, true, true, -2 - 1.5, -62 - 8.25, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%02_Sign, SignLangLoversClub, SignLangLoversClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -90 - 8.25, 2, 0.5, %SignOffset%, true)
	AddBoxSign(Room%floorid%01_Sign, SignCityTourClub, SignCityTourClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -118 - 8.25, 2, 0.5, %SignOffset%, true)
<EndFloor>

<Floor 8>
	Set SignOffset = 0 + 8.5

	#Southern section
	AddBoxSign(Room%floorid%09_Sign, SignEnglishRoom, SignEnglishRoom, WoodSign, 0.1, true, true, true, -12 + 1.5, -62 + 8.25, 2, 0.5, %SignOffset%, false)
<EndFloor>

<Floor 9>
	Set SignOffset = 0 + 8.5

	#Southern section
	AddBoxSign(Room%floorid%06_Sign, SignESportClub, SignESportClub, WoodSign, 0.1, true, true, true, -12 + 1.5, -62 + 8.25, 2, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%02A_Sign, SignActorsClub, SignActorsClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -90 + 8.25, 2, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%02_Sign, SignLawClub, SignLawClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -90 - 8.25, 2, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%01A_Sign, SignPhotoClub, SignPhotoClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -118 + 8.25, 2, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%01_Sign, SignGermanClub, SignGermanClub, WoodSign, 0.1, true, true, true, -2 - 1.5, -118 - 8.25, 2, 0.5, %SignOffset%, false)
<EndFloor>

<Floors 10 to 12>
	#Set SignOffset = %interfloorheight% + 8
	Set SignOffset = 0 + 8

	#Southern section
	AddBoxSign(Room%floorid%A_Sign, SignRoom%floorid%A, SignRoom%floorid%A, WoodSign, 0.1, true, true, true, -2 - 1.5, -41 + 7, 2, 0.5, %SignOffset%, false)
	AddBoxSign(Room%floorid%B_Sign, SignRoom%floorid%B, SignRoom%floorid%B, WoodSign, 0.1, true, true, true, -2 - 1.5, -97 + 7, 2, 0.5, %SignOffset%, false)

	#Auditorium
	if[%floor% = 10] AddBoxSign(Auditorium_Sign, SignAuditorium, Sign_LB_Long, Sign_LB_Long, 0.1, true, true, true, -7, 19.5 - 0.05, 4, 1, 7.5, false)
<EndFloors>

##--------------------------------------------------------------------------------##

#Restrooms
<Function RestroomDoorTex>
	Set Texture = Door9b
	if[%floor% = 12] Set Texture = Door6
	if[%floor% < 3] Set Texture = Door8
<EndFunction>

<Function Restroom1> #Used on levels 1 and 9-11
	#Walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall_CustomTex(F%floorid%_Restroom_Center, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, -62, -%1% + 14, -62, 4, %height% - 4, 0, 0, false)
	WallOrientation = right
	AddWall_CustomTex(F%floorid%_Restroom_Right, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -76, -%1% + 14, -45 - 3, 4, %height% - 4, 0, 0, false)

	#Ceiling
	Set RestroomHeight = 10.5
	if[%floor% = 0] Set RestroomHeight = 8.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_DroppedCeiling, DropCeiling, 0.5, -%1%, -76, -%1% + 14, -45 - 3, %RestroomHeight%, %RestroomHeight%, 0, 0, false

		#Restroom doors
		RestroomDoorTex() #Set door textures
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 4, 75, -%1% + 13.5, -62 - 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, -62 - 2.25, 3, 7, 0, false, 0, 0, false
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 1, 75, -%1% + 13.5, -62 + 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, -62 + 2.25, 3, 7, 0, false, 0, 0, false		

		#Restroom signs
		DrawWalls = false, true, false, false, false, false
		if[%floor% = 0] AddWall F%floorid%_RestroomSign1, Sign_RestroomW, 0, -12 + 0.001, (-62 - 4.75) - 0.5, -12 + 0.001, (-62 - 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		if[%floor% = 0] AddWall F%floorid%_RestroomSign2, Sign_RestroomM, 0, -12 + 0.001, (-62 + 4.75) - 0.5, -12 + 0.001, (-62 + 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		if[%floor% ! 0] AddBoxSign(F%floorid%_RstrmSignA, Sign_RestroomW2, Sign_RestroomW2, WoodSign2, 0.1, true, true, true, -12 + 0.75, -62 - 2.25, 1.5, 1.5, 7.75, false)
		if[%floor% ! 0] AddBoxSign(F%floorid%_RstrmSignB, Sign_RestroomM2, Sign_RestroomM2, WoodSign2, 0.1, true, true, true, -12 + 0.75, -62 + 2.25, 1.5, 1.5, 7.75, false)
		if[%floor% = 0] AddBoxSign(F%floorid%_MainRestroomSign, Sign_Restroom, Sign_Restroom, WoodSign2, 0.1, true, true, true, -12 + 0.75, -62, 1.5, 1.5, 7.75, false)
<EndFunction>

<Function Restroom2> #Used on levels 2-8
	#Walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall_CustomTex(F%floorid%_Restroom2_Center, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, 5, -%1% + 14, 5, 4, %height% - 4, 0, 0, false)
	WallOrientation = right
	AddWall_CustomTex(F%floorid%_Restroom2_Right, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -20, -%1% + 14, 30, 4, %height% - 4, 0, 0, false)
	AddWall_CustomTex(F%floorid%_Restroom2_Back, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1%, 30, -%1% + 14, 30, 4, %height% - 4, 0, 0, false)

	#Ceiling
	Set RestroomHeight = 10.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_RestRMCeiling, DropCeiling, 0.5, -%1%, -20, -%1% + 14, 30, %RestroomHeight%, %RestroomHeight%, 0, 0, false

		#Restroom doors
		RestroomDoorTex() #Set door textures
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 4, 75, -%1% + 13.5, 5 - 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, 5 - 2.25, 3, 7, 0, false, 0, 0, false
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 1, 75, -%1% + 13.5, 5 + 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, 5 + 2.25, 3, 7, 0, false, 0, 0, false		

		#Restroom signs
		DrawWalls = false, true, false, false, false, false
		AddWall F%floorid%_RestroomSign3, Sign_RestroomW, 0, -12 + 0.001, (5 - 4.75) - 0.5, -12 + 0.001, (5 - 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		AddWall F%floorid%_RestroomSign4, Sign_RestroomM, 0, -12 + 0.001, (5 + 4.75) - 0.5, -12 + 0.001, (5 + 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		#AddBoxSign(F%floorid%_RstrmSignA, Sign_RestroomW, Sign_RestroomW, BlackTrim, 0.1, true, true, true, -12 + 0.75, 5 - 2.25, 1.5, 1.5, 7.75, false)
		#AddBoxSign(F%floorid%_RstrmSignB, Sign_RestroomM, Sign_RestroomM, BlackTrim, 0.1, true, true, true, -12 + 0.75, 5 + 2.25, 1.5, 1.5, 7.75, false)
		AddBoxSign(F%floorid%_MainRestroomSign2, Sign_Restroom, Sign_Restroom, WoodSign2, 0.1, true, true, true, -12 + 0.75, 5, 1.5, 1.5, 7.75, false)
<EndFunction>

<Function Restroom3> #Used on level M2
	#Walls
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall_CustomTex(F%floorid%_Restroom_Center, 2, %6M%Lower, %6M%Upper, 0, 1, -%1%, -71, -%1% + 14, -71, 4, %height% - 4, 0, 0, false)
	WallOrientation = right
	AddWall_CustomTex(F%floorid%_Restroom_Right, 2, %6M%Lower, %6M%Upper, 0, 0.5, -%1% + 14, -84, -%1% + 14, -58, 4, %height% - 4, 0, 0, false)

	#Ceiling
	Set RestroomHeight = 8.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_DroppedCeiling, DropCeiling, 0.5, -%1%, -84, -%1% + 14, -58, %RestroomHeight%, %RestroomHeight%, 0, 0, false

		#Restroom doors
		RestroomDoorTex() #Set door textures
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 4, 75, -%1% + 13.5, -71 - 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, -71 - 2.25, 3, 7, 0, false, 0, 0, false
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 1, 75, -%1% + 13.5, -71 + 2.25, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -%1% + 13.5, -71 + 2.25, 3, 7, 0, false, 0, 0, false		

		#Restroom signs
		DrawWalls = false, true, false, false, false, false
		AddWall F%floorid%_RestroomSign1, Sign_RestroomW, 0, -12 + 0.001, (-71 - 4.75) - 0.5, -12 + 0.001, (-71 - 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		AddWall F%floorid%_RestroomSign2, Sign_RestroomM, 0, -12 + 0.001, (-71 + 4.75) - 0.5, -12 + 0.001, (-71 + 4.75) + 0.5, 1, 1, 4.5, 4.5, 0, 0, false
		#AddBoxSign(F%floorid%_RstrmSignA, Sign_RestroomW, Sign_RestroomW, BlackTrim, 0.1, true, true, true, -12 + 0.75, -71 - 2.25, 1.5, 1.5, 7.75, false)
		#AddBoxSign(F%floorid%_RstrmSignB, Sign_RestroomM, Sign_RestroomM, BlackTrim, 0.1, true, true, true, -12 + 0.75, -71 + 2.25, 1.5, 1.5, 7.75, false)
		AddBoxSign(F%floorid%_MainRestroomSign, Sign_Restroom, Sign_Restroom, WoodSign2, 0.1, true, true, true, -12 + 0.75, -71, 1.5, 1.5, 7.75, false)
<EndFunction>

<Floor 0>
	WallTex()
	Restroom1()
<EndFloor>

<Floor 2>
	WallTex()
	Restroom3()
<EndFloor>

<Floors 3 to 9>
	WallTex()
	Restroom2()
<EndFloors>

<Floors 10 to 12>
	WallTex()
	Restroom1()
<EndFloors>

#Windows
<Floors 0 to 12>
	if[%floor% = 5] Set 6C = F%floorid%ClassroomWall
	if[%floor% ! 5] Set 6C = ClassroomWall
	WallTex() #Set wall texture

	WindowsFillers() #Set filler texture

	Set winoffset = 3.5
	if[%floor% = 1] Set winoffset = 1 #Override

	Set WindowHeight = 6
	if[%floor% = 1] Set WindowHeight = %height% - 2
	#if[%floor% = 0] Set WindowHeight = 12
	Set TZ = 1
	#if[%floor% = 0] Set TZ = 2

	#Front
	if[%floor% > 1] WindowsZ2(FrontWindows, -7.5, -%2%, front, 8, 11.5, 1, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.5, 3)
	if[%floor% = 0] WindowsZ2(FrontWindows, -7.5, -%2%, front, 8, 6 + 1.5, 15.25 - 6 + 2, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.5, 1)

	#Left
	WindowsFillers()
	if[%floor% = 10 | %floor% = 11] Set FillerPrefix = AuditoriumWall #Override
	if[%floor% = 12] Set FillerPrefix = ExhibitionWall #Override

	if[%floor% > 2] WindowsX2(LeftWindows3, -%1%, 90 + 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(LeftWindows4, -%1%, 90 - 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(LeftWindows5, -%1%, 62 + 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(LeftWindows6, -%1%, 62 - 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(LeftWindows7, -%1%, 34 + 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)

	WindowsFillers()

	if[%floor% = 1] Set FillerPrefix = LobbyWall #Override
	if[%floor% < 3 | %floor% > 11] WindowsX2(LeftWindows8A, -%1%, 0 - 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% < 3 | %floor% > 11] WindowsX2(LeftWindows8B, -%1%, 0 + 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)

	if[%floor% = 10 | %floor% = 11] Set FillerPrefix = AuditoriumLobbyWall #Override
	if[%floor% = 10] WindowsX2(ALWindows1, -%1%, 0 - 6.5 - 3, left, 18, 12, 1.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1.25, 2)
	if[%floor% = 10] WindowsX2(ALWindows2, -%1%, 0 + 6.5 + 3, left, 18, 12, 1.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1.25, 2)
	if[%floor% = 11] WindowsX2(ALWindows3, -%1%, 0 - 6.5 - 3, left, 18, 12, -%interfloorheight% + 1.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1.25, 2)
	if[%floor% = 11] WindowsX2(ALWindows4, -%1%, 0 + 6.5 + 3, left, 18, 12, -%interfloorheight% + 1.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1.25, 2)

	WindowsFillers()
	#Restroom windows (Levels 2-8)
	if[%floor% > 2 & %floor% < 10] WindowsX2(LeftWindows8C1, -%1%, -15 + 6 - 4.5, left, 9, 2, 7.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.75, 1)
	if[%floor% > 2 & %floor% < 10] WindowsX2(LeftWindows8C2, -%1%, -2, left, 12, 2, 7.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, 1)
	if[%floor% > 2 & %floor% < 10] WindowsX2(LeftWindows8D1, -%1%, 14, left, 12, 2, 7.5, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, 1)
	#if[%floor% > 2 & %floor% < 10] WindowsX2(LeftWindows8D2, -%1%, 17 + 5, left, 12, 2, 8, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, 1)

	#if[%floor% > 2] WindowsX2(LeftWindows8, -%1%, 34 - 6.5 + 6 - 3, left, 6, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.5, %TZ%)
	#if[%floor% = 1] WindowsX2(LeftWindows9, -%1%, 14 + 5, left, 7.5, 6, 15.25 - 6, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.5, 1)
	if[%floor% > 7] WindowsX2(LeftWindows11, -%1%, -62 + 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 7] WindowsX2(LeftWindows12, -%1%, -62 - 6.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, %TZ%)


	#Restroom windows (Level 1 - Windows 11A and 12A)
	if[%floor% = 0] WindowsX2(LeftWindows11A, -%1%, -62 + 6.5, left, 12, 2, 8 - 2, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, 1)
	if[%floor% = 0] WindowsX2(LeftWindows12A, -%1%, -62 - 6.5, left, 12, 2, 8 - 2, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 1, 1)

	if[%floor% > 2] WindowsX2(LeftWindows13A, -%1%, -%2% + 45 + 1.5, left, 12, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.75, %TZ%)
	if[%floor% = 0] WindowsX2(LeftWindows13B, -%1%, -80.5, left, 4, %WindowHeight%, %winoffset%, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.25, %TZ%)
	#if[%floor% = 0] WindowsX2(LeftWindows13C, -%1%, -92 + 3, left, 7.5, 6, 15.25 - 6, MainWindowsB, MainWindowsIntB, %FillerPrefix%, 0.5, 1) #Not in use

	#Right
	WindowsFillers()
	if[%floor% < 3] Set FillerPrefix = LobbyOfficeWall #Override
	if[%floor% = 10 | %floor% = 11] Set FillerPrefix = AuditoriumWall #Override
	if[%floor% = 12] Set FillerPrefix = ExhibitionWall #Override

	#Override for elevator lobby windows
	Set FillerPrefix2 = %FillerPrefix%
	if[%floor% > 9 & %floor% < 13] Set FillerPrefix2 = F%floorid%LobbyWall

	WindowsX2(RightWindows1, %1%, 118 + 6.5 - 6 + 4.5, right, 9, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.75, %TZ%)
	WindowsX2(RightWindows2, %1%, 118 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows3, %1%, 90 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows4, %1%, 90 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows5, %1%, 62 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows6, %1%, 62 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows7, %1%, 34 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 2] WindowsX2(RightWindows8, %1%, 34 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)

	WindowsFillers()
	if[%floor% > 1] WindowsX2(RightWindows8A, %1%, 0, right, 15, 9.5, 1, MainWindowsIntB, MainWindowsB, %FillerPrefix2%, 1, 2)
	if[%floor% = 0] WindowsX2(RightWindows8A, %1%, 0, right, 15, 8.5 - 0.5, 15.25 - 6 + 0.5, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, 1)

	WindowsFillers()
	if[%floor% < 3 & %floor% ! 1] Set FillerPrefix = LobbyOfficeWall #Override
	if[%floor% = 1] Set FillerPrefix = Level%floorid%OfficeWall #Override
	if[%floor% = 3] Set FillerPrefix = F%floorid%OfficeWall #Override
	if[%floor% > 9] Set FillerPrefix = F%floorid%Wall #Override

	WindowsX2(RightWindows9, %1%, -34 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	WindowsX2(RightWindows10, %1%, -34 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	WindowsX2(RightWindows11, %1%, -62 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	WindowsX2(RightWindows12, %1%, -62 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	WindowsX2(RightWindows13, %1%, -90 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 1] WindowsX2(RightWindows14, %1%, -90 - 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 1] WindowsX2(RightWindows15, %1%, -118 + 6.5, right, 12, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1, %TZ%)
	if[%floor% > 1] WindowsX2(RightWindows16, %1%, -118 - 6.5 + 6 - 4.5, right, 9, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.75, %TZ%)

	#Back
	WindowsFillers()
	if[%floor% = 10 | %floor% = 11] Set FillerPrefix = AuditoriumWall #Override
	if[%floor% = 12] Set FillerPrefix = ExhibitionWall #Override

	if[%floor% > 2] WindowsZ2(BackWindows, -7.5, %2%, back, 8, 11.5, 1, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.5, 3)
	if[%floor% = 0] WindowsZ2(BackWindows_Entrance, -12, 24, back, 17, 6 + 1.5, 15.25 - 6 + 2, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 1.25, 1)
	if[%floor% = 2] WindowsZ2(BackWindows_Entrance, -17, 24, back, 7, %WindowHeight%, %winoffset%, MainWindowsIntB, MainWindowsB, %FillerPrefix%, 0.5, %TZ%)
<EndFloors>

<Floors 10 to 11>
	WallOrientation = center
	Set AuditoriumHeight = %height%
	Set AuditoriumOffset = 0
	if[%floor% = 11] Set AuditoriumHeight = %fullheight%
	if[%floor% = 11] Set AuditoriumOffset = -%interfloorheight%

	#Extra walls to fill in the gap cut by the windows
	DrawWalls = true, true, true, false, false, false
	AddWall Auditorium_ServiceArea_Extra, AuditoriumWall2, 1.2, %1% - 0.6, 126, %1%, 126, %AuditoriumHeight%, %AuditoriumHeight%, %AuditoriumOffset%, %AuditoriumOffset%, 0, 0, false
<EndFloors>

#Entrance doors
<Floor 0>
	#Elevator lobby (East)
	WallOrientation = right
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 3, 75, 26, 0 + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 2, 75, 26, 0 - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, 26, 0, 7, 8.5, %interfloorheight%, false, 0, 0, true

	#North
	WallOrientation = right
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 6, 75, -17 + 1.75, 24, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 7, 75, -17 - 1.75, 24, 3.5, 8.5, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -17, 24, 7, 8.5, %interfloorheight%, true, 0, 0, true
	
	#South
	WallOrientation = left
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 5, 75, -7 + 1.75, -132, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	AddExternalDoor , , false, EntDoor_Int, 0.2, 8, 75, -7 - 1.75, -132, 3.5, 8.5, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -7, -132, 7, 8.5, %interfloorheight%, true, 0, 0, true
<EndFloor>

<Floors 0 to 2>
	#North
	WallOrientation = right
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 6, 75, -7 + 1.75, 24, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Int, EntDoor_Ext, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 7, 75, -7 - 1.75, 24, 3.5, 8.5, %interfloorheight%, 0, 0
	if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, -7, 24, 7, 8.5, %interfloorheight%, true, 0, 0, true

	#Southwest (Service elevator)
	WallOrientation = left
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 4, 75, -26, -92 + 3 + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 1, 75, -26, -92 + 3 - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, -26, -92 + 3, 7, 8.5, %interfloorheight%, false, 0, 0, true

	#West
	WallOrientation = left
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 4, 75, -26, 19 + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	TextureOverride EntDoor_Ext, EntDoor_Int, EntDoor_Side, EntDoor_Side, EntDoor_Side, EntDoor_Side
	if[%floor% ! 1] AddExternalDoor , , false, EntDoor_Int, 0.2, 1, 75, -26, 19 - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
	if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, -26, 19, 7, 8.5, %interfloorheight%, false, 0, 0, true
<EndFloors>

#Level 13: Main roof (with mechanical penthouse)
<Floor 13>
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor ME_MainFloor, %5%, 0.5, -%1%, -%2%, %1%, 20, 0, 0, 0, 0, false
	AddFloor MainRoof, RoofFloor, 0.5, -%1%, 20, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MechCeilingSouth, %7%, 0.5, -%1%, -%2%, -%1% + 14 - 0.5, -94, %height%, %height%, 0, 0, false
	AddFloor MechCeilingCenter, %7%, 0.5, -%1% + 14 - 0.5, -%2%, -%1% + 24 + 0.5, 20, %height%, %height%, 0, 0, false
	AddFloor MechCeilingNortheast, %7%, 0.5, %1% - 28 + 0.5, -20, %1%, 20, %height%, %height%, 0, 0, false
	AddFloor MechCeilingNorthwest, %7%, 0.5, -%1%, -48, -%1% + 14 - 0.5, -20, %height%, %height%, 0, 0, false

	#External Railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall LeftRail, ExtFacade3, 0.5, -%1%, 20, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall RightRail, ExtFacade3, 0.5, %1%, 20, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackRail, ExtFacade3, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
	#Roof access doors
	WallOrientation = right
	TextureOverride ServiceDoor1, ServiceDoor1, ServiceDoor1Side, ServiceDoor1Side, ServiceDoor1Side, ServiceDoor1Side
	AddExternalDoor , , false, ServiceDoor1, 0.2, 6, 75, -7 + (2.75/2), 20, 2.75, 7, %interfloorheight%, 0, 0
	TextureOverride ServiceDoor1, ServiceDoor1, ServiceDoor1Side, ServiceDoor1Side, ServiceDoor1Side, ServiceDoor1Side
	AddExternalDoor , , false, ServiceDoor1, 0.2, 7, 75, -7 - (2.75/2), 20, 2.75, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -7, 20, 5.5, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>


#Level 14: Mechanical
<Floor 14>
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MechFloorSouth, %5%, 0.5, -%1%, -%2%, -%1% + 14 - 0.5, -94, 0, 0, 0, 0, false
	AddFloor MechFloorCenter, %5%, 0.5, -%1% + 14 - 0.5, -%2%, -%1% + 24 + 0.5, 20, 0, 0, 0, 0, false
	AddFloor MechFloorNortheast, %5%, 0.5, %1% - 28 + 0.5, -20, %1%, 20, 0, 0, 0, 0, false
	AddFloor MechFloorNorthwest, %5%, 0.5, -%1%, -48, -%1% + 14 - 0.5, -20, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor ME_MainCeiling, %7%, 0.5, -%1%, -%2%, %1%, 20, %height%, %height%, 0, 0, false

	#Internal Railings
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%
	
	WallTex() #Set wall texture

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall ME-RailLeft1, %6%, 0.5, -%1% + 14 - 0.5, -94, -%1% + 14 - 0.5, -48, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall ME-RailLeft2, %6%, 0.5, -%1% + 14 - 0.5, -20, -%1% + 14 - 0.5, 20 - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#AddWall ME-RailBack, %6%, 0.5, -%1% + 24 + 0.5, -20, %1% - 0.5, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	WallOrientation = right
	AddWall ME-RailRight, %6%, 0.5, -%1% + 24 + 0.5, -%2% + 0.5, -%1% + 24 + 0.5, -20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Mechanical vents
		WallTex() #Set wall texture
		WindowsFillers() #Set filler texture

		Set ventheight = 6
		Set ventoffset = %height% - %ventheight% - 1.5
		Set TZ = 1
	
		#Front
		WindowsZ2(FrontVents, -7, -%2%, front, 8, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, 1)
	
		#Left
		WindowsX2(LeftVents8A, -%1%, 0 - 6.5, left, 12, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(LeftVents8B, -%1%, 0 + 6.5, left, 12, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(LeftVents11, -%1%, -62 + 6.5, left, 12, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(LeftVents12, -%1%, -62 - 6.5, left, 12, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(LeftVents13A, -%1%, -%2% + 45 + 1.5, left, 12, %ventheight%, %ventoffset%, VentsExt, VentsInt, %FillerPrefix%, 1, %TZ%)
	
		#Right
		WindowsX2(RightVents8A, %1%, 0, right, 15, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 2, 1)
		WindowsX2(RightVents9, %1%, -34 + 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents10, %1%, -34 - 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents11, %1%, -62 + 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents12, %1%, -62 - 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents13, %1%, -90 + 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents14, %1%, -90 - 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		WindowsX2(RightVents15, %1%, -118 + 6.5, right, 12, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
		#WindowsX2(RightVents16, %1%, -118 - 6.5 + 6 - 4.5, right, 9, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, %TZ%)
	
		#Back
		WindowsZ2(BackVents, -7, 20, back, 8, %ventheight%, %ventoffset%, VentsInt, VentsExt, %FillerPrefix%, 1, 1)
<EndFloor>

#Roof
<Floor 15>
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	FloorTex() #Floor Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Rooftop, RoofFloor, 0.5, -%1%, -%2%, %1%, 20, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall FrontRail, ExtFacade3, 0.5, -%1% + 14, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRail, ExtFacade3, 0.5, -%1%, -97 + 3, -%1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall RightRail, ExtFacade3, 0.5, %1%, -%2%, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackRail, ExtFacade3, 0.5, -%1% + 0.5, 20, %1% - 0.5, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>


#Building sign
<Floor 0>
	DrawWalls = false, true, false, false, false, false
	WallOrientation = left
	AddWall BldgSign, MatrixBldg, 0, 26 + 0.01, 0 - (5.5*4/2), 26 + 0.01, 0 + (5.5*4/2), 5.5, 5.5, 15.25 + %interfloorheight% + 2.5, 15.25 + %interfloorheight% + 2.5, 0, 0, true
<EndFloor>

#########################################################################

#Seats in classrooms
	<Include buildings/SkyscraperSchool (V3)/MatrixBuilding/Seating.txt>
	AddAllTables()

#########################################################################

#Supports
<Floors 0 to 12>
	#Set Values
	Set 1 = 26 #Building Dimension X
	Set 2 = 132 #Building Dimension Z
	WallTex() #Set wall texture
	#Set DistanceX = 26 #Distance between supports X
	Set DistanceZ = 28 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%
	Set ShowTop = false
	#--------------------
	#Corner Supports
	#CreateWallBox2 External, SupportNW, %6A%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportNE, %6A%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportSW, %6A%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportSE, %6A%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#--------------------
	#North Supports
	CreateWallBox2 External, SupportN1, %6A%, -2, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#South Supports
	CreateWallBox2 External, SupportS1, %6A%, -2, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#West Supports
	#CreateWallBox2 External, SupportW1, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW2, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportW3, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportW3A, %6A%, -%1% + 1.25, -24, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW4A, %6A%, -%1% + 1.25, 24, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW4, %6A%, -%1% + 1.25, %2% - (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW5, %6A%, -%1% + 1.25, %2% - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportW6, %6A%, -%1% + 1.25, %2% - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#East Supports
	CreateWallBox2 External, SupportE1, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE2, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE3, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE4, %6A%, %1% - 1.25, %2% - (%DistanceZ% * 3), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE5, %6A%, %1% - 1.25, %2% - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE6, %6A%, %1% - 1.25, %2% - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

#########################################################################

#Stairwells
#South Stairwell
CreateStairwell 1, -19, -119.5 + 1.5, -1, 15
CutStairwell 1, -6.5, -13.5, 6.5, 13.5, 0, 5
ShowFullStairs 1 = always

<Floors -1 to 15>
	Set 21 = -19 #Center X
	Set 22 = -119.5 + 1.5 #Center Z
	Set 23 = 6.5 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0


	Set CenterWallHeight = %fullheight% #Set wall's dimensions for 12th floor transition area
	Set CenterWallOffset = -%interfloorheight%
	if[%floor% = 12] Set CenterWallHeight = %fullheight% + Floor(13).InterfloorHeight
	if[%floor% = 12] Set CenterWallOffset = -%interfloorheight%
	if[%floor% = 13] Set CenterWallHeight = %height%
	if[%floor% = 13] Set CenterWallOffset = 0
	Set CWallExtPosi = 0
	if[%floor% > 12] Set CWallExtPosi = -3

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	if[%floor% > -1] AddStairsWall %25%, Stairs%25%CenterA, StairsWall2, 1, 0, -7, 0, 7 + %CWallExtPosi%, %CenterWallHeight%, %CenterWallHeight%, %CenterWallOffset%, %CenterWallOffset%, 0, 0
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 13] AddStairsWall %25%, Stairs%25%CenterA2, StairsWall2, 1, 0, 7 + %CWallExtPosi%, 0, 7, 3, 3, 0, 0, 0, 0
	DrawWalls = true, true, true, true, false, false
	if[%floor% = -1] AddStairsWall %25%, Stairs%25%CenterB, StairsWall2, 1, 0, -7 + 5 - 1, 0, 7, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	DrawWalls = true, true, true, true, false, true
	if[%floor% = 0] AddStairsWall %25%, Stairs%25%CenterC, StairsWall2, 1, 0, -7, 0, -7 + 5 - 1, %interfloorheight%, %interfloorheight%, -%interfloorheight% * 2, -%interfloorheight% * 2, 0, 0


	#External walls
	WallTex()
	Set LobbySWHeight = %height% + Floor(1).FullHeight
	if[%floor% = 0] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, false, false, true, false, false, false, false)
	if[%floor% = 0] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %LobbySWHeight% - 4, 4, false, false, true, false, false, false, false)

	if[%floor% > 1 & %floor% < 13] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, false, false, true, false, false, false, false)
	if[%floor% > 1 & %floor% < 13] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height% - 4, 4, false, false, true, false, false, false, false)

	if[%floor% = -1 | %floor% = 13 | %floor% = 14] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height%, 0, false, false, true, false, false, false, false)
	if[%floor% = 15] CreateShaftWall(ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, 0, true, true, true, false, true, false, true)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	if[%floor% > -1 & %floor% < 13] WindowsX2(Stair%25%Windows, %21% - %23% - 0.5, %22%, left, 14, %height% - 2, 1, MainWindowsB, MainWindowsIntB, StairsWall2, 0.75, %WindowTZ%)

	#Stairs
	#Stairs from B to 1
	if[%floor% = -1] AddStairs %25%, LowerStairs, Stairs, front, %23% - (6 / 2), 2, 6, %26%, 1, 11, 0, 0, 0
	if[%floor% = -1] AddStairs %25%, UpperStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 15, %26% * 11, 0, 0
	
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 30, 0, 0

	#Typical stairs span, levels M2 to 12
	if[%floor% > 1 & %floor% < 13] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 13] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0

	#Stairs from 12 to roof
	if[%floor% > 12 & %floor% < 15] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6 / 2), -7 + 5.5, 6, %26%, 1, 12, 0, 0, 0
	if[%floor% > 12 & %floor% < 15] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), -7 + 5.5, 6, %26%, 1, 12, %26% * 12, 0, 0


	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -1] AddStairsFloor %25%, F%floorid%_LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = -1] AddStairsFloor %25%, F%floorid%_LandingUpper, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 11, %26% * 11, false, false, 0, 0

	if[%floor% = 0] AddStairsFloor %25%, F%floorid%_LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, F%floorid%_LandingMiddle, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, F%floorid%_LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 30, %26% * 30, false, false, 0, 0


	Set LowerLandExtPosi = 0 #Set some positions for stairs from levels 12 to roof
	if[%floor% > 12] Set LowerLandExtPosi = -3
	
	if[%floor% > 1 & %floor% < 13] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 13] AddStairsFloor %25%, LandingLower-P1, StairsFloor, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 13] AddStairsFloor %25%, LandingLower-P2, StairsFloor, 0.5, %23% - 6, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 13] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23%, %24%, 0, 0, false, false, 0, 0

	Set LandingUpperOffset = %26% * 15
	if[%floor% = 13 | %floor% = 14] Set LandingUpperOffset = %26% * 12
	
	if[%floor% > 1 & %floor% < 15] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %LandingUpperOffset%, %LandingUpperOffset%, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 15] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, 7 + %LowerLandExtPosi%, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1 & %floor% < 15] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, %LandingUpperOffset% - 0.5, %LandingUpperOffset% - 0.5, 0, 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = -1] AddStairsWall %25%, LandingUpperCover-Level%floorid%, StairsFloor, 0, -%23%, 7, %23% - 6, 7, 0.5, 0.5, (%26% * 11) - 0.5, (%26% * 11) - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover-Level%floorid%, StairsFloor, 0, -%23%, 7, %23% - 6, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover-Level%floorid%, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover-Level%floorid%, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 15] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, 7 + %LowerLandExtPosi%, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1 & %floor% < 15] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 15] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, %24% - 2, 3, 7, 0, 0, 0

	WallOrientation = left
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% < 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	Set Suffix = %floorid%
	if[%floor% = 2] Set Suffix = M

	DrawWalls = false, true, false, false, false, false
	if[%floor% < 1] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% = -1] AddBoxSign(Stair%25%_SignA1, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% > 1 & %floor% < 15] AddBoxSign(Stair%25%_SignA2, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)

	if[%floor% = 0] AddBoxSign(Stair%25%_SignB1, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 15] AddBoxSign(Stair%25%_SignB2, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)

	#Set SignTop = 11.5
	Set SignTop = %height%
	if[%floor% = -1] AddBoxSign(Stair%25%_SignC1, StainlessSteel, ExitSignRight, StainlessSteel, 0.1, true, true, true, -7, %22% - %24% + 2, 1.8, 0.9, %SignTop% - 0.9, false)
	if[%floor% > 1 & %floor% < 15] AddBoxSign(Stair%25%_SignC2, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, -7, %22% + %24% - 2, 1.8, 0.9, %SignTop% - 0.9, false)
<EndFloors>

#Central Stairwell
CreateStairwell 2, -19, -32.5 - 1.5, 0, 14
CutStairwell 2, -6.5, -13.5, 6.5, 13.5, 0, 5
#ShowFullStairs 2 = always

#Main stairs
<Floors 0 to 14>
	Set 21 = -19 #Center X
	Set 22 = -32.5 - 1.5 #Center Z
	Set 23 = 6.5 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 2] AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	if[%floor% = 0] AddStairsWall %25%, Front-Level%floorid%, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %interfloorheight% + (%26% * 30), %interfloorheight% + (%26% * 30), -%interfloorheight%, -%interfloorheight%, 0, 0

	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	Set CenterWallHeight = %fullheight% #Set wall's dimensions for 12th floor transition area
	Set CenterWallOffset = -%interfloorheight%
	if[%floor% = 12] Set CenterWallHeight = %fullheight% + Floor(13).InterfloorHeight
	if[%floor% = 12] Set CenterWallOffset = -%interfloorheight%
	if[%floor% = 13] Set CenterWallHeight = %height%
	if[%floor% = 13] Set CenterWallOffset = 0
	Set CWallExtPosi = 0
	if[%floor% > 12] Set CWallExtPosi = -3

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2, 1, 0, -7, 0, 7 + %CWallExtPosi%, %CenterWallHeight%, %CenterWallHeight%, %CenterWallOffset%, %CenterWallOffset%, 0, 0
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 13] AddStairsWall %25%, Stairs%25%CenterA2, StairsWall2, 1, 0, 7 + %CWallExtPosi%, 0, 7, 3, 3, 0, 0, 0, 0

	#External walls
		WallTex()

		#Set height on mechanical levels
		Set Mech-Height = %height%
		Set Mech-Offset = 0
		if[%floor% = 14] Set Mech-Height = %fullheight%
		if[%floor% = 14] Set Mech-Offset = -%interfloorheight%
	
		Set ShowFront = true
		#if[%floor% = 1 | %floor% = 2 | %floor% = 8 | %floor% = 9] Set ShowFront = false
		if[%floor% > 0 & %floor% < 10] Set ShowFront = false
		Set ShowBack = true
		if[%floor% = 10 | %floor% = 11] Set ShowBack = false
	
		WallTex()
		Set LobbySWHeight = %height% + Floor(1).FullHeight
	
		#Level 1, all other sides
		if[%floor% = 0] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, false, false, true, %ShowBack%, false, false, false)
		if[%floor% = 0] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %LobbySWHeight% - 4, 4, false, false, true, %ShowBack%, false, false, false)
	
		#Level 1, front side only
		if[%floor% = 0] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, %ShowFront%, false, false, false, false, false, false)
		if[%floor% = 0] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height% - 4, 4, %ShowFront%, false, false, false, false, false, false)
	
		#Upper levels
		if[%floor% ! 0 & %floor% ! 1 & %floor% < 13] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, %ShowFront%, false, true, %ShowBack%, false, false, false)
		if[%floor% ! 0 & %floor% ! 1 & %floor% < 13] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height% - 4, 4, %ShowFront%, false, true, %ShowBack%, false, false, false)

		if[%floor% = 13 | %floor% = 14] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %Mech-Height%, %Mech-Offset%, %ShowFront%, false, true, %ShowBack%, false, false, false)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	if[%floor% < 13] WindowsX2(Stair%25%Windows, %21% - %23% - 0.5, %22%, left, 14, %height% - 2, 1, MainWindowsB, MainWindowsIntB, StairsWall2, 0.75, %WindowTZ%)

	#Stairs
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 30, 0, 0

		#Level M1 link to main stairs span is created in a separate section.

	#Typical stairs span, levels M2 to 12
	if[%floor% > 1 & %floor% < 13] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 13] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0

	#Stairs from 12 to 13
	if[%floor% = 13] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6 / 2), -7 + 5.5, 6, %26%, 1, 12, 0, 0, 0
	if[%floor% = 13] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), -7 + 5.5, 6, %26%, 1, 12, %26% * 12, 0, 0


	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingMiddle, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 30, %26% * 30, false, false, 0, 0

	Set LowerLandExtPosi = 0 #Set some positions for stairs from levels 12 to roof
	if[%floor% > 12] Set LowerLandExtPosi = -3

	#if[%floor% > 1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 1 & %floor% < 13] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 13] AddStairsFloor %25%, LandingLower-P1, StairsFloor, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 13] AddStairsFloor %25%, LandingLower-P2, StairsFloor, 0.5, %23% - 6, 7, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > 13] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23%, %24%, 0, 0, false, false, 0, 0


	Set LandingUpperOffset = %26% * 15
	if[%floor% = 13 | %floor% = 14] Set LandingUpperOffset = %26% * 12

	if[%floor% > 1 & %floor% < 14] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %LandingUpperOffset%, %LandingUpperOffset%, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 14] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	#if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, 7, %23% - 6, 7, 0.5, 0.5, -0.5, -0.5, 0, 0
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, 7 + %LowerLandExtPosi%, 0.5, 0.5, -0.5, -0.5, 0, 0

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1 & %floor% < 14] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, (%LandingUpperOffset%) - 0.5, (%LandingUpperOffset%) - 0.5, 0, 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover, StairsFloor, 0, -%23%, 7, %23% - 6, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, -7, %23%, -7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 14] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23%, 7 + %LowerLandExtPosi%, %23% - 6, 7 + %LowerLandExtPosi%, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	Set Suffix = %floorid%
	#if[%floor% = 2] Set Suffix = M

	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% > 1] AddBoxSign(Stair%25%_Sign1, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)

	#Set SignTop = 11.5
	Set SignTop = %height%
	if[%floor% > 1 & %floor% < 15] AddBoxSign(Stair%25%_Sign4, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, -7, %22% + %24% - 2, 1.8, 0.9, %SignTop% - 0.9, false)
<EndFloors>

#Level M1 link to main stairs span (Created in a separate section)
<Floors 1 to 2>
	#Extra cut operation
	Set LinkLength = 20 #Level M1
	Set LinkLength2 = 10 #Level M2
	
	Set ExtraHeight = Floor(2).InterfloorHeight / 2 #Extra height for level M1

	if[%floor% = 2] CutAll -%1%, %interfloorheight% - 0.1, -47.5 - %LinkLength2%, -%1% + 14, %interfloorheight% + 0.1, -47.5, false, true
	if[%floor% = 1] CutAll -%1%, %interfloorheight% - 0.5, -47.5 - %LinkLength%, -%1% + 14 - 0.5, %interfloorheight% + 0.5, -47.5, false, true
	if[%floor% = 1] CutAll -%1%, %fullheight% - 0.1, -47.5 - %LinkLength%, -%1% + 14, %fullheight% + 0.1, -47.5 - %LinkLength2%, false, true
	if[%floor% = 1] CutAll -%1%, %fullheight% - 0.1, -47.5 - %LinkLength2%, -%1% + 14, %fullheight% + 0.1, -47.5, false, true


	Set 21 = -19 #Center X
	Set 22 = -32.5 - 1.5 #Center Z
	Set 23 = 6.5 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	Set StepsNo = 6 #Total rise: 3 feet (0.5 feet per each riser)

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddStairsWall %25%, F%floorid%-Extra-Front, StairsWall, 0.5, -%23%, -%24% - %LinkLength%, %23%, -%24% - %LinkLength%, %fullheight% + %ExtraHeight%, %fullheight% + %ExtraHeight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	if[%floor% = 2] AddStairsWall %25%, F%floorid%-Extra-Front, StairsWall, 0.5, -%23%, -%24% - %LinkLength2%, %23%, -%24% - %LinkLength2%, %height% + %ExtraHeight%, %height% + %ExtraHeight%, -%ExtraHeight%, -%ExtraHeight%, 0, 0

	if[%floor% = 1] AddStairsWall %25%, F%floorid%-Extra-LeftA, StairsWall, 0.5, -%23%, -%24% - %LinkLength%, -%23%, -%24% - %LinkLength2%, %fullheight% + %ExtraHeight%, %fullheight% + %ExtraHeight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, F%floorid%-Extra-LeftB, StairsWall, 0.5, -%23%, -%24% - %LinkLength2%, -%23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 1] AddStairsWall %25%, F%floorid%-Extra-RightA, StairsWall, 0.5, %23%, -%24% - %LinkLength%, %23%, -%24% - %LinkLength2%, %fullheight% + %ExtraHeight%, %fullheight% + %ExtraHeight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, F%floorid%-Extra-RightB, StairsWall, 0.5, %23%, -%24% - %LinkLength2%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	DrawWalls = true, true, false, false, false, true
	TextureOverride StairsWall2, StairsWall, StairsWall2, StairsWall2, StairsWall2, StairsWall2
	if[%floor% = 2] AddStairsWall %25%, F%floorid%-Extra-Back, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, Floor(1).FullHeight + %interfloorheight%, Floor(1).FullHeight + %interfloorheight%, %interfloorheight%, %interfloorheight%, 0, 0

	#DrawWalls = true, true, false, false, false, false
	#if[%floor% = 1] AddStairsWall %25%, F%floorid%-Extra-Back, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %interfloorheight% + (%26% * %StepsNo%), %interfloorheight% + (%26% * %StepsNo%), -%interfloorheight%, -%interfloorheight%, 0, 0

	#Walls next to stairs
	WallOrientation = left
	DrawWalls = false, true, true, true, true, false
	if[%floor% = 1] AddStairsWall %25%, F%floorid%-Left-Extra, StairsWall2, 3.25, -%23%, -%24% - %LinkLength2%, -%23%, -%24% - %LinkLength2% + 6, %fullheight% + %ExtraHeight% + 3, %fullheight% + %ExtraHeight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = right
	DrawWalls = true, false, true, true, true, false
	if[%floor% = 1] AddStairsWall %25%, F%floorid%-Right-Extra, StairsWall2, 3.25, %23%, -%24% - %LinkLength2%, %23%, -%24% - %LinkLength2% + 6, %fullheight% + %ExtraHeight% + 3, %fullheight% + %ExtraHeight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0


	#External walls
	WallTex()
	Set 6X = LobbyWall #Override

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 2] AddWall_CustomTex(ST%25%-Level%floorid%-FrontE, 2, %6%Lower, %6%Upper, Blank, 0.5, -26, -58, -12, -58, 4, %height% - 4, 0, 0, false)
	if[%floor% = 1] AddWall ST%25%-Level%floorid%-FrontE, %6%, 0.5, -26, -68, -12, -68, %fullheight%, %fullheight%, 0, 0, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 2] AddWall_CustomTex(ST%25%-Level%floorid%-RightE, 2, %6%Lower, %6%Upper, Blank, 0.5, -12, -58, -12, -48, 4, %height% - 4, 0, 0, false)
	if[%floor% = 1] AddWall ST%25%-Level%floorid%-Right1E, %6X%, 0.5, -12, -68, -12, -57, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true
	if[%floor% = 1] AddWall ST%25%-Level%floorid%-Right2E, %6X%, 0.5, -12, -57, -12, -48, %fullheight%, %fullheight%, 0, 0, 0, 0, true

	#Stairs
	if[%floor% = 1] AddStairs %25%, Level%floorid%LinkStairs, Stairs, front, 0, -%24% - 5 - 2.5, 6.5, %26%, 1, %StepsNo%, 0, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 1] AddStairsFloor %25%, F%floorid%_LandingLower, StairsFloor, 0.5, -%23%, -%24% - 20, %23%, -%24%, 0, 0, false, false, 0, 0
	if[%floor% = 1] AddStairsFloor %25%, F%floorid%_LandingUpper, StairsFloor, 0.5, -%23%, -%24% - 5, %23%, -%24%, %26% * %StepsNo%, %26% * %StepsNo%, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 1] AddStairsFloor %25%, ST%25%-F%floorid%-CeilingA, Stairs, 0.5, -%23%, -%24% - %LinkLength%, %23%, -%24% - %LinkLength2%, %height% + %ExtraHeight%, %height% + %ExtraHeight%, false, false, 0, 0
	if[%floor% = 1] AddStairsFloor %25%, ST%25%-F%floorid%-CeilingB, Stairs, 0.5, -%23%, -%24% - %LinkLength2%, %23%, -%24% - 4, %height% + %ExtraHeight%, %height% + %ExtraHeight% + 3, false, false, 0, 0
	if[%floor% = 1] AddStairsFloor %25%, ST%25%-F%floorid%-CeilingC, Stairs, 0.5, -%23%, -%24% - 4, %23%, -%24%, %height% + %ExtraHeight% + 3, %height% + %ExtraHeight% + 3, false, false, 0, 0


	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, -28.5 + 1.5, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -28.5 - 1.5, 3, 7, 0, 0, 0
	if[%floor% = 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, -62.5, 3 * 2, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Sign
	Set Suffix = %floorid%

	DrawWalls = false, true, false, false, false, false
	if[%floor% = 1] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, -%24% - %LinkLength% + 0.001, 0 + 1, -%24% - %LinkLength% + 0.001, 2, 2, 4, 4, 0, 0


	#Exit Signs
	if[%floor% = 1] AddBoxSign(Stair%25%_Floor%floorid%_Sign1, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, -62.5, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 1] AddBoxSign(Stair%25%_Floor%floorid%_Sign2, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, -2 + 5, -62.5, 1.8, 0.9, %height% - 0.9, false)
<EndFloors>

#North Stairwell
CreateStairwell 3, -19, 119.5 - 1.5, 0, 12
CutStairwell 3, -6.5, -13.5, 6.5, 13.5, 0, 5
ShowFullStairs 3 = always

<Floors 0 to 12>
	Set 21 = -19 #Center X
	Set 22 = 119.5 - 1.5 #Center Z
	Set 23 = 6.5 #Cut X
	Set 24 = 13.5 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2, 1, 0, -7, 0, 7, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
	WallTex()
	if[%floor% < 3] CreateShaftWall(ExtFacade2, ExtFacade, ExtFacade2, ExtFacade, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, 0, true, true, true, true, false, false, true)
	if[%floor% > 2 & %floor% ! 10 & %floor% ! 11 & %floor% ! 12] CreateShaftWall(%6%Lower, %6%Lower, %6%Lower, %6%Lower, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, 4, 0, true, false, true, false, false, false, false)
	if[%floor% > 2 & %floor% ! 10 & %floor% ! 11 & %floor% ! 12] CreateShaftWall(%6%Upper, %6%Upper, %6%Upper, %6%Upper, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height% - 4, 4, true, false, true, false, false, false, false)

	Set MeetWallTex = AuditoriumWall
	if[%floor% = 12] Set MeetWallTex = ExhibitionWall

	if[%floor% = 10 | %floor% = 12] CreateShaftWall(%MeetWallTex%, %MeetWallTex%, %MeetWallTex%, %MeetWallTex%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %height%, 0, true, false, true, false, false, false, false)
	if[%floor% = 11] CreateShaftWall(AuditoriumWall, AuditoriumWall, AuditoriumWall, AuditoriumWall, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %fullheight%, -%interfloorheight%, true, false, true, false, false, false, false)

	#Windows
	Set WindowTZ = 2
	if[%floor% < 2] Set WindowTZ = 1
	WindowsX2(Stair%25%Windows, %21% - %23% - 0.5, %22%, left, 14, %height% - 2, 1, MainWindowsB, MainWindowsIntB, StairsWall2, 0.75, %WindowTZ%)

	#Stairs
	#Longer stairs span between 1 and M2 (Skipping M1)
	if[%floor% = 0] AddStairs %25%, LowerStairs, Stairs, back, %23% - (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% = 0] AddStairs %25%, MiddleStairs, Stairs, front, -%23% + (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0
	if[%floor% = 0] AddStairs %25%, UpperStairs, Stairs, back, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 30, 0, 0

	#Typical stairs span, levels M2 to top
	if[%floor% > 1 & %floor% < 12] AddStairs %25%, LowerStairs, Stairs, front, -%23% + (6 / 2), 0, 6, %26%, 1, 15, 0, 0, 0
	if[%floor% > 1 & %floor% < 12] AddStairs %25%, UpperStairs, Stairs, back, %23% - (6 / 2), 0, 6, %26%, 1, 15, %26% * 15, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = 0] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingMiddle, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, %26% * 15, %26% * 15, false, false, 0, 0
	if[%floor% = 0] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 30, %26% * 30, false, false, 0, 0

	if[%floor% > 1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, -7, 0, 0, false, false, 0, 0
	if[%floor% > 1 & %floor% < 12] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 7, %23%, %24%, %26% * 15, %26% * 15, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 12] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, -7, %23% - 6, -7, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1 & %floor% < 12] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, 7, %23%, 7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingMiddleCover, StairsFloor, 0, -%23%, -7, %23% - 6, -7, 0.5, 0.5, (%26% * 15) - 0.5, (%26% * 15) - 0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23% + 6, 7, %23%, 7, 0.5, 0.5, 0 - 0.5, 0 - 0.5, 0, 0
	if[%floor% = 0] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, 7, %23%, 7, 0.5, 0.5, (%26% * 30) - 0.5, (%26% * 30) - 0.5, 0, 0

	#Railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 12] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23%, -7, %23% - 6, -7, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = left
	if[%floor% > 9] SetLock 1, 0 #This stairwell is used as exit only on levels 9-11.

	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side	
	if[%floor% > 1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0
	if[%floor% > 1] AddFillerWalls ConnectionWall, 0.5, %21% + %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
	SetLock 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, %24% - 2, 3, 7, 0, 0, 0
	if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	Set Suffix = %floorid%
	if[%floor% = 2] Set Suffix = M

	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, %24% - 0.001, 0 + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0
	DrawWalls = false, true, false, false, false, false
	if[%floor% > 1] AddStairsWall %25%, FloorSign, BlankSign%Suffix%, 0, 0 - 1, -%24% + 0.001, 0 + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% > 1] AddBoxSign(Stair%25%_Sign1, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)

	Set SignTop = %height%
	Set SignPosition = -7
	if[%floor% = 10 | %floor% = 11] Set SignPosition = -9.5
	if[%floor% > 2] AddBoxSign(Stair%25%_Sign4, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, %SignPosition%, %22% - %24% + 2, 1.8, 0.9, %SignTop% - 0.9, false)
	if[%floor% = 2] AddBoxSign(Stair%25%_Sign4, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, true, true, true, %SignPosition%, %22% - %24% + 2, 1.8, 0.9, %SignTop% - 0.9 + %interfloorheight%, true)
<EndFloors>

#########################################################################

#Shafts and elevators
#Passenger elevator
CreateShaft(1, 12, -15, 13.67, 4.67, -1, 14, %interfloorheight%)
CreateShaft(2, 12, 15, 13.67, 4.67, -1, 14, %interfloorheight%)

#Service elevator
CreateShaft(3, -21, -102 + 3, 4.67, 4.67, -2, 15, %interfloorheight%)

#Utility shaft
CreateShaft2(4, -14, -102 + 3, 1.67, 4.67, -1, 15)

<Floor -1>
	WallTex()

	#Service elevator
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -21, -102 + 3, 5, 5, 3, %height%, 0, false, false, false, true, false, false, false)

	#Utility shaft
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -14, -102 + 3, 2, 5, 3, %height%, 0, false, false, true, true, false, false, false)
<EndFloor>

<Floors 0 to 12>
	WallTex()
	if[%floor% ! 0] Set ElevLbyHeight = %height%
	if[%floor% = 0] Set ElevLbyHeight = %height% + Floor(1).FullHeight


	#External shaft walls
	Set ShowFront = false
	#if[%floor% > 9] Set ShowFront = true
	Set ShowBack = true
	if[%floor% > 9] Set ShowBack = false

	#Shaft 1 (Even floors)
	if[%floor% ! 1] CreateShaftWall(%6M%Lower, %6M%Lower, %6M%Lower, %6M%Lower, %6%, %6%, 0.33, 12, -15, 14, 5, 1, 4, 0, %ShowFront%, true, false, %ShowBack%, false, false, false)
	if[%floor% ! 1] CreateShaftWall(%6M%Upper, %6M%Upper, %6M%Upper, %6M%Upper, %6%, %6%, 0.33, 12, -15, 14, 5, 1, %ElevLbyHeight% - 4, 4, %ShowFront%, true, false, %ShowBack%, false, false, false)

	#Shaft 2 (Odd floors)
	Set ShowBack = false
	#if[%floor% > 9] Set ShowBack = true
	Set ShowFront = true
	if[%floor% > 9] Set ShowFront = false

	if[%floor% ! 1] CreateShaftWall(%6M%Lower, %6M%Lower, %6M%Lower, %6M%Lower, %6%, %6%, 0.33, 12, 15, 14, 5, 2, 4, 0, %ShowFront%, true, false, %ShowBack%, false, false, false)
	if[%floor% ! 1] CreateShaftWall(%6M%Upper, %6M%Upper, %6M%Upper, %6M%Upper, %6%, %6%, 0.33, 12, 15, 14, 5, 2, %ElevLbyHeight% - 4, 4, %ShowFront%, true, false, %ShowBack%, false, false, false)

	#Shaft 3 (Service)
	if[%floor% ! 1] CreateShaftWall(%6M%Lower, %6M%Lower, %6M%Lower, %6M%Lower, %6%, %6%, 0.33, -21, -102 + 3, 5, 5, 3, 4, 0, false, false, false, true, false, false, false)
	if[%floor% ! 1] CreateShaftWall(%6M%Upper, %6M%Upper, %6M%Upper, %6M%Upper, %6%, %6%, 0.33, -21, -102 + 3, 5, 5, 3, %height% - 4, 4, false, false, false, true, false, false, false)

	if[%floor% = 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -21, -102 + 3, 5, 5, 3, %height%, %interfloorheight%, false, false, false, true, false, false, true)


	#Shaft 4 (Utility shaft)
	
	if[%floor% ! 1] CreateShaftWall(%6M%Lower, %6M%Lower, %6M%Lower, %6M%Lower, %6%, %6%, 0.33, -14, -102 + 3, 2, 5, 3, 4, 0, false, false, true, true, false, false, false)
	if[%floor% ! 1] CreateShaftWall(%6M%Upper, %6M%Upper, %6M%Upper, %6M%Upper, %6%, %6%, 0.33, -14, -102 + 3, 2, 5, 3, %height% - 4, 4, false, false, true, true, false, false, false)
	
	if[%floor% = 1] CreateShaftWall(%6%, %6%, LobbyWall, %6%, %6%, %6%, 0.33, -14, -102 + 3, 2, 5, 3, %fullheight%, 0, false, false, true, true, false, false, true)
<EndFloors>

<Floors 13 to 14>
	WallTex()
	Set Mech-Height = %height%
	Set Mech-Offset = 0
	if[%floor% = 14] Set Mech-Height = %fullheight%
	if[%floor% = 14] Set Mech-Offset = -%interfloorheight%

	#Passenger elevators
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 12, -15, 14, 5, 1, %Mech-Height%, %Mech-Offset%, true, true, false, true, false, false, false) #Shaft 1 (Elevators 1-3)
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 12, 15, 14, 5, 2, %height%, 0, true, true, false, false, false, false, false) #Shaft 2 (Elevators 4-6)

	#Service elevator
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -21, -102 + 3, 5, 5, 3, %Mech-Height%, %Mech-Offset%, false, false, false, true, false, false, false)

	#Utility shaft
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -14, -102 + 3, 2, 5, 3, %Mech-Height%, %Mech-Offset%, false, false, true, true, false, false, false)
<EndFloors>

<Floor 14>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 12 - 1.5, -10, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 12 + 1.5, -10, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 12, -10, 6, 7, 0, true, 0, 0, false

	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, 12 - 1.5, 10, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, 12 + 1.5, 10, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 12, 10, 6, 7, 0, true, 0, 0, false
<EndFloor>

<Floor 15>
	WallTex()

	#Service elevator
	CreateShaftWall(ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, %6%, 0.33, -21, -102 + 3, 5, 5, 3, %fullheight%, 0, false, true, false, true, true, false, true)

	#Utility shaft
	CreateShaftWall(ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade3, %6%, 0.33, -14, -102 + 3, 2, 5, 3, %fullheight%, 0, false, false, true, true, true, false, true)

	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 7, 75, -21 - 1.5, -97 + 3, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 6, 75, -21 + 1.5, -97 + 3, 3, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.66, -21, -97 + 3, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#Utility shaft access doors
<Floors -1 to 15>
	Set DTex = ServiceDoor1
	Set MainZ = -%2% + 50
	
	if[%floor% > -1 & %floor% < 13] Set DOpening = 6
	if[%floor% = -1 | %floor% > 12] Set DOpening = 7

	WallOrientation = right
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	if[%floor% < 14] AddDoor , , false, %DTex%, 0.2, %DOpening%, 75, -14, -97 + 3, 2.5, 6.5, 0, 0, 0 #Doors on basement to 12th floor
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	if[%floor% = 14] AddDoor , , false, %DTex%, 0.2, 3, 75, -12, -95 - 1.5, 2.5, 6.5, 0, 0, 0 #Door on 13th floor
	TextureOverride %DTex%, %DTex%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
	if[%floor% = 15] AddExternalDoor , , false, %DTex%, 0.2, %DOpening%, 75, -14, -97 + 3, 2.5, 6.5, %interfloorheight%, 0, 0 #Door on roof

	if[%floor% < 14] AddFillerWalls ConnectionWall, 0.66, -14, -97 + 3, 2.5, 6.5, 0, true, 0, 0, false
	if[%floor% = 14] AddFillerWalls ConnectionWall, 0.66, -12, -95 - 1.5, 2.5, 6.5, 0, false, 0, 0, false
	if[%floor% = 15] AddFillerWalls ConnectionWall, 0.66, -14, -97 + 3, 2.5, 6.5, %interfloorheight%, true, 0, 0, true
<EndFloors>

<Function AddWallPanels>
	if[%elevator% < 4] Set Texture = PassengerElevWallPanel
	if[%elevator% > 3] Set Texture = PassengerElevWallPanel2

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	if[%elevator% < 4] AddWall FrontPanel, %Texture%, 0.05, -2, -2.3, 2, -2.3, 8, 8, 0, 0, 0, 0
	AddWall LeftPanel, %Texture%, 0.05, -3.4, -1, -3.4, 1, 8, 8, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall RightPanel, %Texture%, 0.05, 3.4, -1, 3.4, 1, 8, 8, 0, 0, 0, 0
	if[%elevator% > 3] AddWall BackPanel, %Texture%, 0.05, -2, 2.3, 2, 2.3, 8, 8, 0, 0, 0, 0
<EndFunction>

#Door width of all elevators: 1100 mm. (3.667 ft.)

#Set idle sounds
<Elevators 1 to 7>
	CarIdleSound = EG881Sounds/MTelevidle.wav #EG881
<EndElevators>

#Passenger elevators
<Elevator 1>
	Name = Passenger Elevator 1
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 3, 5, 7, 9, 11 #Floor IDs: 1, M, 2, 4, 6, 8, 10
	DisplayFloors = 0, 2 - 11
	AssignedShaft = 1
	CreateElevator false, 3, -13.66, 0
<EndElevator>

<Elevator 2>
	Name = Passenger Elevator 1
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 3, 5, 7, 9, 11 #Floor IDs: 1, M, 2, 4, 6, 8, 10
	DisplayFloors = 0, 2 - 11
	AssignedShaft = 1
	CreateElevator false, 12, -13.66, 0
<EndElevator>

<Elevator 3>
	Name = Passenger Elevator 1
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 3, 5, 7, 9, 11 #Floor IDs: 1, M, 2, 4, 6, 8, 10
	DisplayFloors = 0, 2 - 11
	AssignedShaft = 1
	CreateElevator false, 21, -13.66, 11
<EndElevator>

<Function BtnPanelE1-3>
	Set PanelNumber = %param1%
	Set Prefix = Button

	AddButton %PanelNumber%, , %Prefix%10, %Prefix%Lit10, 1, 2, 11, 1, 1
	AddButton %PanelNumber%, , %Prefix%8, %Prefix%Lit8, 2, 2, 9, 1, 1
	AddButton %PanelNumber%, , %Prefix%6, %Prefix%Lit6, 3, 2, 7, 1, 1
	AddButton %PanelNumber%, , %Prefix%4, %Prefix%Lit4, 1, 1, 5, 1, 1
	AddButton %PanelNumber%, , %Prefix%2, %Prefix%Lit2, 2, 1, 3, 1, 1
	AddButton %PanelNumber%, , %Prefix%M, %Prefix%LitM, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , %Prefix%1, %Prefix%Lit1, 4, 1, 0, 1, 1

	AddButton %PanelNumber%, , %Prefix%Open, %Prefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %Prefix%Close, %Prefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonStop, ButtonStop, 7, 1, stop, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 3>
	Set Prefix = Passenger

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.2, 5, back, 8)
	AddWallPanels()

	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall Left Panel, ElevPanelMain, 0.2, -3.6, 2.5, -(3.667/2), 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Right Panel, ElevPanelMain, 0.2, (3.667/2), 2.5, 3.6, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall Top Panel, ElevPanelTop, 0.2, -(3.667/2), 2.5, (3.667/2), 2.5, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsC

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -(3.667/2), 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, (3.667/2), 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -3.667, 2.5, 3.667, 2.7, 0, 0, 0, 0
	
	#Button panel (right)
	Set Position = 2.61675
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack1, ElevPanel, 0.05, %Position% - 0.35, 2.3, %Position% + 0.35, 2.3, 4.55, 4.55, 2.2, 2.2, 0, 0

	CreatePanel Blank, 7, 2, front, %Position%, 2.3 - 0.051, 0.2, 0.2, 0.3, -0.1, 3.75, 0, 0
	BtnPanelE1-3(1)

		#Indicator
		AddFloorIndicator Ind_Button, front, %Position%, 2.3 - 0.051, 0.35, 0.35, 5.75

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position% - 0.25, 2.3 - 0.051, %Position% + 0.25, 2.3 - 0.051, 0.5, 0.5, 6.25, 6.25, 0, 0

	#Button panel (left)
	Set Position = -2.61675
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack2, ElevPanel, 0.05, %Position% - 0.35, 2.3, %Position% + 0.35, 2.3, 4.55, 4.55, 2.2, 2.2, 0, 0

	CreatePanel Blank, 7, 2, front, %Position%, 2.3 - 0.051, 0.2, 0.2, 0.3, -0.1, 3.75, 0, 0
	BtnPanelE1-3(2)

		#Indicator
		AddFloorIndicator Ind_Button, front, %Position%, 2.3 - 0.051, 0.35, 0.35, 5.75
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, -2.5 - 0.5, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.6 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, -2.5 - 0.5, false, 1 + 0.06, 0.1
<EndElevators>

<Elevator 4>
	Name = Passenger Elevator 4
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10, 12 #Floor IDs: 1, M, 3, 5, 7, 9, 11
	DisplayFloors = 0, 2 - 12
	AssignedShaft = 2
	CreateElevator false, 3, 13.66, 0
<EndElevator>

<Elevator 5>
	Name = Passenger Elevator 5
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10, 12 #Floor IDs: 1, M, 3, 5, 7, 9, 11
	DisplayFloors = 0, 2 - 12
	AssignedShaft = 2
	CreateElevator false, 12, 13.66, 0
<EndElevator>

<Elevator 6>
	Name = Passenger Elevator 6
	Type = Local
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 4, 6, 8, 10, 12 #Floor IDs: 1, M, 3, 5, 7, 9, 11
	DisplayFloors = 0, 2 - 12
	AssignedShaft = 2
	CreateElevator false, 21, 13.66, 12
<EndElevator>

<Function BtnPanelE4-6>
	Set PanelNumber = %param1%
	Set Prefix = Button

	AddButton %PanelNumber%, , %Prefix%11, %Prefix%Lit11, 1, 2, 12, 1, 1
	AddButton %PanelNumber%, , %Prefix%9, %Prefix%Lit9, 2, 2, 10, 1, 1
	AddButton %PanelNumber%, , %Prefix%7, %Prefix%Lit7, 3, 2, 8, 1, 1
	AddButton %PanelNumber%, , %Prefix%5, %Prefix%Lit5, 1, 1, 6, 1, 1
	AddButton %PanelNumber%, , %Prefix%3, %Prefix%Lit3, 2, 1, 4, 1, 1
	AddButton %PanelNumber%, , %Prefix%M, %Prefix%LitM, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , %Prefix%1, %Prefix%Lit1, 4, 1, 0, 1, 1

	AddButton %PanelNumber%, , %Prefix%Open, %Prefix%Open, 6, 1, open, 1, 1
	AddButton %PanelNumber%, , %Prefix%Close, %Prefix%Close, 6, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonStop, ButtonStop, 7, 1, stop, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 7, 2, alarm, 1, 1
<EndFunction>

<Elevators 4 to 6>
	Set Prefix = Passenger

	#Interiors
	ElevInterior(%Prefix%ElevFloor2, %Prefix%ElevCeiling2, %Prefix%ElevWall, %Prefix%ElevWall, 7.2, 5, front, 8)
	AddWallPanels()

	#Panels
	Set PrefixAlt = Passenger2
	WallOrientation = left
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Left Panel, %Prefix%ElevPanelMain, 0.2, (3.667/2), -2.5, 3.6, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall Right Panel, %Prefix%ElevPanelMain, 0.2, -3.6, -2.5, -(3.667/2), -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall Top Panel, %Prefix%ElevPanelTop, 0.2, -(3.667/2), -2.5, (3.667/2), -2.5, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsE

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.6, 0, -2.5, (3.667/2), -2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.6, -(3.667/2), -2.5, 0, -2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -3.667, -2.7, 3.667, -2.5, 0, 0, 0, 0
	
	#Button panel (right)
	Set Position = -2.61675
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack1, ElevPanel2, 0.05, %Position% - 0.35, -2.3, %Position% + 0.35, -2.3, 4.55, 4.55, 2.2, 2.2, 0, 0

	CreatePanel Blank, 7, 2, back, %Position%, -2.3 + 0.051, 0.2, 0.2, 0.3, -0.1, 3.75, 0, 0
	BtnPanelE4-6(1)

		#Indicator
		AddFloorIndicator Ind_Button, back, %Position%, -2.3 + 0.051, 0.35, 0.35, 5.75

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position% - 0.25, -2.3 + 0.051, %Position% + 0.25, -2.3 + 0.051, 0.5, 0.5, 6.25, 6.25, 0, 0

	#Button panel (left)
	Set Position = 2.61675
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack2, ElevPanel2, 0.05, %Position% - 0.35, -2.3, %Position% + 0.35, -2.3, 4.55, 4.55, 2.2, 2.2, 0, 0

	CreatePanel Blank, 7, 2, back, %Position%, -2.3 + 0.051, 0.2, 0.2, 0.3, -0.1, 3.75, 0, 0
	BtnPanelE4-6(2)

		#Indicator
		AddFloorIndicator Ind_Button, back, %Position%, -2.3 + 0.051, 0.35, 0.35, 5.75
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.5 + 0.5, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.6 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, 2.5 + 0.5, false, 1 + 0.06, 0.1
<EndElevators>

<Function BtnPanelE7>
	Set PanelNumber = %param1%
	Set Prefix = Button

	AddButton %PanelNumber%, , %Prefix%12, %Prefix%Lit12, 1, 2, 13, 1, 1
	AddButton %PanelNumber%, , %Prefix%11, %Prefix%Lit11, 2, 2, 12, 1, 1
	AddButton %PanelNumber%, , %Prefix%10, %Prefix%Lit10, 3, 2, 11, 1, 1
	AddButton %PanelNumber%, , %Prefix%9, %Prefix%Lit9, 4, 2, 10, 1, 1
	AddButton %PanelNumber%, , %Prefix%8, %Prefix%Lit8, 5, 2, 9, 1, 1
	AddButton %PanelNumber%, , %Prefix%7, %Prefix%Lit7, 6, 2, 8, 1, 1
	AddButton %PanelNumber%, , %Prefix%6, %Prefix%Lit6, 7, 2, 7, 1, 1

	AddButton %PanelNumber%, , %Prefix%5, %Prefix%Lit5, 1, 1, 6, 1, 1
	AddButton %PanelNumber%, , %Prefix%4, %Prefix%Lit4, 2, 1, 5, 1, 1
	AddButton %PanelNumber%, , %Prefix%3, %Prefix%Lit3, 3, 1, 4, 1, 1
	AddButton %PanelNumber%, , %Prefix%2, %Prefix%Lit2, 4, 1, 3, 1, 1
	AddButton %PanelNumber%, , %Prefix%M2, %Prefix%LitM2, 5, 1, 2, 1, 1
	AddButton %PanelNumber%, , %Prefix%M1, %Prefix%LitM1, 6, 1, 1, 1, 1
	AddButton %PanelNumber%, , %Prefix%1, %Prefix%Lit1, 7, 1, 0, 1, 1
	AddButton %PanelNumber%, , %Prefix%B, %Prefix%LitB, 8, 1, -1, 1, 1

	AddButton %PanelNumber%, , %Prefix%Open, %Prefix%Open, 10, 1, open, 1, 1
	AddButton %PanelNumber%, , %Prefix%Close, %Prefix%Close, 10, 2, close, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonStop, ButtonStop, 11, 1, stop, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 11, 2, alarm, 1, 1
<EndFunction>

<Elevator 7>
	Name = Service Elevator
	Type = Service
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 13
	AssignedShaft = 3
	RecallFloor = 0
	CreateElevator false, -21, -100.66 + 3, 0

	Set Prefix = Service

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.2, 5, back, 8)

	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall Left Panel, ElevPanelMain, 0.2, -3.6, 2.5, -(3.667/2), 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall Right Panel, ElevPanelMain, 0.2, (3.667/2), 2.5, 3.6, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall Top Panel, ElevPanelTop, 0.2, -(3.667/2), 2.5, (3.667/2), 2.5, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsD

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -(3.667/2), 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, (3.667/2), 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Door Track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -3.667, 2.5, 3.667/2, 2.7, 0, 0, 0, 0
	#--------------------
	#Button panel
	#Set PnlWidth = 1.2
	Set PnlWidth = 0.7
	
	Set Position = 2.61675
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack, ElevPanel2, 0.05, %Position% - (%PnlWidth% / 2), 2.3, %Position% + (%PnlWidth% / 2), 2.3, 4.55 + 0.15, 4.55 + 0.15, 2.2 - 0.15, 2.2 - 0.15, 0, 0

	CreatePanel Blank, 11, 2, front, %Position%, 2.3 - 0.051, 0.2, 0.2, 0.3, -0.1, 3.5 + 0.2, 0, 0
	BtnPanelE7(1)

		#Indicator
		AddFloorIndicator Ind2_Button, front, %Position%, 2.3 - 0.051, 0.35, 0.35, 5.75

	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position% - 0.25, 2.3 - 0.051, %Position% + 0.25, 2.3 - 0.051, 0.5, 0.5, 6.25, 6.25, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, -2.5 - 0.5, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.6 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, -2.5 - 0.5, false, 1 + 0.06, 0.1
<EndElevator>

#Shaft doors & hall stations
<Function LanPanelTex> #Lantern panels
	Set LanPanelTexture = ElevExtPanels
	if[%floor% > 2 & %floor% < 10] Set LanPanelTexture = ElevExtPanels2
	if[%floor% = 10 | %floor% = 11] Set LanPanelTexture = ElevExtPanels2
	if[%floor% = 12] Set LanPanelTexture = ElevExtPanels2
<EndFunction>

<Function HallStationE1-3>
	#Shaft Doors
	Set StartNo = 1
	Set DoorTexture = ElevDoorsA
	if[%floor% > 2 & %floor% < 10] Set DoorTexture = ElevDoorsQ
	if[%floor% > 9] Set DoorTexture = ElevDoorsX
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, false, false

	#Determine ceiling height for decos
	Set LobbyHeight = 11.5
	if[%floor% = 0] Set LobbyHeight = %height% + Floor(1).FullHeight - 2
	#if[%floor% = 12] Set LobbyHeight = %height%

	#Decos (2nd-8th floors)
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E1Deco, EvenFlrDeco, 3, -10 + 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E2Deco, EvenFlrDeco, 12, -10 + 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E3Deco, EvenFlrDeco, 21, -10 + 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 

	#Decos (All other floors)
	Set UpperTrimTex = %DoorTexture%_Trim
	
	Set Deco-SideLength = 0.25
	#if[%floor% > 9] Set Deco-SideLength = 0.2
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, back, true, false, floor, 0.1, %Deco-SideLength%, 3, -10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, back, true, false, floor, 0.1, %Deco-SideLength%, 12, -10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, back, true, false, floor, 0.1, %Deco-SideLength%, 21, -10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)

	#Door fillers
	#WallOrientation = right
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 3, -10, 3.667, 7, 0, true, 0, 0, false
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 12, -10, 3.667, 7, 0, true, 0, 0, false
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 21, -10, 3.667, 7, 0, true, 0, 0, false

	#Door trims
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, back, true, false, floor, 0, 0.2, 3, -10 + 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, back, true, false, floor, 0, 0.2, 12, -10 + 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, back, true, false, floor, 0, 0.2, 21, -10 + 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)

	#Door tracks
	AddDoorTrack(1, 1, -9 - 3.667, -9 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(2, 1, 0 - 3.667, 0 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(3, 1, 9 - 3.667, 9 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#Call buttons & signs
	Set PanelTexture = ElevExtPanels
	if[%floor% > 2 & %floor% < 10] Set PanelTexture = ElevExtPanels2
	if[%floor% = 10 | %floor% = 11] Set PanelTexture = ElevExtPanels-Meeting
	if[%floor% = 12] Set PanelTexture = ElevExtPanels2
	Set ButtonPosition = 12

		#Button prefixes
		Set ButtonPrefix = Button
		if[%floor% = 0 | %floor% = 2] Set ButtonPrefix = GoldButton

	CallButtonElevators = 1, 2, 3
	CreateCallButtons %PanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %ButtonPosition% - 4.5, -10 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %PanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %ButtonPosition% + 4.5, -10 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

	Set Suffix = %floorid%
	if[%floor% = 2] Set Suffix = M

	DrawWalls = true, false, false, false, false, false
	if[%floor% > 2] AddWall E1-3HallSign1, BlankSign%Suffix%, 0, %ButtonPosition% - 0.75, 10 - 0.001, %ButtonPosition% + 0.75, 10 - 0.001, 1.5, 1.5, 6.5, 6.5, 0, 0, false
	DrawWalls = false, true, false, false, false, false
	AddWall E1-3HallSign2, ElevHallSign, 0, %ButtonPosition% - 4.5 - 0.375, -10 + 0.001, %ButtonPosition% - 4.5 + 0.375, -10 + 0.001, 1, 1, 2.4, 2.4, 0, 0, false
	if[%floor% > 1 & %floor% < 6] AddWall E1-3HallSign3, BlankSign%Suffix%, 0, %ButtonPosition% - 4.5 - 0.75, -10 + 0.001, %ButtonPosition% - 4.5 + 0.75, -10 + 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false
	if[%floor% > 1 & %floor% < 6] AddWall E1-3HallSign4, BlankSign%Suffix%, 0, %ButtonPosition% + 4.5 - 0.75, -10 + 0.001, %ButtonPosition% + 4.5 + 0.75, -10 + 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false

	#Elevator number signs
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddWall ElevNo1Sign, ElevNo1, 0, 3 - 0.5, -10 + 0.102, 3 + 0.5, -10 + 0.102, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall ElevNo2Sign, ElevNo2, 0, 12 - 0.5, -10 + 0.102, 12 + 0.5, -10 + 0.102, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall ElevNo3Sign, ElevNo3, 0, 21 - 0.5, -10 + 0.102, 21 + 0.5, -10 + 0.102, 1, 1, 9, 9, 0, 0, false

	#Indicator sets
	LanPanelTex() #Set lantern panel textures
	#Set ExtraDecoOffset = 0
	Set ExtraDecoOffset = 0.1
	ACMEInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %LanPanelTexture%, OutsideInd_Button)
	ACMELobbyLanterns(back, 1, 3, -10 + %ExtraDecoOffset%, 8, 0, 11)
	ACMELobbyLanterns(back, 2, 12, -10 + %ExtraDecoOffset%, 8, 0, 11)
	ACMELobbyLanterns(back, 3, 21, -10 + %ExtraDecoOffset%, 8, 0, 11)
<EndFunction>

<Floor 0>
	HallStationE1-3()
<EndFloor>

<Floors 2 to 3>
	HallStationE1-3()
<EndFloors>

<Floor 5>
	HallStationE1-3()
<EndFloor>

<Floor 7>
	HallStationE1-3()
<EndFloor>

<Floor 9>
	HallStationE1-3()
<EndFloor>

<Floor 11>
	HallStationE1-3()
<EndFloor>

<Function HallStationE4-6>
	#Shaft Doors
	Set StartNo = 4
	Set DoorTexture = ElevDoorsA
	if[%floor% > 2 & %floor% < 10] Set DoorTexture = ElevDoorsQ
	if[%floor% > 9] Set DoorTexture = ElevDoorsX
	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -(3.667/2), -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, (3.667/2), -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -(3.667/2), -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, (3.667/2), -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -(3.667/2), -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, (3.667/2), -2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, false, false

	#Determine ceiling height for decos
	Set LobbyHeight = 11.5
	if[%floor% = 0] Set LobbyHeight = %height% + Floor(1).FullHeight - 2
	#if[%floor% = 12] Set LobbyHeight = %height%

	#Decos (2nd-8th floors)
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E4Deco, OddFlrDeco, 3, 10 - 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E5Deco, OddFlrDeco, 12, 10 - 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 
	if[%floor% > 2 & %floor% < 10] CreateWallBox2 floor, E6Deco, OddFlrDeco, 21, 10 - 0.05, 3.667, 0.1, 1, 7.75, 0, 0, false, true, true, true 

	#Decos (All other floors)
	Set UpperTrimTex = %DoorTexture%_Trim

	Set Deco-SideLength = 0.25
	#if[%floor% > 9] Set Deco-SideLength = 0.2
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, front, true, false, floor, 0.1, %Deco-SideLength%, 3, 10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, front, true, false, floor, 0.1, %Deco-SideLength%, 12, 10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)
	if[%floor% < 3 | %floor% > 9] AddDeco4(%DoorTexture%_Trim, %UpperTrimTex%, front, true, false, floor, 0.1, %Deco-SideLength%, 21, 10, 3.667, 7, %LobbyHeight%, %LobbyHeight% - 7, 0, true, %DoorTexture%_Trim, 0.66)

	#Door fillers
	#WallOrientation = left
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 3, 10, 3.667, 7, 0, true, 0, 0, false
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 12, 10, 3.667, 7, 0, true, 0, 0, false
	#if[%floor% = 10 | %floor% = 11] AddFillerWalls F%floorid%LobbyWall, 0.66, 21, 10, 3.667, 7, 0, true, 0, 0, false

	#Door trims
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 3, 10 - 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 12, 10 - 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)
	if[%floor% > 2 & %floor% < 10] AddDeco4(%DoorTexture%_Trim, %DoorTexture%_Trim, front, true, false, floor, 0, 0.2, 21, 10 - 0.01, 3.667, 7, 7.2, 0.2, 0, true, %DoorTexture%_Trim, 0.66 + 0.01)

	#Door tracks
	AddDoorTrack(4, 2, -9 - 3.667, -9 + 3.667, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(5, 2, 0 - 3.667, -0 + 3.667, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(6, 2, 9 - 3.667, 9 + 3.667, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)

	#Call buttons & signs
	Set PanelTexture = ElevExtPanels
	if[%floor% > 2 & %floor% < 10] Set PanelTexture = ElevExtPanels2
	if[%floor% = 10 | %floor% = 11] Set PanelTexture = ElevExtPanels-Meeting
	if[%floor% = 12] Set PanelTexture = ElevExtPanels2
	Set ButtonPosition = 12

		#Button prefixes
		Set ButtonPrefix = Button
		if[%floor% = 0 | %floor% = 2] Set ButtonPrefix = GoldButton

	CallButtonElevators = 4, 5, 6
	CreateCallButtons %PanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %ButtonPosition% - 4.5, 10 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %PanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %ButtonPosition% + 4.5, 10 - 0.001, 3.5, front, 0.5, 1, true, 0, 0

	Set Suffix = %floorid%
	if[%floor% = 2] Set Suffix = M

	DrawWalls = false, true, false, false, false, false
	if[%floor% > 2] AddWall E4-6HallSign1, BlankSign%Suffix%, 0, %ButtonPosition% - 0.75, -10 + 0.001, %ButtonPosition% + 0.75, -10 + 0.001, 1.5, 1.5, 6.5, 6.5, 0, 0, false
	DrawWalls = true, false, false, false, false, false
	AddWall E4-6HallSign2, ElevHallSign, 0, %ButtonPosition% - 4.5 - 0.375, 10 - 0.001, %ButtonPosition% - 4.5 + 0.375, 10 - 0.001, 1, 1, 2.4, 2.4, 0, 0, false
	if[%floor% > 1 & %floor% < 6] AddWall E4-6HallSign3, BlankSign%Suffix%, 0, %ButtonPosition% - 4.5 - 0.75, 10 - 0.001, %ButtonPosition% - 4.5 + 0.75, 10 - 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false
	if[%floor% > 1 & %floor% < 6] AddWall E4-6HallSign4, BlankSign%Suffix%, 0, %ButtonPosition% + 4.5 - 0.75, 10 - 0.001, %ButtonPosition% + 4.5 + 0.75, 10 - 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false

	#Elevator number signs
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 0] AddWall ElevNo4Sign, ElevNo4, 0, 3 - 0.5, 10 - 0.102, 3 + 0.5, 10 - 0.102, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall ElevNo5Sign, ElevNo5, 0, 12 - 0.5, 10 - 0.102, 12 + 0.5, 10 - 0.102, 1, 1, 9, 9, 0, 0, false
	if[%floor% = 0] AddWall ElevNo6Sign, ElevNo6, 0, 21 - 0.5, 10 - 0.102, 21 + 0.5, 10 - 0.102, 1, 1, 9, 9, 0, 0, false

	#Indicator sets
	LanPanelTex() #Set lantern panel textures
	#Set ExtraDecoOffset = 0
	Set ExtraDecoOffset = 0.1
	ACMEInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %LanPanelTexture%, OutsideInd_Button)
	ACMELobbyLanterns(front, 4, 3, 10 - %ExtraDecoOffset%, 8, 0, 12)
	ACMELobbyLanterns(front, 5, 12, 10 - %ExtraDecoOffset%, 8, 0, 12)
	ACMELobbyLanterns(front, 6, 21, 10 - %ExtraDecoOffset%, 8, 0, 12)
<EndFunction>

<Floor 0>
	HallStationE4-6()
<EndFloor>

<Floor 2>
	HallStationE4-6()
<EndFloor>

<Floor 4>
	HallStationE4-6()
<EndFloor>

<Floor 6>
	HallStationE4-6()
<EndFloor>

<Floor 8>
	HallStationE4-6()
<EndFloor>

<Floor 10>
	HallStationE4-6()
<EndFloor>

<Floor 12>
	HallStationE4-6()
<EndFloor>

#Elevator Serviced Floors Signs
<Floor 0>
	Set SignHeight = 2
	Set SignWidth = (%SignHeight% * 1.5) / 2

	#Even Floors Elevators
	DrawWalls = false, true, false, false, false, false
	AddWall E1-3ServicedFloorsSignA, Matrix_ElevBank1, 0, 12 - 4.5 - %SignWidth%, -10 + 0.001, 12 - 4.5 + %SignWidth%, -10 + 0.001, %SignHeight%, %SignHeight%, 5.5, 5.5, 0, 0, false
	AddWall E1-3ServicedFloorsSignB, Matrix_ElevBank1, 0, 12 + 4.5 - %SignWidth%, -10 + 0.001, 12 + 4.5 + %SignWidth%, -10 + 0.001, %SignHeight%, %SignHeight%, 5.5, 5.5, 0, 0, false

	#Odd Floors Elevators
	DrawWalls = true, false, false, false, false, false
	AddWall E4-6ServicedFloorsSignA, Matrix_ElevBank2, 0, 12 - 4.5 - %SignWidth%, 10 - 0.001, 12 - 4.5 + %SignWidth%, 10 - 0.001, %SignHeight%, %SignHeight%, 5.5, 5.5, 0, 0, false	
	AddWall E4-6ServicedFloorsSignB, Matrix_ElevBank2, 0, 12 + 4.5 - %SignWidth%, 10 - 0.001, 12 + 4.5 + %SignWidth%, 10 - 0.001, %SignHeight%, %SignHeight%, 5.5, 5.5, 0, 0, false	
<EndFloor>

<Floors -1 to 13>
	#Shaft Doors
	Set StartNo = 7
	Set DoorTexture = ElevDoorsXD
	if[%floor% = -1] Set DoorTexture = ElevDoorsLB #Basement
	if[%floor% = 0] Set DoorTexture = ElevDoorsB #1st floor
	if[%floor% = 1] Set DoorTexture = ElevDoorsLX #Mezzanine 1
	if[%floor% = 2] Set DoorTexture = ElevDoorsBX #Mezzanine 2
	if[%floor% > 9 & %floor% < 12] Set DoorTexture = ElevDoorsXQ #9th-10th floors
	if[%floor% = 12] Set DoorTexture = ElevDoorsZ #11th floor
	if[%floor% = 13] Set DoorTexture = ElevDoorsL #12th floor
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, (3.667/2), 2.8, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -(3.667/2), 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallTex() #Set wall textures
	#Door trims (Other levels)
		WallOrientation = right
		Set ElevPosition = -21

		#Upper walls
		if[%floor% ! -1 & %floor% ! 1 & %floor% ! 13] AddFillerWalls %6%Upper, 0.66, %ElevPosition%, -97 + 3, 3.667, 7 - 4, 4, true, 0, 0, false
	
		#Lower walls
		DrawWalls = true, true, false, false, false, false
		if[%floor% ! -1 & %floor% ! 1 & %floor% ! 13] AddWall E7FillerLeft, %6%Lower, 0, %ElevPosition% - (3.667/2), -94 - 0.66, %ElevPosition% - (3.667/2), -94, 4, 4, 0, 0, 0, 0, false
		if[%floor% ! -1 & %floor% ! 1 & %floor% ! 13] AddWall E7FillerRight, %6%Lower, 0, %ElevPosition% + (3.667/2), -94 - 0.66, %ElevPosition% + (3.667/2), -94, 4, 4, 0, 0, 0, 0, false

	#Door trims (Levels B, M1, and 12)
		Set DecoTex = %DoorTexture%_Trim
		Set FillerTex = %6%
	
		WallOrientation = right
		Set A3 = 0.44 #Outer filler walls depth
		Set A4 = 0.66 - %A3% #Inner filler walls depth
		Set A4A = 0.66 #Whole filler walls depth

			Set ElevPosition = -21
			if[%floor% = -1 | %floor% = 1 | %floor% = 13] AddFillerWalls %FillerTex%, %A4A%, %ElevPosition%, -97 + 3, 3.667, 7, 0, true, 0, 0, false
			#if[%floor% = -1 | %floor% = 1 | %floor% = 13] AddFillerWalls %FillerTex%, %A3%, %ElevPosition%, -97 + 3, 3.667, 7, 0, true, 0, 0, false
			#if[%floor% = -1 | %floor% = 1 | %floor% = 13] AddFillerWalls %DecoTex%, %A4%, %ElevPosition%, -97 + 3 - %A3%, 3.667, 7, 0, true, 0, 0, false

	#Door tracks
	AddDoorTrack(7, 3, 0 - 3.667, 0 + 3.667, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#Call buttons & signs
		Set SELbyNorthEnd = -%2% + 56
		if[%floor% = -1] Set SELbyNorthEnd = %LevelB-NorthEnd%
		#if[%floor% = 1] Set SELbyNorthEnd = -68
		if[%floor% = 1 | %floor% = 2] Set SELbyNorthEnd = -84

	Set PanelTexture = ElevExtPanels2
	#if[%floor% = 10 | %floor% = 11] Set PanelTexture = ElevExtPanels-Meeting2
	Set ButtonPosition = -21 - (3.667/2) - 1.25

	CallButtonElevators = 7
	CreateCallButtons %PanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, %ButtonPosition%, -97 + 3 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

	DrawWalls = true, false, false, false, false, false
	if[%floor% > 1 & %floor% < 13] AddWall E7HallSign1, BlankSign%floorid%, 0, -21 - 0.75, %SELbyNorthEnd% - 0.5 - 0.001, -21 + 0.75, %SELbyNorthEnd% - 0.5 - 0.001, 1.5, 1.5, 6.5, 6.5, 0, 0, false
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 0] AddWall E7HallSign2, BlankSign%floorid%, 0, %ButtonPosition% - 0.75, -97 + 3 + 0.001, %ButtonPosition% + 0.75, -97 + 3 + 0.001, 1.5, 1.5, 5.25, 5.25, 0, 0, false
	AddWall E7HallSign3, ElevHallSign, 0, %ButtonPosition% - 0.375, -97 + 3 + 0.001, %ButtonPosition% + 0.375, -97 + 3 + 0.001, 1, 1, 2.4, 2.4, 0, 0, false

	#Elevator number signs
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 0] AddWall ElevNo7Sign, ElevNo7, 0, -21 - 0.5, -97 + 3 + 0.002, -21 + 0.5, -97 + 3 + 0.002, 1, 1, 9 - 0.25, 9 - 0.25, 0, 0, false

	#Indicator sets
	ACMEInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %PanelTexture%, OutsideInd_Button) #Override for service elevator

	Set Offset = 8
	if[%floor% < 2] Set Offset = 8 - 0.25

	ACMELobbyInds(back, 7, -21, -97 + 3, %Offset%, -1, 13)
<EndFloors>

########################################

#Global Settings
<Elevators 1 to 7>
	NotifyEarly = 1
	QueueResets = true
	UpChimeSound 1 = EG881Sounds/MTupchime2.wav #EG881
	DownChimeSound 1 = EG881Sounds/MTdownchime2.wav #EG881
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>