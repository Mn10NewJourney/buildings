#Eastcity Medical Center
#Copyright (c) 2021-Present - Mn10

#SCRIPT INCLUSIONS
	#1. My new scripts
	#<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	#<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>

	#Include ObjectPlus and SROC (credit to EG881)
	#<Include ObjectPlus/Scripts/OP_Script2.txt>
	<Include SROC/Scripts/r1_script.txt>

	#2. my previous scripts
	<Include Deco2011/Scripts/r4_script.txt>
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	<Include data/Hitachi Modern Traditional/Scripts/Indicators.txt>

#Add buildings
<Buildings>
	Load EMC - Parking Garage.bld, -15, 0, 225, 0, -105 - 5, 0, -100 - 5, 105 + 45, 0, 100 + 20
<EndBuildings>

##--------------------------------------------------------------------------------##

#Globals
<Globals>
    Name = Eastcity Medical Center
    Designer = Mn10 (floor indicator font made by Test Tower)
	Location = 726 6th Street, Tranquility City
	Description = A place for medical needs of people in eastern Tranquility City.
    CameraFloor = 0
    CameraPosition = -140, 97
    CameraRotation = 0, 90, 0
<EndGlobals>

##--------------------------------------------------------------------------------##

#Textures
<Textures>
	#Misc textures
	Load data/black.jpg, Black, 1, 1, false
	Load data/Melvin/transparent128.png, Blank, 1, 1, false

	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	#Load data/Melvin/ABH_Tex/walkway-darker.jpg, SidewalkDarker, 0.03125, 0.03125

		#Plants
		Load data/ogrebullet/textures/grass.jpg, Grass, 0.01, 0.01
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881

		#Roads
		Load data/grndroad1mid.jpg, Road, 0.04, 0.04
		Load data/Melvin/Roads/2lane-twoway.png, N-SRoad, 0.05, 0.0416 #North and south of building (Running in east-west direction)
		Load data/Melvin/Roads/2lane-oneway.png, N-SRoad-1W, 0.05, 0.0416
		Load data/Melvin/Roads/2lane-twoway-90de.png, W-ERoad, 0.0416, 0.05 #East and west of building (Running in north-south direction)
		Load data/Melvin/Roads/2lane-oneway-90de.png, W-ERoad-1W, 0.0416, 0.05

		#Load data/Melvin/Roads/2lane-twoway-90de.png, PGAccessRoad, 0.0333, 0.05 #30 ft. width
		Load data/Melvin/Roads/2lane-oneway-90de.png, PGAccessRoad-1W, 0.0333, 0.05 #30 ft. width

	#External facade and concrete
	Load data/EG881/granite_0007e_black.jpg, ExtFacade, 0.075, 0.075, true #EG881
	Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881
	Load data/cem_tr.jpg, Concrete1, 0.125, 0.125
	Load data/metal080.jpg, ColumnTex, 0.5, 0.5

	#Windows and vents
		#Main windows
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, MainWindows, true, 0.05, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, MainWindowsB, true, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881

		#Lobby windows
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3c.jpg, LobbyWindows, true, 0.025, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, LobbyWindowsInt, 0.025, 1 #EG881

		#Vents
		Load data/vents1.jpg, VentsExt, 1, 1, false
		Load data/bracing1.jpg, VentsInt, 1, 1, false

	#Main textures
		#Floors
		Load data/checker08.jpg, LobbyFloor, 0.45, 0.45
		Load data/Carpet0013b_S.jpg, LobbyFloor_West, 0.2, 0.2 #EG881
		Load data/MT/treatment02.jpg, LobbyFloor2, 0.15, 0.15
		Load data/Carpet0013b_S.jpg, WardFloor, 0.2, 0.2
		Load data/floor065.jpg, SummitFloor, 0.25, 0.25

		#Walls
		Load data/black_granite.jpg, LobbyWall, 0.1, 0.1
		Load data/st_wall2.jpg, LobbyWall2, 0.13635, 0.09765
		Load data/marb148.jpg, ORWall, 0.15, 0.15
		Load data/marbl3.jpg, LobbyWall3, 0.125, 0.125
		Load data/wall3.jpg, WardWall, 0.25, 0.25
		Load data/EG881/lopacwall3stripe.jpg, SummitWall, 0.15, 0.3 #EG881

		#Ceilings
		Load data/EG881/ceilingtile3x3.jpg, LobbyCeiling, 0.125, 0.125 #EG881
		Load data/EG881/ceilingtile2b.jpg, LobbyCeiling2, 0.125, 0.125 #EG881
		Load data/stucco1b.jpg, WardCeiling, 0.25, 0.25
		Load data/EG881/ceilingtile2b.jpg, SummitCeiling, 0.125, 0.125 #EG881

		#Restroom ceilings
		Load data/EG881/ceilingtile2b.jpg, RestroomCeilingVents, 0.1666, 0.1666 #EG881
		Load data/EG881/ceilingtile2b.jpg, RestroomCeilingAirIn, 0.1666, 0.1666 #EG881

	#Service areas
		#Service levels
		Load data/cem_tr.jpg, ServiceFloor, 0.0625, 0.0625
		Load data/stucco4c.jpg, ServiceWall, 0.25, 0.25
		Load data/stucco30.jpg, ServiceCeiling, 0.125, 0.125

		#Service elevator lobbies
		Load data/brick040+.jpg, ServiceLobbyFloor, 0.15, 0.15
		Load data/stucco1.jpg, ServiceLobbyWall, 0.25, 0.25
		Load data/cem_tr_b.jpg, ServiceLobbyCeiling, 0.125, 0.125

	#Stairwells
	Load data/cem_tr.jpg, Stairs, 0.25, 0.25
	Load data/cem_tr.jpg, StairsFloor, 0.25, 0.25
	Load data/cinderblocks.jpg, StairsWall, 0.25, 0.25
	Load data/stucco1.jpg, StairsWall2, 0.25, 0.25
	Load data/cutston.jpg, StairsCeiling, 0.25, 0.25

	#Doors
		Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
		Load data/EG881/miscdoor8_blacktrans.png, Door88Trans_Int, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3c.jpg, Door88Trans_Ext, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, Door88Trans_Side, 236, 0, 20, 512, 1, 1, false #EG881

		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		Load data/servicedoor3_trans.gif, ServiceDoor3Trans, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		#Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/panel-back3.jpg, ElevPanel2, 1, 1, false
		
		#Low-rise elevators
		Load data/Carpet0012_S.jpg, LRElevFloor, 0.2, 0.2
		Load data/marb148.jpg, LRElevWall, 0.26, 0.26
		Load data/MT/CeilingC.jpg, LRElevCeiling, 1, 1, false
		Load data/diamond18i.jpg, LRElevWallPanel, 0.5, 0.5
		Load data/panel-back3.jpg, LRElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, LRElevPanelTop, 1, 0.125, false
		Load data/aluminumdoor_b.jpg, ElevDoorsA, 1, 1, false
		Load data/aluminumdoor_b.jpg, ElevDoorsA2, -1, 1, false

		#High-rise elevators
		Load data/Carpet0021_S.jpg, HRElevFloor, 0.2, 0.2
		Load data/marble22.jpg, HRElevWall, 0.1345, 0.125
		Load data/EG881/otis4_weaveceiling_1x1.jpg, HRElevCeiling, 3, 2, false #EG881
		Load data/diamond18d.jpg, HRElevWallPanel, 0.5, 0.5
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, HRElevPanelMain, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, HRElevPanelTop, 1, 0.125, false
		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, ElevDoorsB, 1, 1, false
		Load data/Melvin/OTIS67_Darkaluminium_door.jpg, ElevDoorsB2, -1, 1, false

		#Service elevators
		Load data/checker05.jpg, ServiceElevFloor, 0.5, 0.5
		Load data/metal080.jpg, ServiceElevWall, 0.5, 0.5
		Load data/wood1.jpg, ServiceElevWallPanel, 0.55, 0.55
		Load data/metal080.jpg, ServiceElevPanelMain, 0.5, 0.5
		Load data/metal080.jpg, ServiceElevPanelTop, 0.5, 0.5
		Load data/EG881/otis4_weaveceiling_1x1.jpg, ServiceElevCeiling, 3, 2, false #EG881
		Load data/door2.jpg, ElevDoorsC, 1, 1, false
		Load data/door2.jpg, ElevDoorsC2, -1, 1, false
		#--------------------
		#Decos around doors
		Load data/Other People's Textures/marb048.png, ElevDecosA, 0.15, 0.15
		Load data/Other People's Textures/marb045.png, ElevDecosB, 0.25, 0.25
		Load data/Other People's Textures/marb049.png, ElevDecosC, 0.25, 0.25
		Load data/granite_0008b.jpg, ElevDecosD, 0.5, 0.5
		Load data/MT/treatment02.jpg, ElevDecosE, 0.08, 0.08, true

		#Door trims for shaft doors
		Load data/panel-back3.jpg, ElevDoorsW_Trim, 1, 1, false
		Load data/panel-back3.jpg, ElevDoorsX_Trim, 1, 1, false
		Load data/panel-back4.jpg, ElevDoorsX2_Trim, 1, 1, false
		Load data/panel-back3.jpg, ElevDoorsZ_Trim, 1, 1, false
		Load data/panel-back4.jpg, ElevDoorsZ2_Trim, 1, 1, false1
		Load data/elevpanelsilver.jpg, ElevDoorsS1_Trim, 1, 1, false #EG881

		#External panels
		Load data/panel-back3.jpg, ElevExtPanelsW, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanelsX, 1, 1, false
		Load data/panel-back4.jpg, ElevExtPanelsX2, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanelsZ, 1, 1, false
		Load data/panel-back4.jpg, ElevExtPanelsSummit, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanelsS1, 1, 1, false

		#Shaft doors for two-speed doors
		Load data/EG881/aluminumdoor_bschindler.jpg, BedElevDoorsWA_L, 1, 1, false #EG881 #Basement
		Load data/aluminumdoor_b.jpg, BedElevDoorsWA_R, -1, 1, false
		Load data/aluminumdoor_b.jpg, BedElevDoorsWB_L, 1, 1, false
		Load data/EG881/aluminumdoor_bschindler.jpg, BedElevDoorsWB_R, -1, 1, false #EG881
		
		Load data/EG881/lightaluminumdoor2.jpg, BedElevDoorsXA_L, -1, 1, false #EG881 #1st-5th floors
		Load data/EG881/lightaluminumdoor2.jpg, BedElevDoorsXA_R, -1, 1, false #EG881
		Load data/EG881/lightaluminumdoor2.jpg, BedElevDoorsXB_L, 1, 1, false #EG881
		Load data/EG881/lightaluminumdoor2.jpg, BedElevDoorsXB_R, 1, 1, false #EG881

		Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, BedElevDoorsX2A_L, -1, 1, false #EG881 #6th-9th floors
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, BedElevDoorsX2A_R, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, BedElevDoorsX2B_L, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, BedElevDoorsX2B_R, 1, 1, false #EG881

		Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, BedElevDoorsZA_L, -1, 1, false #EG881 #10th-24th floors
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, BedElevDoorsZA_R, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, BedElevDoorsZB_L, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, BedElevDoorsZB_R, 1, 1, false #EG881

		Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, BedElevDoorsZ2A_L, -1, 1, false #EG881 #25th-26th floors
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, BedElevDoorsZ2A_R, 1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, BedElevDoorsZ2B_L, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorleft.jpg, BedElevDoorsZ2B_R, 1, 1, false #EG881

		Load data/door1.jpg, BedElevDoorsS1A_L, -1, 1, false #EG881
		Load data/door1.jpg, BedElevDoorsS1A_R, -1, 1, false #EG881
		Load data/door1.jpg, BedElevDoorsS1B_L, 1, 1, false #EG881
		Load data/door1.jpg, BedElevDoorsS1B_R, 1, 1, false #EG881
		#--------------------
		#Fixtures
		Load data/Hitachi Modern Traditional/Up.png, ButtonUp, 1, 1, false
		Load data/Hitachi Modern Traditional/UpLit.png, ButtonUpLit, 1, 1, false
		Load data/Hitachi Modern Traditional/Down.png, ButtonDown, 1, 1, false
		Load data/Hitachi Modern Traditional/DownLit.png, ButtonDownLit, 1, 1, false
		Load data/Hitachi Modern Traditional/Floor.png, Button, 1, 1, false
		Load data/Hitachi Modern Traditional/Floor.png, ButtonLit, 1, 1, false
		Load data/Hitachi Modern Traditional/Open.png, ButtonOpen, 1, 1, false
		Load data/Hitachi Modern Traditional/Close.png, ButtonClose, 1, 1, false
		Load data/Hitachi Modern Traditional/Phone.png, ButtonAlarm, 1, 1, false
		Load data/Hitachi Modern Traditional/Hold.png, ButtonHold, 1, 1, false
		Load data/Hitachi Modern Traditional/HoldLit.png, ButtonHoldLit, 1, 1, false

		AddText Button, ButtonB, nimbus_sans.ttf, 72, B, -1, -1, -1, -1, center, center, 73, 101, 81, false
		AddText Button, Button1M, nimbus_sans.ttf, 72, 1M, -1, -1, -1, -1, center, center, 73, 101, 81, false
		AddTextRange 1, 26, Button, Button%number%, nimbus_sans.ttf, 72, %number%, -1, -1, -1, -1, center, center, 73, 101, 81, false
		AddText ButtonLit, ButtonLitB, nimbus_sans.ttf, 72, B, -1, -1, -1, -1, center, center, 255, 255, 118, false
		AddText ButtonLit, ButtonLit1M, nimbus_sans.ttf, 72, 1M, -1, -1, -1, -1, center, center, 255, 255, 118, false
		AddTextRange 1, 26, ButtonLit, ButtonLit%number%, nimbus_sans.ttf, 72, %number%, -1, -1, -1, -1, center, center, 255, 255, 118, false

		Load data/MT/blank.gif, ArrowUpUnlit, 1, 1, false
		Load data/Hitachi Modern Traditional/DirectionArrowUp_Trans.png, ArrowUpLit, 1, 1, false
		Load data/MT/blank.gif, ArrowDownUnlit, 1, 1, false
		Load data/Hitachi Modern Traditional/DirectionArrowDown_Trans.png, ArrowDownLit, 1, 1, false
		AddText Blank, Ind_ButtonB, hitachi_modern.ttf, 63, B, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddText Blank, Ind_Button1M, hitachi_modern.ttf, 63, 1M, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 26, Blank, Ind_Button%number%, hitachi_modern.ttf, 63, %number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower

		#Labels around indicators
		Load data/Melvin/blank_long2.png, BadgeBack, 1, 1, false
		AddText BadgeBack, HitachiBadge, nimbus_sans_bold.ttf, 24, HITACHI, 0, 0, 256, 122, center, bottom, 255, 255, 255, false
		AddTextRange 1, 10, HitachiBadge, HitachiBadgeE%number%, nimbus_sans_bold.ttf, 50, %number%, 0, 0, 256, 85, center, center, 0, 255, 255, false

		AddText BadgeBack, CapacityBadge_Temp1, nimbus_sans_bold.ttf, 20, FOR PASSENGER, 0, 4, 256, 43, center, center, 255, 255, 255, false
		AddText CapacityBadge_Temp1, CapacityBadge_Temp2, nimbus_sans_bold.ttf, 20, 24  PERSONS, 0, 43, 256, 85, center, center, 255, 255, 255, false
		AddText CapacityBadge_Temp2, CapacityBadge, nimbus_sans_bold.ttf, 20, LOAD 1600 kg, 0, 85, 256, 126, center, center, 255, 255, 255, false
		#--------------------
		#Hall indicators
			Load data/Old_Hitachi_Elevator/LanternUpUnlit.png, LanternUp, 1, 1, false
			LoadAnimated data/Old_Hitachi_Elevator/LanternUpLit.png, data/Old_Hitachi_Elevator/LanternUpUnlit.png, data/Old_Hitachi_Elevator/LanternUpLit.png, LanternUpLit, 0.5, 1, 1, false
			Load data/Old_Hitachi_Elevator/LanternDownUnlit.png, LanternDown, 1, 1, false
			LoadAnimated data/Old_Hitachi_Elevator/LanternDownLit.png, data/Old_Hitachi_Elevator/LanternDownUnlit.png, data/Old_Hitachi_Elevator/LanternDownLit.png, LanternDownLit, 0.5, 1, 1, false

			Load data/Melvin/blank_long2.png, IndBack, 1, 1, false
			AddText IndBack, OutsideInd_ButtonB, hitachi_modern.ttf, 95, B, -1, -1, -1, -1, center, center, 255, 0, 0, false #Test Tower
			AddText IndBack, OutsideInd_Button1M, hitachi_modern.ttf, 95, 1M, -1, -1, -1, -1, center, center, 255, 0, 0, false #Test Tower
			AddTextRange 1, 26, IndBack, OutsideInd_Button%number%, hitachi_modern.ttf, 95, %number%, -1, -1, -1, -1, center, center, 255, 0, 0, false #Test Tower
	#--------------------
	#Signs
		#Main signs
		Load data/Melvin/Sign-LightBlue2.png, Sign_LightBlue, 1, 1, false
		Load data/Melvin/Sign-LightBlue-Long.png, Sign_LB_Long, 1, 1, false
		AddText Sign_LB_Long, Sign_StaffOnly, nimbus_sans_bold.ttf, 90, Staff Only, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#--------------------
		#Patient rooms
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%01, nimbus_sans_bold.ttf, 100, %number%01, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%02, nimbus_sans_bold.ttf, 100, %number%02, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%03, nimbus_sans_bold.ttf, 100, %number%03, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%04, nimbus_sans_bold.ttf, 100, %number%04, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%05, nimbus_sans_bold.ttf, 100, %number%05, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%06, nimbus_sans_bold.ttf, 100, %number%06, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%07, nimbus_sans_bold.ttf, 100, %number%07, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%08, nimbus_sans_bold.ttf, 100, %number%08, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%09, nimbus_sans_bold.ttf, 100, %number%09, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%10, nimbus_sans_bold.ttf, 100, %number%10, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%11, nimbus_sans_bold.ttf, 100, %number%11, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 10, 24, Sign_LightBlue, Sign_PtRoom%number%12, nimbus_sans_bold.ttf, 100, %number%12, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 14, 24, Sign_LightBlue, Sign_PtRoom%number%13, nimbus_sans_bold.ttf, 100, %number%13, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 16, 24, Sign_LightBlue, Sign_PtRoom%number%14, nimbus_sans_bold.ttf, 100, %number%14, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#--------------------
		#Clinics and departments
			#Basement
			AddText Sign_LB_Long, Sign_X-Ray, nimbus_sans_bold.ttf, 90, X-Ray Center, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#1st floor
			AddText Sign_LB_Long, Sign_ER, nimbus_sans_bold_condensed.ttf, 90, Emergency Room, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#2nd floor
			AddText Sign_LB_Long, Sign_F2_Clinic1_Temp, nimbus_sans_bold.ttf, 80, Health Check-up, 0, 30, 1024, 128, center, center, 0, 0, 0, false
			AddText Sign_F2_Clinic1_Temp, Sign_F2_Clinic1, nimbus_sans_bold.ttf, 80, Center, 0, 128, 1024, 226, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F2_Clinic2, nimbus_sans_bold.ttf, 85, Childrens' Clinic, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F2_Clinic3, nimbus_sans_bold.ttf, 85, Adults' Clinic, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#3rd floor
			AddText Sign_LB_Long, Sign_F3_Clinic1, nimbus_sans_bold.ttf, 90, Heart Center, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F3_Clinic2, nimbus_sans_bold.ttf, 85, Dental Clinic, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F3_Clinic3, nimbus_sans_bold_condensed.ttf, 85, Eye & ENT Center, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#4th floor
			AddText Sign_LB_Long, Sign_OR, nimbus_sans_bold_condensed.ttf, 90, Operating Room, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#5th floor
			AddText Sign_LB_Long, Sign_F5_Clinic1, nimbus_sans_bold_condensed.ttf, 80, Surgery Department, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F5_Clinic2, nimbus_sans_bold.ttf, 85, Psycho Clinic, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F5_Clinic3_Temp, nimbus_sans_bold.ttf, 70, Health Advising, 0, 30, 1024, 128, center, center, 0, 0, 0, false
			AddText Sign_F5_Clinic3_Temp, Sign_F5_Clinic3, nimbus_sans_bold.ttf, 70, Center, 0, 128, 1024, 226, center, center, 0, 0, 0, false

			#6th floor
			AddText Sign_LB_Long, Sign_F6_Clinic1_Temp, nimbus_sans_bold.ttf, 70, Rehabilitation, 0, 30, 1024, 128, center, center, 0, 0, 0, false
			AddText Sign_F6_Clinic1_Temp, Sign_F6_Clinic1, nimbus_sans_bold.ttf, 70, Center, 0, 128, 1024, 226, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F6_Clinic2, nimbus_sans_bold_condensed.ttf, 90, Medical Records, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F6_Clinic3_Temp, nimbus_sans_bold.ttf, 70, Medical Equipment, 0, 30, 1024, 128, center, center, 0, 0, 0, false
			AddText Sign_F6_Clinic3_Temp, Sign_F6_Clinic3, nimbus_sans_bold.ttf, 70, Department, 0, 128, 1024, 236, center, center, 0, 0, 0, false

			#7th floor
			AddText Sign_LB_Long, Sign_F7_Clinic1, nimbus_sans_bold.ttf, 90, Medical Lab, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F7_Clinic2, nimbus_sans_bold.ttf, 85, Blood Bank, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_F7_Clinic3, nimbus_sans_bold_condensed.ttf, 85, Stem Cell Center, -1, -1, -1, -1, center, center, 0, 0, 0, false

			#8th-9th floors
			AddText Sign_LB_Long, Sign_Rehab_8F, nimbus_sans_bold_condensed.ttf, 80, Rehabilitation Center, -1, -1, -1, -1, center, center, 0, 0, 0, false
			AddText Sign_LB_Long, Sign_MRI, nimbus_sans_bold.ttf, 90, MRI Center, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#--------------------
		#Elevator instruction signs
		Load data/signs_mod/elevhallsign1.png, ElevHallSign, 1, 1, false

		#Elevator lobbies
		Load data/signs_mod/Elev1.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev2.png, Sign_ServiceElev, 1, 1, false
		Load data/graygradient.jpg, ElevFirSignBack, 1, 1, false
		AddText ElevFirSignBack, Sign_LElev, nimbus_sans.ttf, 80, B-13, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText ElevFirSignBack, Sign_HElev, nimbus_sans.ttf, 68, 14-26, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignLElev, nimbus_sans_bold.ttf, 35, B-13, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText Blank, BlankSignHElev, nimbus_sans_bold.ttf, 31, 14-26, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Stairs
		Load data/signs_mod/Stairs.png, Sign_Stairs, 1, 1, false

		#Floor signs
		Load data/Melvin/graygradient_rounded.png, FloorSignBack, 1, 1, false
		AddText Blank, BlankSignB, nimbus_sans_bold.ttf, 72, B, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSign1M, nimbus_sans_bold.ttf, 72, 1M, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 28, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Elevator number signs (Outside)
		AddTextRange 1, 8, Blank, ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 9, 10, Blank, ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 128, false

		#Elevator number signs (Inside)
		#Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		#AddTextRange 1, 4, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		#AddTextRange 5, 8, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		#AddTextRange 9, 10, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Restrooms
		#Load data/signs_mod/Restroom1.png, Sign_Restroom, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW, 1, 1, false
		Load data/signs_mod/Sign_Restroom_2.png, Sign_RestroomPri, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM, 1, 1, false
	#--------------------
	#Exit signs
	Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
	Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
	Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
	Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
	Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
<EndTextures>


#Floor Assignments
#B - X-Ray Center
#1 - Emergency room
#2-3 and 5-9 - Clinics/departments
#4 - Operating room
#10-24 - Patient rooms
#25-26 - Meeting rooms
#27 - Main roof
#28 - Mechanical
#R - Rooftop

<Floor -1>
	ID = B
	Name = X-Ray Center
	Type = Basement
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -13.5
<EndFloor>

<Floor -2>
	ID = X
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Level 1
	Type = Lobby
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -1.5
	Group = 1
<EndFloor>

<Floor 1>
	ID = 1M
	Name = Level 1M
	Type = Service
	Height = 8.5
	InterfloorHeight = 1.5
	Group = 0
<EndFloor>

<Floors 2 to 24>
	ID = %floor%
	Name = Hospital Level %floor%
	Type = Recreation
	Height = 10.5
	if[%floor% > 2] InterfloorHeight = 1.5
	if[%floor% = 2] InterfloorHeight = 3.5
<EndFloor>

<Floor 25>
	ID = %floor%
	Name = Jack Morris Hall
	Type = Conference
	Height = 10.5
	InterfloorHeight = 1.5
	Group = 26
<EndFloor>

<Floor 26>
	ID = %floor%
	Name = Hall Mezzanine
	Type = Conference
	Height = 10.5
	InterfloorHeight = 1.5
	Group = 25
<EndFloor>

<Floor 27>
	ID = %floor%
	Name = Main Roof
	Type = Roof
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 28>
	ID = %floor%
	Name = Mechanical
	Type = Mechanical
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 29>
	ID = R
	Name = Rooftop
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

#########################################################################

#Landscaping
#AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920
	#Coordinate Set
	Set MainX = -548 - 100
	Set MainZ = 0 + 145
	Set InEMC = true
	
	#Tranquility City Landscape
	<Include buildings/KW_Maps/Tranquility City.txt>

#Reset variables for building dimensions
Set 1 = 120 #Building Dimension X
Set 2 = 60 #Building Dimension Z

Cut Landscape, -120 - 10 - 24 - 10, -1, -60 - 30, 120 + 15, 1, 60 + 10 + 24, false, true #Main cuts
DrawWalls = true, true, false, false, false, false

	#Hospital Building Filler (Will be cut when the hospital bldg. is loaded)
	AddFloor landscape, HBFiller, ServiceFloor, 0, -120, -60, 120, 60, 0, 0, 0, 0

	#Front perimeter floors
	AddFloor landscape, FrontFloor, Sidewalk, 0, -120, -60 - 6, 80 + 6, -60, 0, 0, 0, 0
	AddFloor landscape, FrontFloor2, Sidewalk, 0, 80, -60 - 6 - 24, 80 + 6, -60 - 6, 0, 0, 0, 0
	AddFloor landscape, FrontRoad, N-SRoad-1W, 0, -120 - 10, -60 - 30, 80 - 24, -60 - 6, 0, 0, 0, 0
	AddFloor landscape, FrontRoad2, Road, 0, -120 - 10 - 24, -60 - 30, -120 - 10, -60 - 6, 0, 0, 0, 0
	AddFloor landscape, FrontRoad3, Road, 0, 80 - 24, -60 - 30, 80, -60 - 6, 0, 0, 0, 0
	AddFloor landscape, FrontGrass, Grass, 0, 80 + 6, -60 - 30, 120 + 15, -60, 0, 0, 0, 0

	#Left perimeter floors
	AddFloor landscape, LeftFloor, Sidewalk, 0, -120 - 10, -60 - 6, -120, 60 + 10, 0, 0, 0, 0
	AddFloor landscape, LeftEdgeSidewalk, Sidewalk, 0, -120 - 10 - 34, -60 - 30, -120 - 10 - 24, 60 + 10 + 24, 0, 0, 0, 0

	AddFloor landscape, LeftRoad, W-ERoad, 0, -120 - 10 - 24, -60 - 6, -120 - 10, 60 + 10, 0, 0, 0, 0

	#Right perimeter floors
	AddFloor landscape, RightGrass1, Grass, 0, 120, -60, 120 + 15, -40, 0, 0, false, true, 0, 0
	AddFloor landscape, RightGrass2, Grass, 0, 120, -30, 120 + 15, -10, 0, 0, false, true, 0, 0
	AddFloor landscape, RightGrass3, Grass, 0, 120, 0, 120 + 15, 60, 0, 0, false, true, 0, 0
	AddFloor landscape, RightSidewalk1, Sidewalk, 0, 120, -40, 120 + 15, -30, 0, 0, false, true, 0, 0
	AddFloor landscape, RightSidewalk2, Sidewalk, 0, 120, -10, 120 + 15, 0, 0, 0, false, true, 0, 0

	#Back perimeter floors
	AddFloor landscape, BackFloor, Sidewalk, 0, -120, 60, 120 + 15, 60 + 10, 0, 0, 0, 0
	AddFloor landscape, BackRoad1, N-SRoad, 0, -120 - 10, 70, 135, 70 + 24, 0, 0, 0, 0
	AddFloor landscape, BackRoad2, Road, 0, -120 - 10 - 24, 70, -120 - 10, 70 + 24, 0, 0, 0, 0

	#AddFloor landscape, BackRoad3, N-SRoad, 0, -120 - 10, 70, -120, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad4, N-SRoad, 0, -90, 70, 0, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad5, N-SRoad, 0, 30, 70, 60, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad6, N-SRoad, 0, 90, 70, 135, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad7, Road, 0, -120, 70, -90, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad8, Road, 0, 0, 70, 30, 70 + 24, 0, 0, 0, 0
	#AddFloor landscape, BackRoad9, Road, 0, 60, 70, 90, 70 + 24, 0, 0, 0, 0

####================================####

#Parking garage access driveways
Cut Landscape, -120, -1, 94, -120 + 30, 1, 225 - 105, false, true #West driveway
Cut Landscape, 0, -1, 94, 30, 1, 225 - 105, false, true #East driveways
Cut Landscape, 60, -1, 94, 90, 1, 225 - 105, false, true #East driveways

AddFloor landscape, PGWestDriveway, PGAccessRoad-1W, 0, -120, 94, -120 + 30, 225 - 105, 0, 0, 0, 0
AddFloor landscape, PGEastDriveway1, PGAccessRoad-1W, 0, 0, 94, 30, 225 - 105, 0, 0, 0, 0
AddFloor landscape, PGEastDriveway2, PGAccessRoad-1W, 0, 60, 94, 90, 225 - 105, 0, 0, 0, 0

#Extra cuts for north sidewalks
Cut Landscape, -164, -1, 94, -120, 1, 100, false, true
Cut Landscape, -90, -1, 94, 0, 1, 100, false, true
Cut Landscape, 30, -1, 94, 60, 1, 100, false, true
Cut Landscape, 90, -1, 94, 135, 1, 100, false, true

AddFloor landscape, NorthSidewalk1, Sidewalk, 0, -164, 94, -120, 100, 0, 0, 0, 0
AddFloor landscape, NorthSidewalk2, Sidewalk, 0, -90, 94, 0, 100, 0, 0, 0, 0
AddFloor landscape, NorthSidewalk3, Sidewalk, 0, 30, 94, 60, 100, 0, 0, 0, 0
AddFloor landscape, NorthSidewalk4, Sidewalk, 0, 90, 94, 135, 100, 0, 0, 0, 0

####================================####


#SIDEWALK CUTS FOR DRIVEWAYS
#6th Street West Driveway Cuts
Cut Landscape, -154, -1, -105, -130, 1, -90, false, true
Cut Landscape, -154, -1, -105 - 0.1, -130, 1, -105 + 0.1, true, false
Cut Landscape, -154, -1, -90 - 0.1, -130, 1, -90 + 0.1, true, false

#6th Street East Driveway Cuts
Cut Landscape, 56, -1, -105, 80, 1, -90, false, true
Cut Landscape, 56, -1, -105 - 0.1, 80, 1, -105 + 0.1, true, false
Cut Landscape, 56, -1, -90 - 0.1, 80, 1, -90 + 0.1, true, false

	#Driveways
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, 6thStreetWestDriveway, Road, 0, -154, -105, -130, -90, Floor(0).Base - 0.5, Floor(0).Base, false, false, 0, 0	
	AddFloor landscape, 6thStreetWestDriveway, Road, 0, 56, -105, 80, -90, Floor(0).Base - 0.5, Floor(0).Base, false, false, 0, 0	

	#Sidewalk fillers
	DrawWalls = true, true, false, false, false, false
	AddWall landscape, 6thStreet_WF1, Sidewalk, 0, -154, -105, -154, -90, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 6thStreet_WF2, Sidewalk, 0, -130, -105, -130, -90, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 6thStreet_EF1, Sidewalk, 0, 56, -105, 56, -90, 0.5, 0.5, -0.5, -0.5, 0, 0
	AddWall landscape, 6thStreet_EF2, Sidewalk, 0, 80, -105, 80, -90, 0.5, 0.5, -0.5, -0.5, 0, 0


#Tranquility Street Driveway Cuts
Cut Landscape, 135, -1, 70, 150, 1, 94, false, true
Cut Landscape, 135 - 0.1, -1, 70, 135 + 0.1, 1, 94, true, false
Cut Landscape, 150 - 0.1, -1, 70, 150 + 0.1, 1, 94, true, false

	#Driveways
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, TranquilityStreetDriveway, Road, 0, 135, 70, 150, 94, Floor(0).Base, Floor(0).Base - 0.5, true, false, 0, 0	

####================================####

#TREES
	#Trees at southeast corner
	AddTree(Tree2, 95, -75, 12, 16, Floor(0).Base)
	AddTree(Tree2, 95 + 15, -75, 12, 16, Floor(0).Base)
	AddTree(Tree2, 95 + 30, -75, 12, 16, Floor(0).Base)

	#Trees at east edge
	AddTree(Tree1, 120 + 7.5, -50, 10, 11.25, Floor(0).Base)
	AddTree(Tree1, 120 + 7.5, -20, 10, 11.25, Floor(0).Base)
	AddTree(Tree1, 120 + 7.5, 7.5, 10, 11.25, Floor(0).Base)
	AddTree(Tree1, 120 + 7.5, 7.5 + 15, 10, 11.25, Floor(0).Base)
	AddTree(Tree1, 120 + 7.5, 7.5 + 30, 10, 11.25, Floor(0).Base)
	AddTree(Tree1, 120 + 7.5, 7.5 + 45, 10, 11.25, Floor(0).Base)

	#Trees at western road
	AddTree(Tree1, -175, -78, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 15, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 30, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 45, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 60, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 75, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 90, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 105, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 120, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 135, 13.5, 12, Floor(0).Base)
	AddTree(Tree1, -175, -78 + 150, 13.5, 12, Floor(0).Base)

#<End>

####================================####

#Cut for hospital bldg.
Cut Landscape, -120, -1, -60, 120, 1, 60, false, true

#Functions
#Windows functions
<Function WindowsX2>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set TitleX = %param11%
	Set TitleZ = %param12%

	#Filler Walls
	if[%Direction% = left | %Direction% = Left] WallOrientation = Left
	if[%Direction% = right | %Direction% = Right] WallOrientation = Right
	AddFillerWalls %FillerWallTexture%, 0.5, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, false, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = left | %Direction% = Left] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX% + 0.5, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = right | %Direction% = Right] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - 0.5, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%
	AddWall %Name%, %MainPositiveTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

<Function WindowsZ2>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set TitleX = %param11%
	Set TitleZ = %param12%

	#Filler Walls
	if[%Direction% = front | %Direction% = Front] WallOrientation = Left
	if[%Direction% = back | %Direction% = Back] WallOrientation = Right
	AddFillerWalls %FillerWallTexture%, 0.5, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, true, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = front | %Direction% = Front] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ% + 0.5, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = back | %Direction% = Back] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ% - 0.5, %PositionX% + (%Width% / 2), %PositionZ%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%, %MainPositiveTexture%
	AddWall %Name%, %MainPositiveTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ%, %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

########################################

#Shaft function (Elevator shafts)
<Function CreateShaft>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set MROffset = %param8% #Machine Room Offset

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, Concrete1, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, Concrete1, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, Concrete1, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, Concrete1, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, Concrete1, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

#Shaft function (Utility shafts)
<Function CreateShaft2>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% > %LowestFloor%] AddShaftFloor %12%, Shaft%12%UtilityBase, Concrete1, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %interfloorheight%, %interfloorheight%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, Concrete1, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, Concrete1, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, Concrete1, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, Concrete1, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, Concrete1, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

########################################

#Elevator interior function
<Function ElevInterior>
	Set FloorTex = %param1%
	Set CeilingTex = %param2%
	Set WallTex_X = %param3%
	Set WallTex_Z = %param4%
	Set WidthX = %param5%
	Set LengthZ = %param6%
	Set Direction = %param7%
	Set ElevHeight = %param8%

	Set ElevWidth = %WidthX% / 2
	Set ElevLength = %LengthZ% / 2

	#Floor
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %FloorTex%, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Floor, %FloorTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, 0, 0, 0, 0

	#Ceiling
	FloorOrientation = bottom
	TextureOverride %CeilingTex%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Ceiling, %CeilingTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0

	#Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ElevExt, %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Front & %Direction% ! front] AddWall Front, %WallTex_Z%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, -%ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride ElevExt, %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Left & %Direction% ! left] AddWall Left, %WallTex_X%, 0.2, -%ElevWidth%, -%ElevLength%, -%ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	WallOrientation = right
	TextureOverride %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Right & %Direction% ! right] AddWall Right, %WallTex_X%, 0.2, %ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Back & %Direction% ! back] AddWall Back, %WallTex_Z%, 0.2, -%ElevWidth%, %ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
<EndFunction>

<Function ElevInterior2>
	Set FloorTex = %param1%
	Set CeilingTex = %param2%
	Set WallTex_X = %param3%
	Set WallTex_Z = %param4%
	Set WidthX = %param5%
	Set LengthZ = %param6%
	Set Direction = %param7%
	Set ElevHeight = %param8%

	Set ElevWidth = %WidthX% / 2
	Set ElevLength = %LengthZ% / 2

	#Floor
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %FloorTex%, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Floor, %FloorTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, 0, 0, 0, 0

	#Ceiling
	FloorOrientation = bottom
	TextureOverride %CeilingTex%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor Ceiling, %CeilingTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0

	#Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ElevExt, %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Front & %Direction% ! front] AddWall Front, %WallTex_Z%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, -%ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride ElevExt, %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Left & %Direction% ! left] AddWall Left, %WallTex_X%, 0.2, -%ElevWidth%, -%ElevLength%, -%ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	WallOrientation = right
	#TextureOverride %WallTex_X%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	#if[%Direction% ! Right & %Direction% ! right] AddWall Right, %WallTex_X%, 0.2, %ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride %WallTex_Z%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	if[%Direction% ! Back & %Direction% ! back] AddWall Back, %WallTex_Z%, 0.2, -%ElevWidth%, %ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
<EndFunction>

########################################

#Door track and top filler functions
<Function AddDoorTrack>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set Texture = %param7% #Door Track Texture

	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %Texture%, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Track, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight%, %interfloorheight%, 0, 0
<EndFunction>

<Function AddTopFiller>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set DoorHeight = %param7% #Door Height
	Set Texture = %param8% #Top Filler Texture

	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Texture%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Filler, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight% + %DoorHeight%, %interfloorheight% + %DoorHeight%, 0, 0
<EndFunction>

#########################################################################

#Set textures
<Function FloorTex>
	if[%floor% < 6] Set 5 = LobbyFloor #Floor Texture
	if[%floor% > 5 & %floor% < 10] Set 5 = LobbyFloor2 #Floor Texture
	if[%floor% > 9 & %floor% < 25] Set 5 = WardFloor #Floor Texture
	if[%floor% = 25 | %floor% = 26] Set 5 = SummitFloor #Floor Texture
	if[%floor% = 27 | %floor% = 28] Set 5 = ServiceFloor #Floor Texture
<EndFunction>

<Function WallTex>
	#Shaft doors
	if[%floor% < 3] Set 6 = LobbyWall #Wall Texture
	if[%floor% = 3 | %floor% = 5] Set 6 = LobbyWall2 #Wall Texture
	if[%floor% = 4] Set 6 = ORWall #Wall Texture
	if[%floor% > 5 & %floor% < 10] Set 6 = LobbyWall3 #Wall Texture
	if[%floor% > 9 & %floor% < 25] Set 6 = WardWall #Wall Texture
	if[%floor% = 25 | %floor% = 26] Set 6 = SummitWall #Wall Texture
	if[%floor% = 27 | %floor% = 28] Set 6 = ServiceWall #Wall Texture
	if[%floor% = 29] Set 6 = ExtFacade #Wall Texture

	Set 6X = ServiceLobbyWall #Wall Texture

	#Override wall texture for support columns
	Set 6A = %6% #Wall Texture
	if[%floor% = -1] Set 6A = ColumnTex #Wall Texture
<EndFunction>

<Function CeilingTex>
	if[%floor% < 6] Set 7 = LobbyCeiling #Ceiling Texture
	if[%floor% > 5 & %floor% < 10] Set 7 = LobbyCeiling2 #Ceiling Texture
	if[%floor% > 9 & %floor% < 25] Set 7 = WardCeiling #Ceiling Texture
	if[%floor% = 25 | %floor% = 26] Set 7 = SummitCeiling #Ceiling Texture
	if[%floor% = 27 | %floor% = 28] Set 7 = ServiceCeiling #Ceiling Texture
<EndFunction>

#########################################################################

#Exterior and interior
<Floor -1>
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor SubterraneanFloor, %5%, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor SubterraneanCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false
	
	#Interior perimeter walls
	Set WallHeight = %height%
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall FrontPWall_1, %6%, 0.5, -%1%, -%2%, 0, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall FrontPWall_2A, %6X%, 0.5, 0 + 12, -%2%, 0 + 22, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall FrontPWall_2B, %6%, 0.5, 0 + 22, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPWall_1, %6%, 0.5, -%1%, -%2%, -%1%, -%2% + 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPWall_2, %6%, 0.5, -%1%, -%2% + 20 + 40, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall RightPWall1, %6%, 0.5, %1%, -%2%, %1%, 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall RightPWall2, %6X%, 0.5, %1%, 10, %1%, %2% - 34, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall BackPWall1, %6%, 0.5, -%1%, %2%, %1% - 22, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall BackPWall2, %6X%, 0.5, %1% - 22, %2%, %1% - 12, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloor>

<Floors 0 to 26>
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1] AddFloor TowerFloor, %5%, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 0] AddFloor TowerCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false
	
	#Exterior perimeter walls
	if[%floor% = 0] Set WallHeight = %height% + Floor(1).FullHeight
	if[%floor% = 0] Set WallOffset = %interfloorheight%
	if[%floor% > 0] Set WallHeight = %fullheight%
	if[%floor% > 0] Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1] AddWall FrontPWall_Ext1, ExtFacade, 0.5, -%1%, -%2%, -%1% + (30 * 2), -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall FrontPWall_Ext2, ExtFacade, 0.5, 0, -%2%, 0 + 25, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftPWall_Ext1, ExtFacade, 0.5, -%1%, -%2%, -%1%, -%2% + 40 + 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall LeftPWall_Ext2, ExtFacade, 0.5, -%1%, 20, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1] AddWall RightPWall_Ext, ExtFacade, 0.5, %1%, 10, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall BackPWall_Ext1, ExtFacade, 0.5, -%1%, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#if[%floor% ! 1] AddWall BackPWall_Ext1A, ExtFacade, 0.5, -%1% + 50, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	if[%floor% ! 1] AddWall BackPWall_Ext2, ExtFacade, 0.5, %1% - 25, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Interior perimeter walls
	Set WallHeight = %height%
	if[%floor% = 0] Set WallHeight = %height% + Floor(1).FullHeight
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = false, true, false, true, false, false
	if[%floor% ! 1] AddWall FrontPWall_Int1, %6%, 0.5, -%1%, -%2%, -%1% + 48 + 12, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1] AddWall FrontPWall_Int2A, %6X%, 0.5, 0 + 12, -%2%, 0 + 22, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = false, true, false, true, false, false
	if[%floor% ! 1] AddWall FrontPWall_Int2B, %6%, 0.5, 0 + 22, -%2%, 0 + 25, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! 1] AddWall LeftPWall_Int1, %6%, 0.5, -%1%, -%2%, -%1%, -%2% + 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = false, true, true, false, false, false
	if[%floor% ! 1] AddWall LeftPWall_Int2, %6%, 0.5, -%1%, 20, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, false, true, false, false, false
	if[(%floor% ! 1 & %floor% < 10) | %floor% > 24] AddWall RightPWall_IntA, %6%, 0.5, %1%, 10, %1%, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = true, false, false, false, false, false
	if[(%floor% ! 1 & %floor% < 10) | %floor% > 24] AddWall RightPWall_IntB, %6X%, 0.5, %1%, 20, %1%, %2% - 34, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% > 9 & %floor% < 25] AddWall RightPWall_IntC, %6X%, 0.5, %1%, 10, %1%, %2% - 34, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	DrawWalls = true, false, false, true, false, false
	if[%floor% ! 1] AddWall BackPWall_Int1, %6%, 0.5, -%1%, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#DrawWalls = true, false, true, true, false, false
	#if[%floor% ! 1] AddWall BackPWall_Int1A, %6%, 0.5, -%1% + 50, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1] AddWall BackPWall_Int2, %6X%, 0.5, %1% - 22, %2%, %1% - 12, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = true, false, true, false, false, false
	if[%floor% ! 1] AddWall BackPWall_Int3, %6%, 0.5, %1% - 25, %2%, %1% - 22, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Windows
	Set winheight = %height%
	if[%floor% = 0] Set winheight = %height% + Floor(1).FullHeight
	Set winoffset = %interfloorheight%

	SetAutoSize = true, false
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% ! 1] AddWall FrontWindows1, MainWindows, 0, -%1% + (30 * 2), -%2%, 0, -%2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% ! 1] AddWall FrontWindows2, MainWindows, 0, 0 + 25, -%2%, %1%, -%2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall LeftWindows, MainWindows, 0, -%1%, -%2% + 40 + 20, -%1%, 20, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	if[%floor% ! 1] AddWall RightWindows, MainWindows, 0, %1%, -%2%, %1%, 10, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	#TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	#if[%floor% ! 1] AddWall BackWindows1, MainWindows, 0, -%1% + 40, %2%, -%1% + 50, %2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	if[%floor% ! 1] AddWall BackWindows, MainWindows, 0, -%1% + 60, %2%, %1% - 25, %2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	SetAutoSize = true, true
	
	#Interfloor covers
	Set winheight = %interfloorheight%
	Set winoffset = 0

	SetAutoSize = true, false
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall FrontICover1, MainWindows, 0, -%1% + (30 * 2), -%2%, 0, -%2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall FrontICover2, MainWindows, 0, 0 + 25, -%2%, %1%, -%2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindows, MainWindowsInt, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall LeftICover, MainWindows, 0, -%1%, -%2% + 40 + 20, -%1%, 20, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall RightICover, MainWindows, 0, %1%, -%2%, %1%, 10, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	#TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	#if[%floor% > 1] AddWall BackICover1, MainWindows, 0, -%1% + 40, %2%, -%1% + 50, %2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	TextureOverride MainWindowsInt, MainWindows, Blank, Blank, Blank, Blank
	if[%floor% > 1] AddWall BackICover, MainWindows, 0, -%1% + 60, %2%, %1% - 25, %2%, %winheight%, %winheight%, %winoffset%, %winoffset%, 0, 0, true
	SetAutoSize = true, true
	
	#Additional windows
		Set winheight = %height% - 4.5
		if[%floor% = 0] Set winheight = %height% + Floor(1).FullHeight - 6.5
		Set winoffset = 3.5
		if[%floor% = 0] Set winoffset = 4.5

		#Back windows on perimeter walls
		if[%floor% ! 1] WindowsZ2(BackWindows_Extra, -%1% + 50, %2%, back, 12, %winheight%, %winoffset%, MainWindowsIntB, MainWindowsB, %6%, 0.75, 1)

		#Elevator lobby windows
		if[%floor% > 1] WindowsZ2(EastServiceElev_Windows, %1% - 12 - 5, %2%, back, 8, %height% - 4.5, 3.5, MainWindowsIntB, MainWindowsB, %6X%, 0.5, 1)
		if[%floor% > 1] WindowsZ2(CentralServiceElev_Windows, 0 + 12 + 5, -%2%, front, 8, %height% - 4.5, 3.5, MainWindowsB, MainWindowsIntB, %6X%, 0.5, 1)
		if[%floor% > 1] WindowsZ2(HighRiseElev_Windows, -%1% + 12 + 5, -%2%, front, 8, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1)
		if[%floor% > 1] WindowsZ2(LowRiseElev_Windows, -%1% + 60 - 12 - 5, -%2%, front, 8, %height% - 2, 1, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1)

		#Set winheight = %height% - 2
		#if[%floor% = 0] Set winheight = %height% + Floor(1).FullHeight - 2
		#if[%floor% ! 1] WindowsX2(HighRiseElev_Windows2, -%1%, -%2% + 10, left, 12, %winheight%, 1, MainWindowsB, MainWindowsIntB, %6%, 0.75, 1)

		if[%floor% = 0] WindowsZ2(HighRiseElev_Windows2, -%1% + 12 + 5, -%2%, front, 8, 10, 8.5, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1)
		if[%floor% = 0] WindowsZ2(LowRiseElev_Windows2, -%1% + 60 - 12 - 5, -%2%, front, 8, 10, 8.5, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1)

		Set RestroomWinOffset = 6
		if[%floor% = 0] Set RestroomWinOffset = 8

		#Restroom windows
		if[%floor% ! 1] WindowsZ2(Restroom1_Windows, -%1% + 20 - 10 + 0.75, %2%, back, 16, 2, %RestroomWinOffset%, MainWindowsIntB, MainWindowsB, %6%, 1, 1)
		if[%floor% ! 1] WindowsZ2(Restroom2_Windows, -%1% + 25 - 0.25, %2%, back, 8, 2, %RestroomWinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1)
		if[%floor% ! 1] WindowsZ2(Restroom2_Windows, -%1% + 35 + 0.25, %2%, back, 8, 2, %RestroomWinOffset%, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1)
<EndFloors>

<Function CreateDepartment>
	#Parameter 1 = Name
	#Parameter 2 = Sign texture

	WallTex() #Set wall textures

	Set WallHeight = %height%
	Set WallOffset = 0

	#Entrance walls
	WallOrientation = right
	DrawWalls = true, true, false, false, false, false
	AddWall %param1%Entrance, %6%, 0.5, -60, 0, -60, %2% - 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Doors
	Set Texture = Door88
	if[%floor% = 4] Set Texture = Door6
	Set MainZ = 5
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -60.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -60.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -60.5, %MainZ%, 6, 7, 0, false, 0, 0, false
	AddBoxSign(%param1%_Exit, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, -60, %MainZ%, 1.8, 0.9, 7.2, false)

	Set MainZ = 25
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -60.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -60.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -60.5, %MainZ%, 6, 7, 0, false, 0, 0, false

	#Sign
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddBoxSign(%param1%EntranceSign, %param2%, Sign_LB_Long, Sign_LB_Long, 0.1, false, false, false, -60.5, 5 + 8, 6, 1.5, 5.5, false)
<EndFunction>

<Floor -1>
	CreateDepartment(X-Ray, Sign_X-Ray)
<EndFloor>

<Floor 0>
	WallTex()

	Set WallHeight = %height%
	if[%floor% = 0] Set WallHeight = %height% + Floor(1).FullHeight
	Set WallOffset = 0

	#Emergency room
	#Entrance walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall ERLeft, %6%, 0.5, 0, -5, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall ERFront, %6%, 0.5, 0, -5, 97.5 + 0.5, -5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	AddWall ERRight, %6%, 0.5, 97.5 + 0.5, -5, 97.5 + 0.5, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Doors (West side)
	Set Texture = Door88
	Set MainZ = 20
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, 0, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, 0, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, 0, %MainZ%, 6, 7, 0, false, 0, 0, false

	Set MainZ = 40
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, 0, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, 0, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, 0, %MainZ%, 6, 7, 0, false, 0, 0, false
	
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddBoxSign(ER_WestEntSign, Sign_ER, Sign_LB_Long, Sign_LB_Long, 0.1, false, false, false, 0, 20 + 8, 6, 1.5, 5.5, false)

	#Doors (South side)
	Set Texture = Door88
	Set MainX = 45
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, %MainX% - 1.5, -5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, %MainX% + 1.5, -5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %MainX%, -5, 6, 7, 0, true, 0, 0, false

	Set MainX = 75
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, %MainX% - 1.5, -5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, %MainX% + 1.5, -5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %MainX%, -5, 6, 7, 0, true, 0, 0, false

	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddBoxSign(ER_SouthEntSign, Sign_ER, Sign_LB_Long, Sign_LB_Long, 0.1, true, false, false, 45 + 8, -5, 6, 1.5, 5.5, false)
<EndFloor>

<Function CreateClinic>
	WallTex()

	#Determine wall heights
	Set WallHeight = %height%
	Set WallOffset = 0

	#Clinic walls
	DrawWalls = true, true, false, false, false, false
		#North
		WallOrientation = left
		AddWall Clinic_North, %6%, 0.5, -79.5, 20, 97.5, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#South
		WallOrientation = right
		AddWall Clinic_South1, %6%, 0.5, -60, -10, 11.5, -10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall Clinic_South2, %6%, 0.5, 22.5, -10, %1%, -10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		
	#Clinic doors & signs
		#Clinic 1 (North)
		Set Texture = Door88
		Set MainX = 15 - 7.5
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 8, 75, %MainX% - 1.5, 20, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 5, 75, %MainX% + 1.5, 20, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, 20, 6, 7, 0, true, 0, 0, false

		Set MainX = 15 + 7.5
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 8, 75, %MainX% - 1.5, 20, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 5, 75, %MainX% + 1.5, 20, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, 20, 6, 7, 0, true, 0, 0, false

		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		AddBoxSign(Clinic1_Sign, Sign_F%floorid%_Clinic1, Sign_LB_Long, Sign_LB_Long, 0.1, true, false, false, 15, 20, 6, 1.5, 5.5, false)

		#Clinic 2 (Southwest)
		Set Texture = Door88
		Set MainX = -30 + 7.5
		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, %MainX% - 1.5, -10, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, %MainX% + 1.5, -10, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -10, 6, 7, 0, true, 0, 0, false

		Set MainX = -30 - 7.5
		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, %MainX% - 1.5, -10, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, %MainX% + 1.5, -10, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -10, 6, 7, 0, true, 0, 0, false

		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(Clinic2_Sign, Sign_LB_Long, Sign_F%floorid%_Clinic2, Sign_LB_Long, 0.1, true, false, false, -30, -10, 6, 1.5, 5.5, false)

		#Clinic 3 (Southeast)
		Set Texture = Door88
		Set MainX = 75 + 7.5
		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, %MainX% - 1.5, -10, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, %MainX% + 1.5, -10, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -10, 6, 7, 0, true, 0, 0, false

		Set MainX = 75 - 7.5
		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 7, 75, %MainX% - 1.5, -10, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 6, 75, %MainX% + 1.5, -10, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %MainX%, -10, 6, 7, 0, true, 0, 0, false

		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(Clinic3_Sign, Sign_LB_Long, Sign_F%floorid%_Clinic3, Sign_LB_Long, 0.1, true, false, false, 75, -10, 6, 1.5, 5.5, false)
<EndFunction>

<Floors 2 to 7>
	if[%floor% ! 4] CreateClinic()
	if[%floor% = 4] CreateDepartment(OR, Sign_OR)
<EndFloors>

<Floors 8 to 9>
	WallTex()
	if[%floor% = 8] CreateDepartment(Rehab_8F, Sign_Rehab_8F)
	if[%floor% = 9] CreateDepartment(MRI, Sign_MRI)
<EndFloors>

<Floors 25 to 26>
	WallTex()

	#Cuts for hall opening
	if[%floor% = 26] CutAll -50, %interfloorheight% - 0.5, -10, 85, %interfloorheight% + 0.5, %2%, false, true
	if[%floor% = 25] CutAll -50, %fullheight% - 0.5, -10, 85, %fullheight% + 0.5, %2%, false, true

	#Hall entrance wall
	WallOrientation = center
	DrawWalls = true, true, false, false, false, false
	AddWall HallEntranceWall, %6%, 1, -60, -%2%, -60, %2%, %height%, %height%, 0, 0, 0, 0, false

	#Doors
	Set Texture = Door9b
	Set MainZ = -15
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -60.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -60.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls %Texture%Side, 1, -60.5, %MainZ%, 6, 7, 0, false, 0, 0, false

	Set MainZ = 5
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -60.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -60.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls %Texture%Side, 1, -60.5, %MainZ%, 6, 7, 0, false, 0, 0, false
	AddBoxSign(Hall_Exit, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, false, true, true, -59.5 + 0.05, %MainZ%, 1.8, 0.9, 7.2, false)

	Set Texture = Door9b
	Set MainZ = 25
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -60.5, %MainZ% - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -60.5, %MainZ% + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls %Texture%Side, 1, -60.5, %MainZ%, 6, 7, 0, false, 0, 0, false

	#Mezzanine railings
	WallOrientation = right
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	DrawWalls = true, true, false, false, true, false
	if[%floor% = 26] AddWall HallMez_FrontRail, %6%, 0.5, -50, -10, 85, -10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = true, true, true, false, true, false
	if[%floor% = 26] AddWall HallMez_LeftRail, %6%, 0.5, -50, -10 - 0.5, -50, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% = 26] AddWall HallMez_RightRail, %6%, 0.5, 85, -10 - 0.5, 85, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

#Restroom function
<Function AddRestrooms>
	Set WallHeight = %height%
	if[%floor% = 0] Set WallHeight = %height% + Floor(1).FullHeight
	Set WallOffset = 0

	#Outside walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall RestroomWall_Front, %6%, 0.5, -%1%, 20, -%1% + 40 + 0.5, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = center
	AddWall RestroomWall_Right, %6%, 1, -%1% + 40, 20, -%1% + 40, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Divider walls
	AddWall RestroomWall_Divider1, %6%, 1, -%1% + 20, 20, -%1% + 20, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall RestroomWall_Divider2, %6%, 1, -%1% + 20 - 12, 20, -%1% + 20 - 12, 20 + 12 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall RestroomWall_Divider3, %6%, 1, -%1% + 20 - 12 - 0.5, 20 + 12, -%1% + 20, 20 + 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Ceiling
	Set RestroomHeight = 8.5
	if[%floor% = 0] Set RestroomHeight = 10.5

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor RestroomCei1, RestroomCeilingAirIn, 0.5, -%1%, 20, -%1% + 20 - 12, %2%, %RestroomHeight%, %RestroomHeight%, -1, 0, false
	AddFloor RestroomCei2, RestroomCeilingVents, 0.5, -%1% + 20 - 12, 20 + 12, -%1% + 20, %2%, %RestroomHeight%, %RestroomHeight%, 0, 0, false
	AddFloor RestroomCei3, RestroomCeilingVents, 0.5, -%1% + 20 - 12, 20, -%1% + 20 - 6, 20 + 12, %RestroomHeight%, %RestroomHeight%, -1, 0, false
	AddFloor RestroomCei4, RestroomCeilingAirIn, 0.5, -%1% + 20 - 6, 20, -%1% + 20, 20 + 12, %RestroomHeight%, %RestroomHeight%, 0, 0, false
	AddFloor RestroomCei5, RestroomCeilingVents, 0.5, -%1% + 20, 20, -%1% + 20 + 12, %2%, %RestroomHeight%, %RestroomHeight%, -1, 0, false
	AddFloor RestroomCei6, RestroomCeilingAirIn, 0.5, -%1% + 20 + 12, 20, -%1% + 40, %2%, %RestroomHeight%, %RestroomHeight%, -1, 0, false

	#Doors
	Set RestroomDoorTex = Door9b
	if[%floor% < 3] Set RestroomDoorTex = Door8
	if[%floor% > 9 & %floor% < 25] Set RestroomDoorTex = Door6

		#Set offsets for overhead signs
		Set ExtraOffset = 0
		if[%floor% = 0] Set ExtraOffset = 1

	#Men's restrooom
	WallOrientation = right
	TextureOverride %RestroomDoorTex%, %RestroomDoorTex%, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side
	AddDoor , , false, %RestroomDoorTex%, 0.2, 7, 75, -%1% + 2.25 + 2, 20.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -%1% + 2.25 + 2, 20.5, 3, 7, 0, true, 0, 0, false		
	AddBoxSign(RestroomSignA, Sign_RestroomM, BlackTrim, BlackTrim, 0.1, true, true, true, -%1% + 4.25 + 1.5 + 1, 20 - 0.05, 1, 1, 5, false)
	if[%floor% < 10] AddBoxSign(RestroomSignA2, Sign_RestroomM, Sign_RestroomM, BlackTrim, 0.1, false, true, true, -%1% + 2.25 + 2, 20 - 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)

	#Women's restroom
	WallOrientation = right
	TextureOverride %RestroomDoorTex%, %RestroomDoorTex%, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side
	AddDoor , , false, %RestroomDoorTex%, 0.2, 6, 75, -80.5 - 2, 20.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -80.5 - 2, 20.5, 3, 7, 0, true, 0, 0, false		
	AddBoxSign(RestroomSignB, Sign_RestroomW, BlackTrim, BlackTrim, 0.1, true, true, true, -80.5 - 2 - 1.5 - 1, 20 - 0.05, 1, 1, 5, false)
	if[%floor% < 10] AddBoxSign(RestroomSignB2, Sign_RestroomW, Sign_RestroomW, BlackTrim, 0.1, false, true, true, -80.5 - 2, 20 - 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)

	#Priority restroom
	WallOrientation = left
	TextureOverride %RestroomDoorTex%, %RestroomDoorTex%, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side, %RestroomDoorTex%Side
	AddDoor , , false, %RestroomDoorTex%, 0.2, 5, 75, -%1% + 20 - 3, 20, 4, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -%1% + 20 - 3, 20, 4, 7, 0, true, 0, 0, false		
	AddBoxSign(RestroomSignC, Sign_RestroomPri, BlackTrim, BlackTrim, 0.1, true, true, true, -%1% + 20 - 3 - 2 - 1, 20 - 0.05, 1, 1, 3.5, false)
	if[%floor% < 10] AddBoxSign(RestroomSignC2, Sign_RestroomPri, Sign_RestroomPri, BlackTrim, 0.1, false, true, true, -%1% + 20 - 3, 20 - 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)

	#Hallway sign
	Set ExtraOffset = 0
	if[%floor% = 0] Set ExtraOffset = 1

	#AddBoxSign(MainRestroomSign, Sign_Restroom, Sign_Restroom, BlackTrim, 0.1, false, true, true, -%1% + 20, 20 - 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
<EndFunction>

#Utility room function
<Function UtilityRoom>
	#Set wall heights
	Set WallHeight = %height%
	if[%floor% = 0] Set WallHeight = %height% + Floor(1).FullHeight
	Set WallOffset = 0

	#Inside walls
	DrawWalls = true, true, false, false, false, false

	WallOrientation = right
	if[%floor% ! 0 & %floor% ! 1] AddWall UtilityRoom_IntFarWest, %6%, 0.5, -108, -%2%, -108, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% > 13] AddWall UtilityRoom_IntWest, %6%, 0.5, -98, -%2%, -98, -24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	if[%floor% < 10 | %floor% > 15] AddWall UtilityRoom_IntEast, %6%, 0.5, -82, -%2%, -82, -24, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% < 10] AddWall UtilityRoom_IntFarEast, %6%, 0.5, -72, -%2%, -72, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Outside walls
	WallOrientation = right
	if[%floor% < 16] AddWall UtilityRoom_Right, %6%, 0.5, -60, -%2%, -60, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	if[%floor% = -1 | (%floor% > 1 & %floor% < 14)] AddWall UtilityRoomBack1, %6%, 0.5, -108, 0, -98, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% > 9 & %floor% < 16] AddWall UtilityRoomBack2, %6%, 0.5, -82, 0, -72, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Doors
		#West access point (Levels B-13)
		WallOrientation = right
		Set DTex = ServiceDoor1
		Set MainX = -103
		Set MainZ = 0
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 14] AddDoor , , false, %DTex%, 0.2, 7, 75, %MainX% - 1.5, %MainZ%, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 14] AddDoor , , false, %DTex%, 0.2, 6, 75, %MainX% + 1.5, %MainZ%, 3, 7, 0, 0, 0
		if[%floor% < 14] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, true, 0, 0, false

		#East access point (Levels 10-15)
		WallOrientation = right
		Set DTex = ServiceDoor1
		Set MainX = -77
		Set MainZ = 0
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 9 & %floor% < 16] AddDoor , , false, %DTex%, 0.2, 7, 75, %MainX% - 1.5, %MainZ%, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 9 & %floor% < 16] AddDoor , , false, %DTex%, 0.2, 6, 75, %MainX% + 1.5, %MainZ%, 3, 7, 0, 0, 0
		if[%floor% > 9 & %floor% < 16] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, true, 0, 0, false

		#Far west side
		WallOrientation = right
		Set DTex = ServiceDoor3
		Set MainX = -108
		Set MainZ = -50
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 3, 75, %MainX%, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 2, 75, %MainX%, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, false, 0, 0, false
		
		#West side (Levels 14-26)
		WallOrientation = left
		Set DTex = ServiceDoor3
		Set MainX = -98
		Set MainZ = -42
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 13] AddDoor , , false, %DTex%, 0.2, 4, 75, %MainX%, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 13] AddDoor , , false, %DTex%, 0.2, 1, 75, %MainX%, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% > 13] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, false, 0, 0, false

		#East side (Levels B and 2-9)
		WallOrientation = right
		Set DTex = ServiceDoor3
		Set MainX = -82
		Set MainZ = -42
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 10] AddDoor , , false, %DTex%, 0.2, 3, 75, %MainX%, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 10] AddDoor , , false, %DTex%, 0.2, 2, 75, %MainX%, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% < 10] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, false, 0, 0, false

		#Far east side, acccess from inside (Levels B and 2-9)
		WallOrientation = left
		Set DTex = ServiceDoor3
		Set MainX = -72
		Set MainZ = -50
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 10] AddDoor , , false, %DTex%, 0.2, 4, 75, %MainX%, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% < 10] AddDoor , , false, %DTex%, 0.2, 1, 75, %MainX%, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% < 10] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, false, 0, 0, false

		#Far east side, acccess from outside (Levels 10-13)
		WallOrientation = right
		Set DTex = ServiceDoor1
		Set MainX = -60
		Set MainZ = -50
		Set DTexAlt = %DTex%
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 9 & %floor% < 14] AddDoor , , false, %DTex%, 0.2, 3, 75, %MainX%, %MainZ% + 1.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% > 9 & %floor% < 14] AddDoor , , false, %DTex%, 0.2, 2, 75, %MainX%, %MainZ% - 1.5, 3, 7, 0, 0, 0
		if[%floor% > 9 & %floor% < 14] AddFillerWalls ConnectionWall, 0.5, %MainX%, %MainZ%, 6, 7, 0, false, 0, 0, false
<EndFunction>

<Floors -1 to 26>
	WallTex()
	
	#Restrooms
	if[%floor% ! 1] AddRestrooms()
	
	#Utility rooms in place of elevator lobbies
	if[%floor% = -1 | %floor% > 1] UtilityRoom()
<EndFloors>

<Function PatientRoom-North>
	Set MainX = %param1%
	Set Open = %param2%
	Set RoomNo = %param3%
	Set RoomSignTex = Sign_PtRoom(%floorid%)(%RoomNo%)
	if[%RoomNo% < 10] Set RoomSignTex = Sign_PtRoom(%floorid%)0(%RoomNo%)
	
	#Door
	WallOrientation = right
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, %Open%, 75, %MainX%, 10.5, 4, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %MainX%, 10.5, 4, 7, 0, true, 0, 0, false		

	#Room sign
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddBoxSign(Room%RoomNo%_Sign, %RoomSignTex%, Sign_LightBlue, Sign_LightBlue, 0.1, true, false, false, %MainX%, 10, 1.5, 0.75, 7.5, false)
<EndFunction>

<Function PatientRoom-South>
	Set MainX = %param1%
	Set Open = %param2%
	Set RoomNo = %param3%
	Set RoomSignTex = Sign_PtRoom(%floorid%)(%RoomNo%)
	if[%RoomNo% < 10] Set RoomSignTex = Sign_PtRoom(%floorid%)0(%RoomNo%)
	
	#Door
	WallOrientation = left
	TextureOverride %DoorTex%, %DoorTex%, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side, %DoorTex%Side
	AddDoor , , false, %DoorTex%, 0.2, %Open%, 75, %MainX%, -0.5, 4, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.5, %MainX%, -0.5, 4, 7, 0, true, 0, 0, false		

	#Room sign
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddBoxSign(Room%RoomNo%_Sign, Sign_LightBlue, %RoomSignTex%, Sign_LightBlue, 0.1, true, false, false, %MainX%, 0, 1.5, 0.75, 7.5, false)
<EndFunction>

<Floors 10 to 24>
	WallTex()

	#Determine wall heights
	Set WallHeight = %height%
	Set WallOffset = 0

	#Determine wall endpoints (Southern side)
	Set WestEndpoint = -82
	if[%floor% > 9 & %floor% < 14] Set WestEndpoint = -50
	if[%floor% > 13 & %floor% < 16] Set WestEndpoint = -60
	Set ExtraEndpoint = 0
	if[%floor% > 9 & %floor% < 14] Set ExtraEndpoint = 0.5

	#Patient room walls
	DrawWalls = true, true, false, false, false, false
		#North
		WallOrientation = center
		AddWall PRWall_North1, %6%, 1, -80, 10, -80, 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider1, %6%, 1, -50, 10, -50, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider2, %6%, 1, -25, 10, -25, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider3, %6%, 1, 0, 10, 0, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider4, %6%, 1, 30, 10, 30, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider6, %6%, 1, 50, 10, 50, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_NorthDivider7, %6%, 1, 70, 10, 70, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = left
		AddWall PRWall_North2, %6%, 0.5, -80 - 0.5, 10, 97.5, 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#South
		WallOrientation = center
		if[%floor% < 14] AddWall PRWall_South1A, %6%, 1, %WestEndpoint%, -%2%, %WestEndpoint%, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_SouthDivider1, %6%, 1, 90, -%2%, 90, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_SouthDivider2, %6%, 1, 60, -%2%, 60, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_SouthDivider3, %6%, 1, -20, -%2%, -20, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		if[%floor% > 13] AddWall PRWall_SouthDivider4, %6%, 1, -40, -%2%, -40, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		if[%floor% > 15] AddWall PRWall_SouthDivider5, %6%, 1, -60, -%2%, -60, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = right
		AddWall PRWall_South1B, %6%, 0.5, %WestEndpoint% - %ExtraEndpoint%, 0, 11.5, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		AddWall PRWall_South2, %6%, 0.5, 22.5, 0, %1%, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		
	#Patient room doors
		Set DoorTex = Door6

		#Northern side
		PatientRoom-North(-65, 7, 1)
		PatientRoom-North(-30, 6, 2)
		PatientRoom-North(-20, 7, 3)
		PatientRoom-North(5, 7, 4)
		PatientRoom-North(45, 6, 5)
		PatientRoom-North(55, 7, 6)
		PatientRoom-North(90, 6, 7)
		
		#Southern side
		PatientRoom-South(115, 5, 8)
		PatientRoom-South(65, 8, 9)
		PatientRoom-South(55, 5, 10)
		PatientRoom-South(-15, 8, 11)
		PatientRoom-South(-25, 5, 12)
		if[%floor% > 13] PatientRoom-South(-55, 8, 13)
		if[%floor% > 15] PatientRoom-South(-65, 5, 14)
<EndFloors>

#Cut windows for "Lobby windows"
	#South side
	Cut external, -50, Floor(0).Base, -%2% - 0.1, -40, Floor(2).Altitude, -%2% + 0.1, true, false
	Cut external, -20, Floor(0).Base, -%2% - 0.1, -10, Floor(2).Altitude, -%2% + 0.1, true, false
	Cut external, 40, Floor(0).Base, -%2% - 0.1, 50, Floor(2).Altitude, -%2% + 0.1, true, false
	Cut external, 70, Floor(0).Base, -%2% - 0.1, 80, Floor(2).Altitude, -%2% + 0.1, true, false

	#East side
	Cut external, %1% - 0.1, Floor(0).Base, -40, %1% + 0.1, Floor(2).Altitude, -30, true, false
	Cut external, %1% - 0.1, Floor(0).Base, -10, %1% + 0.1, Floor(2).Altitude, 0, true, false

	#North side
	Cut external, -40, Floor(0).Base, %2% - 0.1, -20, Floor(2).Altitude, %2% + 0.1, true, false

<Floor 0>
	WallTex() #Set wall textures
	
	#Flooring at elevator lobby
	CutAll -%1%, %interfloorheight% - 0.1, -%2%, -60, %interfloorheight% + 0.1, 0, false, true

		#Floor creation
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor LobbyFloor_TR1, BlackTrim, 0.5, -60 - 0.2, -%2%, -60, 0, 0, 0, 0, 0, false
		AddFloor LobbyFloor_TR2, BlackTrim, 0.5, -%1%, 0 - 0.2, -60 - 0.2, 0, 0, 0, 0, 0, false
		AddFloor LobbyFloor_Main, LobbyFloor_West, 0.5, -%1%, -%2%, -60 - 0.2, 0 - 0.2, 0, 0, 0, 0, false

	#Lobby windows
	Set WinPrefix = Lobby
	Set winheight = %height% + Floor(1).FullHeight

		#Front
		SetAutoSize = true, false
		AddCustomWindows(FrontLobbyWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -50, -%2%, -40, -%2%, %winheight%, 0, 0, 3, ExtFacade, %6%)
		AddCustomWindows(FrontLobbyWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, -20, -%2%, -10, -%2%, %winheight%, 0, 0, 3, ExtFacade, %6%)
		AddCustomWindows(FrontLobbyWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, 40, -%2%, 50, -%2%, %winheight%, 0, 0, 3, ExtFacade, %6%)
		AddCustomWindows(FrontLobbyWin2, %WinPrefix%Windows, %WinPrefix%WindowsInt, 70, -%2%, 80, -%2%, %winheight%, 0, 0, 3, ExtFacade, %6%)

		#Left
		AddCustomWindows(LeftLobbyWin1, %WinPrefix%Windows, %WinPrefix%WindowsInt, -%1%, 0, -%1%, 20, %winheight%, 0, 0, 3, ExtFacade, %6%)

		#Right
		AddCustomWindows(RightLobbyWin1, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -40, %1%, -30, %winheight%, 0, 0, 3, ExtFacade, %6%)
		AddCustomWindows(RightLobbyWin2, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -10, %1%, 0, %winheight%, 0, 0, 3, ExtFacade, %6%)

		#Back
		AddCustomWindows(BackLobbyWin1, %WinPrefix%WindowsInt, %WinPrefix%Windows, -40, %2%, -20, %2%, %winheight%, 0, 0, 3, ExtFacade, %6%)
		SetAutoSize = true, true

	### West Entrance Doors ###
	Set MainZ = 5
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 4, 75, -%1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 1, 75, -%1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	Set MainZ = 15
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 4, 75, -%1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 1, 75, -%1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	### East Entrance Doors ###
	Set MainZ = -35
	WallOrientation = right
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 3, 75, %1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 2, 75, %1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	Set MainZ = -5
	WallOrientation = right
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 3, 75, %1%, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 2, 75, %1%, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

	### North Entrance Doors ###
	Set MainX = -35
	WallOrientation = right
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 6, 75, %MainX% + 1.75, %2%, 3.5, 8, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 7, 75, %MainX% - 1.75, %2%, 3.5, 8, %interfloorheight%, 0, 0

	Set MainX = -25
	WallOrientation = right
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 6, 75, %MainX% + 1.75, %2%, 3.5, 8, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Int, Door88Trans_Ext, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 7, 75, %MainX% - 1.75, %2%, 3.5, 8, %interfloorheight%, 0, 0

	### South Entrance Doors ###
	#West (Elevator lobby)
	Set MainX = -103
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0

	WallOrientation = left
	AddFillerWalls %6%, 0.5, %MainX%, -%2%, 6, 7, %interfloorheight%, true, 0, 0, true

	Set MainX = -77
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0

	WallOrientation = left
	AddFillerWalls %6%, 0.5, %MainX%, -%2%, 6, 7, %interfloorheight%, true, 0, 0, true

	#Center
	Set MainX = -45
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.75, -%2%, 3.5, 8, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.75, -%2%, 3.5, 8, %interfloorheight%, 0, 0

	Set MainX = -15
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.75, -%2%, 3.5, 8, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.75, -%2%, 3.5, 8, %interfloorheight%, 0, 0

	#Center (Service)
	Set MainX = 17
	WallOrientation = left
	TextureOverride ServiceDoor3, ServiceDoor3, ServiceDoor3Side, ServiceDoor3Side, ServiceDoor3Side, ServiceDoor3Side
	AddExternalDoor , , false, ServiceDoor3, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride ServiceDoor3, ServiceDoor3, ServiceDoor3Side, ServiceDoor3Side, ServiceDoor3Side, ServiceDoor3Side
	AddExternalDoor , , false, ServiceDoor3, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0

	WallOrientation = left
	AddFillerWalls ConnectionWall, 0.5 + 0.02, %MainX%, -%2% - 0.01, 6, 7, %interfloorheight%, true, 0, 0, true
	AddBoxSign(ServiceEnt_ExitSign, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %MainX%, -%2% + 0.55, 1.8, 0.9, 7.2, false)

	#East (Emergency room)
	Set MainX = 45
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0

	Set MainX = 75
	WallOrientation = left
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride Door88Trans_Ext, Door88Trans_Int, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side, Door88Trans_Side
	AddExternalDoor , , false, Door88Trans_Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7, %interfloorheight%, 0, 0
<EndFloor>

<Floors -1 to 26>
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	
	#Set wall heights
		Set wallh = %height%
		if[%floor% = 1] Set wallh = %fullheight%
		Set walloff = 0
		if[%floor% = 1] Set walloff = -%interfloorheight%

	#Central service area
	if[%floor% < 2 | %floor% = 4 | %floor% = 8 | %floor% = 9] Set NorthEnd = -20
	if[%floor% > 9 & %floor% < 25] Set NorthEnd = 0
	if[%floor% = 2 | %floor% = 3 | (%floor% > 4 & %floor% < 8)] Set NorthEnd = -10
	if[%floor% > 24] Set NorthEnd = -20
	Set WestEnd = 11.5
	if[%floor% ! 1] CutAll 0, %interfloorheight% - 0.5, -%2%, %WestEnd%, %interfloorheight% + 0.5, -26, false, true
	if[%floor% ! 0] CutAll 0, %fullheight% - 0.5, -%2%, %WestEnd%, %fullheight% + 0.5, -26, false, true

	if[%floor% ! 1] CutAll %WestEnd%, %interfloorheight% - 0.5, -%2%, 0 + 22, %interfloorheight% + 0.5, %NorthEnd%, false, true
	if[%floor% ! 0] CutAll %WestEnd%, %fullheight% - 0.5, -%2%, 0 + 22, %fullheight% + 0.5, %NorthEnd%, false, true

		#Floor & ceiling
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor CentralServiceAreaFlr1, ServiceLobbyFloor, 0.5, 0, -%2%, %WestEnd%, -26, 0, 0, 0, 0, false
		AddFloor CentralServiceAreaFlr2, ServiceLobbyFloor, 0.5, %WestEnd%, -%2%, 0 + 22, %NorthEnd%, 0, 0, 0, 0, false

		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor CentralServiceAreaCei1, ServiceLobbyCeiling, 0.5, 0, -%2%, %WestEnd%, -26, %height%, %height%, 0, 0, false
		AddFloor CentralServiceAreaCei2, ServiceLobbyCeiling, 0.5, %WestEnd%, -%2%, 0 + 22, %NorthEnd%, %height%, %height%, 0, 0, false

		#Walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, %6X%, Blank, Blank, Blank, Blank
		AddWall CServiceAreaLeft, %6X%, 0.5, %WestEnd%, -%2% + 34, %WestEnd%, %NorthEnd%, %wallh%, %wallh%, %walloff%, %walloff%, 0, 0, false

		#if[%floor% = -1 | %floor% > 13] Set BackWall_LeftEnd = 0
		#if[%floor% > -1 & %floor% < 14] Set BackWall_LeftEnd = 12
		Set BackWall_LeftEnd = %WestEnd%

		WallOrientation = right
		TextureOverride %6X%, %6%, Blank, Blank, Blank, Blank
		AddWall CServiceAreaBack, %6X%, 0.5, %BackWall_LeftEnd%, %NorthEnd%, 22 + 0.5, %NorthEnd%, %wallh%, %wallh%, %walloff%, %walloff%, 0, 0, false
		WallOrientation = center
		TextureOverride %6X%, %6%, Blank, Blank, Blank, Blank
		AddWall CServiceAreaRight, %6X%, 1, 22, -%2%, 22, %NorthEnd%, %wallh%, %wallh%, %walloff%, %walloff%, 0, 0, false
		
		#Doors
		Set DTex = ServiceDoor3
		Set MainX = 0 + 17
		Set DTexAlt = ServiceDoor3Trans
		if[%floor% = 4 | %floor% > 24] Set DTexAlt = %DTex%
		WallOrientation = left
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 5, 75, %MainX% + 1.5, %NorthEnd% - 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 8, 75, %MainX% - 1.5, %NorthEnd% - 0.5, 3, 7, 0, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %MainX%, %NorthEnd% - 0.5, 6, 7, 0, true, 0, 0, false

		#Signs
		Set SpecialSignPos = 5
		if[%floor% = 1] Set SpecialSignPos = -12.5
		if[%floor% > 24] Set SpecialSignPos = -15
		Set ExtraOffset = 0
		if[%floor% = 0] Set ExtraOffset = 1
		if[%floor% ! 1 & %floor% < 25] AddBoxSign(CServiceArea_SElev, Sign_ServiceElev, Sign_ServiceElev, BlackTrim, 0.1, false, true, true, %MainX% - 3.5, %NorthEnd% + 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
		if[%floor% ! 1 & %floor% < 26] AddBoxSign(CServiceArea_Exit, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, %MainX%, %NorthEnd% + 0.05, 1.8, 0.9, 7.2, false)
		if[%floor% ! 0] AddBoxSign(CServiceArea_Exit, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %MainX%, %SpecialSignPos%, 1.8, 0.9, %height% - 0.9, false)

	#East service area
	if[%floor% = -1 | (%floor% > 9 & %floor% < 25)] Set SouthEnd = 10
	if[(%floor% > -1 & %floor% < 10) | %floor% > 24] Set SouthEnd = 20
	if[%floor% ! 1] CutAll %1% - 22, %interfloorheight% - 0.5, %SouthEnd%, %1%, %interfloorheight% + 0.5, %2%, false, true
	if[%floor% ! 0] CutAll %1% - 22, %fullheight% - 0.5, %SouthEnd%, %1%, %fullheight% + 0.5, %2%, false, true

		#Floor & ceiling
		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor EastServiceAreaFlr, ServiceLobbyFloor, 0.5, %1% - 22, %SouthEnd%, %1%, %2%, 0, 0, 0, 0, false

		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EastServiceAreaCei, ServiceLobbyCeiling, 0.5, %1% - 22, %SouthEnd%, %1%, %2%, %height%, %height%, 0, 0, false

		#if[%floor% = -1 | %floor% > 9] Set FrontWall_RightEnd = %1%
		#if[%floor% > -1 & %floor% < 10] Set FrontWall_RightEnd = %1% - 12
		Set FrontWall_RightEnd = %1%
		
		#Walls
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		TextureOverride %6%, %6X%, Blank, Blank, Blank, Blank
		AddWall EServiceAreaLeft, %6X%, 1, %1% - 22, %SouthEnd%, %1% - 22, %2%, %wallh%, %wallh%, %walloff%, %walloff%, 0, 0, false
		DrawWalls = true, true, false, false, false, false
		WallOrientation = left
		TextureOverride %6%, %6X%, Blank, Blank, Blank, Blank
		AddWall EServiceAreaFront, %6X%, 0.5, %1% - 22 - 0.5, %SouthEnd%, %FrontWall_RightEnd%, %SouthEnd%, %wallh%, %wallh%, %walloff%, %walloff%, 0, 0, false
		
		#Doors
		Set DTex = ServiceDoor3
		Set MainX = %1% - 17
		Set DTexAlt = ServiceDoor3Trans
		if[%floor% = 4 | %floor% > 24] Set DTexAlt = %DTex%
		WallOrientation = right
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 6, 75, %MainX% + 1.5, %SouthEnd% + 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTexAlt%, %DTexAlt%, %DTex%Side, %DTex%Side, %DTex%Side, %DTex%Side
		if[%floor% ! 1] AddDoor , , false, %DTex%, 0.2, 7, 75, %MainX% - 1.5, %SouthEnd% + 0.5, 3, 7, 0, 0, 0
		if[%floor% ! 1] AddFillerWalls ConnectionWall, 0.5, %MainX%, %SouthEnd% + 0.5, 6, 7, 0, true, 0, 0, false

		#Signs
		Set SpecialSignPos = 5
		if[%floor% = 1] Set SpecialSignPos = -12.5
		Set ExtraOffset = 0
		if[%floor% = 0] Set ExtraOffset = 1
		if[%floor% ! 0 & %floor% ! 1 & %floor% < 26] AddBoxSign(EServiceArea_SElev, Sign_ServiceElev, Sign_ServiceElev, BlackTrim, 0.1, false, true, true, %MainX% + 3.5, %SouthEnd% - 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
		if[%floor% ! 1] AddBoxSign(EServiceArea_Exit, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, %MainX%, %SouthEnd% - 0.05, 1.8, 0.9, 7.2, false)
		if[%floor% ! 0] AddBoxSign(EServiceArea_Exit, ExitSignLeft, ExitSignRight, StainlessSteel, 0.1, false, true, true, %MainX%, %SpecialSignPos%, 1.8, 0.9, %height% - 0.9, false)
<EndFloors>

#Elevator lobby signs
<Floors -1 to 13>
	Set ExtraOffset = 0
	if[%floor% = 0] Set ExtraOffset = 1

	Set SignPos = -72 + 0.5
	if[%floor% > 9] Set SignPos = -60 - 0.5
	if[%floor% ! 0 & %floor% ! 1] AddBoxSign(LRElevSign, Sign_Elev, Sign_Elev, BlackTrim, 0.1, false, true, true, %SignPos%, 0 + 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
<EndFloors>

<Floor 0>
	Set ExtraOffset = 0
	if[%floor% = 0] Set ExtraOffset = 1

	Set SignPosA = -72 + 0.5
	Set SignPosB = -108 - 0.5
	AddBoxSign(LRElevSign1, Sign_LElev, Sign_LElev, ElevFirSignBack, 0.1, false, true, true, %SignPosA%, 0 + 1.25, 2.5, 2.5, 7.25 + %ExtraOffset%, false)
	AddBoxSign(HRElevSign1, Sign_HElev, Sign_HElev, ElevFirSignBack, 0.1, false, true, true, %SignPosB%, 0 + 1.25, 2.5, 2.5, 7.25 + %ExtraOffset%, false)
	AddBoxSign(LRElevSign2, Sign_LElev, Sign_LElev, ElevFirSignBack, 0.1, false, true, true, %SignPosA%, -40 - 1.25, 2.5, 2.5, 7.25 + %ExtraOffset%, false)
	AddBoxSign(HRElevSign2, Sign_HElev, Sign_HElev, ElevFirSignBack, 0.1, false, true, true, %SignPosB%, -40 - 1.25, 2.5, 2.5, 7.25 + %ExtraOffset%, false)
<EndFloor>

<Floors 14 to 26>
	AddBoxSign(HRElevSign, Sign_Elev, Sign_Elev, BlackTrim, 0.1, false, true, true, -108 - 0.5, 0 + 0.75, 1.5, 1.5, 7.75, false)
<EndFloors>

#Main roof
<Floor 27>
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MechanicalPHFloor, %5%, 0.5, -%1%, -%2%, -%1% + 60, %2%, 0, 0, 0, 0, false
	AddFloor RoofFloor, RoofFloor, 0.5, -%1% + 60, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MechanicalPHCeiling, %7%, 0.5, -%1%, -%2%, -%1% + 60, %2%, %height%, %height%, 0, 0, false
	
	#Exterior perimeter walls
	Set WallHeight = %fullheight% + (Floor(28).InterfloorHeight / 2)
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall FrontPWall_Ext, ExtFacade, 0.5, -%1%, -%2%, -%1% + (30 * 2), -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftPWall_Ext, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall RightPWall_Ext, ExtFacade, 0.5, -%1% + 60, -%2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackPWall_Ext, ExtFacade, 0.5, -%1%, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	
	#Roof railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall RoofRailFront, ExtFacade, 0.5, -%1% + 60, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall RoofRailRight, ExtFacade, 0.5, %1%, -%2%, %1%, %2% - 10, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RoofRailBack, ExtFacade, 0.5, -%1% + 60, %2%, %1% - 12, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#Mechanical floor
<Floor 28>
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MechanicalPHFloor, %5%, 0.5, -%1%, -%2%, -%1% + 60, %2%, 0, 0, 0, 0, false

	#Ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor MechanicalPHCeiling, %7%, 0.5, -%1%, -%2%, -%1% + 60, %2%, %height%, %height%, 0, 0, false
	
	#Exterior perimeter walls
	Set WallHeight = %height% + (%interfloorheight% / 2) + (Floor(29).InterfloorHeight / 2)
	Set WallOffset = %interfloorheight% / 2

	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddWall FrontPWall_Ext, ExtFacade, 0.5, -%1%, -%2%, -%1% + (30 * 2), -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftPWall_Ext, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall RightPWall_Ext, ExtFacade, 0.5, -%1% + 60, -%2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackPWall_Ext, ExtFacade, 0.5, -%1%, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

<Floors 27 to 28>
	WallTex() #Set wall texture

	#Interior perimeter walls
	Set WallHeight = %height%
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = false, true, false, false, false, false
	AddWall FrontPWall, %6%, 0.5, -%1%, -%2%, -%1% + 60, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPWall_1, %6%, 0.5, -%1%, -%2%, -%1%, -%2% + 20, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPWall_2, %6%, 0.5, -%1%, -%2% + 20 + 40, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	DrawWalls = true, false, false, false, false, false
	AddWall RightPWall, %6%, 0.5, -%1% + 60, -%2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall BackPWall, %6%, 0.5, -%1%, %2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

<Floor 27>
	#Roof access doors
	Set Texture = ServiceDoor1
	Set MainZ = -30
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 2, 75, -60, %MainZ% - (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 3, 75, -60, %MainZ% + (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -60, %MainZ%, 2.75 * 2, 7, %interfloorheight%, false, 0, 0, true

	Set MainZ = 0
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 2, 75, -60, %MainZ% - (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 3, 75, -60, %MainZ% + (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -60, %MainZ%, 2.75 * 2, 7, %interfloorheight%, false, 0, 0, true

	Set MainZ = 30
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 2, 75, -60, %MainZ% - (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 3, 75, -60, %MainZ% + (2.75/2), 2.75, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.5, -60, %MainZ%, 2.75 * 2, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

<Floor 28>
	#Mechanical vents
	#Front
	WindowsZ2(VentsFront1, -%1% + 12 + 5, -%2%, front, 8, %height% - 1, 0.5, VentsExt, VentsInt, %6%, 1, 1)
	WindowsZ2(VentsFront2, -%1% + 60 - 12 - 5, -%2%, front, 8, %height% - 1, 0.5, VentsExt, VentsInt, %6%, 1, 1)

	#Left
	WindowsX2(VentsLeft1, -%1%, -%2% + 10, left, 12, %height% - 1, 0.5, VentsExt, VentsInt, %6%, 1, 1)
	WindowsX2(VentsLeft2, -%1%, 0 + 15, left, 26, %height% - 1, 0.5, VentsExt, VentsInt, %6%, 2, 1)
	WindowsX2(VentsLeft3, -%1%, 0 + 45, left, 26, %height% - 1, 0.5, VentsExt, VentsInt, %6%, 2, 1)

	#Right
	WindowsX2(VentsLeft1, -%1% + 60, 0 - 45, right, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)
	WindowsX2(VentsLeft2, -%1% + 60, 0 - 15, right, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)
	WindowsX2(VentsLeft3, -%1% + 60, 0 + 15, right, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)
	WindowsX2(VentsLeft4, -%1% + 60, 0 + 45, right, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)

	#Front
	WindowsZ2(VentsBack1, -%1% + 15, %2%, back, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)
	WindowsZ2(VentsBack2, -%1% + 45, %2%, back, 26, %height% - 1, 0.5, VentsInt, VentsExt, %6%, 2, 1)
<EndFloor>

#Rooftop
<Floor 29>
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	FloorTex() #Floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor RoofFloor, RoofFloor, 0.5, -%1%, -%2%, -%1% + 60, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
	
	#Exterior perimeter walls
	Set WallHeight = %height% + (%interfloorheight% / 2) + (Floor(29).InterfloorHeight / 2)
	Set WallOffset = 0

	#Roof railings
	Set WallHeight = (%interfloorheight% / 2) + 5.5
	Set WallOffset = %interfloorheight% / 2

	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall RooftopRailFront, ExtFacade, 0.5, -%1%, -%2%, -%1% + 60 - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RooftopRailLeft, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	AddWall RooftopRailRight, ExtFacade, 0.5, -%1% + 60, -%2%, -%1% + 60, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RooftopRailBack, ExtFacade, 0.5, -%1% + 0.5, %2%, -%1% + 60 - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

#Supports
<Floors -1 to 26>
	#Set Values
	Set 1 = 120 #Building Dimension X
	Set 2 = 60 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 30 #Distance between supports X
	Set DistanceZ = 40 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%
	Set ShowTop = false
	#--------------------
	#Corner Supports
	CreateWallBox2 External, SupportNW, %6A%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportNE, %6A%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportSW, %6A%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportSE, %6A%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#--------------------
	#North Supports
	CreateWallBox2 External, SupportN1, %6A%, -%1% + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN2, %6A%, -%1% + (%DistanceX% * 2), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN3, %6A%, -%1% + (%DistanceX% * 3), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN4, %6A%, -%1% + (%DistanceX% * 4), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN5, %6A%, -%1% + (%DistanceX% * 5), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN6, %6A%, -%1% + (%DistanceX% * 6), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportN7, %6A%, -%1% + (%DistanceX% * 7), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#South Supports
	CreateWallBox2 External, SupportS1, %6A%, -%1% + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportS2, %6A%, -%1% + (%DistanceX% * 2), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportS3, %6A%, -%1% + (%DistanceX% * 3), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 External, SupportS4, %6A%, -%1% + (%DistanceX% * 4), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportS5, %6A%, -%1% + (%DistanceX% * 5), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportS6, %6A%, -%1% + (%DistanceX% * 6), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportS7, %6A%, -%1% + (%DistanceX% * 7), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#West Supports
	#CreateWallBox2 External, SupportW1, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportW2, %6A%, -%1% + 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#East Supports
	if[%floor% = -1 | (%floor% > 9 & %floor% < 25)] Set 6X2 = %6X%
	if[(%floor% > -1 & %floor% < 10) | %floor% > 24] Set 6X2 = %6A%

	CreateWallBox2 External, SupportE1, %6A%, %1% - 1.25, -%2% + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 External, SupportE2, %6X2%, %1% - 1.25, -%2% + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

#########################################################################

#Shafts and elevators
#High-rise elevators
CreateShaft(1, -114, -20, 5.67, 19.67, -1, 28, %interfloorheight%)

#External shaft walls
<Floors -1 to 28>
	#Set wall textures & height
		WallTex()

		Set wallh = %height%
		if[%floor% = 0] Set wallh = %height% + Floor(1).FullHeight
		Set walloff = 0

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, -114, -20, 6, 20, 1, %wallh%, %walloff%, true, false, true, true, false, false, false)
<EndFloors>

<Floor 28>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 2, 75, -108, -20 - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 3, 75, -108, -20 + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, -108, -20, 6, 7, 0, false, 0, 0, false
<EndFloor>

#Low-rise elevators
CreateShaft(2, -66, -20, 5.67, 19.67, -2, 15, %interfloorheight%)

#External shaft walls
<Floors -1 to 15>
	#Set wall textures & height
		WallTex()

		Set wallh = %height%
		if[%floor% = 0] Set wallh = %height% + Floor(1).FullHeight
		Set walloff = 0

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, -66, -20, 6, 20, 2, %wallh%, %walloff%, true, true, true, true, false, false, false)
<EndFloors>

<Floor 15>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 1, 75, -72, -20 - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 4, 75, -72, -20 + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, -72, -20, 6, 7, 0, false, 0, 0, false
<EndFloor>

#Central service elevator
CreateShaft(3, 6, -31, 5.67, 4.67, -2, 26, %interfloorheight%)

#External shaft walls
<Floors -1 to 26>
	#Set wall textures & height
		WallTex()
		if[%floor% = 27] Set 6 = ExtFacade #Override
		Set 6X = ServiceLobbyWall
		if[%floor% = 27] Set 6X = %6%

		Set wallh = %height%
		if[%floor% = 1] Set wallh = %fullheight%
		if[%floor% = 27] Set wallh = %fullheight%
		Set walloff = 0
		if[%floor% = 1] Set walloff = -%interfloorheight%
		if[%floor% = 27] Set walloff = %interfloorheight%		

		#Determine sides to be displayed
		Set DispFront = false
		if[%floor% = 27] Set DispFront = true	
		Set DispTop = false
		if[%floor% = 27] Set DispTop = true
		
		#Set to external mesh on roof level
		Set isext = false
		if[%floor% = 27] Set isext = true

	CreateShaftWall(%6%, %6%, %6X%, %6%, %6%, %6%, 0.5, 6, -31, 6, 5, 3, %wallh%, %walloff%, %DispFront%, true, true, true, %DispTop%, false, %isext%)
<EndFloors>

<Floor 26>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 2, 75, 12, -31 - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 3, 75, 12, -31 + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 12, -31, 6, 7, 0, false, 0, 0, false
<EndFloor>

#East service elevator
CreateShaft(4, 114, 55, 5.67, 4.67, -2, 27, %interfloorheight%)

<Floors -1 to 27>
	#Set wall textures & height
		WallTex()
		if[%floor% = 27] Set 6 = ExtFacade #Override
		Set 6X = ServiceLobbyWall
		if[%floor% = 27] Set 6X = %6%

		Set wallh = %height%
		if[%floor% = 27] Set wallh = %fullheight%
		Set walloff = 0
		if[%floor% = 27] Set walloff = 0

		#Determine sides to be displayed
		Set DispFront = false
		if[%floor% = 27] Set DispFront = true	
		Set DispRight = false
		if[%floor% = 27] Set DispRight = true
		Set DispBack = false
		if[%floor% = 27] Set DispBack = true
		Set DispTop = false
		if[%floor% = 27] Set DispTop = true

		#Set to external mesh on roof level
		Set isext = false
		if[%floor% = 27] Set isext = true

	CreateShaftWall(%6X%, %6X%, %6%, %6%, %6%, %6%, 0.5, 114, 55, 6, 5, 4, %wallh%, %walloff%, %DispFront%, true, %DispRight%, %DispBack%, %DispTop%, false, %isext%)
<EndFloors>

<Floor 27>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 1, 75, 108, 55 - 1.5, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 4, 75, 108, 55 + 1.5, 3, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 108, 55, 6, 7, %interfloorheight%, false, 0, 0, true
<EndFloor>

#Panels on walls
<Function AddWallPanels>
	Set Texture = %Prefix%ElevWallPanel

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	AddWall FrontPanel, %Texture%, 0.05, -2, -2.55, 2, -2.55, 8, 8, 0, 0, 0, 0
	if[%elevator% > 4] AddWall LeftPanel, %Texture%, 0.05, -4.3, -1.5, -4.3, 1.5, 8, 8, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall BackPanel, %Texture%, 0.05, -2, 2.55, 2, 2.55, 8, 8, 0, 0, 0, 0
<EndFunction>

#Low-rise elevators (B-13)
<Elevator 1>
	Name = Low-Rise Elevator 1
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 0, 2 - 13
	Doors = 2
	AssignedShaft = 2
	CreateElevator false, -66, -5 - 0.5, 0
<EndElevator>

<Elevator 2>
	Name = Low-Rise Elevator 2
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 0, 2 - 13
	Doors = 2
	AssignedShaft = 2
	CreateElevator false, -66, -15 - 0.5, 0
<EndElevator>

<Elevator 3>
	Name = Low-Rise Elevator 3
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 0, 2 - 13
	Doors = 2
	AssignedShaft = 2
	CreateElevator false, -66, -25 - 0.5, 0
<EndElevator>

<Elevator 4>
	Name = Low-Rise Elevator 1
	Type = Local
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 0, 2 - 13
	Doors = 2
	AssignedShaft = 2
	CreateElevator false, -66, -35 - 0.5, 0
<EndElevator>

#Button panels, elevators 1-4
<Function BtnPanel-E1-4>
	Set PanelNumber = %param1%
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 1, 1, alarm, 1, 1, 0.6, 0
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 4, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 4, 2, close, 1, 1

	AddButton %PanelNumber%, , Button13, ButtonLit13, 6, 2, 13, 1, 1
	AddButton %PanelNumber%, , Button12, ButtonLit12, 7, 2, 12, 1, 1
	AddButton %PanelNumber%, , Button11, ButtonLit11, 8, 2, 11, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 9, 2, 10, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 10, 2, 9, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 11, 2, 8, 1, 1
	AddButton %PanelNumber%, , Button7, ButtonLit7, 12, 2, 7, 1, 1

	AddButton %PanelNumber%, , Button6, ButtonLit6, 7, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 8, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 9, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 10, 1, 3, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 11, 1, 2, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 12, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonB, ButtonLitB, 13, 1, -1, 1, 1

	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 15, 1, 1, 1, 0.6, 0, reset, hold, ButtonHold, ButtonHoldLit
<EndFunction>

<Elevators 1 to 4>
	RecallFloor = 0
	Set Prefix = LR
	DisplayFloors = -1 - 0, 2 - 13
	AutoEnable = false

	#Interiors
	ElevInterior2(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 9, 5.5, left, 8)
	AddWallPanels()

	#Front Panels
	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall LeftPanel-F, %Prefix%ElevPanelMain, 0.2, -4.5, -2.75, -4.5, -2.75 + 0.25, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall RightPanel-F, %Prefix%ElevPanelMain, 0.2, -4.5, 2.75 - 1.25, -4.5, 2.75, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel-F, %Prefix%ElevPanelTop, 0.2, -4.5, -2.75 + 0.25, -4.5, 2.75 - 1.25, 1, 1, 7, 7, 0, 0

	#Rear Panels
	WallOrientation = right
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall LeftPanel-R, %Prefix%ElevPanelMain, 0.2, 4.5, 2.75 - 1.25, 4.5, 2.75, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall RightPanel-R, %Prefix%ElevPanelMain, 0.2, 4.5, -2.75, 4.5, -2.75 + 0.25, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel-R, %Prefix%ElevPanelTop, 0.2, 4.5, -2.75 + 0.25, 4.5, 2.75 - 1.25, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors (Front)
	Set ElevDoorTex = ElevDoorsA

	WallOrientation = right
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.8, 0.6, -4.5 - 0.18, -0.5 - 2, -4.5 - 0.18, -0.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.4, 0.3, -4.5, -0.5, -4.5, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller-F, %Prefix%ElevPanelMain, 0.36, -4.5, -2.75 + 0.25 - 0.05, -4.5, -2.75 + 0.25, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack-F, ElevDoorTrackX, 0.05, -4.5 - 0.36, -0.5 - 2, -4.5, -0.5 + 2 + 2, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller-F, %Prefix%ElevPanelTop, 0.05, -4.5 - 0.18, -0.5 - 2, -4.5, -0.5, 7, 7, 0, 0
	#--------------------
	#Car Doors (Rear)
	WallOrientation = left	
	AddDoorComponent 2, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.8, 0.6, 4.5 + 0.18, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 2, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.4, 0.3, 4.5, -0.5, 4.5, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishDoors 2, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller-R, %Prefix%ElevPanelMain, 0.36, 4.5, -2.75 + 0.25 - 0.05, 4.5, -2.75 + 0.25, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack-R, ElevDoorTrackX, 0.05, 4.5, -0.5 - 2, 4.5 + 0.36, -0.5 + 2 + 2, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller-R, %Prefix%ElevPanelTop, 0.05, 4.5, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 7, 0, 0
	#--------------------
	#Buttons & indicators
	#Panel back
	Set PanelCenter = 2.025
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack-F, ElevPanel2, 0.05, -4.3, %PanelCenter% - 0.35, -4.3, %PanelCenter% + 0.35, 4, 4, 2, 2, 0, 0
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack-R, ElevPanel2, 0.05, 4.3, %PanelCenter% - 0.35, 4.3, %PanelCenter% + 0.35, 4 - 1.25, 4 - 1.25, 2 + 0.5, 2 + 0.5, 0, 0

	#Buttons
	CreatePanel Blank, 15, 2, right, -4.5 + 0.2 + 0.051, %PanelCenter%, 0.2, 0.2, 0.1, -0.1, 4, 0, 0
	BtnPanel-E1-4(1)
	CreatePanel Blank, 15, 2, left, 4.5 - 0.2 - 0.051, %PanelCenter%, 0.2, 0.2, 0.1, -0.1, 4, 0, 0
	BtnPanel-E1-4(2)

	#Elevator number signs
	#DrawWalls = false, true, false, false, false, false
	#AddWall FrontElevNoSign, IN_ElevNo%elevator%, 0, -4.3 + 0.002, %PanelCenter% - (0.4/2), -4.3 + 0.002, %PanelCenter% + (0.4/2), 0.4, 0.4, 6.6, 6.6, 0, 0
	#DrawWalls = true, false, false, false, false, false
	#AddWall RearElevNoSign, IN_ElevNo%elevator%, 0, 4.3 - 0.002, %PanelCenter% - (0.4/2), 4.3 - 0.002, %PanelCenter% + (0.4/2), 0.4, 0.4, 6.6, 6.6, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.75 + 0.8, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 2.75 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, 2.75 + 0.8, false, 1 + 0.06, 0.1
<EndElevators>


#High-rise elevators (1, 14-26)
<Elevator 5>
	Name = High-Rise Elevator 1
	Type = Local
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 14 - 26
	AssignedShaft = 1
	CreateElevator false, -114, -35 - 0.5, 0
<EndElevator>

<Elevator 6>
	Name = High-Rise Elevator 2
	Type = Local
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 14 - 26
	AssignedShaft = 1
	CreateElevator false, -114, -25 - 0.5, 0
<EndElevator>

<Elevator 7>
	Name = High-Rise Elevator 3
	Type = Local
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 14 - 26
	AssignedShaft = 1
	CreateElevator false, -114, -15 - 0.5, 0
<EndElevator>

<Elevator 8>
	Name = High-Rise Elevator 4
	Type = Local
	Speed = 12
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 14 - 26
	AssignedShaft = 1
	CreateElevator false, -114, -5 - 0.5, 0
<EndElevator>


#Button panels, elevators 1-4
<Function BtnPanel-E5-8>
	Set PanelNumber = %param1%
	AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 1, 1, alarm, 1, 1, 0.6, 0
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 4, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 4, 2, close, 1, 1

	AddButton %PanelNumber%, , Button26, ButtonLit26, 6, 2, 26, 1, 1
	AddButton %PanelNumber%, , Button25, ButtonLit25, 7, 2, 25, 1, 1
	AddButton %PanelNumber%, , Button24, ButtonLit24, 8, 2, 24, 1, 1
	AddButton %PanelNumber%, , Button23, ButtonLit23, 9, 2, 23, 1, 1
	AddButton %PanelNumber%, , Button22, ButtonLit22, 10, 2, 22, 1, 1
	AddButton %PanelNumber%, , Button21, ButtonLit21, 11, 2, 21, 1, 1
	AddButton %PanelNumber%, , Button20, ButtonLit20, 12, 2, 20, 1, 1

	AddButton %PanelNumber%, , Button19, ButtonLit19, 7, 1, 19, 1, 1
	AddButton %PanelNumber%, , Button18, ButtonLit18, 8, 1, 18, 1, 1
	AddButton %PanelNumber%, , Button17, ButtonLit17, 9, 1, 17, 1, 1
	AddButton %PanelNumber%, , Button16, ButtonLit16, 10, 1, 16, 1, 1
	AddButton %PanelNumber%, , Button15, ButtonLit15, 11, 1, 15, 1, 1
	AddButton %PanelNumber%, , Button14, ButtonLit14, 12, 1, 14, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 13, 1, 0, 1, 1

	AddControl %PanelNumber%, , 15, 1, 1, 1, 0.6, 0, reset, hold, ButtonHold, ButtonHoldLit
<EndFunction>

<Elevators 5 to 8>
	DisplayFloors = -1 - 0, 2 - 26
	Set Prefix = HR

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 9, 5.5, right, 8)
	AddWallPanels()

	#Panels
	WallOrientation = right
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall LeftPanel, %Prefix%ElevPanelMain, 0.2, 4.5, 2.75 - 1.25, 4.5, 2.75, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall RightPanel, %Prefix%ElevPanelMain, 0.2, 4.5, -2.75, 4.5, -2.75 + 0.25, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel, %Prefix%ElevPanelTop, 0.2, 4.5, -2.75 + 0.25, 4.5, 2.75 - 1.25, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsB
	WallOrientation = left	
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.8, 0.6, 4.5 + 0.18, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.4, 0.3, 4.5, -0.5, 4.5, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.36, 4.5, -2.75 + 0.25 - 0.05, 4.5, -2.75 + 0.25, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackX, 0.05, 4.5, -0.5 - 2, 4.5 + 0.36, -0.5 + 2 + 2, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, 4.5, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 7, 0, 0
	#--------------------
	#Buttons & indicators
	#Panel back
	Set PanelCenter = 2.025
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack, ElevPanel2, 0.05, 4.3, %PanelCenter% - 0.35, 4.3, %PanelCenter% + 0.35, 4, 4, 2, 2, 0, 0

	#Buttons
	CreatePanel Blank, 15, 2, left, 4.5 - 0.2 - 0.051, %PanelCenter%, 0.2, 0.2, 0.1, -0.1, 4, 0, 0
	BtnPanel-E5-8(1)

	#Elevator number signs
	#DrawWalls = true, false, false, false, false, false
	#AddWall ElevNoSign, IN_ElevNo%elevator%, 0, 4.3 - 0.002, %PanelCenter% - (0.4/2), 4.3 - 0.002, %PanelCenter% + (0.4/2), 0.4, 0.4, 6.6, 6.6, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.75 + 0.8, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 2.75 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, 2.75 + 0.8, false, 1 + 0.06, 0.1
<EndElevators>

#Button panels, elevator 9
<Function BtnPanel-E9>
	Set PanelNumber = %param1%
	AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 1, 1, alarm, 1, 1, 0.6, 0
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 4, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 4, 2, close, 1, 1
	AddButton %PanelNumber%, , Button24, ButtonLit24, 6, 2, 24, 1, 1
	AddButton %PanelNumber%, , Button23, ButtonLit23, 7, 2, 23, 1, 1
	AddButton %PanelNumber%, , Button22, ButtonLit22, 8, 2, 22, 1, 1
	AddButton %PanelNumber%, , Button21, ButtonLit21, 9, 2, 21, 1, 1
	AddButton %PanelNumber%, , Button20, ButtonLit20, 10, 2, 20, 1, 1
	AddButton %PanelNumber%, , Button19, ButtonLit19, 11, 2, 19, 1, 1
	AddButton %PanelNumber%, , Button18, ButtonLit18, 12, 2, 18, 1, 1
	AddButton %PanelNumber%, , Button17, ButtonLit17, 13, 2, 17, 1, 1
	AddButton %PanelNumber%, , Button16, ButtonLit16, 14, 2, 16, 1, 1
	AddButton %PanelNumber%, , Button15, ButtonLit15, 15, 2, 15, 1, 1
	AddButton %PanelNumber%, , Button14, ButtonLit14, 16, 2, 14, 1, 1
	AddButton %PanelNumber%, , Button13, ButtonLit13, 17, 2, 13, 1, 1
	AddButton %PanelNumber%, , Button12, ButtonLit12, 18, 2, 12, 1, 1
	
	AddButton %PanelNumber%, , Button11, ButtonLit11, 6, 1, 11, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 7, 1, 10, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 8, 1, 9, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 9, 1, 8, 1, 1
	AddButton %PanelNumber%, , Button7, ButtonLit7, 10, 1, 7, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 11, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 12, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 13, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 14, 1, 3, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 15, 1, 2, 1, 1
	AddButton %PanelNumber%, , Button1M, ButtonLit1M, 16, 1, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 17, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonB, ButtonLitB, 18, 1, -1, 1, 1

	AddControl %PanelNumber%, , 20, 1, 1, 1, 0.6, 0, reset, hold, ButtonHold, ButtonHoldLit
<EndFunction>

#Central service elevator (B-24)
<Elevator 9>
	Name = Central Service Elevator
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 24
	AssignedShaft = 3
	CreateElevator false, 6, -31 - 0.5, 0

	RecallFloor = 0
	Set Prefix = Service

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 9, 5.5, right, 8)

	#Panels
	WallOrientation = right
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall LeftPanel, %Prefix%ElevPanelMain, 0.2, 4.5, 2.75 - 1.25, 4.5, 2.75, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall RightPanel, %Prefix%ElevPanelMain, 0.2, 4.5, -2.75, 4.5, -2.75 + 0.25, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel, %Prefix%ElevPanelTop, 0.2, 4.5, -2.75 + 0.25, 4.5, 2.75 - 1.25, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsC
	WallOrientation = left	
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.8, 0.6, 4.5 + 0.18, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.18, right, 0.4, 0.3, 4.5, -0.5, 4.5, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller-R, %Prefix%ElevPanelMain, 0.36, 4.5, -2.75 + 0.25 - 0.05, 4.5, -2.75 + 0.25, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack-R, ElevDoorTrackX, 0.05, 4.5, -0.5 - 2, 4.5 + 0.36, -0.5 + 2 + 2, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller-R, %Prefix%ElevPanelTop, 0.05, 4.5, -0.5 - 2, 4.5 + 0.18, -0.5, 7, 7, 0, 0
	#--------------------
	#Buttons & indicators
	#Panel back
	Set PanelCenter = 2.025
	WallOrientation = right
	DrawWalls = true, false, true, true, true, true
	AddWall PanelBack, ElevPanel2, 0.05, 4.3, %PanelCenter% - 0.35, 4.3, %PanelCenter% + 0.35, 5, 5, 1.5, 1.5, 0, 0

	#Buttons
	CreatePanel Blank, 20, 2, left, 4.5 - 0.2 - 0.051, %PanelCenter%, 0.2, 0.2, 0.1, -0.1, 4, 0, 0
	BtnPanel-E9(1)

	#Elevator number signs
	#DrawWalls = true, false, false, false, false, false
	#AddWall ElevNoSign, IN_ElevNo%elevator%, 0, 4.3 - 0.002, %PanelCenter% - (0.4/2), 4.3 - 0.002, %PanelCenter% + (0.4/2), 0.4, 0.4, 6.6, 6.6, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.75 + 0.8, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 2.75 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, 2.75 + 0.8, false, 1 + 0.06, 0.1
<EndElevator>

#Button panels, elevator 10
<Function BtnPanel-E10>
	Set PanelNumber = %param1%
	AddButton %PanelNumber%, , ButtonAlarm, ButtonAlarm, 1, 1, alarm, 1, 1, 0.6, 0
	AddButton %PanelNumber%, , ButtonOpen, ButtonOpen, 4, 1, open, 1, 1
	AddButton %PanelNumber%, , ButtonClose, ButtonClose, 4, 2, close, 1, 1
	AddButton %PanelNumber%, , Button25, ButtonLit25, 6, 2, 25, 1, 1
	AddButton %PanelNumber%, , Button24, ButtonLit24, 7, 2, 24, 1, 1
	AddButton %PanelNumber%, , Button23, ButtonLit23, 8, 2, 23, 1, 1
	AddButton %PanelNumber%, , Button22, ButtonLit22, 9, 2, 22, 1, 1
	AddButton %PanelNumber%, , Button21, ButtonLit21, 10, 2, 21, 1, 1
	AddButton %PanelNumber%, , Button20, ButtonLit20, 11, 2, 20, 1, 1
	AddButton %PanelNumber%, , Button19, ButtonLit19, 12, 2, 19, 1, 1
	AddButton %PanelNumber%, , Button18, ButtonLit18, 13, 2, 18, 1, 1
	AddButton %PanelNumber%, , Button17, ButtonLit17, 14, 2, 17, 1, 1
	AddButton %PanelNumber%, , Button16, ButtonLit16, 15, 2, 16, 1, 1
	AddButton %PanelNumber%, , Button15, ButtonLit15, 16, 2, 15, 1, 1
	AddButton %PanelNumber%, , Button14, ButtonLit14, 17, 2, 14, 1, 1
	AddButton %PanelNumber%, , Button13, ButtonLit13, 18, 2, 13, 1, 1

	AddButton %PanelNumber%, , Button12, ButtonLit12, 6, 1, 12, 1, 1	
	AddButton %PanelNumber%, , Button11, ButtonLit11, 7, 1, 11, 1, 1
	AddButton %PanelNumber%, , Button10, ButtonLit10, 8, 1, 10, 1, 1
	AddButton %PanelNumber%, , Button9, ButtonLit9, 9, 1, 9, 1, 1
	AddButton %PanelNumber%, , Button8, ButtonLit8, 10, 1, 8, 1, 1
	AddButton %PanelNumber%, , Button7, ButtonLit7, 11, 1, 7, 1, 1
	AddButton %PanelNumber%, , Button6, ButtonLit6, 12, 1, 6, 1, 1
	AddButton %PanelNumber%, , Button5, ButtonLit5, 13, 1, 5, 1, 1
	AddButton %PanelNumber%, , Button4, ButtonLit4, 14, 1, 4, 1, 1
	AddButton %PanelNumber%, , Button3, ButtonLit3, 15, 1, 3, 1, 1
	AddButton %PanelNumber%, , Button2, ButtonLit2, 16, 1, 2, 1, 1
	AddButton %PanelNumber%, , Button1M, ButtonLit1M, 17, 1, 1, 1, 1
	AddButton %PanelNumber%, , Button1, ButtonLit1, 18, 1, 0, 1, 1
	AddButton %PanelNumber%, , ButtonB, ButtonLitB, 19, 1, -1, 1, 1

	AddControl %PanelNumber%, , 21, 1, 1, 1, 0.6, 0, reset, hold, ButtonHold, ButtonHoldLit
<EndFunction>

#East service elevator (B-25)
<Elevator 10>
	Name = East Service Elevator
	Type = Service
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -1 - 25
	AssignedShaft = 4
	CreateElevator false, 114, 55 - 0.5, 0

	RecallFloor = 0
	Set Prefix = Service

	#Interiors
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 9, 5.5, left, 8)

	#Panels
	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall LeftPanel, %Prefix%ElevPanelMain, 0.2, -4.5, -2.75, -4.5, -2.75 + 0.25, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall RightPanel, %Prefix%ElevPanelMain, 0.2, -4.5, 2.75 - 1.25, -4.5, 2.75, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel, %Prefix%ElevPanelTop, 0.2, -4.5, -2.75 + 0.25, -4.5, 2.75 - 1.25, 1, 1, 7, 7, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = ElevDoorsC
	WallOrientation = right
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.8, 0.6, -4.5 - 0.18, -0.5 - 2, -4.5 - 0.18, -0.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.4, 0.3, -4.5, -0.5, -4.5, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, %Prefix%ElevPanelMain, 0.36, -4.5, -2.75 + 0.25 - 0.05, -4.5, -2.75 + 0.25, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackX, 0.05, -4.5 - 0.36, -0.5 - 2, -4.5, -0.5 + 2 + 2, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, -4.5 - 0.18, -0.5 - 2, -4.5, -0.5, 7, 7, 0, 0
	#--------------------
	#Buttons & indicators
	#Panel back
	Set PanelCenter = 2.025
	WallOrientation = left
	DrawWalls = false, true, true, true, true, true
	AddWall PanelBack, ElevPanel2, 0.05, -4.3, %PanelCenter% - 0.35, -4.3, %PanelCenter% + 0.35, 5, 5, 1.5, 1.5, 0, 0

	#Buttons
	CreatePanel Blank, 21, 2, right, -4.5 + 0.2 + 0.051, %PanelCenter%, 0.2, 0.2, 0.1, -0.1, 4, 0, 0
	BtnPanel-E10(1)

	#Elevator number signs
	#DrawWalls = false, true, false, false, false, false
	#AddWall ElevNoSign, IN_ElevNo%elevator%, 0, -4.3 + 0.002, %PanelCenter% - (0.4/2), -4.3 + 0.002, %PanelCenter% + (0.4/2), 0.4, 0.4, 6.6, 6.6, 0, 0
	#--------------------
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, 2.75 + 0.8, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 2.75 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, 2.75 + 0.8, false, 1 + 0.06, 0.1
<EndElevator>

<Elevators 9 to 10>
	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel

		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (8.6 * 1/3), -2.55 + 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0, -2.55 + 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F3, %WPTex%, 0 + (8.6 * 1/3), -2.55 + 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Left panels
		if[%elevator% = 9] CreateWallBox2 elevator, Panel_L1, %WPTex%, -4.3 + 0.01, 0 - (5.1 * 1/4), 0.02, (5.1 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		if[%elevator% = 9] CreateWallBox2 elevator, Panel_L2, %WPTex%, -4.3 + 0.01, 0 + (5.1 * 1/4), 0.02, (5.1 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Right panels
		if[%elevator% = 10] CreateWallBox2 elevator, Panel_R1, %WPTex%, 4.3 - 0.01, 0 - (5.1 * 1/4), 0.02, (5.1 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		if[%elevator% = 10] CreateWallBox2 elevator, Panel_R2, %WPTex%, 4.3 - 0.01, 0 + (5.1 * 1/4), 0.02, (5.1 * 1/2) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (8.6 * 1/3), 2.55 - 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0, 2.55 - 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B3, %WPTex%, 0 + (8.6 * 1/3), 2.55 - 0.01, (8.6 * 1/3) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
<EndElevators>
#--------------------
#Internal indicators
<Function FLInd-LeftFacing>
	#Indicator sets
	Set IndOffset = 7.15
	DrawWalls = true, false, false, false, false, false
	AddWall IndicatorBack, Black, 0, 4.3 - 0.001, 0 - 2.25, 4.3 - 0.001, 0 + 2.25, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
	AddFloorIndicator Ind_Button, left, 4.3 - 0.002, 0 - 0.15, 0.3, 0.3, %IndOffset% + 0.1
	AddDirectionalIndicator true, true, true, Blank, ArrowUpUnlit, ArrowUpLit, ArrowDownUnlit, ArrowDownLit, 4.3 - 0.002, 0 + 0.15, %IndOffset% + 0.1 + 0.15 - 0.155, left, 0.34, 0.31, true, 0, 0

	#Labels
	AddWall Label1, HitachiBadgeE%elevator%, 0, 4.3 - 0.002, -1.85 - 0.28, 4.3 - 0.002, -1.85 + 0.28, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
	AddWall Label2, CapacityBadge, 0, 4.3 - 0.002, 1.75 - 0.28, 4.3 - 0.002, 1.75 + 0.28, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
<EndFunction>

<Function FLInd-RightFacing>
	#Indicator sets
	Set IndOffset = 7.15
	DrawWalls = false, true, false, false, false, false
	AddWall IndicatorBack, Black, 0, -4.3 + 0.001, 0 - 2.25, -4.3 + 0.001, 0 + 2.25, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
	AddFloorIndicator Ind_Button, right, -4.3 + 0.002, 0 + 0.15, 0.3, 0.3, %IndOffset% + 0.1
	AddDirectionalIndicator true, true, true, Blank, ArrowUpUnlit, ArrowUpLit, ArrowDownUnlit, ArrowDownLit, -4.3 + 0.002, 0 - 0.15, %IndOffset% + 0.1 + 0.15 - 0.155, right, 0.34, 0.31, true, 0, 0

	#Labels
	AddWall Label1, HitachiBadgeE%elevator%, 0, -4.3 + 0.002, 1.85 - 0.28, -4.3 + 0.002, 1.85 + 0.28, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
	AddWall Label2, CapacityBadge, 0, -4.3 + 0.002, -1.75 - 0.28, -4.3 + 0.002, -1.75 + 0.28, 0.28, 0.28, %IndOffset% + 0.25 - 0.14, %IndOffset% + 0.25 - 0.14, 0, 0
<EndFunction>

<Elevators 1 to 9>
	if[%elevator% < 5] FLInd-RightFacing()
	FLInd-LeftFacing()
<EndElevators>

<Elevator 10>
	FLInd-RightFacing()
<EndElevator>

#--------------------
#Set shaft door and panel textures
<Function ShaftDoorTex>
	#Shaft doors
	if[%floor% = -1] Set DoorTexture = BedElevDoorsW
	if[%floor% > -1 & %floor% < 6] Set DoorTexture = BedElevDoorsX
	if[%floor% > 5 & %floor% < 10] Set DoorTexture = BedElevDoorsX2
	if[%floor% > 9 & %floor% < 25] Set DoorTexture = BedElevDoorsZ
	if[%floor% = 25 | %floor% = 26] Set DoorTexture = BedElevDoorsZ2
	
	#Decos around doors
	if[%floor% < 3] Set DecoTex = ElevDecosA
	if[%floor% > 2 & %floor% < 6] Set DecoTex = ElevDecosB
	if[%floor% > 5 & %floor% < 10] Set DecoTex = ElevDecosC
	if[%floor% > 9 & %floor% < 25] Set DecoTex = ElevDecosD
	if[%floor% = 25 | %floor% = 26] Set DecoTex = ElevDecosE

	#Door trim prefix
	if[%floor% = -1] Set DoorTrimPrefix = ElevDoorsW
	if[%floor% > -1 & %floor% < 6] Set DoorTrimPrefix = ElevDoorsX
	if[%floor% > 5 & %floor% < 10] Set DoorTrimPrefix = ElevDoorsX2
	if[%floor% > 9 & %floor% < 25] Set DoorTrimPrefix = ElevDoorsZ
	if[%floor% = 25 | %floor% = 26] Set DoorTrimPrefix = ElevDoorsZ2

	#Button panels
	if[%floor% = -1] Set ButtonPanelTexture = ElevExtPanelsW
	if[%floor% > -1 & %floor% < 6] Set ButtonPanelTexture = ElevExtPanelsZ
	if[%floor% > 5 & %floor% < 10] Set ButtonPanelTexture = ElevExtPanelsX2
	if[%floor% > 9 & %floor% < 25] Set ButtonPanelTexture = ElevExtPanelsZ
	if[%floor% = 25 | %floor% = 26] Set ButtonPanelTexture = ElevExtPanelsSummit

	#Lantern panels
	if[%floor% = -1] Set LanternPanelTexture = ElevExtPanelsW
	if[%floor% > -1 & %floor% < 6] Set LanternPanelTexture = ElevExtPanelsX
	if[%floor% = 0] Set LanternPanelTexture = ElevExtPanelsZ
	if[%floor% > 5 & %floor% < 10] Set LanternPanelTexture = ElevExtPanelsX2
	if[%floor% > 9 & %floor% < 25] Set LanternPanelTexture = ElevExtPanelsZ
	if[%floor% = 25 | %floor% = 26] Set LanternPanelTexture = ElevExtPanelsSummit
	
	#Specify panel and lantern textures
		#Indicator texture specification
		HitachiInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %LanternPanelTexture%) 
		HitachiInd_IndicatorTex(ArrowUpUnlit, ArrowUpLit, ArrowDownUnlit, ArrowDownLit, OutsideInd_Button) 
<EndFunction>

<Function ShaftDoorTex-Service>
	#Shaft doors
	Set DoorTexture = BedElevDoorsS1
	
	#Door trim prefix
	Set DoorTrimPrefix = ElevDoorsS1

	#Button panels
	Set ButtonPanelTexture = ElevExtPanelsS1

	#Lantern panels
	Set LanternPanelTexture = ElevExtPanelsS1

	#Specify panel and lantern textures
		#Indicator texture specification
		HitachiInd_LanternTex(LanternUp, LanternUpLit, LanternDown, LanternDownLit, %LanternPanelTexture%) 
<EndFunction>
#--------------------
<Function E1-4ShaftDoors-Front>
	#Shaft Doors (Front)
	Set StartNo = 1
	ShaftDoorTex() #Shaft door and panel textures

	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%B_R, %DoorTexture%B_R, 0.18, right, 0.8, 0.6, -4.5 - 0.48, -0.5 - 2, -4.5 - 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%B_L, %DoorTexture%B_L, 0.18, right, 0.4, 0.3, -4.5 - 0.66, -0.5, -4.5 - 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false
	
	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%B_R, %DoorTexture%B_R, 0.18, right, 0.8, 0.6, -4.5 - 0.48, -0.5 - 2, -4.5 - 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, %DoorTexture%B_L, %DoorTexture%B_L, 0.18, right, 0.4, 0.3, -4.5 - 0.66, -0.5, -4.5 - 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%B_R, %DoorTexture%B_R, 0.18, right, 0.8, 0.6, -4.5 - 0.48, -0.5 - 2, -4.5 - 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, %DoorTexture%B_L, %DoorTexture%B_L, 0.18, right, 0.4, 0.3, -4.5 - 0.66, -0.5, -4.5 - 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, false, false
	
	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, 2Speed_Fast, %DoorTexture%B_R, %DoorTexture%B_R, 0.18, right, 0.8, 0.6, -4.5 - 0.48, -0.5 - 2, -4.5 - 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, 2Speed_Slow, %DoorTexture%B_L, %DoorTexture%B_L, 0.18, right, 0.4, 0.3, -4.5 - 0.66, -0.5, -4.5 - 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, false, false

	#Door tracks
	AddDoorTrack(1, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.36, 15 - 1 - 2, 15 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(2, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.36, 5 - 1 - 2, 5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(3, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.36, -5 - 1 - 2, -5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(4, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.36, -15 - 1 - 2, -15 - 1 + 4, ElevDoorTrackX)

	#Top filler
	Set TrimTexPrefix = %DoorTrimPrefix%
	AddTopFiller(1, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.18, 15 - 1 - 2, 15 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(2, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.18, 5 - 1 - 2, 5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(3, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.18, -5 - 1 - 2, -5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(4, 2, -5.67 + 0.33, -5.67 + 0.33 + 0.18, -15 - 1 - 2, -15 - 1, 7, %TrimTexPrefix%_Trim)

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev1_Front, ElevExt, 0.36, -5.67 + 0.33, 15 - 1 - 2 - 0.05, -5.67 + 0.33, 15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev2_Front, ElevExt, 0.36, -5.67 + 0.33, 5 - 1 - 2 - 0.05, -5.67 + 0.33, 5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev3_Front, ElevExt, 0.36, -5.67 + 0.33, -5 - 1 - 2 - 0.05, -5.67 + 0.33, -5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev4_Front, ElevExt, 0.36, -5.67 + 0.33, -15 - 1 - 2 - 0.05, -5.67 + 0.33, -15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#Call buttons
		CallButtonElevators = 1, 2, 3, 4
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -72 - 0.001, -11, 3.5, left, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -72 - 0.001, -21, 3.5, left, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -72 - 0.001, -31, 3.5, left, 0.5, 1, true, 0, 0

	#Indicator sets
		#Indicator creation
		Set IndOffset = 8
		if[%floor% = 0] HitachiLobbyInds_Left(1, -72 - 0.1, -6, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Left(2, -72 - 0.1, -16, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Left(3, -72 - 0.1, -26, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Left(4, -72 - 0.1, -36, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Left(1, -72, -6, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Left(2, -72, -16, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Left(3, -72, -26, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Left(4, -72, -36, %IndOffset%, -1, 13, true)

	#Hall signs
		DrawWalls = true, false, false, false, false, false
		if[%floor% < 6 & %floor% ! 3 & %floor% ! 5] AddWall E1-4HallSign1Back, FloorSignBack, 0, -72 - 0.001, -11 - 0.75, -72 - 0.001, -11 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		#if[%floor% = 0] AddWall E1-4HallSign1ABack, FloorSignBack, 0, -72 - 0.001, -21 - 1, -72 - 0.001, -21 + 1, 2, 2, 5, 5, 0, 0, false
		if[%floor% < 6 & %floor% ! 3 & %floor% ! 5] AddWall E1-4HallSign2Back, FloorSignBack, 0, -72 - 0.001, -31 - 0.75, -72 - 0.001, -31 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E1-4HallSign1, BlankSign%floorid%, 0, -72 - 0.002, -11 - 0.75, -72 - 0.002, -11 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		if[%floor% = 0] AddWall E1-4HallSign1A, BlankSignLElev, 0, -72 - 0.002, -21 - 1, -72 - 0.002, -21 + 1, 2, 2, 5, 5, 0, 0, false
		AddWall E1-4HallSign2, BlankSign%floorid%, 0, -72 - 0.002, -31 - 0.75, -72 - 0.002, -31 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E1-4HallSign3, ElevHallSign, 0, -72 - 0.001, -21 - 0.375, -72 - 0.001, -21 + 0.375, 1, 1, 2.4, 2.4, 0, 0, false

	#Wall cuts for decos
		Set DecoHeight = %height%
		if[%floor% = 0] Set DecoHeight = %height% + Floor(1).FullHeight
		Set DSideLen = 1
		WallOrientation = left
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -72, -6, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -72, -16, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -72, -26, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -72, -36, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false

	#Decos
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, left, true, false, floor, 0, %DSideLen%, -72, -6, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, left, true, false, floor, 0, %DSideLen%, -72, -16, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, left, true, false, floor, 0, %DSideLen%, -72, -26, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, left, true, false, floor, 0, %DSideLen%, -72, -36, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)

	#Door trims
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0, 0.2, -72 - 0.01, -6, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0, 0.2, -72 - 0.01, -16, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0, 0.2, -72 - 0.01, -26, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0, 0.2, -72 - 0.01, -36, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)

	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0.1, 0.2, -72, -6, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0.1, 0.2, -72, -16, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0.1, 0.2, -72, -26, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0.1, 0.2, -72, -36, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
<EndFunction>

<Function E1-4ShaftDoors-Rear>
	#Shaft Doors (Front)
	Set StartNo = 1
	ShaftDoorTex() #Shaft door and panel textures

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 2, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 2, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 2, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 2, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 2, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 2, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 2, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 2, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 2, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 3, 2, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 2, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 2, false, false

	#Door tracks
	AddDoorTrack(1, 2, 5.67 - 0.33 - 0.36, 5.67 - 0.33, 15 - 1 - 2, 15 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(2, 2, 5.67 - 0.33 - 0.36, 5.67 - 0.33, 5 - 1 - 2, 5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(3, 2, 5.67 - 0.33 - 0.36, 5.67 - 0.33, -5 - 1 - 2, -5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(4, 2, 5.67 - 0.33 - 0.36, 5.67 - 0.33, -15 - 1 - 2, -15 - 1 + 4, ElevDoorTrackX)

	#Top filler
	Set TrimTexPrefix = %DoorTrimPrefix%
	AddTopFiller(1, 2, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 15 - 1 - 2, 15 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(2, 2, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 5 - 1 - 2, 5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(3, 2, 5.67 - 0.33 - 0.18, 5.67 - 0.33, -5 - 1 - 2, -5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(4, 2, 5.67 - 0.33 - 0.18, 5.67 - 0.33, -15 - 1 - 2, -15 - 1, 7, %TrimTexPrefix%_Trim)

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev1_Rear, ElevExt, 0.36, 5.67 - 0.33, 15 - 1 - 2 - 0.05, 5.67 - 0.33, 15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev2_Rear, ElevExt, 0.36, 5.67 - 0.33, 5 - 1 - 2 - 0.05, 5.67 - 0.33, 5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev3_Rear, ElevExt, 0.36, 5.67 - 0.33, -5 - 1 - 2 - 0.05, 5.67 - 0.33, -5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 2, GapFiller_Elev4_Rear, ElevExt, 0.36, 5.67 - 0.33, -15 - 1 - 2 - 0.05, 5.67 - 0.33, -15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#Call buttons
		CallButtonElevators = 1, 2, 3, 4
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -60 + 0.001, -11, 3.5, right, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -60 + 0.001, -21, 3.5, right, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -60 + 0.001, -31, 3.5, right, 0.5, 1, true, 0, 0

	#Indicator sets
		#Indicator creation
		Set IndOffset = 8
		if[%floor% = 0] HitachiLobbyInds_Right(1, -60, -6, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Right(2, -60, -16, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Right(3, -60, -26, %IndOffset%, -1, 13, true)
		if[%floor% = 0] HitachiLobbyInds_Right(4, -60, -36, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(1, -60, -6, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(2, -60, -16, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(3, -60, -26, %IndOffset%, -1, 13, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(4, -60, -36, %IndOffset%, -1, 13, true)

	#Wall cuts for decos
		Set DecoHeight = %height%
		if[%floor% = 0] Set DecoHeight = %height% + Floor(1).FullHeight
		Set DSideLen = 1
		WallOrientation = right
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -60, -6, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -60, -16, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -60, -26, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddFillerWalls Blank, 0.1, -60, -36, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false

	#Hall signs
		DrawWalls = false, true, false, false, false, false
		AddWall E1-4HallSign4, BlankSign%floorid%, 0, -60 + 0.001, -11 - 0.75, -60 + 0.001, -11 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E1-4HallSign5, BlankSign%floorid%, 0, -60 + 0.001, -31 - 0.75, -60 + 0.001, -31 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E1-4HallSign6, ElevHallSign, 0, -60 + 0.001, -21 - 0.375, -60 + 0.001, -21 + 0.375, 1, 1, 2.4, 2.4, 0, 0, false

	#Decos
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -60, -6, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -60, -16, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -60, -26, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -60, -36, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)

	#Door trims
	AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -60 + 0.01, -6, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -60 + 0.01, -16, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -60 + 0.01, -26, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -60 + 0.01, -36, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
<EndFunction>

#Low-rise elevators
<Floors -1 to 0>
	E1-4ShaftDoors-Front()
<EndFloors>

<Floors 2 to 9>
	E1-4ShaftDoors-Front()
<EndFloors>

<Floors 10 to 13>
	E1-4ShaftDoors-Rear()
<EndFloors>


<Function E5-8ShaftDoors>
	#Shaft Doors (Front)
	Set StartNo = 5
	ShaftDoorTex() #Shaft door and panel textures

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, false, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 3, 1, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, false, false

	#Door tracks
	AddDoorTrack(5, 1, 5.67 - 0.33 - 0.36, 5.67 - 0.33, -15 - 1 - 2, -15 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(6, 1, 5.67 - 0.33 - 0.36, 5.67 - 0.33, -5 - 1 - 2, -5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(7, 1, 5.67 - 0.33 - 0.36, 5.67 - 0.33, 5 - 1 - 2, 5 - 1 + 4, ElevDoorTrackX)
	AddDoorTrack(8, 1, 5.67 - 0.33 - 0.36, 5.67 - 0.33, 15 - 1 - 2, 15 - 1 + 4, ElevDoorTrackX)

	#Top filler
	Set TrimTexPrefix = %DoorTrimPrefix%
	AddTopFiller(5, 1, 5.67 - 0.33 - 0.18, 5.67 - 0.33, -15 - 1 - 2, -15 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(6, 1, 5.67 - 0.33 - 0.18, 5.67 - 0.33, -5 - 1 - 2, -5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(7, 1, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 5 - 1 - 2, 5 - 1, 7, %TrimTexPrefix%_Trim)
	AddTopFiller(8, 1, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 15 - 1 - 2, 15 - 1, 7, %TrimTexPrefix%_Trim)

	#Gap filler
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 1, GapFiller_Elev5_Rear, ElevExt, 0.36, 5.67 - 0.33, -15 - 1 - 2 - 0.05, 5.67 - 0.33, -15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 1, GapFiller_Elev6_Rear, ElevExt, 0.36, 5.67 - 0.33, -5 - 1 - 2 - 0.05, 5.67 - 0.33, -5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 1, GapFiller_Elev7_Rear, ElevExt, 0.36, 5.67 - 0.33, 5 - 1 - 2 - 0.05, 5.67 - 0.33, 5 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
	TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
	AddShaftWall 1, GapFiller_Elev8_Rear, ElevExt, 0.36, 5.67 - 0.33, 15 - 1 - 2 - 0.05, 5.67 - 0.33, 15 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#Call buttons
		CallButtonElevators = 5, 6, 7, 8
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -108 + 0.001, -11, 3.5, right, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -108 + 0.001, -21, 3.5, right, 0.5, 1, true, 0, 0
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, -108 + 0.001, -31, 3.5, right, 0.5, 1, true, 0, 0

	#Indicator sets
		#Indicator creation
		Set IndOffset = 8
		if[%floor% = 0] HitachiLobbyInds_Right(5, -108 + 0.1, -36, %IndOffset%, 0, 26, true)
		if[%floor% = 0] HitachiLobbyInds_Right(6, -108 + 0.1, -26, %IndOffset%, 0, 26, true)
		if[%floor% = 0] HitachiLobbyInds_Right(7, -108 + 0.1, -16, %IndOffset%, 0, 26, true)
		if[%floor% = 0] HitachiLobbyInds_Right(8, -108 + 0.1, -6, %IndOffset%, 0, 26, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(5, -108, -36, %IndOffset%, 0, 26, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(6, -108, -26, %IndOffset%, 0, 26, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(7, -108, -16, %IndOffset%, 0, 26, true)
		if[%floor% ! 0] HitachiLobbyLanterns_Right(8, -108, -6, %IndOffset%, 0, 26, true)

	#Hall signs
		DrawWalls = false, true, false, false, false, false
		if[%floor% < 6 & %floor% ! 3 & %floor% ! 5] AddWall E5-8HallSign1Back, FloorSignBack, 0, -108 + 0.001, -11 - 0.75, -108 + 0.001, -11 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		#if[%floor% = 0] AddWall E5-8HallSign1ABack, FloorSignBack, 0, -108 + 0.001, -21 - 1, -108 + 0.001, -21 + 1, 2, 2, 5, 5, 0, 0, false
		if[%floor% < 6 & %floor% ! 3 & %floor% ! 5] AddWall E5-8HallSign2Back, FloorSignBack, 0, -108 + 0.001, -31 - 0.75, -108 + 0.001, -31 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E5-8HallSign1, BlankSign%floorid%, 0, -108 + 0.002, -11 - 0.75, -108 + 0.002, -11 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		if[%floor% = 0] AddWall E5-8HallSign1A, BlankSignHElev, 0, -108 + 0.002, -21 - 1, -108 + 0.002, -21 + 1, 2, 2, 5, 5, 0, 0, false
		AddWall E5-8HallSign2, BlankSign%floorid%, 0, -108 + 0.002, -31 - 0.75, -108 + 0.002, -31 + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E5-8HallSign3, ElevHallSign, 0, -108 + 0.001, -21 - 0.375, -108 + 0.001, -21 + 0.375, 1, 1, 2.4, 2.4, 0, 0, false

	#Wall cuts for decos
		Set DecoHeight = %height%
		if[%floor% = 0] Set DecoHeight = %height% + Floor(1).FullHeight
		Set DSideLen = 1
		WallOrientation = right
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddFillerWalls Blank, 0.1, -108, -36, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddFillerWalls Blank, 0.1, -108, -26, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddFillerWalls Blank, 0.1, -108, -16, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false
		if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddFillerWalls Blank, 0.1, -108, -6, 4 + (%DSideLen% * 2), %DecoHeight%, 0, false, 0, 0, false

	#Decos
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -108, -36, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -108, -26, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -108, -16, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% > 2 & %floor% ! 3 & %floor% ! 5 & %floor% < 25] AddDeco4(%DecoTex%, %DecoTex%, right, true, false, floor, 0, %DSideLen%, -108, -6, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, false, %DoorTrimPrefix%_Trim, 0.66)

	#Door trims
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -108 + 0.01, -36, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -108 + 0.01, -26, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -108 + 0.01, -16, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
	if[%floor% ! 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, -108 + 0.01, -6, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)

	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0.1, 0.2, -108, -36, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0.1, 0.2, -108, -26, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0.1, 0.2, -108, -16, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
	if[%floor% = 0] AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0.1, 0.2, -108, -6, 4, 7, %DecoHeight%, %DecoHeight% - 7, 0, true, %DoorTrimPrefix%_Trim, 0.66)
<EndFunction>

#High-rise elevators
<Floor 0>
	E5-8ShaftDoors()
<EndFloor>

<Floors 14 to 26>
	E5-8ShaftDoors()
<EndFloors>

#Service elevators
<Floors -1 to 24>
	#Shaft Doors (Front)
	Set StartNo = 9
	ShaftDoorTex-Service() #Shaft door and panel textures

	#Central service elev.
	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%A_L, %DoorTexture%A_L, 0.18, right, 0.8, 0.6, 4.5 + 0.48, -0.5 - 2, 4.5 + 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%A_R, %DoorTexture%A_R, 0.18, right, 0.4, 0.3, 4.5 + 0.66, -0.5, 4.5 + 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

		#Door tracks
		AddDoorTrack(9, 3, 5.67 - 0.33 - 0.36, 5.67 - 0.33, 0 - 1 - 2, 0 - 1 + 4, ElevDoorTrackX)
	
		#Top filler
		Set TrimTexPrefix = %DoorTrimPrefix%
		AddTopFiller(9, 3, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 0 - 1 - 2, 0 - 1, 7, %TrimTexPrefix%_Trim)
	
		#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
		AddShaftWall 3, GapFiller_Elev9_Rear, ElevExt, 0.36, 5.67 - 0.33, 0 - 1 - 2 - 0.05, 5.67 - 0.33, 0 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		#Call buttons
		Set ButtonPosition = -32 + 2 + 1.25
		CallButtonElevators = 9
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, 12 + 0.001, %ButtonPosition%, 3.5, right, 0.5, 1, true, 0, 0

		#Indicator sets
		Set IndOffset = 8
		if[%floor% = 0 | %floor% = 1] Set IndOffset = 7.5
		HitachiLobbyInds_Right(9, 12, -32, %IndOffset%, -1, 24, false)

		#Hall signs
		DrawWalls = false, true, false, false, false, false
		AddWall E9HallSign1, BlankSign%floorid%, 0, 12 + 0.001, %ButtonPosition% - 0.75, 12 + 0.001, %ButtonPosition% + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E9HallSign2, ElevHallSign, 0, 12 + 0.001, %ButtonPosition% - 0.375, 12 + 0.001, %ButtonPosition% + 0.375, 1, 1, 2.4, 2.4, 0, 0, false
		DrawWalls = true, false, false, false, false, false
		AddWall E10HallSign3, BlankSign%floorid%, 0, 21.5 - 0.001, -32 - 0.75, 21.5 - 0.001, -32 + 0.75, 1.5, 1.5, 6.5, 6.5, 0, 0, false

		#Door trims
		WallTex() #Set filler textures to match with shaft walls
		WallOrientation = right
		AddFillerWalls %6X%, 0.66, 12, -32, 4, 7, 0, false, 0, 0, false
		#AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, right, true, false, floor, 0, 0.2, 12 + 0.01, -32, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
<EndFloors>

<Floors -1 to 25>
	ShaftDoorTex-Service() #Shaft door and panel textures

	#East service elev.
	Set StartNo = 10
	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Fast, %DoorTexture%B_R, %DoorTexture%B_R, 0.18, right, 0.8, 0.6, -4.5 - 0.48, -0.5 - 2, -4.5 - 0.48, -0.5, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, 2Speed_Slow, %DoorTexture%B_L, %DoorTexture%B_L, 0.18, right, 0.4, 0.3, -4.5 - 0.66, -0.5, -4.5 - 0.66, -0.5 + 2, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, false, false

		#Door tracks
		AddDoorTrack(10, 4, -5.67 + 0.33, -5.67 + 0.33 + 0.36, 0 - 1 - 2, 0 - 1 + 4, ElevDoorTrackX)
	
		#Top filler
		Set TrimTexPrefix = %DoorTrimPrefix%
		AddTopFiller(10, 4, -5.67 + 0.33, -5.67 + 0.33 + 0.18, 0 - 1 - 2, 0 - 1, 7, %TrimTexPrefix%_Trim)
	
		#Gap filler
		WallOrientation = left
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, ElevExt, %TrimTexPrefix%_Trim, ElevExt, ElevExt
		AddShaftWall 4, GapFiller_Elev10_Front, ElevExt, 0.36, -5.67 + 0.33, 0 - 1 - 2 - 0.05, -5.67 + 0.33, 0 - 1 - 2, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

		#Call buttons
		Set ButtonPosition = 54 + 2 + 1.25
		CallButtonElevators = 10
		CreateCallButtons %ButtonPanelTexture%, ButtonUp, ButtonUpLit, ButtonDown, ButtonDownLit, 108 - 0.001, %ButtonPosition%, 3.5, left, 0.5, 1, true, 0, 0

		#Indicator sets
		Set IndOffset = 8
		if[%floor% = 0 | %floor% = 1] Set IndOffset = 7.5
		HitachiLobbyInds_Left(10, 108, 54, %IndOffset%, -1, 25, false)

		#Hall signs
		DrawWalls = true, false, false, false, false, false
		AddWall E10HallSign1, BlankSign%floorid%, 0, 108 - 0.001, %ButtonPosition% - 0.75, 108 - 0.001, %ButtonPosition% + 0.75, 1.5, 1.5, 5.25, 5.25, 0, 0, false
		AddWall E10HallSign2, ElevHallSign, 0, 108 - 0.001, %ButtonPosition% - 0.375, 108 - 0.001, %ButtonPosition% + 0.375, 1, 1, 2.4, 2.4, 0, 0, false
		DrawWalls = false, true, false, false, false, false
		AddWall E10HallSign3, BlankSign%floorid%, 0, 98.5 + 0.001, 54 - 0.75, 98.5 + 0.001, 54 + 0.75, 1.5, 1.5, 6.5, 6.5, 0, 0, false

		#Door trims
		WallTex() #Set filler textures to match with shaft walls
		WallOrientation = left
		AddFillerWalls %6X%, 0.66, 108, 54, 4, 7, 0, false, 0, 0, false
		#AddDeco4(%DoorTrimPrefix%_Trim, %DoorTrimPrefix%_Trim, left, true, false, floor, 0, 0.2, 108 - 0.01, 54, 4, 7, 7.2, 0.2, 0, true, %DoorTrimPrefix%_Trim, 0.66 + 0.01)
<EndFloors>

<Floor 0>
	#Elevator number signs
	Set SignOffset = 9

		#High-rise elevators
		DrawWalls = false, true, false, false, false, false
		AddWall ElevNo5Sign, ElevNo5, 0, -108 + 0.102, -36 - 0.5, -108 + 0.102, -36 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo6Sign, ElevNo6, 0, -108 + 0.102, -26 - 0.5, -108 + 0.102, -26 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo7Sign, ElevNo7, 0, -108 + 0.102, -16 - 0.5, -108 + 0.102, -16 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo8Sign, ElevNo8, 0, -108 + 0.102, -6 - 0.5, -108 + 0.102, -6 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false

	Set SignOffset = 8.5
		#Central service elevator
		AddWall ElevNo9Sign, ElevNo9, 0, 12 + 0.002, -32 - 0.5, 12 + 0.002, -32 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false

		#East service elevator
		DrawWalls = true, false, false, false, false, false
		AddWall ElevNo10Sign, ElevNo10, 0, 108 - 0.002, 54 - 0.5, 108 - 0.002, 54 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false

	Set SignOffset = 9
		#Low-rise elevators
		AddWall ElevNo1Sign, ElevNo1, 0, -72 - 0.102, -6 - 0.5, -72 - 0.102, -6 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo2Sign, ElevNo2, 0, -72 - 0.102, -16 - 0.5, -72 - 0.102, -16 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo3Sign, ElevNo3, 0, -72 - 0.102, -26 - 0.5, -72 - 0.102, -26 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		AddWall ElevNo4Sign, ElevNo4, 0, -72 - 0.102, -36 - 0.5, -72 - 0.102, -36 + 0.5, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
<EndFloor>

#Global Settings
<Elevators 1 to 10>
	#Main settings
	ReOpen = false
	ChimeOnArrival = true
	if[%elevator% < 5] NotifyEarly = 1
	if[%elevator% > 4] NotifyEarly = 2
	QueueResets = true

		#Door timers
		DoorTimer 1 = 10000
		QuickClose 1 = 6000
		if[%elevator% < 5] DoorTimer 2 = 10000
		if[%elevator% < 5] QuickClose 2 = 6000

	#Chimes
	if[%elevator% < 5] ChimeSound 2 = KW_Sounds/hitachimtchime1.wav
	if[%elevator% < 10] ChimeSound 1 = KW_Sounds/hitachimtchime1.wav
	if[%elevator% = 10] ChimeSound 1 = KW_Sounds/hitachimtchime2.wav

	#Door sounds
	OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881
	if[%elevator% < 5] OpenSound 2 = EG881Sounds/freightelevatoropen3.wav #EG881
	if[%elevator% < 5] CloseSound 2 = EG881Sounds/freightelevatorclose3.wav #EG881

	#Motor sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881

	#Elevator sounds
	if[%elevator% < 5] CarStartSound = elevstart3.wav
	if[%elevator% < 5] CarMoveSound = elevmove3.wav
	if[%elevator% < 5] CarStopSound = elevstop3.wav
	if[%elevator% > 4] CarStartSound = elevstart5.wav
	if[%elevator% > 4] CarMoveSound = elevmove5.wav
	if[%elevator% > 4] CarStopSound = elevstop5.wav
<EndElevators>

#########################################################################

#Stairwells
#West stairwell (Main stairs)
CreateStairwell 1, -90, -12, -1, 29
CutStairwell 1, -7.5, -11.5, 7.5, 11.5, 0, 5
ShowFullStairs 1 = always

<Floors -1 to 29>
	Set 21 = -90 #Center X
	Set 22 = -12 #Center Z
	Set 23 = 7.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size
	
	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2, 3, 0, -5.5, 0, 5.5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
		#Set wall textures & height
		WallTex()
		Set wallh = %height%
		if[%floor% = 0] Set wallh = %height% + Floor(1).FullHeight
		Set walloff = 0
		if[%floor% = 29] Set walloff = %interfloorheight%

		#Determine sides to be displayed
		Set DispTop = false
		if[%floor% = 29] Set DispTop = true
		
		#Set to external mesh on roof level
		Set isext = false
		if[%floor% = 29] Set isext = true

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %wallh%, %walloff%, true, true, true, true, %DispTop%, false, %isext%)

	#Stairs
	if[%floor% < 29] AddStairs %25%, LowerStairs, Stairs, back, -%23% + (6 / 2), 0, 6, %26%, 1, 12, 0, 0, 0
	if[%floor% < 29] AddStairs %25%, UpperStairs, Stairs, front, %23% - (6 / 2), 0, 6, %26%, 1, 12, %26% * 12, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -1] AddStairsFloor %25%, LandingLowest, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, 5.5, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 29] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, -%24%, %23%, -5.5, %26% * 12, %26% * 12, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 29] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, 5.5, %23% - 8, 5.5, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	if[%floor% < 29] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 8, -5.5, %23%, -5.5, 0.5, 0.5, (%26% * 12) - 0.5, (%26% * 12) - 0.5, 0, 0

	#Railings
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 29] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23%, 5.5, %23% - 6, 5.5, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1 & %floor% < 29] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, %23% - 2, %24%, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 29] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, %23% - 2, %24% + 0.5, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, -%23% + 2, %24% + 0.5, 3, 7, 0, 0, 0

		#Rooftop exit filler walls
		if[%floor% = 29] AddFillerWalls ConnectionWall, 0.5, %21% + %23% - 2, %22% + %24% + 0.5, 3, 7, %interfloorheight%, true, 0, 0, true

	#Floor Signs
	Set flrsignpos = %23% - 2 - 3
	if[%floor% = -1 | %floor% = 0] Set flrsignpos = -%23% + 2 + 3
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! 1] AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, %flrsignpos% - 1, %24% - 0.001, %flrsignpos% + 1, %24% - 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	if[%floor% > 1 & %floor% < 29] AddBoxSign(Stair%25%_Sign1, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %21% + %23% - 2, 5, 1.8, 0.9, %height% - 0.9, false)
	if[%floor% = -1] AddBoxSign(Stair%25%_Sign1A, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, false, true, true, %21% - %23% + 2, 5, 1.8, 0.9, %height% - 0.9, false)

	if[%floor% = 0] AddBoxSign(Stair%25%_Sign2, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 29] AddBoxSign(Stair%25%_Sign3, ExitSignUp, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)

	if[%floor% > 1 & %floor% < 29] AddBoxSign(Stair%25%_Sign4, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = -1] AddBoxSign(Stair%25%_Sign5, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)

	#Stair Signs
	Set ExtraOffset = 0
	if[%floor% = 0] Set ExtraOffset = 1

	Set stairsignpos = -87
	if[%floor% < 1] Set stairsignpos = -93
	if[%floor% ! 1 & %floor% < 27] AddBoxSign(Stair%25%_Pictogram, Sign_Stairs, Sign_Stairs, BlackTrim, 0.1, false, true, true, %stairsignpos%, 0 + 0.75, 1.5, 1.5, 7.75 + %ExtraOffset%, false)
<EndFloors>

#Central stairwell (Fire exit stairs 1)
CreateStairwell 2, 6, -48, -1, 26
CutStairwell 2, -5.5, -11.5, 5.5, 11.5, 0, 5
ShowFullStairs 2 = always

<Floors -1 to 26>
	Set 21 = 6 #Center X
	Set 22 = -48 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2, 1, 0, -5.5, 0, 5.5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
		#Set wall textures & height
		WallTex()
		Set wallh = %height%
		if[%floor% = 1] Set wallh = %fullheight%
		Set walloff = 0
		if[%floor% = 1] Set walloff = -%interfloorheight%

	CreateShaftWall(%6%, %6%, %6X%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %wallh%, %walloff%, false, true, true, false, false, false, false)

	#Stairs
	if[%floor% < 26] AddStairs %25%, LowerStairs, Stairs, front, -%23% + (5 / 2), 0, 5, %26%, 1, 12, 0, 0, 0
	if[%floor% < 26] AddStairs %25%, UpperStairs, Stairs, back, %23% - (5 / 2), 0, 5, %26%, 1, 12, %26% * 12, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -1] AddStairsFloor %25%, LandingLowest, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, -5.5, 0, 0, false, false, 0, 0
	if[%floor% < 26] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 5.5, %23%, %24%, %26% * 12, %26% * 12, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 26] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23%, -5.5, %23% - 6, -5.5, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% < 26] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23% + 6, 5.5, %23%, 5.5, 0.5, 0.5, (%26% * 12) - 0.5, (%26% * 12) - 0.5, 0, 0

	#Railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 26] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23%, -5.5, %23% - 6, -5.5, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0

	SetLock 1, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, -%23% + 2, -%24% - 0.5, 3, 7, 0, 0, 0
	SetLock 0, 0

		#Emergency exit filler walls
		if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% - %23% + 2, %22% - %24% - 0.5, 3, 7, %interfloorheight%, true, 0, 0, true

	#Floor Signs
	Set flrsignpos = 0
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, %flrsignpos% - 1, -%24% + 0.001, %flrsignpos% + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	Set signtex = ExitSign
	if[%floor% < 0] Set signtex = ExitSignUp
	if[%floor% ! 0] AddBoxSign(Stair%25%_Sign1, StainlessSteel, ExitSignRight, StainlessSteel, 0.1, true, true, true, 12 + 5, %22% - %24% + 2, 1.8, 0.9, %height% - 0.9, false)
	AddBoxSign(Stair%25%_Sign2, StainlessSteel, %signtex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign3, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 2 | %floor% = 3 | (%floor% > 7 & %floor% < 25)] AddBoxSign(Stair%25%_Sign4, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, 12 + 5, -30, 1.8, 0.9, %height% - 0.9, false)
<EndFloors>

#East stairwell (Fire exit stairs 2)
CreateStairwell 3, 114, 38, -1, 26
CutStairwell 3, -5.5, -11.5, 5.5, 11.5, 0, 5
ShowFullStairs 3 = always

<Floors -1 to 26>
	Set 21 = 114 #Center X
	Set 22 = 38 #Center Z
	Set 23 = 5.5 #Cut X
	Set 24 = 11.5 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, false
	AddStairsWall %25%, Center, StairsWall2, 1, 0, -5.5, 0, 5.5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#External walls
		#Set wall textures & height
		WallTex()
		Set wallh = %height%
		#if[%floor% = 1] Set wallh = %fullheight%
		Set walloff = 0
		#if[%floor% = 1] Set walloff = -%interfloorheight%

	CreateShaftWall(%6X%, %6X%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, %25%, %wallh%, %walloff%, true, true, false, false, false, false, false)

	#Stairs
	if[%floor% < 26] AddStairs %25%, LowerStairs, Stairs, front, %23% - (5 / 2), 0, 5, %26%, 1, 12, 0, 0, 0
	if[%floor% < 26] AddStairs %25%, UpperStairs, Stairs, back, -%23% + (5 / 2), 0, 5, %26%, 1, 12, %26% * 12, 0, 0

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -1] AddStairsFloor %25%, LandingLowest, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -1] AddStairsFloor %25%, LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, -5.5, 0, 0, false, false, 0, 0
	if[%floor% < 26] AddStairsFloor %25%, LandingUpper, StairsFloor, 0.5, -%23%, 5.5, %23%, %24%, %26% * 12, %26% * 12, false, false, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 26] AddStairsFloor %25%, Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Landing Covers
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, LandingLowerCover, StairsFloor, 0, -%23% + 6, -5.5, %23%, -5.5, 0.5, 0.5, -0.5, -0.5, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	if[%floor% < 26] AddStairsWall %25%, LandingUpperCover, StairsFloor, 0, -%23%, 5.5, %23% - 6, 5.5, 0.5, 0.5, (%26% * 12) - 0.5, (%26% * 12) - 0.5, 0, 0

	#Railings
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 26] AddStairsWall %25%, Stair%25%Railing, StairsWall2, 0.5, -%23% + 6, -5.5, %23%, -5.5, 3.5, 3.5, 0, 0, 0, 0

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0

	SetLock 2, 0
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
	SetLock 0, 0

		#Emergency exit filler walls
		if[%floor% = 0] AddFillerWalls ConnectionWall, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7, %interfloorheight%, false, 0, 0, true

	#Floor Signs
	Set flrsignpos = 0
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, FloorSign, BlankSign%floorid%, 0, %flrsignpos% - 1, -%24% + 0.001, %flrsignpos% + 1, -%24% + 0.001, 2, 2, 4, 4, 0, 0

	#Exit Signs
	Set signtex = ExitSign
	if[%floor% < 0] Set signtex = ExitSignUp
	AddBoxSign(Stair%25%_Sign1, ExitSignRight, ExitSignLeft, StainlessSteel, 0.1, true, true, true, 108 - 5, %22% - %24% + 2, 1.8, 0.9, %height% - 0.9, false)
	AddBoxSign(Stair%25%_Sign2, %signtex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% - %24% + 2, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_Sign3, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>