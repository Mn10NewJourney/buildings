#Destiny Plaza
#Copyright (c) 2024-Present - Mn10

#Project start date: 24 April 2024
#Major detail finish date: 2 May 2024
#Updated 27 October 2024: Added a sign to indicate Elevators 1-3's serviced floors.

#SCRIPTS TO BE INCLUDED
	#1. My new scripts
	<Include buildings/Mn10_Scripts/Deco2023_R1.txt>
	<Include buildings/Mn10_Scripts/Shafts_and_Elevators.txt>
	<Include buildings/Mn10_Scripts/Windows.txt>
	
	#2. ObjectPlus and SROC (credit to EG881)
	<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
	<Include SROC/Scripts/r1_script.txt> #EG881

	#3. My previous scripts
	<Include CustomObjects2018/Scripts/r1_script.txt>
	<Include Shaft Wall Creator/Scripts/r1_script.txt>
	<Include data/ACME Floor Indicator/Scripts/Indicators.txt>
	
#Globals
<Globals>
	Name = Destiny Plaza
	Designer = Mn10 (Credit to gooper1 for the fixtures)
	Location = 413 8th Street, Tranquility City
	Description = A 8-story shopping mall with 586 parking spaces.
	Version = 1
	CameraFloor = 0
	CameraPosition = -80, -80
	CameraRotation = 0, 180, 0
<EndGlobals>

##--------------------------------------------------------------------------------##

#Textures
<Textures>
	#Commons
	Load data/black.jpg, Black, 1, 1, false
	Load data/Melvin/transparent128.png, Blank, 1, 1, false
	Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
	Load data/text16.jpg, WoodSign2, 1, 1, false

	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125
	Load data/Melvin/ABH_Tex/walkway-darker.jpg, SidewalkDarker, 0.03125, 0.03125
	Load data/stonec.jpg, Plaza, 0.04, 0.04

		#Plants
		Load data/EG881/grass2.jpg, Grass_Dark, 0.01, 0.01 #EG881
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881
		Load data/EG881/cem_tr2b.jpg, FlowerBed, 0.075225, 0.0625 #EG881

		#Roads
		Load data/grndroad1mid.jpg, Road, 0.04, 0.04
		Load data/Melvin/Roads/2lane-oneway-90de.png, EntExitRoad, 0.0333, 0.05

		#Road markings
		Load data/EG881/parkingspacex.png, ParkingSpaceX, 1, 1, false #EG881
		Load data/EG881/parkingspacez.png, ParkingSpaceZ, 1, 1, false #EG881
		Load data/EG881Mod/NoParkingX.png, NoParkingX, 1, 1, false #EG881 #Yellow islands
		Load data/EG881Mod/NoParkingZ.png, NoParkingZ, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandX.png, WhiteIslandX, 1, 1, false #EG881
		Load data/EG881Mod/WhiteIslandZ.png, WhiteIslandZ, 1, 1, false #EG881
		Load data/EG881/paint_white.png, WhiteLine, 1, 1, false #EG881

	#External facade
	Load data/graniteTexture_0001b.jpg, ExtFacade, 0.08, 0.08, true #EG881
	Load data/EG881/Concrete/smoothconcrete1.jpg, ExtFacade2, 0.0625, 0.0625, true #EG881
	Load data/cutston.jpg, ExtFacade3, 0.075, 0.075, true #Parking garage railings (1-5A)
	Load data/marb148.jpg, ExtFacade4A, 0.111, 0.111, true #West/east facades
	Load data/graniteTexture_0018b.jpg, ExtFacade4B, 0.075, 0.075, true #West/east facades

	#Windows
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, MainWindows, true, 0.05, 1 #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, MainWindowsB, true, 1, 1, false #EG881
	Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881
	Load data/windows11h_inside.gif, MainWindowsIntB2, 1, 1, false
	LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3j.jpg, MallWindows, true, 0.025, 1 #EG881
	Load data/EG881/windows11h_insideblack.png, MallWindowsInt, 0.025, 1 #EG881

		#Skylight
		LoadAlphaBlend data/windows11i.jpg, data/windows11ispec.png, data/sky3j.jpg, Skylight, true, 1, 1, false
		Load data/windows11h_inside.gif, SkylightInt, 1, 1, false #EG881

	#Main textures (Also include passenger elevators' shaft doors)
		#Lobbies on parking levels
		Load data/Carpet0012_S.jpg, ParkingLobbyFloor, 0.2, 0.2 #Level B, Elevators 4-7
		Load data/Carpet0013b_S.jpg, ParkingLobbyFloor2, 0.2, 0.2 #Level B-5M, Elevators 8-11
		Load data/floor065.jpg, ParkingLobbyFloor3, 0.25, 0.25 #Level B, East Escalators
		Load data/EG881/stucco22b_white.jpg, ParkingLobbyWall, 0.1, 0.1 #EG881

		Load data/marbletile.jpg, ParkingLobbyWall2, 0.15, 0.3 #Level B, West/East Escalators
		Load data/marble5.jpg, ParkingLobbyWall2A, 0.2, 0.2

		Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeiling, 0.125, 0.125 #EG881 #Escalator lobbies (automatically tiled)
		Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeilingB, 1, 1, false #EG881 #Elevator lobbies (manually tiled)
		Load data/stucco4.jpg, ParkingLobbyCeiling2, 0.25, 0.25 #Elevator lobbies (surrounding the lights)

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ParkingShaftDoors, -1, 1, false #EG881 #Switch the keyholes to match with other floors' shaft doors.
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ParkingShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, ParkingShaftDoors_Trim, 1, 1, false

		#Parking areas
		Load data/EG881/cem_tr2b.jpg, ParkingFloor, 0.075225, 0.0625 #EG881
		Load data/stucco1.jpg, ParkingWall, 0.15, 0.15 #Main walls
		Load data/stucco4.jpg, ParkingWall2, 0.25, 0.25 #Support columns
		Load data/stucco1b.jpg, ParkingWall3, 0.1, 0.1 #Rails around ramps
		Load data/EG881/cem_tr3.jpg, ParkingCeiling, 0.075225, 0.0625 #EG881

		#Shopping zones (Level B1)
		Load data/EG881/eg881_Carpet1.jpg, LevelB1Floor, 0.15, 0.15 #EG881
		Load data/EG881/lopacwall3stripe.jpg, LevelB1Wall, 0.15, 0.3 #EG881
		Load data/marbl3.jpg, LevelB1Wall2, 0.2, 0.2 #Support columns and railings
		Load data/EG881/ceilingtile3x3.jpg, LevelB1Ceiling, 0.125, 0.125 #EG881
		Load data/stucco4.jpg, LevelB1Ceiling2, 0.25, 0.25

			Load data/EG881/elevdoorleft_black.jpg, LevelB1ShaftDoors, 1, 1, false #EG881
			Load data/EG881/elevdoorright_black.jpg, LevelB1ShaftDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_black.jpg, LevelB1ShaftDoors_Trim, 1, 1, false #EG881

		#Shopping zones (Level 1)
		Load data/marb047.jpg, F1Floor, 0.2, 0.2
		Load data/marble5.jpg, F1Wall, 0.111, 0.111, true
		Load data/st_wall.jpg, F1Wall2, 0.1875, 0.1344 #Support columns and railings
		Load data/EG881/ceilingtile2b.jpg, F1Ceiling, 0.125, 0.125 #EG881

			Load data/EG881/elevdoorleft_white.jpg, F1ShaftDoors, 1, 1, false #EG881
			Load data/EG881/elevdoorright_white.jpg, F1ShaftDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_white.jpg, F1ShaftDoors_Trim, 1, 1, false #EG881

		#Shopping zones (Levels 2-6)
		Load data/checker08.jpg, ShopFloor, 0.2, 0.2
		Load data/wall5.jpg, ShopWall, 0.25, 0.25, true
		Load data/stucco1b.jpg, ShopWall2, 0.125, 0.125 #EG881 #Support columns and railings
		Load data/EG881/ceilingtile2.jpg, ShopCeiling, 0.125, 0.125 #EG881

			Load data/EG881/lightaluminumdoor2.jpg, ShopShaftDoors, 1, 1, false #EG881
			Load data/EG881/lightaluminumdoor2.jpg, ShopShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, ShopShaftDoors_Trim, 1, 1, false

		#Shopping zones (Levels 7-8)
		Load data/floor065.jpg, UpperShopFloor, 0.125, 0.125
		Load data/st_wall2.jpg, UpperShopWall, 0.13635, 0.09765, true
		Load data/st_wall.jpg, UpperShopWall2, 0.1875, 0.1344 #Support columns
		Load data/EG881/ceilingtile2.jpg, UpperShopCeiling, 0.125, 0.125 #EG881

			Load data/EG881/stainlesssteeldoor.jpg, UpperShopShaftDoors, 1, 1, false #EG881
			Load data/EG881/stainlesssteeldoorschindler.jpg, UpperShopShaftDoors2, 1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, UpperShopShaftDoors_Trim, 1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, UpperShopShaftDoors_TrimTop, 1, 1, false #EG881
			Rotate UpperShopShaftDoors_TrimTop, 90

		#Service/freight elevator lobby
		Load data/EG881/cem_tr2b.jpg, ServiceLobbyFloor, 0.075225, 0.0625 #EG881
		Load data/stucco5.jpg, ServiceLobbyWall, 0.2, 0.2
		Load data/EG881/cem_tr2b.jpg, ServiceLobbyCeiling, 0.075225, 0.0625 #EG881

		#Drop ceilings
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881 #Restrooms
		Load data/EG881/Ceilings/ceilingtile4single.jpg, SLDropCeiling, 0.5, 0.5 #EG881 #Service elevator lobby

		#Roof		
		Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881

	#Doors
		#Main doors
		Load data/miscdoor1.jpg, Door1, 1, 1, false
		LoadCropped data/miscdoor1.jpg, Door1Side, 118, 0, 10, 256, 1, 1, false
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false

		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor88.gif, Door88, 1, 1, false
		LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Black entrance doors
		Load data/EG881/miscdoor8_blacktrans.png, BLKEntDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3j.jpg, BLKEntDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, BLKEntDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

	#Escalators
	Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false
	Load data/MarbleWhite0047b_S.jpg, EscOutsideWall, 0.111, 0.222, true

	#Shafts
	Load data/EG881/cem_tr2b.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ShaftIntWall2, 0.0625, 0.0625, true #EG881

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/metal080.jpg, ElevExt2, 0.5, 0.5, true
		Load data/panel-back3.jpg, ElevExt3, 1, 1, false
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881
		Load data/panel-back3.jpg, ElevPanel, 1, 1, false
		#Load data/MT/panel-back2.gif, ElevPanel2, 1, 1, false
		Load data/panel-back3.jpg, ElevExtPanels, 1, 1, false

		#Express elevators (1-2, 6-8)
		Load data/Carpet0013b_S.jpg, ExpressElevFloor, 0.2, 0.2
		Load data/panel-back3.jpg, ExpressElevCeiling, 1, 1, false
		Load data/EG881/Lights/squarelight1_white.jpg, ExpressElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/stainlesssteel2grid.gif, ExpressElevCeilingGrid, 1, 1, false #EG881

		Load data/EG881/blackdoortrim.jpg, ExpressElevWall, 1, 1, false #EG881
		Load data/glasselevator2b.gif, ExpressElevWallGlass, 1, 1, false
		Load data/EG881/stainlesssteel.jpg, ExpressElevWall2, 1, 1, false #EG881
		Load data/otis4_weavefloor.jpg, ExpressElevWallPanel, 1, 3, false

		Load data/EG881/stainlesssteel.jpg, ExpressElevPanelMain, 1, 1, false #EG881
		Load data/EG881/stainlesssteel.jpg, ExpressElevPanelTop, 1, 0.125, false #EG881
		Load data/glassdoor_trans.gif, ExpressElevDoors, 1, 1, false
		Load data/glassdoor_trans.gif, ExpressElevDoors2, -1, 1, false
		LoadCropped data/glassdoor_trans.gif, ExpressElevDoorsSide, 236, 0, 20, 512, 1, 1, false
		LoadCropped data/glassdoor_trans.gif, ExpressElevDoors2Side, 236, 0, 20, 512, -1, 1, false

		#Main elevators (B2-7)
		Load data/Carpet0012_S.jpg, MainElevFloor, 0.2, 0.2
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, MainElevCeiling, 1, 1, false
		Load data/EG881/Lights/squarelight1_white.jpg, MainElevCeilingLight, 1, 1, false #EG881
		Load data/windows11j-4_inside.gif, MainElevCeilingGrid, 1, -1, false

		Load data/EG881/blackdoortrim.jpg, MainElevWall, 1, 1, false #EG881
		Load data/floor111.jpg, MainElevWallPanel, 0.25, 0.25
		Load data/panel-back3.jpg, MainElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, MainElevPanelTop, 1, 0.125, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, MainElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, MainElevDoors2, 1, 1, false #EG881

		#Parking elevators
		Load data/floor065.jpg, ParkingElevFloor, 0.25, 0.25
		Load data/Melvin/OTIS67_Darkaluminium_cropped.jpg, ParkingElevCeiling, 1, -1, false
		Load data/EG881/Lights/squarelight1_white.jpg, ParkingElevCeilingLight, 1, 1, false #EG881
		Load data/EG881/stainlesssteel2grid.gif, ParkingElevCeilingGrid, 1, 1, false #EG881

		Load data/marb148.jpg, ParkingElevWall, 0.2, 0.2
		Load data/checker21.jpg, ParkingElevWallPanel, 0.5, 0.5

		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, ParkingElevPanelMain, 1, 1, false #EG881
		Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel2.jpg, ParkingElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, ParkingElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstainlesssteel2doorright.jpg, ParkingElevDoors2, 1, 1, false #EG881

			#Shaft doors (Passenger)
			#For this building, I moved this code to the "Main textures" section, so that I can
			#easily switch the shaft door textures to match with the corresponding floors.

			#Exception: Glass doors used on all floors (Elevators 1-3 only)
			Load data/glassdoor_trans.gif, ExpressShaftDoors, 1, 1, false
			Load data/glassdoor_trans.gif, ExpressShaftDoors2, -1, 1, false
			LoadCropped data/glassdoor_trans.gif, ExpressShaftDoorsSide, 236, 0, 20, 512, 1, 1, false
			LoadCropped data/glassdoor_trans.gif, ExpressShaftDoors2Side, 236, 0, 20, 512, -1, 1, false
			Load data/panel-back3.jpg, ExpressShaftDoors_Trim, 1, 1, false

		#Freight elevators
		Load data/metal072.jpg, FreightElevFloor, 0.25, 0.25, true
		Load data/wall5b.jpg, FreightElevWall, 0.25, 0.25, true
		Load data/Threadplate0055_2_S.jpg, FreightElevWallPanel, 0.4, 0.4, true
		Load data/panel-back3.jpg, FreightElevCeiling, 1, 1, false
		Rotate FreightElevCeiling, 270
		Load data/EG881/Lights/squarelight1_white.jpg, FreightElevCeilingLight, 1, 1, false #EG881
		Load data/panel-back3.jpg, FreightElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, FreightElevPanelTop, 1, 0.125, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightElevDoors2, 1, 1, false #EG881

			#Shaft doors (Freight)
			Load data/EG881/elevdoorleft_black.jpg, FreightAShaftDoors, 1, 1, false #EG881
			Load data/EG881/elevdoorright_black.jpg, FreightAShaftDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_black.jpg, FreightAShaftDoors_Trim, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, FreightBShaftDoors, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, FreightBShaftDoors2, -1, 1, false #EG881
			Load data/panel-back3.jpg, FreightBShaftDoors_Trim, 1, 1, false

	#TK Traditional II fixtures
		#Hall buttons
		Load data/Other People's Fixtures/TK Traditional II/callupunlit2.png, T2ButtonUp, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calluplit2.png, T2ButtonUpLit, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calldnunlit2.png, T2ButtonDown, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calldnlit2.png, T2ButtonDownLit, 1, 1, false #gooper1

		#Slightly larger hall buttons
		Load data/Other People's Fixtures/TK Traditional II/callupunlit.png, T2AButtonUp, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calluplit.png, T2AButtonUpLit, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calldnunlit.png, T2AButtonDown, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/calldnlit.png, T2AButtonDownLit, 1, 1, false #gooper1

		#Lanterns
		Load data/Other People's Fixtures/TK Traditional II/single_upunlit.png, T2LanternUp, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/single_uplit.png, T2LanternUpLit, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/single_dnunlit.png, T2LanternDown, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/single_dnlit.png, T2LanternDownLit, 1, 1, false #gooper1

		#Car fixtures
		Load data/Other People's Fixtures/TK Traditional II/alarm.png, T2ButtonAlarm, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/dooropen.png, T2ButtonOpen, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/doorclose.png, T2ButtonClose, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/buttonunlit.png, T2Button, 1, 1, false #gooper1
		Load data/Other People's Fixtures/TK Traditional II/buttonlit.png, T2ButtonLit, 1, 1, false #gooper1

		AddText T2Button, T2ButtonDH, nimbus_sans_bold_condensed.ttf, 44, DH, 0, 10, 104, 111, center, center, 255, 255, 255, false #Door hold
		AddTextRange 1, 2, T2Button, T2ButtonB%number%, nimbus_sans_bold_condensed.ttf, 44, B%number%, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddText T2Button, T2ButtonLL, nimbus_sans_bold_condensed.ttf, 44, LL, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddTextRange 1, 8, T2Button, T2Button%number%, nimbus_sans_bold_condensed.ttf, 44, %number%, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddTextRange 1, 5, T2Button, T2Button%number%M, nimbus_sans_bold_condensed.ttf, 44, %number%M, 0, 10, 104, 111, center, center, 255, 255, 255, false

		AddText T2ButtonLit, T2ButtonLitDH, nimbus_sans_bold_condensed.ttf, 44, DH, 0, 10, 104, 111, center, center, 255, 255, 255, false #Door hold
		AddTextRange 1, 2, T2ButtonLit, T2ButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 44, B%number%, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddText T2ButtonLit, T2ButtonLitLL, nimbus_sans_bold_condensed.ttf, 44, LL, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddTextRange 1, 8, T2ButtonLit, T2ButtonLit%number%, nimbus_sans_bold_condensed.ttf, 44, %number%, 0, 10, 104, 111, center, center, 255, 255, 255, false
		AddTextRange 1, 5, T2ButtonLit, T2ButtonLit%number%M, nimbus_sans_bold_condensed.ttf, 44, %number%M, 0, 10, 104, 111, center, center, 255, 255, 255, false

	#Inside floor indicators - For this building, I use the same set as NMH's freighters.
		#Moving arrows for all elevators
		Load data/darrow_single.jpg, ArrowUp, 1, 1, false
		Load data/darrow_single_otis_upred.jpg, ArrowUpLit, 1, 1, false
		Load data/darrow_single.jpg, ArrowDown, 1, 1, false
		Load data/darrow_single_otis_downred.jpg, ArrowDownLit, 1, 1, false
		ScrollAnim ArrowUpLit, 0, 1
		ScrollAnim ArrowDownLit, 0, -1

		#Floor indicators
		Load data/ThyssenKrupp_VR/floorind.png, IndBack, 1, 1, false
		AddTextRange 1, 2, IndBack, Ind_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 50, B%number%, 128, 0, 256, 128, center, center, 255, 0, 0, false #Test Tower
		AddText IndBack, Ind_ButtonLL, Mitsubishi-Modern-V2.ttf, 50, LL, 128, 0, 256, 128, center, center, 255, 0, 0, false #Test Tower
		AddTextRange 1, 8, IndBack, Ind_Button%number%, Mitsubishi-Modern-V2.ttf, 50, %number%, 128, 0, 256, 128, center, center, 255, 0, 0, false #Test Tower
		AddTextRange 1, 5, IndBack, Ind_Button%number%M, Mitsubishi-Modern-V2.ttf, 50, %number%M, 128, 0, 256, 128, center, center, 255, 0, 0, false #Test Tower

	#Outside floor indicators
		#Mall elevators - above doors
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, OutsideIndBack, 1, 1, false
		AddTextRange 1, 2, OutsideIndBack, OutsideInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 136, B%number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 8, OutsideIndBack, OutsideInd_Button%number%, Mitsubishi-Modern-V2.ttf, 136, %number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
	
		#Parking and freight elevators - above call buttons
			#Static arrows
			Load data/darrow_single.jpg, PKArrowUp, 1, 1, false
			Load data/darrow_single_otis_upred.jpg, PKArrowUpLit, 1, 1, false
			Load data/darrow_single.jpg, PKArrowDown, 1, 1, false
			Load data/darrow_single_otis_downred.jpg, PKArrowDownLit, 1, 1, false

			#Indicators above call buttons
			Load data/black.jpg, FEInd_ButtonBlank, 1, 1, false
			AddTextRange 1, 2, FEInd_ButtonBlank, FEInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 52, B%number%, 10, 0, 128, 128, center, center, 255, 0, 0 #Test Tower
			AddText FEInd_ButtonBlank, FEInd_ButtonLL, Mitsubishi-Modern-V2.ttf, 52, LL, 10, 0, 128, 128, center, center, 255, 0, 0 #Test Tower
			AddTextRange 1, 8, FEInd_ButtonBlank, FEInd_Button%number%, Mitsubishi-Modern-V2.ttf, 52, %number%, 10, 0, 128, 128, center, center, 255, 0, 0 #Test Tower
			AddTextRange 1, 5, FEInd_ButtonBlank, FEInd_Button%number%M, Mitsubishi-Modern-V2.ttf, 52, %number%M, 10, 0, 128, 128, center, center, 255, 0, 0 #Test Tower

	#Miscellaneous
		#Express Elevator Sign
		Load data/Melvin/DSP/EXElevSign.png, EXElevSign, 1, 1, false

		#Main Floor Star
		Load data/Melvin/Aceheart/MainFloorStar.png, MainFloorStar, 1, 1, false

		#Elevator lobbies
		Load data/signs_mod/Elev3.png, Sign_Elev, 1, 1, false
		Load data/signs_mod/Elev4A.png, Sign_ServiceElevA, 1, 1, false
		Load data/signs_mod/Elev4B.png, Sign_ServiceElevB, 1, 1, false

		#Posters above elevator doors (2nd-6th floors)
		Load data/Melvin/SentaiTower/Poster3B.png, PosterB1A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster4A.png, Poster1A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster6A.png, Poster2A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster6B.png, Poster3A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster4B.png, Poster4A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster7B.png, Poster5A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster7A.png, Poster6A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster5A.png, Poster7A, 1, 1, false
		Load data/Melvin/SentaiTower/Poster7A.png, Poster6B, 1, 1, false #Parking elevators only

		#Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		AddTextRange 1, 7, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 8, 11, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 255, 255, false
		AddTextRange 12, 13, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Floor signs (Elevator lobbies)
		Load data/Melvin/ABH_Tex/NewFS256/FSBack_SapphireService.jpg, FlrSignBack, 1, 1, false
		Load data/EG881/elevdoortrim_white.jpg, FSB_Side, 1, 1, false #EG881
		AddTextRange 1, 2, FlrSignBack, FlrSignB%number%, nimbus_sans.ttf, 130, B%number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddText FlrSignBack, FlrSignLL, nimbus_sans.ttf, 130, LL, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 8, FlrSignBack, FlrSign%number%, nimbus_sans.ttf, 130, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 5, FlrSignBack, FlrSign%number%M, nimbus_sans.ttf, 130, %number%M, 0, 0, 256, 198, center, center, 0, 0, 0, false

		#Floor signs (Black)
		AddTextRange 1, 2, BlackTrim, B%number%, nimbus_sans_bold.ttf, 96, B%number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText BlackTrim, LL, nimbus_sans_bold.ttf, 96, LL, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 8, BlackTrim, %number%, nimbus_sans_bold.ttf, 96, %number%, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddTextRange 1, 5, BlackTrim, %number%M, nimbus_sans_bold.ttf, 96, %number%M, -1, -1, -1, -1, center, center, 255, 255, 255, false
		AddText BlackTrim, R, nimbus_sans_bold.ttf, 96, R, -1, -1, -1, -1, center, center, 255, 255, 255, false

		#Restrooms
		Load data/signs_mod/Restroom1A.png, Sign_Restroom_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW_Brown, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM_Brown, 1, 1, false

		#Access control
		#Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881

		#Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false
<EndTextures>

##--------------------------------------------------------------------------------##

#Floor assignments
<Floor -1>
	ID = LL
	Name = Lower Level
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -11.5
<EndFloor>

<Floor -2>
	ID = B1
	Name = Basement Level 1
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -3>
	ID = B2
	Name = Basement Level 2
	Type = Parking
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor -4>
	ID = -
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = 1
	Name = Level %floorid%
	Type = Lobby
	Height = 8.5
	InterfloorHeight = 1.5
	Altitude = -1.5
<EndFloor>

<Floor 1>
	ID = 1M
	Name = Parking Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 2>
	ID = 2
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 3>
	ID = 2M
	Name = Parking Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 4>
	ID = 3
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 5>
	ID = 3M
	Name = Parking Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 6>
	ID = 4
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 7>
	ID = 4M
	Name = Parking Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 8>
	ID = 5
	Name = Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 9>
	ID = 5M
	Name = Parking Level %floorid%
	Type = Mezzanine
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floors 10 to 12>
	ID = %floor% - 4
	Name = Level %floorid%
	Type = Recreation
	Height = 17
	InterfloorHeight = 3
	if[%floor% = 10] InterfloorHeight = 1.5
<EndFloors>

#Merge floors
<Floors -3 to 12>
	Group = -3 - 12
<EndFloors>

<Floor 13>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 3
<EndFloor>
##--------------------------------------------------------------------------------##
#Landscape
	#Coordinate Set
	Set MainX = -1096
	Set MainZ = -1096 + 55
	Set InDestinyPlaza = true

	#Tranquility City Landscape
	<Include buildings/KW_Maps/Tranquility City.txt>

	#Downtown ground
	#AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920

	#Ground cuts for building
	Set 1 = 140 #Building Dimension X
	Set 2 = 120 #Building Dimension Z

	Cut Landscape, -%1% - 10, -1, -%2% - 60, %1% + 10, 1, %2% + 10 + 50, false, true

	#Plaza
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, SouthPlaza, Plaza, 0, -%1% - 10, -%2% - 60, %1% + 10, -%2% - 15, Floor(0).Base, Floor(0).Base, 0, 0	

	#Sidewalk
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, PerimeterSidewalk, Sidewalk, 0, -%1% - 10, -%2% - 15, %1% + 10, %2% + 10, Floor(0).Base, Floor(0).Base, 0, 0	
	Cut Landscape, -%1%, Floor(0).Base - 1, -%2%, %1%, Floor(0).Base + 1, %2%, false, true

	####================================####

	#Parking garage access points
	Cut Landscape, -150, -1, 60, -140, 1, 130, false, true
	Cut Landscape, 140, -1, 60, 150, 1, 130, false, true

	DrawWalls = true, true, false, false, false, false
	AddFloor landscape, PGEntranceLane, Road, 0, -150, 120 - 60, -140, 130, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, PGExitLane, Road, 0, 140, 120 - 60, 150, 130, Floor(0).Base, Floor(0).Base, 0, 0

	#Access roads
	Cut Landscape, -180, -1, -180, -150, 1, 180, false, true
	Cut Landscape, 150, -1, -180, 180, 1, 180, false, true

	DrawWalls = true, true, false, false, false, false
	AddFloor landscape, EntranceRoad1, EntExitRoad, 0, -180, -180, -150, 120 - 60, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, EntranceRoad2, Road, 0, -180, 120 - 60, -150, 130, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, ExitRoad1, EntExitRoad, 0, 150, -180, 180, 120 - 60, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, ExitRoad2, Road, 0, 150, 120 - 60, 180, 130, Floor(0).Base, Floor(0).Base, 0, 0
	AddFloor landscape, BackRoad, Road, 0, -180, 120 + 10, 180, 120 + 60, Floor(0).Base, Floor(0).Base, 0, 0

	####================================####

	#Sidewalk cuts for driveways
	Cut Landscape, -180, -1, -195, -150, 1, -180, false, true #Entrance
	Cut Landscape, -180, -1, -195 - 0.1, -150, 1, -195 + 0.1, true, false
	Cut Landscape, -180, -1, -180 - 0.1, -150, 1, -180 + 0.1, true, false

	Cut Landscape, 150, -1, -195, 180, 1, -180, false, true #Exit
	Cut Landscape, 150, -1, -195 - 0.1, 180, 1, -195 + 0.1, true, false
	Cut Landscape, 150, -1, -180 - 0.1, 180, 1, -180 + 0.1, true, false

	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, EntrDriveway, Road, 0, -180, -180 - 15, -150, -180, Floor(0).Base - 0.5, Floor(0).Base, false, false, 0, 0	
	AddFloor landscape, ExitDriveway, Road, 0, 150, -180 - 15, 180, -180, Floor(0).Base - 0.5, Floor(0).Base, false, false, 0, 0	

		#Sidewalk fillers
		DrawWalls = true, true, false, false, false, false
		AddWall landscape, ENTR_SidewalkFiller1, Sidewalk, 0, -180, -195, -180, -180, 0.5, 0.5, -0.5, -0.5, 0, 0
		AddWall landscape, ENTR_SidewalkFiller2, Sidewalk, 0, -150, -195, -150, -180, 0.5, 0.5, -0.5, -0.5, 0, 0
		AddWall landscape, EXIT_SidewalkFiller1, Sidewalk, 0, 150, -195, 150, -180, 0.5, 0.5, -0.5, -0.5, 0, 0
		AddWall landscape, EXIT_SidewalkFiller2, Sidewalk, 0, 180, -195, 180, -180, 0.5, 0.5, -0.5, -0.5, 0, 0
##--------------------------------------------------------------------------------##
#Set texture prefixes
<Function TexPrefix>
	#Main prefixes
	if[%floor% = -3] Set 5 = Parking
	if[%floor% = -2 | %floor% = -1] Set 5 = LevelB1
	if[%floor% = 0 | %floor% = 1] Set 5 = F1
	if[%floor% > 1 & %floor% < 10] Set 5 = Shop
	if[%floor% > 10] Set 5 = UpperShop

	#Override for parking areas
	Set 5A = %5%
	if[%floor% < 10] Set 5A = Parking
	Set 5PE = %5%
	if[%floor% = -3] Set 5PE = ParkingLobby #Lobby areas of Elevators 4-7 on Level B
	Set 5PE2 = %5%
	if[%floor% < 10] Set 5PE2 = ParkingLobby #Lobby areas of Elevators 8-11 on parking levels

	#Freight elevator lobby
	Set 5S = %5%
	if[%floor% > -3] Set 5S = ServiceLobby

	#Freight elevators' shaft doors
	Set 5E = FreightA
	if[%floor% = -3] Set 5E = FreightB
<EndFunction>
##--------------------------------------------------------------------------------##

#EXTERIOR & INTERIOR
#Parking areas
<Floors -3 to 9>
	Set 1 = 140 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	TexPrefix() #Set texture prefixes
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	Set Endpoint = 2
	if[%floor% = -3] Set Endpoint = -%2%
	Set SouthEX = 0
	if[%floor% = -3] Set SouthEX = 16.75

	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, Road, 0.5, -%1%, %Endpoint% - %SouthEX%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Utility area on 5A
		if[%floor% = 9] CutAll 0, %interfloorheight% - 0.1, 45 - 18, 21, %interfloorheight% + 1, 45 + 18, false, true

		DrawWalls = false, true, false, false, false, false
		if[%floor% = 9] AddFloor UtilityAreaFloor, ParkingFloor, 0.5, 0, 45 - 18, 21, 45 + 18, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Road markings
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

		Set Offset = %interfloorheight% + 0.01
		DrawWalls = false, true, false, false, false, false

		#Spacers
		AddFloor RampSpacer, NoParkingX, 0, -21 - 1, 89 - 1, 101 + 1, 92.75, %Offset%, %Offset%, 6, 1, true
		if[%floor% = 0] AddFloor EntranceSpacer, WhiteIslandX, 0, -139.75 - 1, 89 - 1, -59 + 1, 91 + 1, %Offset%, %Offset%, -4, 1, true
		if[%floor% ! 0] AddFloor NWSpacer, NoParkingX, 0, -139, 89 + 18, -59 - 18, 119, %Offset%, %Offset%, 3, 2, true
		if[%floor% > -3 & %Mod% = 0] AddFloor EastEntSpacer, NoParkingX, 0, 85, 2, 100, 2 + 5, %Offset%, %Offset%, -1, 1, true
		if[%floor% > -3 & %Mod% = 0] AddFloor WestEntSpacer, NoParkingX, 0, -100, 2, -85, 2 + 5, %Offset%, %Offset%, -1, 1, true
		if[%floor% ! -3] AddFloor CentralSpacer, NoParkingX, 0, -42, 2, 30, 2 + 5, %Offset%, %Offset%, -4, 1, true
		if[%floor% = -3] AddFloor CentralSpacer, NoParkingX, 0, -54 - 18, 2, 30, 2 + 5, %Offset%, %Offset%, -5, 1, true

		#North Parking spaces
		AddFloor ParkingN1, ParkingSpaceZ, 0, 80 - (9 * 2), 45 - 18, 80 + (9 * 1), 45, %Offset%, %Offset%, 3, 1, true
		AddFloor ParkingN2, ParkingSpaceZ, 0, 80 - (9 * 2), 45, 80 + (9 * 1), 45 + 18, %Offset%, %Offset%, 3, -1, true
		AddFloor ParkingN3, ParkingSpaceZ, 0, 40 - (9 * 2), 45 - 18, 40 + (9 * 2), 45, %Offset%, %Offset%, 4, 1, true
		AddFloor ParkingN4, ParkingSpaceZ, 0, 40 - (9 * 2), 45, 40 + (9 * 2), 45 + 18, %Offset%, %Offset%, 4, -1, true
		if[%floor% ! 9] AddFloor ParkingN5, ParkingSpaceZ, 0, 0 - (9 * 2), 45 - 18, 0 + (9 * 2), 45, %Offset%, %Offset%, 4, 1, true
		if[%floor% ! 9] AddFloor ParkingN6, ParkingSpaceZ, 0, 0 - (9 * 2), 45, 0 + (9 * 2), 45 + 18, %Offset%, %Offset%, 4, -1, true
		if[%floor% = 9] AddFloor ParkingN5, ParkingSpaceZ, 0, 0 - (9 * 2), 45 - 18, 0, 45, %Offset%, %Offset%, 2, 1, true
		if[%floor% = 9] AddFloor ParkingN6, ParkingSpaceZ, 0, 0 - (9 * 2), 45, 0, 45 + 18, %Offset%, %Offset%, 2, -1, true
		if[%floor% = -3 | %floor% = 9] AddFloor ParkingN7, ParkingSpaceZ, 0, -40 - (9 * 2), 45 - 18, -40 + (9 * 2), 45, %Offset%, %Offset%, 4, 1, true
		if[%floor% = -3 | %floor% = 9] AddFloor ParkingN8, ParkingSpaceZ, 0, -40 - (9 * 2), 45, -40 + (9 * 2), 45 + 18, %Offset%, %Offset%, 4, -1, true
		if[%floor% ! -3 & %floor% ! 9] AddFloor ParkingN7, ParkingSpaceZ, 0, -21 - (9 * 1), 45 - 18, -21, 45, %Offset%, %Offset%, 1, 1, true
		if[%floor% ! -3 & %floor% ! 9] AddFloor ParkingN8, ParkingSpaceZ, 0, -21 - (9 * 1), 45, -21, 45 + 18, %Offset%, %Offset%, 1, -1, true
		AddFloor ParkingN9, ParkingSpaceZ, 0, -80 - (9 * 1), 45 - 18, -80 + (9 * 2), 45, %Offset%, %Offset%, 3, 1, true
		AddFloor ParkingN10, ParkingSpaceZ, 0, -80 - (9 * 1), 45, -80 + (9 * 2), 45 + 18, %Offset%, %Offset%, 3, -1, true

		if[%floor% ! 0] AddFloor ParkingN11, ParkingSpaceX, 0, -59 - 18, 91, -59, 91 + (8.5 * 3), %Offset%, %Offset%, -1, 3, true
		if[%floor% ! 0] AddFloor ParkingN12, ParkingSpaceZ, 0, -80 - (9 * 2), 89, -80, 89 + 18, %Offset%, %Offset%, 2, 1, true
		if[%floor% ! 0] AddFloor ParkingN13, ParkingSpaceZ, 0, -101 - (9 * 4), 89, -101, 89 + 18, %Offset%, %Offset%, 4, 1, true

	#Ceilings
	Set Endpoint = 2
	if[%floor% = -3] Set Endpoint = -%2%

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, %5A%Ceiling, 0.5, -%1%, %Endpoint% - %SouthEX%, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true
<EndFloors>

<Floor 9>
	#Utility room walls
	Set WH = %height% + Floor(10).InterfloorHeight - 0.5
	Set WO = %interfloorheight%

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall UtilityFront, ParkingWall, 0.5, 4, 45 - 18, 19, 45 - 18, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall UtilityLeft, ParkingWall, 0.5, 4, 45 - 18, 4, 45 + 13, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	WallOrientation = right
	AddWall UtilityRight, ParkingWall, 0.5, 19, 45 - 18, 19, 45 + 13, %WH%, %WH%, %WO%, %WO%, 0, 0, true
	AddWall UtilityBack, ParkingWall, 0.5, 4, 45 + 13, 19, 45 + 13, %WH%, %WH%, %WO%, %WO%, 0, 0, true

	#Utility room doors
		#Door textures
		Set DTex = Door1
		Set DSTex = %DTex%Side

		#Door creation
		Set Door_MainX = 8
		Set Door_MainZ = 45 + 13
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_Utility_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%_Utility_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7,  0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

<Floor -3>
	#Road markings (Level B)
		Set Offset = %interfloorheight% + 0.01
		DrawWalls = false, true, false, false, false, false

		#Spacers
		AddFloor WestElevSpacer, NoParkingX, 0, -139, -31, -100, -20, %Offset%, %Offset%, -2, 2, true
		AddFloor WestStairsSpacer, NoParkingZ, 0, -130, -91, -139 + 18, -45 - (8.5 * 1.5), %Offset%, %Offset%, 1, 2, true

		AddFloor CentralStairsSpacer1, NoParkingX, 0, -54 - 18, -23 - 10, -54, 2 - (9 * 3), %Offset%, %Offset%, 1, 2, true
		AddFloor CentralStairsSpacer2, NoParkingX, 0, -54, -23 - 10, -19, -23, %Offset%, %Offset%, 2, 2, true
		AddFloor CentralStairsSpacer2, NoParkingX, 0, 19, -23 - 10, 40 - (9 * 1), -23, %Offset%, %Offset%, 1, 2, true

		AddFloor EastStairsSpacer, NoParkingZ, 0, 139 - 18, -75 + (8.5 * 1.5), 130, -15 - (8.5 * 1.5), %Offset%, %Offset%, 1, -2, true
		AddFloor SWSpacer, NoParkingX, 0, -139, -117.75 - 18, -120, -91 - (8.5 * 3), %Offset%, %Offset%, -1, 2, true
		AddFloor SESpacer, NoParkingX, 0, 120, -117.75 - 18, 139, -91 - (8.5 * 3), %Offset%, %Offset%, 1, 2, true

		#South Parking Spaces
		AddFloor ParkingS1, ParkingSpaceZ, 0, 40 - (9 * 2), -75 - 18, 40 + (9 * 2), -75, %Offset%, %Offset%, 4, 1, true
		AddFloor ParkingS2, ParkingSpaceZ, 0, 40 - (9 * 2), -75, 40 + (9 * 2), -75 + 18, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS3, ParkingSpaceZ, 0, 0 - (9 * 2), -75 - 18, 0 + (9 * 2), -75, %Offset%, %Offset%, 4, 1, true
		AddFloor ParkingS4, ParkingSpaceZ, 0, 0 - (9 * 2), -75, 0 + (9 * 2), -75 + 18, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS5, ParkingSpaceZ, 0, -99, -75 - 18, -99 + (9 * 4), -75, %Offset%, %Offset%, 4, 1, true
		AddFloor ParkingS6, ParkingSpaceZ, 0, -99, -75, -99 + (9 * 4), -75 + 18, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS7, ParkingSpaceX, 0, -139, -91 - (8.5 * 3), -139 + 18, -91, %Offset%, %Offset%, -1, 3, true
		AddFloor ParkingS8, ParkingSpaceX, 0, -139, -45 - (8.5 * 1.5), -139 + 18, -45 + (8.5 * 1.5), %Offset%, %Offset%, -1, 3, true

		AddFloor ParkingS9, ParkingSpaceZ, 0, 40 - (9 * 1), -15 - 18, 40 + (9 * 2), -15, %Offset%, %Offset%, 3, 1, true
		AddFloor ParkingS10, ParkingSpaceZ, 0, 40 - (9 * 1), -15, 40 + (9 * 2), -15 + 18, %Offset%, %Offset%, 3, -1, true
		AddFloor ParkingS11, ParkingSpaceZ, 0, 80 - (9 * 2), -15 - 18, 80 + (9 * 2), -15, %Offset%, %Offset%, 4, 1, true
		AddFloor ParkingS12, ParkingSpaceZ, 0, 80 - (9 * 2), -15, 80 + (9 * 2), -15 + 18, %Offset%, %Offset%, 4, -1, true

		AddFloor ParkingS13, ParkingSpaceX, 0, 139 - 18, -91 - (8.5 * 3), 139, -91, %Offset%, %Offset%, 1, 3, true
		AddFloor ParkingS14, ParkingSpaceX, 0, 139 - 18, -75 - (8.5 * 1.5), 139, -75 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
		AddFloor ParkingS15, ParkingSpaceX, 0, 139 - 18, -15 - (8.5 * 1.5), 139, -15 + (8.5 * 1.5), %Offset%, %Offset%, 1, 3, true
		AddFloor ParkingS16, ParkingSpaceX, 0, -54 - 18, 2 - (9 * 3), -54, 2, %Offset%, %Offset%, 1, 3, true

		AddFloor ParkingS17, ParkingSpaceZ, 0, 120 - (9 * 2), -117.75 - 18, 120, -117.75, %Offset%, %Offset%, 2, -1, true
		AddFloor ParkingS18, ParkingSpaceZ, 0, 80 - (9 * 2), -117.75 - 18, 80 + (9 * 2), -117.75, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS19, ParkingSpaceZ, 0, 40 - (9 * 2), -117.75 - 18, 40 + (9 * 2), -117.75, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS20, ParkingSpaceZ, 0, 0 - (9 * 2), -117.75 - 18, 0 + (9 * 2), -117.75, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS21, ParkingSpaceZ, 0, -40 - (9 * 2), -117.75 - 18, -40 + (9 * 2), -117.75, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS22, ParkingSpaceZ, 0, -80 - (9 * 2), -117.75 - 18, -80 + (9 * 2), -117.75, %Offset%, %Offset%, 4, -1, true
		AddFloor ParkingS23, ParkingSpaceZ, 0, -120, -117.75 - 18, -120 + (9 * 2), -117.75, %Offset%, %Offset%, 2, -1, true
<EndFloor>

#========================================#

#Cuts for parking ramps
Cut External, -20, Floor(-3).Base + 1, 105.25 - 12, 100, Floor(9).Base + 1, 117.25, false, true

	#Auto area for ramps
	AddFloorAutoArea -20, Floor(-3).Base, 105.25 - 12, 100, Floor(9).Base + 5, 117.25

<Floors -3 to 9>
	TexPrefix() #Set texture prefixes

	#Parking Ramps
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingCeiling, Road, ParkingCeiling, ParkingCeiling, Blank, Blank
	if[%floor% < 9] AddFloor UpRamp, %5%, 0.5, -20, 117.25 - 12, 100, 117.25, %interfloorheight%, %fullheight% + Floor(%floor% + 1).InterfloorHeight, true, false, 0, 0, true
	TextureOverride ParkingCeiling, Road, ParkingCeiling, ParkingCeiling, Blank, Blank
	if[%floor% < 9] AddFloor DownRamp, %5%, 0.5, -20, 105.25 - 12, 100, 105.25, %fullheight% + Floor(%floor% + 1).InterfloorHeight, %interfloorheight%, true, false, 0, 0, true

	#Railings
	WallOrientation = left
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	Set WallOffset2 = %fullheight%

		DrawWalls = true, true, true, true, true, true
		WallOrientation = left
		if[%floor% > -3] AddWall PRampRail_North, %5A%Wall3, 0.5, -20, 117.25, 100, 117.25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% = 9] AddWall PRampRail_East, %5A%Wall3, 0.5, 100, 105.25 - 12.5, 100, 105.25 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		if[%floor% > -3] AddWall PRampRail_South, %5A%Wall3, 0.5, -20, 105.25 - 12, 100, 105.25 - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		if[%floor% = 9] AddWall PRampRail_West, %5A%Wall3, 0.5, -20, 117.25 - 12.5, -20, 117.25 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		WallOrientation = left
		if[%floor% < 9] AddWall UpRamp_RailA, %5A%Wall3, 0.5, -20, 117.25 - 12, 100, 117.25 - 12, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		if[%floor% < 9] AddWall DownRamp_RailA, %5A%Wall3, 0.5, -20, 105.25 - 12, 100, 105.25 - 12, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
		WallOrientation = right
		if[%floor% < 9] AddWall UpRamp_RailB, %5A%Wall3, 0.5, -20, 117.25, 100, 117.25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		if[%floor% < 9] AddWall DownRamp_RailB, %5A%Wall3, 0.5, -20, 105.25, 100, 105.25, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
<EndFloors>
#========================================#

<Floors -3 to -1>
	#UNDERGROUND PARKING PERIMETER WALLS
	TexPrefix() #Set texture prefixes

	Set Endpoint = 2
	if[%floor% = -3] Set Endpoint = -%2%
	Set SouthEX = 0
	if[%floor% = -3] Set SouthEX = 16.75

	Set WallHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight - 0.5
	Set WallOffset = 0
	if[%floor% = -1] Set WallHeight = %height%
	if[%floor% = -1] Set WallOffset = %interfloorheight%

	Set FWallHeight = %WallHeight%
	Set FWallOffset = %WallOffset%
	if[%floor% > -3] Set FWallHeight = %height% + Floor(%floor% + 1).InterfloorHeight - 0.5 #Override for front walls on B1 and LL
	if[%floor% > -3] Set FWallOffset = %interfloorheight%

	WallOrientation = Left
	DrawWalls = false, true, false, false, false, false
	if[%floor% = -3] AddWall FrontPGFC, %5A%Wall, 1, -%1% + 0.5, %Endpoint% - %SouthEX%, %1% - 0.5, %Endpoint% - %SouthEX%, %FWallHeight%, %FWallHeight%, %FWallOffset%, %FWallOffset%, 0, 0, true
	AddWall LeftPGFC, %5A%Wall, 1, -%1%, %Endpoint% - %SouthEX%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	AddWall RightPGFC, %5A%Wall, 1, %1%, %Endpoint% - %SouthEX%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackPGFC, %5A%Wall, 1, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 10>
	#PARKING PERIMETER WALLS
	Set WallHeight = %interfloorheight% + 4.5
	if[%floor% = 10] Set WallHeight = %interfloorheight%
	Set WallOffset = 0

	Set Endpoint = 2
	if[%floor% = -3] Set Endpoint = -%2%

	#Disable top sides on 6th floor's interfloor
	Set ShowTop = true
	if[%floor% = 10] Set ShowTop = false

	if[%floor% = 0] Set EXEndpoint = 60
	if[%floor% ! 0] Set EXEndpoint = 0
	WallOrientation = Left
	DrawWalls = true, true, true, true, %ShowTop%, true
	TextureOverride ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade3, ExtFacade2, ExtFacade2
	AddWall PGLeft, ExtFacade, 1, -%1%, %Endpoint%, -%1%, %2% - %EXEndpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	DrawWalls = true, true, true, true, %ShowTop%, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade2, ExtFacade2
	AddWall PGRight, ExtFacade, 1, %1%, %Endpoint%, %1%, %2% - %EXEndpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
	AddWall PGBack, ExtFacade, 1, -%1% + 1, %2%, %1% - 1, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Interfloor covers for gaps in entrance/exit lanes
	WallOrientation = left
	DrawWalls = true, true, true, true, false, false
	TextureOverride ExtFacade3, ExtFacade2, ExtFacade3, ExtFacade3, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall PGLeft_IFloor, ExtFacade, 1, -%1%, %2% - %EXEndpoint%, -%1%, %2%, %interfloorheight%, %interfloorheight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	TextureOverride ExtFacade2, ExtFacade3, ExtFacade3, ExtFacade3, ExtFacade2, ExtFacade2
	if[%floor% = 0] AddWall PGRight_IFloor, ExtFacade, 1, %1%, %2% - %EXEndpoint%, %1%, %2%, %interfloorheight%, %interfloorheight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

#========================================#

#Mall areas
<Floors -2 to 12>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Endpoints
	Set Endpoint = 2
	if[%floor% > 9] Set Endpoint = %2%

	Set 1 = 140 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	TexPrefix() #Set texture prefixes
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%Mod% = 0 | %floor% = 11] AddFloor MallFloor, %5%Floor, 0.5, -%1%, -%2%, %1%, %Endpoint%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%Mod% = 1 | %floor% = 10 | %floor% = 12] AddFloor MallCeiling, %5%Ceiling, 0.5, -%1%, -%2%, %1%, %Endpoint%, %height%, %height%, 0, 0, false

	#Mall perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = -2] Set WallHeight = %height%
	if[%floor% = -2] Set WallOffset = %interfloorheight%
	if[%floor% = 9] Set WallHeight = %fullheight% + Floor(10).InterfloorHeight #Back wall only
	if[%floor% = 9] Set WallOffset = 0
	if[%floor% = 10] Set WallHeight = %height%
	if[%floor% = 10] Set WallOffset = %interfloorheight%

	if[%floor% ! -2] Set BWallHeight = %WallHeight%
	if[%floor% ! -2] Set BWallOffset = %WallOffset%
	if[%floor% = -2] Set BWallHeight = %height%
	if[%floor% = -2] Set BWallOffset = %interfloorheight%

	#Front/left walls
	Set EastEndpoint = %1%
	if[%floor% > -1] Set EastEndpoint = -60 #Used for front walls

	WallOrientation = Left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 0 & %floor% < 10] DrawWalls = true, true, false, true, false, false
	TextureOverride ExtFacade, %5%Wall, ExtFacade, %5%Wall, ExtFacade, ExtFacade
	AddWall FrontMallFC, ExtFacade, 1, -%1%, -%2%, %EastEndpoint%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	AddWall LeftMallFC, ExtFacade, 1, -%1%, -%2%, -%1%, %Endpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Right/back walls
	if[%floor% < 0] Set SouthEndpoint = -%2%
	if[%floor% > -1] Set SouthEndpoint = -60 #Used for right walls

	WallOrientation = Right
	DrawWalls = true, true, false, false, false, false
	if[%floor% > 0 & %floor% < 10] DrawWalls = true, true, true, false, false, false
	TextureOverride %5%Wall, ExtFacade, %5%Wall, ExtFacade, ExtFacade, ExtFacade
	AddWall RightMallFC, ExtFacade, 1, %1%, %SouthEndpoint%, %1%, %Endpoint%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	DrawWalls = true, true, false, false, false, false
	Set ExtTex = ParkingWall
	if[%floor% > -1 & %floor% < 10] Set ExtTex = ExtFacade2
	if[%floor% > 9] Set ExtTex = ExtFacade
	TextureOverride %5%Wall, %ExtTex%, ExtFacade, ExtFacade, ExtFacade, ExtFacade
	if[%floor% < 10] AddWall BackMallFC, ExtFacade, 1, -%1%, %Endpoint%, %1%, %Endpoint%, %BWallHeight%, %BWallHeight%, %BWallOffset%, %BWallOffset%, 0, 0, true

	DrawWalls = true, true, false, true, false, false
	TextureOverride %5%Wall, %ExtTex%, ExtFacade, %5%Wall, ExtFacade, ExtFacade
	if[%floor% > 9] AddWall BackMallFC-Upper1, ExtFacade, 1, -%1%, %Endpoint%, -%1% + 40, %Endpoint%, %BWallHeight%, %BWallHeight%, %BWallOffset%, %BWallOffset%, 0, 0, true
	DrawWalls = true, true, true, false, false, false
	TextureOverride %5%Wall, %ExtTex%, %5%Wall, ExtFacade, ExtFacade, ExtFacade
	if[%floor% > 9] AddWall BackMallFC-Upper2, ExtFacade, 1, %1% - 40, %Endpoint%, %1%, %Endpoint%, %BWallHeight%, %BWallHeight%, %BWallOffset%, %BWallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 12>
	#Extra facades
	Set FDHeight = %fullheight%
	Set FDOffset = -%interfloorheight%
	if[%floor% = 0] Set FDHeight = %height%
	if[%floor% = 0] Set FDOffset = 0

		#Left/right
		CreateWallBox2 external, LeftFacade1, ExtFacade4A, -%1% - 0.25, 2 - 21 + 10.5, 0.5, 21, %FDHeight%, %FDOffset%, 0, 0, false, true, true, true
		CreateWallBox2 external, LeftFacade2, ExtFacade4B, -%1% - 0.25, 2 - 21 - 10.5, 0.5, 21, %FDHeight%, %FDOffset%, 0, 0, false, true, true, true
		CreateWallBox2 external, RightFacade1, ExtFacade4A, %1% + 0.25, 2 - 21 + 10.5, 0.5, 21, %FDHeight%, %FDOffset%, 0, 0, false, true, true, true
		CreateWallBox2 external, RightFacade2, ExtFacade4B, %1% + 0.25, 2 - 21 - 10.5, 0.5, 21, %FDHeight%, %FDOffset%, 0, 0, false, true, true, true
<EndFloors>

<Floors 0 to 8>
	TexPrefix()

	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	#Windows on 1st-5th floors
	Set IFloorType = 2
	if[%floor% = 0] Set IFloorType = 1
	
	Set WinHeight = %height% + Floor(%floor% + 1).FullHeight
	Set WinPrefix = Mall

	SetAutoSize = true, false
	if[%Mod% = 0] AddCustomWindows(FrontWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -60, -%2%, %1%, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	if[%Mod% = 0] AddCustomWindows(RightWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -%2%, %1%, -60, %WinHeight%, 0, 0, %IFloorType%, %5%Wall, ExtFacade)
	SetAutoSize = true, true
<EndFloors>

<Floors 10 to 12>
	TexPrefix()

	#Windows on 6th-8th floors
	Set IFloorType = 2 #Front and right windows
	Set IFloorTypeAlt = 2 #For 6th-8th floors' back windows
	if[%floor% = 10] Set IFloorTypeAlt = 3
	
	Set WinHeight = %height%
	Set WinPrefix = Mall

	SetAutoSize = true, false
	AddCustomWindows(FrontWin, %WinPrefix%Windows, %WinPrefix%WindowsInt, -60, -%2%, %1%, -%2%, %WinHeight%, 0, 0, %IFloorType%, ExtFacade, %5%Wall)
	AddCustomWindows(RightWin, %WinPrefix%WindowsInt, %WinPrefix%Windows, %1%, -%2%, %1%, -60, %WinHeight%, 0, 0, %IFloorType%, %5%Wall, ExtFacade)
	AddCustomWindows(BackWin-Upper, %WinPrefix%WindowsInt, %WinPrefix%Windows, -%1% + 40, %2%, %1% - 40, %2%, %WinHeight%, 0, 0, %IFloorTypeAlt%, %5%Wall, ExtFacade)
	SetAutoSize = true, true
<EndFloors>

<Floor 0>
	#Entrance doors
		Set DTex = BLKEntDoorInt
		Set DTex_Ext = BLKEntDoorExt
		#Set DSTex = %DTex%Side
		Set DSTex = BLKEntDoorSide

		#1. South doors
		#Access point S1
		Set Door_MainX = -45
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = -35
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#Access point S2
		Set Door_MainX = 75
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = 85
		Set Door_MainZ = -%2%

		WallOrientation = left
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 8, 75, %Door_MainX% - 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex_Ext%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 5, 75, %Door_MainX% + 1.75, %Door_MainZ%, 3.5, 8, %interfloorheight%, 0, 0

		#2. East doors
		#Access point E1
		Set Door_MainX = %1%
		Set Door_MainZ = -75

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0

		Set Door_MainX = %1%
		Set Door_MainZ = -105

		WallOrientation = right
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 2, 75, %Door_MainX%, %Door_MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %DTex%, %DTex_Ext%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddExternalDoor , , false, %DTex%, 0.2, 3, 75, %Door_MainX%, %Door_MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
<EndFloor>

#========================================#

#Parking Escalator Lobbies
<Floor -3>
	#Floor cuts
	CutAll -63, %interfloorheight% - 0.1, -90, -20, %interfloorheight% + 1, -60, false, true #West lobby
	CutAll 60, %interfloorheight% - 0.1, -90, 103, %interfloorheight% + 1, -60, false, true #East lobby

	#Escalator lobby floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PKEscLobbyFloor-W, ParkingLobbyFloor3, 0.5, -63, -90, -20, -60, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor PKEscLobbyFloor-E, ParkingLobbyFloor3, 0.5, 60, -90, 103, -60, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Escalator lobby ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PKEscLobbyCeil-W, ParkingLobbyCeiling, 0.5, -63, -90, -20, -60, %fullheight%, %fullheight%, 0, 0, true
	AddFloor PKEscLobbyCeil-E, ParkingLobbyCeiling, 0.5, 60, -90, 103, -60, %fullheight%, %fullheight%, 0, 0, true
	#--------------------#
	#West lobby walls
	Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
	Set WO = %interfloorheight%
	Set ExtTex = ParkingWall

		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %ExtTex%, ParkingLobbyWall2, Blank, Blank, Blank, Blank
		AddWall WPKEscLbyFront, ParkingLobbyWall, 0.5, -63, -90, -20, -90, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		TextureOverride %ExtTex%, ParkingLobbyWall2, Blank, Blank, Blank, Blank
		AddWall WPKEscLbyLeft, ParkingLobbyWall, 0.5, -63, -90, -63, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		WallOrientation = right
		TextureOverride ParkingLobbyWall2, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall WPKEscLbyRight, ParkingLobbyWall, 0.5, -20, -90, -20, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		TextureOverride ParkingLobbyWall2, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall WPKEscLbyBack, ParkingLobbyWall, 0.5, -63, -60, -20, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Windows
		Add3DWindows(WPKEscLeftWin, -63, -82.75, left, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
		Add3DWindows(WPKEscFrontWin, -34.25, -90, front, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
		Add3DWindows(WPKEscBackWin, -34.25, -60, back, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
		Add3DWindows(WPKEscRightWin, -20, -75, right, 27.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 6/4, 1)
	#--------------------#
	#East lobby walls
	Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
	Set WO = %interfloorheight%
	Set ExtTex = ParkingWall

		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		TextureOverride %ExtTex%, ParkingLobbyWall2, Blank, Blank, Blank, Blank
		AddWall EPKEscLbyFront, ParkingLobbyWall, 0.5, 60, -90, 103, -90, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		TextureOverride %ExtTex%, ParkingLobbyWall2, Blank, Blank, Blank, Blank
		AddWall EPKEscLbyLeft, ParkingLobbyWall, 0.5, 60, -90, 60, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		WallOrientation = right
		TextureOverride ParkingLobbyWall2, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall EPKEscLbyRight, ParkingLobbyWall, 0.5, 103, -90, 103, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		TextureOverride ParkingLobbyWall2, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall EPKEscLbyBack, ParkingLobbyWall, 0.5, 60, -60, 103, -60, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Windows
		Add3DWindows(EPKEscLeftWin, 60, -75, left, 27.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 6/4, 1)
		Add3DWindows(EPKEscFrontWin, 74.25, -90, front, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
		Add3DWindows(EPKEscBackWin, 74.25, -60, back, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
		Add3DWindows(EPKEscRightWin, 103, -82.75, right, 12, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 3/4, 1)
	#--------------------#
	#West lobby doors
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = -25
	Set Door_MainZ = -89.5

		#South/front doors
		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_WPKEscFront_D1, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_WPKEscFront_D2, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall2, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows above doors
			Add3DWindows(WPKEscFront_WinAboveDoors, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 1/4, 1)

		#North/back doors
		Set Door_MainX = -25
		Set Door_MainZ = -60.5

		WallOrientation = left
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_WPKEscBack_D1, , , false, %IntTexture%, %SideTexture%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_WPKEscBack_D2, , , false, %IntTexture%, %SideTexture%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall2, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows above doors
			Add3DWindows(WPKEscBack_WinAboveDoors, %Door_MainX%, %Door_MainZ% + 0.5, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 1/4, 1)
	#--------------------#
	#East lobby doors
	Set IntTexture = BLKEntDoorInt
	Set ExtTexture = BLKEntDoorInt
	Set SideTexture = BLKEntDoorSide
	Set Door_MainX = 65
	Set Door_MainZ = -89.5

		#South/front doors
		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_EPKEscFront_D1, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_EPKEscFront_D2, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall2, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows above doors
			Add3DWindows(EPKEscFront_WinAboveDoors, %Door_MainX%, %Door_MainZ% - 0.5, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 1/4, 1)

		#North/back doors
		Set Door_MainX = 65
		Set Door_MainZ = -60.5

		WallOrientation = left
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_EPKEscBack_D1, , , false, %IntTexture%, %SideTexture%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_EPKEscBack_D2, , , false, %IntTexture%, %SideTexture%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall2, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

			#Windows above doors
			Add3DWindows(EPKEscBack_WinAboveDoors, %Door_MainX%, %Door_MainZ% + 0.5, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, ParkingLobbyWall2, 0.5, 1/4, 1)
<EndFloor>
#========================================#
#Cuts for escalators
<Floors -1 to 12>
	Set ESO_Flr = 0 #ESO = Extra South Offset
	if[%floor% > 10] Set ESO_Flr = 7

	Set ESO_Cei = 0 #ESO = Extra South Offset
	if[%floor% > 9] Set ESO_Cei = 7

	#East escalators, 6 to 8
	if[%floor% > 10] CutAll 65, %interfloorheight% - 1, -62 - 11, 95, %interfloorheight% + 1, -49.9, false, true
	if[%floor% > 9 & %floor% < 12] CutAll 65, %fullheight% - 1, -62 - 11, 95, %fullheight% + 1, -49.9, false, true

	#East escalators, 1 to 6
	if[%floor% > 1 & %floor% < 11] CutAll 65, %interfloorheight% - 1, -60 - %ESO_Flr%, 95, %interfloorheight% + 1, -49.9, false, true
	if[%floor% > -1 & %floor% < 10] CutAll 65, %fullheight% - 1, -60 - %ESO_Cei%, 95, %fullheight% + 1, -49.9, false, true

	#West escalators, 1 to 8
	if[%floor% > 1] CutAll -55, %interfloorheight% - 1, -60 - %ESO_Flr%, -25, %interfloorheight% + 1, -49.9, false, true
	if[%floor% > -1 & %floor% < 12] CutAll -55, %fullheight% - 1, -60 - %ESO_Cei%, -25, %fullheight% + 1, -49.9, false, true
<EndFloors>

<Floors -3 to -2>
	#East escalators, B2 to B1
	if[%floor% = -2] CutAll 72, %interfloorheight% - 1, -82.5, 95, %interfloorheight% + 1, -73.5, false, true
	if[%floor% = -3] CutAll 72, %fullheight% - 1, -82.5, 95, %fullheight% + 1, -73.5, false, true

	#West escalators, B2 to B1
	if[%floor% = -2] CutAll -55, %interfloorheight% - 1, -82.5, -32, %interfloorheight% + 1, -73.5, false, true
	if[%floor% = -3] CutAll -55, %fullheight% - 1, -82.5, -32, %fullheight% + 1, -73.5, false, true
<EndFloors>

<Floors -1 to 0>
	#East escalators, B1 to 1
	if[%floor% = 0] CutAll 65, %interfloorheight% - 1, -62 - 11, 95, %interfloorheight% + 1, -49.9, false, true
	if[%floor% = -1] CutAll 65, %fullheight% - 1, -62 - 11, 95, %fullheight% + 1, -49.9, false, true

	#West escalators, B1 to 1
	if[%floor% = 0] CutAll -55, %interfloorheight% - 1, -62 - 11, -25, %interfloorheight% + 1, -49.9, false, true
	if[%floor% = -1] CutAll -55, %fullheight% - 1, -62 - 11, -25, %fullheight% + 1, -49.9, false, true
<EndFloors>

<Floors 10 to 12>
	#North escalators, 6 to 8
	if[%floor% > 10] CutAll -18.5, %interfloorheight% - 1, 35, 18.5, %interfloorheight% + 1, 35 + 30, false, true
	if[%floor% < 12] CutAll -18.5, %fullheight% - 1, 35, 18.5, %fullheight% + 1, 35 + 30, false, true
<EndFloors>
##--------------------------------------------------------------------------------##
#Atrium cuts for 2nd-5th floors
<Function AtriumValues>
	Set WestEnd_Flr = -94.5
	if[%floor% > 9] Set WestEnd_Flr = -65

	Set WestEnd_Cei = -94.5
	if[%floor% > 8] Set WestEnd_Cei = -65
<EndFunction>

<Floors 3 to 10>
	AtriumValues() #Set atrium endpoints

	#Southeast atrium
	if[%floor% > 3] CutAll %WestEnd_Flr%, %interfloorheight% - 1, -%2%, %1%, %interfloorheight% + 1, -60, false, true
	if[%floor% < 10] CutAll %WestEnd_Cei%, %fullheight% - 1, -%2%, %1%, %fullheight% + 1, -60, false, true
<EndFloors>

<Floors 10 to 12>
	#North atrium
	if[%floor% > 10] CutAll -100, %interfloorheight% - 1, %2% - 35, 100, %interfloorheight% + 1, %2%, false, true
	if[%floor% < 12] CutAll -100, %fullheight% - 1, %2% - 35, 100, %fullheight% + 1, %2%, false, true
<EndFloors>
##--------------------------------------------------------------------------------##
#ATRIUM RAILINGS
<Function AtriumRails-SE>
	TexPrefix()
	AtriumValues() #Set atrium endpoints

	#Southeast atrium railings
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, false, true, true, false
	if[%floor% ! 8] AddWall SEALeftRail, %5%Wall2, 0.5, %WestEnd_Flr%, -%2% + 10, %WestEnd_Flr%, -60 + 1.1, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 8] AddWall SEALeftRail-A, %5%Wall2, 0.5, %WestEnd_Flr%, -%2% + 10, %WestEnd_Flr%, -81.75, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 8] AddWall SEALeftRail-B, %5%Wall2, 0.5, %WestEnd_Flr%, -72.75, %WestEnd_Flr%, -60 + 1.1, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	#DrawWalls = true, true, true, false, true, false
	#AddWall SEABackRail, %5%Wall2, 1.1, %WestEnd_Flr%, -60, %1% - 1, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	DrawWalls = true, true, true, true, true, false
	AddWall SEABackRail-A1, %5%Wall2, 1.1, %WestEnd_Flr%, -60, -55, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall SEABackRail-A2, %5%Wall2, 1.1, -25, -60, 65, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	#AddWall SEABackRail-WestEscalators, %5%Wall2, 0.5, -55 - 2, -49.9, -25 + 2, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	#AddWall SEABackRail-EastEscalators, %5%Wall2, 0.5, 65 - 2, -49.9, 95 + 2, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	DrawWalls = true, true, true, false, true, false
	AddWall SEABackRail-B, %5%Wall2, 1.1, 95, -60, %1% - 1, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFunction>

#Railings around escalators
<Function EscRails-South>
	TexPrefix()
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	#Railings for all floors but the 1st floor
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	if[%floor% ! 0] AddWall SEABackRail-WestEscalators, %5%Wall2, 0.5, -55 - 2, -49.9, -25 + 2, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% ! 0] AddWall SEABackRail-EastEscalators, %5%Wall2, 0.5, 65 - 2, -49.9, 95 + 2, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 2] AddWall SEAFrontRail-WestEscalators, %5%Wall2, 1.1, -55, -60, -25, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 2] AddWall SEAFrontRail-EastEscalators, %5%Wall2, 1.1, 65, -60, 95, -60, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	#1st floor railings, east escalators
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 0] AddWall FrontRail-EastEsc-1F, %5%Wall2, 0.5, 65 - 0.5, -73, 95 + 0.5, -73, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall LeftRail-EastEsc-1F, %5%Wall2, 0.5, 65, -64, 65, -58.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	if[%floor% = 0] AddWall RightRail-EastEsc-1F, %5%Wall2, 0.5, 95, -73, 95, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall BackRail-EastEsc-1F, %5%Wall2, 0.5, 65 - 0.5, -49.9, 95 + 0.5, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	#1st floor railings, west escalators
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 0] AddWall FrontRail-WestEsc-1F, %5%Wall2, 0.5, -55 - 0.5, -73, -25 + 0.5, -73, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall LeftRail-EastEsc-1F, %5%Wall2, 0.5, -55, -73, -55, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = left
	if[%floor% = 0] AddWall RightRail-WestEsc-1F, %5%Wall2, 0.5, -25, -64, -25, -58.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 0] AddWall BackRail-WestEsc-1F, %5%Wall2, 0.5, -55 - 0.5, -49.9, -25 + 0.5, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFunction>

<Floors 4 to 10>
	if[%floor% ! 5 & %floor% ! 7 & %floor% ! 9] AtriumRails-SE()
<EndFloors>

<Floors 0 to 10>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] EscRails-South()
<EndFloors>
##--------------------------------------------------------------------------------##
#Railings around escalators from B2 to B1
<Floor -2>
	TexPrefix()
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	#West escalators
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall FrontRail_WEscB2-B1, %5%Wall2, 0.5, -55 - 1, -82.5, -32, -82.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	AddWall RightRail_WEscB2-B1, %5%Wall2, 0.5, -32, -82.5 - 0.5, -32, -73.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall BackRail_WEscB2-B1, %5%Wall2, 0.5, -55 - 1, -73.5, -32, -73.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	#East escalators
	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall FrontRail_EEscB2-B1, %5%Wall2, 0.5, 72, -82.5, 95 + 1, -82.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall LeftRail_EEscB2-B1, %5%Wall2, 0.5, 72, -82.5 - 0.5, 72, -73.5 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	AddWall BackRail_EEscB2-B1, %5%Wall2, 0.5, 72, -73.5, 95 + 1, -73.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFloor>
##--------------------------------------------------------------------------------##
#Upper atrium railings
<Floors 11 to 12>
	TexPrefix()

	#NORTH ATRIUM RAILINGS
	Set RailingHeight = %interfloorheight% + 3.5
	Set RailingOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall NAFrontRail, %5%Wall2, 0.5, -100, %2% - 35, 100, %2% - 35, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall NALeftRail, %5%Wall2, 0.5, -100, %2% - 35, -100, %2% - 1, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = left
	AddWall NARightRail, %5%Wall2, 0.5, 100, %2% - 35, 100, %2% - 1, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	########################################

	#NORTH ESCALATORS RAILINGS
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false
	AddWall RightRail_NEsc6-8, %5%Wall2, 0.5, 18.5, 35 - 0.5, 18.5, 65 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 11] AddWall BackRail_NEsc6-8, %5%Wall2, 0.5, -18.5 + 9, 65, 18.5 - 9, 65, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 12] AddWall BackRail_NEsc6-8, %5%Wall2, 0.5, -18.5, 65, 18.5, 65, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	WallOrientation = right
	AddWall LeftRail_NEsc6-8, %5%Wall2, 0.5, -18.5, 35 - 0.5, -18.5, 65 + 0.5, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 11] AddWall FrontRail_NEsc6-8, %5%Wall2, 0.5, -18.5, 35, 18.5, 35, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 12] AddWall FrontRail_NEsc6-8, %5%Wall2, 0.5, -18.5 + 9, 35, 18.5, 35, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	########################################

	#WEST ESCALATORS RAILINGS
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false

	AddWall WestEscBack, %5%Wall2, 0.5, -55 - 0.5, -49.9, -25 + 0.5, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 11] AddWall WestEscRight, %5%Wall2, 0.5, -25, -67, -25, -49.9 - 9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 12] AddWall WestEscRight, %5%Wall2, 0.5, -25, -67, -25, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false

	AddWall WestEscFront, %5%Wall2, 0.5, -55 - 0.5, -67, -25 + 0.5, -67, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	AddWall WestEscLeft, %5%Wall2, 0.5, -55, -67, -55, -49.9 - 9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	########################################

	#EAST ESCALATORS RAILING
	WallOrientation = left
	DrawWalls = true, true, true, true, true, false

	AddWall EastEscBack, %5%Wall2, 0.5, 65 - 0.5, -49.9, 95 + 0.5, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 11] AddWall EastEscRight, %5%Wall2, 0.5, 95, -73 + 9, 95, -49.9 - 9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 12] AddWall EastEscRight, %5%Wall2, 0.5, 95, -73, 95, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false

	AddWall EastEscFront, %5%Wall2, 0.5, 65 - 0.5, -73, 95 + 0.5, -73, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 11] AddWall EastEscLeft, %5%Wall2, 0.5, 65, -73, 65, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
	if[%floor% = 12] AddWall EastEscLeft, %5%Wall2, 0.5, 65, -73 + 9, 65, -49.9, %RailingHeight%, %RailingHeight%, %RailingOffset%, %RailingOffset%, 0, 0, false
<EndFloors>
##--------------------------------------------------------------------------------##
#Main Elevator Lobby
<Floor -3>
	#Floor cuts
	CutAll -%1%, %interfloorheight% - 1, -20, -100, %interfloorheight% + 1, -8 + 0.66, false, true

	#Wall cuts
	CutAll -139 - 0.1, %interfloorheight%, -20, -139 + 0.1, %fullheight% + Floor(-2).InterfloorHeight, -8, true, false

	#Elevator lobby floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor MainElevLobbyFloor, ParkingLobbyFloor, 0.5, -%1%, -20, -100, -8 + 0.66, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Elevator lobby ceiling
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PKElevLobbyCeil, ParkingLobbyCeiling2, 0.5, -%1%, -20, -100, -8, %height%, %height%, 0, 0, false #Floor mesh

		#Add recessed lights
		SROC_IntRecessedCeiling(LevelB_MainELC_Light, 1, -120, -14, 32, 8, %height%, 0.35, ParkingLobbyCeiling2, ParkingLobbyCeilingB, 4, 1)

	########################################

	#Elevator lobby walls & doors
	Set WH = %height% + Floor(-2).InterfloorHeight
	Set WO = %interfloorheight%

		#Elevator lobby walls
		Set ExtTex = ParkingWall
		WallOrientation = left
		DrawWalls = false, true, false, false, false, false
		AddWall MainElevLobbyWall_Left, ParkingLobbyWall, 1, -%1%, -20, -%1%, -8, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		DrawWalls = true, true, false, false, false, false
		TextureOverride %ExtTex%, ParkingLobbyWall, Blank, Blank, Blank, Blank
		AddWall MainElevLobbyWall_Front, ParkingLobbyWall, 0.5, -%1%, -20, -100, -20, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride ParkingLobbyWall, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall MainElevLobbyWall_Right, ParkingLobbyWall, 0.5, -100, -20, -100, -8, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Windows on walls
		Set OutWinTex = MainWindowsIntB
		Add3DWindows(MainElevLobby_WinFront1, -131, -20, front, 15.5, %height% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 4/4, 1)
		Add3DWindows(MainElevLobby_WinFront2, -108.75, -20, front, 16, %height% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 4/4, 1)
		Add3DWindows(MainElevLobby_WinAboveDoors, -120, -20, front, 6, %height% - 7.5, 7.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 1/4, 1)
		Add3DWindows(MainElevLobby_WinRight, -100, -13.75, right, 11, %height% - 0.5, 0.25, %OutWinTex%, MainWindowsIntB, ParkingLobbyWall, 0.5, 3/4, 1)

		#Elevator lobby doors
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = -120
		Set Door_MainZ = -20 + 0.5

		WallOrientation = right
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_Left, , , false, %IntTexture%, %SideTexture%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_Right, , , false, %IntTexture%, %SideTexture%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#========================================#

#Parking Elevator Lobby
<Floors -3 to 9>
	#Sets to determine odd/even floors
	#Set Mod_Temp = mod(%floor%, 2)
	#Set Mod = abs(%Mod_Temp%)

	#Floor cuts
	if[%floor% < 9] CutAll -30, %interfloorheight% - 0.1, -23 + 0.5, 30, %interfloorheight% + 1, 2, false, true

	#Wall cuts
	Set Extra = 0
	if[%floor% = 9] Set Extra = Floor(10).InterfloorHeight

	if[%floor% > -3] CutAll -30, 0, 1 - 0.1, -20, %fullheight% + %Extra%, 2 + 0.1, true, false
	if[%floor% > -3] CutAll -20, %interfloorheight%, 1 - 0.1, 20, %fullheight%, 2 + 0.1, true, false
	if[%floor% > -3] CutAll 20, 0, 1 - 0.1, 30, %fullheight% + %Extra%, 2 + 0.1, true, false

	#Ceiling cuts
	if[%floor% > -3] CutAll -30, %fullheight% - 0.1, -13, 30, %fullheight% + 1, 2, false, true

	#Elevator lobby floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PKElevLobbyFloor1, ParkingLobbyFloor2, 0.5, -30, -23 + 0.5, 20, 2, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor PKElevLobbyFloor2, ParkingLobbyFloor2, 0.5, 20, -23 + 0.5, 30, 2 - 0.5, %interfloorheight%, %interfloorheight%, 0, 0, true
	AddFloor PKElevLobbyFloor_StairsFiller, Road, 0.5, 20, 2 - 0.5, 30, 2, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Elevator lobby ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PKElevLobbyCeil, ParkingLobbyCeiling2, 0.5, -30, -13, 30, 2, %height%, %height%, 0, 0, false #Floor mesh

		#Add recessed lights
		SROC_IntRecessedCeiling(PK_ELC_Light, 1, 0, -6.5, 32, 8, %height%, 0.35, ParkingLobbyCeiling2, ParkingLobbyCeilingB, 4, 1)

	#Elevator lobby walls & doors
	Set WH = %height%
	Set WO = %interfloorheight%
	if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight
	if[%floor% = -3] Set WO = %interfloorheight%

		Set ExtTex = ExtFacade2
		if[%floor% < 0] Set ExtTex = ParkingWall

		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride ParkingLobbyWall, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall PKElevLobbyWall, ParkingLobbyWall, 0.5, -20, 2, 20, 2, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Windows
		Set OutWinTex = MainWindowsIntB
		Add3DWindows(PKLobby_WinFront1, 11.5, 2, back, 16.5, %height% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 4/4, 1)
		Add3DWindows(PKLobby_WinFront2, -11.5, 2, back, 16.5, %height% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 4/4, 1)
		Add3DWindows(PKLobby_WinAboveDoors, 0, 2, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, %OutWinTex%, ParkingLobbyWall, 0.5, 1/4, 1)

		#Elevator lobby doors
		Set IntTexture = BLKEntDoorInt
		Set ExtTexture = BLKEntDoorInt
		Set SideTexture = BLKEntDoorSide
		Set Door_MainX = 0
		Set Door_MainZ = 1.5
		
		WallOrientation = left
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_Left, , , false, %IntTexture%, %SideTexture%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		TextureOverride %ExtTexture%, %IntTexture%, %SideTexture%, %SideTexture%, %SideTexture%, %SideTexture%
		AddStdDoor Door Manager, %floorid%_PKEDoor_Right, , , false, %IntTexture%, %SideTexture%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ParkingLobbyWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloors>

#Parking access doors
<Function PKAccessDoors>
	#Set textures
	TexPrefix() #Texture prefixes for filler walls
	Set DTex = BLKEntDoorInt
	#Set DSTex = %DTex%Side
	Set DSTex = BLKEntDoorSide

	#A. West doors
	Set Door_MainX = -92.5
	Set Door_MainZ = 2

	WallOrientation = right
	TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
	AddFillerWalls %5%Wall, 1, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows around doors
		Add3DWindows(%floorid%_West_WinFront1, %Door_MainX% - 4.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)
		Add3DWindows(%floorid%_West_WinFront2, %Door_MainX% + 4.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)
		Add3DWindows(%floorid%_West_WinAboveDoors, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)

	#B. East doors
	Set Door_MainX = 92.5
	Set Door_MainZ = 2

	WallOrientation = right
	TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddExternalDoor , , false, %DTex%, 0.2, 7, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
	AddExternalDoor , , false, %DTex%, 0.2, 6, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, %interfloorheight%, 0, 0
	AddFillerWalls %5%Wall, 1, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true

		#Windows around doors
		Add3DWindows(%floorid%_East_WinFront1, %Door_MainX% - 4.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)
		Add3DWindows(%floorid%_East_WinFront2, %Door_MainX% + 4.75, %Door_MainZ%, back, 3, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)
		Add3DWindows(%floorid%_East_WinAboveDoors, %Door_MainX%, %Door_MainZ%, back, 6, %height% - 7.5, 7.25, MainWindowsIntB, MainWindowsIntB, %5%Wall, 1, 1/4, 1)
<EndFunction>

<Floors -2 to 8>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 0] PKAccessDoors()
<EndFloors>

#========================================#

#Freight Elevator Lobby
<Floors -3 to 12>
	TexPrefix()

	#Floor cuts
	CutAll -30 - 12.66, %interfloorheight% - 0.1, -23, -30, %interfloorheight% + 1, 2, false, true

	#Wall cuts
	Set Extra = 0
	if[%floor% = 9] Set Extra = Floor(10).InterfloorHeight
	Set Base = 0
	if[%floor% = -2 | %floor% = 10] Set Base = %interfloorheight%

	if[%floor% > -3] CutAll -30 - 12, %Base%, 1 - 0.1, -30, %fullheight% + %Extra%, 2 + 0.1, true, false
	if[%floor% > -3] CutAll -30 - 12 - 12, %Base%, 1 - 0.1, -30 - 12, %fullheight% + %Extra%, 1 + 0.1, true, false #Extra cut 12 ft. west for shaft

	#Ceiling cuts
	if[%floor% > -3 & %floor% < 10] CutAll -30 - 12, %fullheight% - 0.1, -23, -30, %fullheight% + 1.1, 2, false, true

	########################################

	#Service lobby floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor ServLobbyFloor, ServiceLobbyFloor, 0.5, -30 - 12.66, -23, -30, 2, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Service lobby ceilings
	Set CeiTex = ServiceLobbyCeiling #Ceiling textures
	if[%floor% > 9] Set CeiTex = SLDropCeiling

	Set ServHeight = %fullheight% + 1 #Ceiling heights
	if[%floor% > 9] Set ServHeight = %interfloorheight% + 10

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	if[%floor% > -3] AddFloor ServLobbyCeil, %CeiTex%, 0.5, -30 - 12, -23, -30, 2, %ServHeight%, %ServHeight%, 0, 0, true

	########################################

	#Service lobby walls
	Set WH = %fullheight%
	Set WO = 0
	if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight
	if[%floor% = -3] Set WO = %interfloorheight%
	if[%floor% = -2] Set WH = %height%
	if[%floor% = -2] Set WO = %interfloorheight%
	if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight
	if[%floor% = 9] Set WO = 0
	if[%floor% = 10] Set WH = %height%
	if[%floor% = 10] Set WO = %interfloorheight%

		Set ExtTex = ExtFacade2
		if[%floor% > 9] Set ExtTex = %5%Wall
		if[%floor% < 0] Set ExtTex = ParkingWall

		WallOrientation = right
		DrawWalls = true, true, false, false, false, false
		TextureOverride %5S%Wall, %ExtTex%, Blank, Blank, Blank, Blank
		AddWall ServElevLobbyWallBack, ServiceLobbyWall, 0.5, -30 - 12, 2, -30, 2, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		WallOrientation = left
		TextureOverride %5%Wall, %5S%Wall, Blank, Blank, Blank, Blank
		AddWall ServElevLobbyWallFront, ServiceLobbyWall, 0.5, -30 - 12, -23, -30, -23, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		########################################

		#ELEVATOR LOBBY DOORS
		#Sets to determine odd/even floors
		Set Mod_Temp = mod(%floor%, 2)
		Set Mod = abs(%Mod_Temp%)

		#Door textures
		Set DTex = ServiceDoor3
		if[%floor% = -3] Set DTex = ServiceDoor1
		if[%floor% = -2 | %floor% = -1] Set DTex = ServiceDoor2
		Set DSTex = %DTex%Side

		#North doors
		Set Door_MainX = -36
		Set Door_MainZ = 2 - 0.5
	
		WallOrientation = left
		AddStdDoor Floor %floor%, %floorid%_ServBack_D1, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%_ServBack_D2, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7,  0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, true, 0, 0, false
		
		#South doors
		Set Door_MainX = -36
		Set Door_MainZ = -23 + 0.5
	
		WallOrientation = right
		if[%Mod% = 0 | %floor% = 11 | %floor% = -3] AddStdDoor Floor %floor%, %floorid%_ServFront_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		if[%Mod% = 0 | %floor% = 11 | %floor% = -3] AddStdDoor Floor %floor%, %floorid%_ServFront_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7,  0, 0, 0, 0, 0
		if[%Mod% = 0 | %floor% = 11 | %floor% = -3] AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, true, 0, 0, false
<EndFloors>

#========================================#

#Restrooms
#Set door textures
<Function RR_DTex>
	Set DTex = Door8
	if[%floor% = -2] Set DTex = Door6
	Set DSTex = %DTex%Side
<EndFunction>

<Function MallRestrooms>
	TexPrefix() #Set texture prefixes for malls
	RR_DTex() #Set door textures

	Set RRHeight = %height%
	if[%floor% < 10] Set RRHeight = %height% + Floor(%floor% + 1).FullHeight
	Set RRCeiHeight = 8.5

	########################################

	#1. WEST RESTROOMS
		#Perimeter walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall WestRR_Front, %5%Wall, 0.5, -85, -23, -54, -23, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall WestRR_Left, %5%Wall, 0.5, -85, -23, -85, -6.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall WestRR_Right, %5%Wall, 0.5, -54, -23, -54, -6.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall WestRR_Back, %5%Wall, 0.5, -85, -6.5, -54, -6.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		DrawWalls = true, true, true, false, false, false
		if[%floor% > 9] AddWall WestRR_BackDivider, %5%Wall, 0.75, -85, 2, -54, 2, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Inner walls
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall WestRR_Center, %5%Wall, 1, -69.5, -23, -69.5, -6.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor WestRR_Cei, DropCeiling, 0.5, -85, -23, -54, -6.5, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

		########################################

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, WRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, -69.5 - 2.5, -7, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, MRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, -69.5 + 2.5, -7, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -69.5 - 2.5, -7, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -69.5 + 2.5, -7, 3, 7, 0, true, 0, 0, false

		#Restroom signs
		Set BoxTex = WoodSign2
		#Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		#Set SignSuffix = _Gray

			#Signs at hallways
			if[%floor% < 10] AddBoxSign(WestRRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, -85 - 0.75, -6.5 - 0.25, 1.5, 1.5, 8, false)
			if[%floor% > 9] AddBoxSign(WestRRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, -85 - 0.75, 2 - 0.375, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(West_WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, -69.5 - 2.5, -6.5 + 0.025, 1.25, 1.25, 7.75, false)
			AddBoxSign(West_MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, -69.5 + 2.5, -6.5 + 0.025, 1.25, 1.25, 7.75, false)

	########################################

	#2. EAST RESTROOMS
		#Perimeter walls
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall EastRR_Front, %5%Wall, 0.5, 30, -23, 70, -23, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall EastRR_Left, %5%Wall, 0.5, 30, -23, 30, -8.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		WallOrientation = right
		AddWall EastRR_Right, %5%Wall, 0.5, 70, -23, 70, -8.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		AddWall EastRR_Back, %5%Wall, 0.5, 30, -8.5, 70, -8.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false
		DrawWalls = true, true, false, true, false, false
		if[%floor% > 9] AddWall EastRR_BackDivider, %5%Wall, 0.75, 30, 0.9, 70, 0.9, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Inner walls
		WallOrientation = center
		DrawWalls = true, true, false, false, false, false
		AddWall EastRR_Center, %5%Wall, 1, 50, -23, 50, -8.5, %RRHeight%, %RRHeight%, 0, 0, 0, 0, false

		#Restrooms' ceilings
		FloorOrientation = bottom
		DrawWalls = true, false, false, false, false, false
		AddFloor EastRR_Cei, DropCeiling, 0.5, 30, -23, 70, -8.5, %RRCeiHeight%, %RRCeiHeight%, 0, 0, false

		########################################

		#Restroom doors
		WallOrientation = left
		AddStdDoor Floor %floor%, EastWRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, back, front, 75, 75, 50 + 2.5, -8.5 - 0.5, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, EastMRRDoor_%floorid%, , , false, %DTex%, %DSTex%, 0.2, front, front, 75, 75, 50 - 2.5, -8.5 - 0.5, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, 50 + 2.5, -8.5 - 0.5, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 50 - 2.5, -8.5 - 0.5, 3, 7, 0, true, 0, 0, false

		#Restroom signs
		Set BoxTex = WoodSign2
		#Set BoxTex = BlackTrim
		Set SignSuffix = _Brown
		#Set SignSuffix = _Gray

			#Signs at hallways
			if[%floor% < 10] AddBoxSign(E_RRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, 70 + 0.75, -8.5 - 0.25, 1.5, 1.5, 8, false)
			if[%floor% > 9] AddBoxSign(E_RRHallSign, Sign_Restroom%SignSuffix%, Sign_Restroom%SignSuffix%, %BoxTex%, 0.05, true, true, true, 70 + 0.75, 0.525, 1.5, 1.5, 8, false)

			#Signs above doors
			AddBoxSign(E_MRR_Sign, Sign_RestroomM%SignSuffix%, Sign_RestroomM%SignSuffix%, %BoxTex%, 0.05, true, true, true, 50 - 2.5, -8.5 + 0.025, 1.25, 1.25, 7.75, false)
			AddBoxSign(E_WRR_Sign, Sign_RestroomW%SignSuffix%, Sign_RestroomW%SignSuffix%, %BoxTex%, 0.05, true, true, true, 50 + 2.5, -8.5 + 0.025, 1.25, 1.25, 7.75, false)
<EndFunction>

<Floors -2 to 8>
	RR_DTex() #Set door textures
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] MallRestrooms()
<EndFloors>

<Floors 10 to 12>
	RR_DTex() #Set door textures
	MallRestrooms()
<EndFloors>

#========================================#

#Support columns
<Floors -3 to 12>
	#Set Values
	Set 1 = 140 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	TexPrefix() #Set texture prefixes
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 30 #Distance between supports Z

	if[%floor% ! -3 & %floor% ! -2 & %floor% ! 9 & %floor% ! 10] Set SupportHeight = %fullheight%
	if[%floor% ! -3 & %floor% ! -2 & %floor% ! 9 & %floor% ! 10] Set SupportOffset = -%interfloorheight%
	if[%floor% = -3] Set SupportHeight = %fullheight% + Floor(-2).InterfloorHeight
	if[%floor% = -3] Set SupportOffset = -%interfloorheight%
	if[%floor% = 9] Set SupportHeight = %fullheight% + Floor(10).InterfloorHeight
	if[%floor% = 9] Set SupportOffset = -%interfloorheight%
	if[%floor% = -2 | %floor% = 10] Set SupportHeight = %height%
	if[%floor% = -2 | %floor% = 10] Set SupportOffset = 0

	Set ShowTop = false

	#Row A
	Set Prefix = A
	Set SupportZ = %2% - 1.25
	CreateWallBox2 external, Support%Prefix%1, %5A%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%2, %5A%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%3, %5A%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%4, %5A%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%5, %5A%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%6, %5A%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%7, %5A%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5A%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row B
	Set Prefix = B
	Set SupportZ = %2% - (%DistanceZ% * 1)
	CreateWallBox2 external, Support%Prefix%1, %5A%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%2, %5A%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%3, %5A%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%4, %5A%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%5, %5A%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%6, %5A%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 10] CreateWallBox2 external, Support%Prefix%7, %5A%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5A%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row C
	Set Prefix = C
	Set SupportZ = %2% - (%DistanceZ% * 2)
	CreateWallBox2 external, Support%Prefix%1, %5A%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%2, %5A%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%3, %5A%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%4, %5A%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%5, %5A%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%6, %5A%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%7, %5A%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5A%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row D
	Set Prefix = D
	Set SupportZ = %2% - (%DistanceZ% * 3)
	CreateWallBox2 external, Support%Prefix%1, %5A%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#if[%floor% < 11] CreateWallBox2 external, Support%Prefix%2, %5A%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%3, %5A%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%4, %5A%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%5, %5A%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%6, %5A%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#if[%floor% < 11] CreateWallBox2 external, Support%Prefix%7, %5A%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5A%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row E
	Set Prefix = E
	Set SupportZ = %2% - (%DistanceZ% * 4)
	#CreateWallBox2 external, Support%Prefix%1, %5%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#CreateWallBox2 external, Support%Prefix%2, %5%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#CreateWallBox2 external, Support%Prefix%3, %5%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#CreateWallBox2 external, Support%Prefix%4, %5%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	#CreateWallBox2 external, Support%Prefix%5, %5%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%6, %5%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%7, %5%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row F
	Set Prefix = F
	Set SupportZ = %2% - (%DistanceZ% * 5)
	CreateWallBox2 external, Support%Prefix%1, %5%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%2, %5%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%3, %5%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%4, %5%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%5, %5%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%6, %5%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%7, %5%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row G
	Set Prefix = G
	Set SupportZ = %2% - (%DistanceZ% * 6)
	CreateWallBox2 external, Support%Prefix%1, %5%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%2, %5%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%3, %5%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%4, %5%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%5, %5%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%6, %5%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 11] CreateWallBox2 external, Support%Prefix%7, %5%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row H
	Set Prefix = H
	Set SupportZ = %2% - (%DistanceZ% * 7)
	CreateWallBox2 external, Support%Prefix%1, %5%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%2, %5%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%3, %5%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%4, %5%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%5, %5%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%6, %5%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	if[%floor% < 2] CreateWallBox2 external, Support%Prefix%7, %5%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false

	#Row I
	Set Prefix = I
	Set SupportZ = -%2% + 1.25
	CreateWallBox2 external, Support%Prefix%1, %5%Wall2, -%1% + 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%2, %5%Wall2, -%1% + (%DistanceX% * 1), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%3, %5%Wall2, -%1% + (%DistanceX% * 2), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%4, %5%Wall2, -%1% + (%DistanceX% * 3), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%5, %5%Wall2, -%1% + (%DistanceX% * 4), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%6, %5%Wall2, -%1% + (%DistanceX% * 5), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%7, %5%Wall2, -%1% + (%DistanceX% * 6), %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
	CreateWallBox2 external, Support%Prefix%8, %5%Wall2, %1%  - 1.25, %SupportZ%, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop2%, false
<EndFloors>

#--------------------
#Roof
<Floor 13>
	Set 1 = 140 #Building Dimension X
	Set 2 = 120 #Building Dimension Z

	#Roof floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, RoofFloor, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Roof railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	#AddWall FrontRail, ExtFacade, 1, -%1% + 1, -%2%, %1% - 1, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall FrontRail-A, ExtFacade, 1, -%1% + 1, -%2%, -95, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall FrontRail-B, ExtFacade, 1, -65, -%2%, %1% - 1, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#AddWall LeftRail, ExtFacade, 1, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRail-A, ExtFacade, 1, -%1%, -%2%, -%1%, -86, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRail-B, ExtFacade, 1, -%1%, -61, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	#AddWall RightRail, ExtFacade, 1, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RightRail-A, ExtFacade, 1, %1%, -%2%, %1%, -56, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall RightRail-B, ExtFacade, 1, %1%, -31, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackRail, ExtFacade, 1, -%1% + 1, %2%, %1% - 1, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>
##--------------------------------------------------------------------------------##
#ATRIUM SKYLIGHT
<Floors 12 to 13>
	TexPrefix() #Set texture prefix

	#Cuts for west skylight
	if[%floor% > 12] CutAll -55, %interfloorheight% - 1, -67.5, -25, %interfloorheight% + 1, -47.5, false, true
	if[%floor% < 13] CutAll -55, %fullheight% - 1, -67.5, -25, %fullheight% + 1, -47.5, false, true

	#Cuts for east skylight
	if[%floor% > 12] CutAll 65, %interfloorheight% - 1, -70, 95, %interfloorheight% + 1, -50, false, true
	if[%floor% < 13] CutAll 65, %fullheight% - 1, -70, 95, %fullheight% + 1, -50, false, true

	#Cuts for north skylights
	if[%floor% > 12] CutAll -100, %interfloorheight% - 1, 85, 100, %interfloorheight% + 1, 115, false, true #Skylight A (North atrium)
	if[%floor% < 13] CutAll -100, %fullheight% - 1, 85, 100, %fullheight% + 1, 115, false, true
	if[%floor% > 12] CutAll -15, %interfloorheight% - 1, 35, 15, %interfloorheight% + 1, 65, false, true #Skylight B (North escalators)
	if[%floor% < 13] CutAll -15, %fullheight% - 1, 35, 15, %fullheight% + 1, 65, false, true

		#Skylight
		DrawWalls = true, true, false, false, false, false
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 13] AddFloor WestSkylight, SkylightInt, 0, -55, -67.5, -25, -47.5, %interfloorheight%, %interfloorheight%, 3/4, 2, true
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 13] AddFloor EastSkylight, SkylightInt, 0, 65, -70, 95, -50, %interfloorheight%, %interfloorheight%, 3/4, 2, true
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 13] AddFloor NorthSkylightA, SkylightInt, 0, -100, 85, 100, 115, %interfloorheight%, %interfloorheight%, 20/4, 3, true
		TextureOverride SkylightInt, Skylight, Blank, Blank, Blank, Blank
		if[%floor% = 13] AddFloor NorthSkylightB, SkylightInt, 0, -15, 35, 15, 65, %interfloorheight%, %interfloorheight%, 3/4, 3, true

		#Skylight atrium cover
		if[%floor% = 12] CreateWallBox2 floor, WestSL_AtriumCOVER, %5%Wall, -40, -57.5, 30, 20, Floor(13).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 12] CreateWallBox2 floor, EastSL_AtriumCOVER, %5%Wall, 80, -60, 30, 20, Floor(13).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 12] CreateWallBox2 floor, NorthSLA_AtriumCOVER, %5%Wall, 0, 100, 200, 30, Floor(13).InterfloorHeight, %height%, 0, 0, true, false, false, false
		if[%floor% = 12] CreateWallBox2 floor, NorthSLB_AtriumCOVER, %5%Wall, 0, 50, 30, 30, Floor(13).InterfloorHeight, %height%, 0, 0, true, false, false, false
<EndFloors>
##--------------------------------------------------------------------------------##
#SHAFTS
#Express Elevators
	#Interior wall/floor cuts for shaft walls
	<Floors -1 to 12>
		Set Base = 0
		#if[%floor% = -2] Set Base = %interfloorheight%
		CutAll -80 - 15, %Base%, -119 - 0.1, -80 + 15, %fullheight%, -119 + 0.1, true, false #Front wall cuts, shaft 1
		CutAll -80 - 15, %interfloorheight% - 0.1, -120, -80 + 15, %interfloorheight% + 0.1, -119, false, true #Floor cuts, shaft 1
		CutAll -80 - 15, %fullheight% - 0.1, -120, -80 + 15, %fullheight% + 0.1, -119, false, true #Ceiling cuts, shaft 1
	<EndFloors>

AddStdShaft(1, 1, -80, -115, 14.67, 4.67, -1, 13, ShaftIntWall2, 0.5, 0.33, 0, 5, %interfloorheight%)
ShaftShowOutside 1 = 0 - 12
ShaftShowFloors 1 = -2 - 12
ShowFullShaft 1 = true

	#External shaft walls
	<Floors -1 to 12>
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -2] Set WH = %height%
		if[%floor% = -2] Set WO = 0
		
		Set ShowBottom = false
		if[%floor% = -1] Set ShowBottom = true
		
		CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Ceiling2, 0.33, -80, -115, 15, 5, SH1, %WH%, %WO%, false, true, true, true, false, %ShowBottom%, false)

		#Glass windows
		Set WH = %fullheight% - 1
		Set WO = -%interfloorheight% + 0.5
		if[%floor% = 0] Set WH = %height% - 1
		if[%floor% = 0] Set WO = 0.5
		
		Set WT = 1
		if[%floor% > 9] Set WT = 2

		if[%floor% > -1] Add3DWindows(Shaft1Windows, -80, -%2%, front, 27, %WH%, %WO%, MainWindowsB, MainWindowsIntB, ShaftIntWall2, 0.66 + 0.01, 6/4, %WT%)
	<EndFloors>
	
	<Floor -2>
		TexPrefix()
		Set WH = %height%
		Set WO = 0
		
		#Utility room under shaft
		WallOrientation = left
		DrawWalls = true, true, false, false, false, false
		AddWall URoomLeft, %5%Wall, 0.5, -95, -120, -95, -110, %WH%, %WH%, %WO%, %WO%, 0, 0, false
		WallOrientation = right
		AddWall URoomRight, %5%Wall, 0.5, -65, -120, -65, -110, %WH%, %WH%, %WO%, %WO%, 0, 0, false
		AddWall URoomBack, %5%Wall, 0.5, -95, -110, -65, -110, %WH%, %WH%, %WO%, %WO%, 0, 0, false

		#Utility room doors
		Set DTex = ServiceDoor2
		Set DSTex = %DTex%Side

		Set Door_MainX = -80
		Set Door_MainZ = -110
	
		WallOrientation = right
		AddStdDoor Floor %floor%, %floorid%_UtilityRM_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddStdDoor Floor %floor%, %floorid%_UtilityRM_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, 0, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, %Door_MainX%, %Door_MainZ%, 6, 7, 0, true, 0, 0, false
	<EndFloor>
	
	<Floors 1 to 9>
		#Inside windows
		Set Mod_Temp = mod(%floor%, 2)
		Set Mod = abs(%Mod_Temp%)

		if[%Mod% = 1] Set WH = %fullheight% - 1
		if[%Mod% = 1] Set WO = -%interfloorheight% + 0.25
		if[%Mod% = 0] Set WH = %height% - 1
		if[%Mod% = 0] Set WO = 0.5

		#if[%Mod% = 1] Add3DWindows(Shaft1IntWindowsA, -80, -%2% + 10, back, 27, %WH%, %WO%, MainWindowsIntB2, MainWindowsIntB2, ShaftIntWall2, 0.66 + 0.01, 4/4, 1)
		if[%floor% ! 2] Add3DWindows(Shaft1IntWindowsA, -80, -%2% + 10, back, 27, %WH%, %WO%, MainWindowsIntB2, MainWindowsIntB2, ShaftIntWall2, 0.66 + 0.01, 4/4, 1)
	<EndFloors>
	
	<Floors 10 to 12>
		#Inside windows
		Set WH = %height% - 9.5 - 0.5
		Set WO = 9.5

		Add3DWindows(Shaft1IntWindowsB, -80, -%2% + 10, back, 27, %WH%, %WO%, MainWindowsIntB2, MainWindowsIntB2, ShaftIntWall2, 0.66 + 0.01, 4/4, 1)
	<EndFloors>

	<Floor 13>
		TexPrefix()
		Set WH = %fullheight%
		Set WO = 0
		
		CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.33, -80, -115, 15, 5, SH1, %WH%, %WO%, true, true, true, true, true, false, true)

		#Machine room doors
		Set DTex = ServiceDoor1
		Set DSTex = %DTex%Side

		Set Door_MainX = -80
		Set Door_MainZ = -115 + 5
	
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_Shaft1MR_D1, , , false, %DTex%, %DSTex%, 0.2, front, back, 75, 75, %Door_MainX% + 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft1MR_D2, , , false, %DTex%, %DSTex%, 0.2, back, back, 75, 75, %Door_MainX% - 1.5, %Door_MainZ%, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, true, 0, 0, true
	<EndFloor>	

########################################

#Main Elevators
	#Interior wall/floor cuts for shaft walls
	<Floors -3 to 11>
		Set EH = 0 #EH = Extra height
		if[%floor% = 9] Set EH = Floor(10).InterfloorHeight #EH = Extra height

		CutAll -139 - 0.1, 0, 2 - 10, -139 + 0.1, %fullheight%, 2 - 0.33, true, false #Left wall cuts, shaft 2
		if[%floor% > -3 & %floor% < 10] CutAll -140, 0, 1 - 0.1, -100, %fullheight% + %EH%, 1 + 0.1, true, false #Back wall cuts, shaft 2
	<EndFloors>

AddStdShaft(2, 2, -120, -3, 19.67, 4.67, -4, 11, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)

	#External shaft walls
	<Floors -3 to 11>
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0

		Set ShowBack = true
		if[%floor% > -3 & %floor% < 10] Set ShowBack = false
		
		CreateShaftWall(%5PE%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -120, -3, 20, 5, SH2, %WH%, %WO%, true, false, true, %ShowBack%, false, false, false)
	<EndFloors>

########################################

#Parking Elevators
AddStdShaft(3, 2, 0, -18, 19.67, 4.67, -4, 10, ShaftIntWall, 0.5, 0.33, 0, 5, %fullheight%)

	#External shaft walls
	<Floors -3 to 10>
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0

		CreateShaftWall(%5%Wall, %5%Wall, %5%Wall, %5PE2%Wall, %5%Wall, %5%Wall, 0.33, 0, -18, 20, 5, SH3, %WH%, %WO%, true, false, false, true, false, false, false)
	<EndFloors>

########################################

#Freight Elevators	
AddStdShaft(4, 1, -48, -10.5, 5.67, 12.17, -4, 13, ShaftIntWall, 0.5, 0.33, 0, 5, %interfloorheight%)

	#External shaft walls
	<Floors -3 to 12>
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0
		if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight - 0.5
		if[%floor% = 9] Set WO = -%interfloorheight%

		Set ShowBack = true
		if[%floor% > -3 & %floor% < 10] Set ShowBack = false

		CreateShaftWall(%5%Wall, %5%Wall, %5S%Wall, %5%Wall, %5%Wall, %5%Wall, 0.33, -48, -10.5, 6, 12.5, SH4, %WH%, %WO%, true, true, true, %ShowBack%, false, false, false)
	<EndFloors>

	<Floor 13>
		TexPrefix()
		Set WH = %height%
		Set WO = %interfloorheight%
		
		CreateShaftWall(ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, ExtFacade, 0.33, -48, -10.5, 6, 12.5, SH4, %WH%, %WO%, true, true, true, true, true, false, true)

		#Machine room doors
		Set DTex = ServiceDoor1
		Set DSTex = %DTex%Side

		Set Door_MainX = -48 + 6
		Set Door_MainZ = -10.5
	
		WallOrientation = right
		AddStdDoor DoorManager, %floorid%_Shaft4MR_D1, , , false, %DTex%, %DSTex%, 0.2, right, right, 75, 75, %Door_MainX%, %Door_MainZ% + 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddStdDoor DoorManager, %floorid%_Shaft4MR_D2, , , false, %DTex%, %DSTex%, 0.2, left, right, 75, 75, %Door_MainX%, %Door_MainZ% - 1.5, 3, 7, Floor(%floor%).Base, 0, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.66 + 0.01, %Door_MainX%, %Door_MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true
	<EndFloor>	

##--------------------------------------------------------------------------------##

#ELEVATORS
#Express Elevators
<Elevator 1>
	Name = Express Elevator 1
	Type = Express
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 10 - 12
	AssignedShaft = 1
	CreateElevator true, 10, 0, 0
<EndElevator>

<Elevator 2>
	Name = Express Elevator 2
	Type = Express
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 10 - 12
	AssignedShaft = 1
	CreateElevator true, 0, 0, 0
<EndElevator>

<Elevator 3>
	Name = Express Elevator 3
	Type = Express
	Speed = 10
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 2, 10 - 12
	AssignedShaft = 1
	CreateElevator true, -10, 0, 12
<EndElevator>

<Function BtnPanelE1-3>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %param1% + 1
	Set ButtonPrefix = T2Button

	AddButton %PanelNumber%, , %ButtonPrefix%8, %ButtonPrefix%Lit8, 1, 1, 12, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 2, 1, 11, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 3, 1, 10, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 4, 1, 2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 5, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 5, 1, off, 0.4, 0.8, -0.76, 0

	AddButton %PanelNumber2%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 7, 1, open, 1, 1
	AddButton %PanelNumber2%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 7, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber2%, , 8, 1, 1, 1, 0, 0, reset, hold, %ButtonPrefix%DH, %ButtonPrefix%LitDH
	if[%PanelNumber% = 1] AddButton %PanelNumber2%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 8, 2, alarm, 1, 1
<EndFunction>

<Elevators 1 to 3>
	DisplayFloors = 0, 2, 4, 6, 8, 10 - 12
	Set Prefix = Express
	AutoEnable = false

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt3, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(6, 7.68, 8, 1.5, 0.2, false, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.25, 1.25, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#Glass walls
	Set WPTex = %Prefix%ElevWall2
	Set GlassTex = %Prefix%ElevWallGlass
	Set WPanelHeight = 8

	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	AddWall GlassWallLink1, %WPTex%, 0.2, -3, -3.84, -3 + 0.25, -3.84, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	AddWall GlassWallLink2, %WPTex%, 0.2, 3 - 0.25, -3.84, 3, -3.84, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	DrawWalls = true, true, false, false, false, false
	AddWall GlassWall, %GlassTex%, 0, -3 + 0.25, -3.84, 3 - 0.25, -3.84, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	#--------------------
	#DETAILED INTERIORS
	#1. Lights
	#CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, 0, -3.84 + 1, 5, 1.25, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	#CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 0, 3.84 - 1, 5, 1.25, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	CreateWallBox2 elevator, E%elevator%_Light1Left, %Prefix%ElevCeilingLight, 0 - 2 - 0.075, 1.75, 0.15, 2 + 0.3, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1Right, %Prefix%ElevCeilingLight, 0 + 2 + 0.075, 1.75, 0.15, 2 + 0.3, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1Front, %Prefix%ElevCeilingLight, 0, 1.75 - 1 - 0.075, 4, 0.15, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light1Back, %Prefix%ElevCeilingLight, 0, 1.75 + 1 + 0.075, 4, 0.15, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	CreateWallBox2 elevator, E%elevator%_Light2Left, %Prefix%ElevCeilingLight, 0 - 2 - 0.075, -1.75, 0.15, 2 + 0.3, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2Right, %Prefix%ElevCeilingLight, 0 + 2 + 0.075, -1.75, 0.15, 2 + 0.3, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2Front, %Prefix%ElevCeilingLight, 0, -1.75 - 1 - 0.075, 4, 0.15, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2Back, %Prefix%ElevCeilingLight, 0, -1.75 + 1 + 0.075, 4, 0.15, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.5

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -2.8 + 0.01, 0 - (7.28 * 1/3), 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -2.8 + 0.01, 0, 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L3, %WPTex%, -2.8 + 0.01, 0 + (7.28 * 1/3), 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 2.8 - 0.01, 0 - (7.28 * 1/3), 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 2.8 - 0.01, 0, 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R3, %WPTex%, 2.8 - 0.01, 0 + (7.28 * 1/3), 0.02, (7.28 * 1/3) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.84

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%Side, 0.2, left, 0.8, 0.6, -1.75, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 1.75, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -1.75 - (1.75 * 1), %IDP%, 1.75 + (1.75 * 1), %IDP% + 0.2, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.275 #Right panel
	Set Position2 = -2.275 #Left panel
	Set PanelCenter = 3.64 - 0.05 - 0.001

		#Right panel (Panels #1-2)
		CreatePanel , 8, 1, front, %Position%, 3.64 - 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Floor buttons
		CreatePanel , 8, 2, front, %Position%, 3.64 - 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Control buttons

			#Buttons
			BtnPanelE1-3(1)

		#Left panel (Panels #3-4)
		CreatePanel , 8, 1, front, %Position2%, 3.64 - 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Floor buttons
		CreatePanel , 8, 2, front, %Position2%, 3.64 - 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Control buttons

			#Buttons
			BtnPanelE1-3(3)
	#--------------------
	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	#AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 3.64 - 0.001, 0 + 0.25, 3.64 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %Position% - 0.25, 3.64 - 0.001, %Position% + 0.25, 3.64 - 0.001, 0.5, 0.5, 6.25, 6.25, 0, 0
	#--------------------
	#Indicator sets
		#Right
		AddFloorIndicator Ind_Button, front, %Position%, 3.64 - 0.001, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position% - (0.3 / 2), 3.64 - 0.002, 5.75 + 0.25 - (0.3 / 2), front, 0.3, 0.3, true, 0, 0

		#Left
		AddFloorIndicator Ind_Button, front, %Position2%, 3.64 - 0.001, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position2% - (0.3 / 2), 3.64 - 0.002, 5.75 + 0.25 - (0.3 / 2), front, 0.3, 0.3, true, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 1.5, 0
		RopeTexture = Ropes
	
		#Counterweight
		#Set Position = 3 + 0.75
		Set Position = -3 - 0.75

		CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

#Main Elevators
#Set the motors' position
<Elevators 4 to 7>
	MotorPosition = 0, Floor(12).Altitude - 0.5, 0
<EndElevators>

<Elevator 4>
	Name = Main Elevator 1
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 11
	AssignedShaft = 2
	CreateElevator true, -15, -0.59, 0
<EndElevator>

<Elevator 5>
	Name = Main Elevator 2
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 11
	AssignedShaft = 2
	CreateElevator true, -5, -0.59, 0
<EndElevator>

<Elevator 6>
	Name = Main Elevator 3
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 11
	AssignedShaft = 2
	CreateElevator true, 5, -0.59, 11
<EndElevator>

<Elevator 7>
	Name = Main Elevator 4
	Speed = 8
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 11
	AssignedShaft = 2
	CreateElevator true, 15, -0.59, 11
<EndElevator>

<Function BtnPanelE4-7>
	Set PanelNumber = %param1%
	Set PanelNumber2 = %param1% + 1
	Set ButtonPrefix = T2Button

	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 1, 2, 11, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 1, 1, 10, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 2, 2, 8, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 2, 1, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 3, 2, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 3, 1, 2, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 4, 2, off, 0.4, 0.8, 0.76, 0
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 4, 2, 0, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B1, %ButtonPrefix%LitB1, 4, 1, -2, 1, 1
	AddButton %PanelNumber2%, , %ButtonPrefix%B2, %ButtonPrefix%LitB2, 5, 1, -3, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 7, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 7, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 8, 1, 1, 1, 0, 0, reset, hold, %ButtonPrefix%DH, %ButtonPrefix%LitDH
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 8, 2, alarm, 1, 1
<EndFunction>

<Elevators 4 to 7>
	DisplayFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 11
	Set Prefix = Main

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, false, true, true, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, true, false, false, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	Set LightOffset = 8 - 0.001
	Set LightOffset2 = 8 - 0.002
	Set GridSuffix = Grid

	Set LightWidth = 5
	Set LightLength = 5.5

	DrawWalls = true, false, false, false, false, false
	AddFloor CeilingLight, %Prefix%ElevCeilingLight, 0, 0 - (%LightWidth% / 2), -(%LightLength% / 2), 0 + (%LightWidth% / 2), (%LightLength% / 2), %LightOffset%, %LightOffset%, 0, 0
	AddFloor CeilingGrid, %Prefix%ElevCeiling%GridSuffix%, 0, 0 - (%LightWidth% / 2), -(%LightLength% / 2), 0 + (%LightWidth% / 2), (%LightLength% / 2), %LightOffset2%, %LightOffset2%, %LightWidth% / 0.5, %LightLength% / 0.5

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8 - 0.5

		#Back panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0 - (6.6 * 1/4), 3.05 - 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, 0 + (6.6 * 1/4), 3.05 - 0.01, (6.6 * 1/2) - 0.3, 0.02, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -3.3 + 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, 0 - (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 3.3 - 0.01, 0 + (6.1 * 1/4), 0.02, (6.1 * 1/2) - 0.3, %WPanelHeight%, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP% - 0.2 - 0.01, 2 + (2 * 1), %IDP%, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.65 #Right (Main) panel
	Set Position2 = 2.65 #Left (Secondary) panel

		#Panels
		CreatePanel , 8, 2, back, %Position%, -3.05 + 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #All other buttons
		CreatePanel , 8, 1, back, %Position%, -3.05 + 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #B2 button only

		CreatePanel , 8, 2, back, %Position2%, -3.05 + 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #All other buttons
		CreatePanel , 8, 1, back, %Position2%, -3.05 + 0.001, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #B2 button only

			#Buttons
			BtnPanelE4-7(1)
			BtnPanelE4-7(3)
	#--------------------
	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -3.05 + 0.001, 0 + 0.25, -3.05 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Indicator sets
		#Right
		AddFloorIndicator Ind_Button, back, %Position%, -3.05 + 0.001, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position% + (0.3 / 2), -3.05 + 0.002, 5.75 + 0.25 - (0.3 / 2), back, 0.3, 0.3, true, 0, 0

		#Left
		AddFloorIndicator Ind_Button, back, %Position2%, -3.05 + 0.001, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position2% + (0.3 / 2), -3.05 + 0.002, 5.75 + 0.25 - (0.3 / 2), back, 0.3, 0.3, true, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = 3.25 + 0.75
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#Parking Elevators
#Set the motors' position
<Elevators 8 to 11>
	MotorPosition = 0, Floor(11).Altitude - 0.5, 0
<EndElevators>

<Elevator 8>
	Name = Parking Elevator 1
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 10
	AssignedShaft = 3
	CreateElevator true, 15, 0.59, 0
<EndElevator>

<Elevator 9>
	Name = Parking Elevator 2
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 10
	AssignedShaft = 3
	CreateElevator true, 5, 0.59, 0
<EndElevator>

<Elevator 10>
	Name = Parking Elevator 3
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 10
	AssignedShaft = 3
	CreateElevator true, -5, 0.59, 10
<EndElevator>

<Elevator 11>
	Name = Parking Elevator 4
	Speed = 6
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 10
	AssignedShaft = 3
	CreateElevator true, -15, 0.59, 10
<EndElevator>

<Function BtnPanelE8-11>
	Set PanelNumber = %param1%
	Set ButtonPrefix = T2Button

	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 1, 2, 10, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5M, %ButtonPrefix%Lit5M, 1, 1, 9, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 2, 2, 8, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4M, %ButtonPrefix%Lit4M, 2, 1, 7, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 3, 2, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3M, %ButtonPrefix%Lit3M, 3, 1, 5, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 4, 2, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2M, %ButtonPrefix%Lit2M, 4, 1, 3, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 5, 2, 2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%1M, %ButtonPrefix%Lit1M, 5, 1, 1, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 6, 2, off, 0.4, 0.8, 0.76, 0
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 6, 2, 0, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%LL, %ButtonPrefix%LitLL, 6, 1, -1, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B1, %ButtonPrefix%LitB1, 7, 2, -2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B2, %ButtonPrefix%LitB2, 7, 1, -3, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 9, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 9, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 10, 1, 1, 1, 0, 0, reset, hold, %ButtonPrefix%DH, %ButtonPrefix%LitDH
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 10, 2, alarm, 1, 1
<EndFunction>

<Elevators 8 to 11>
	Set Prefix = Parking

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(7, 6.5, 8, 0.2, 0.2, true, true, true, false)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 1.5, 1.5, 1, 0.2, false, false, false, true)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	Set LightOffset = 8 - 0.001
	Set LightOffset2 = 8 - 0.002
	Set GridSuffix = Grid

	Set LightWidth = 4
	Set LightLength = 6

	DrawWalls = true, false, false, false, false, false
	AddFloor CeilingLight, %Prefix%ElevCeilingLight, 0, 0 - (%LightWidth% / 2), -(%LightLength% / 2), 0 + (%LightWidth% / 2), (%LightLength% / 2), %LightOffset%, %LightOffset%, 0, 0
	AddFloor CeilingGrid, %Prefix%ElevCeiling%GridSuffix%, 0, 0 - (%LightWidth% / 2), -(%LightLength% / 2), 0 + (%LightWidth% / 2), (%LightLength% / 2), %LightOffset2%, %LightOffset2%, %LightWidth% / 0.4, %LightLength% / 0.4

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8

		#Front panel
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -3.05 + 0.01, 3, 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left/right panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -3.3 + 0.01, 0, 0.02, 2, %WPanelHeight%, 0, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 3.3 - 0.01, 0, 0.02, 2, %WPanelHeight%, 0, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -2 - (2 * 1), %IDP%, 2 + (2 * 1), %IDP% + 0.2 + 0.01, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = 2.65 #Right (Main) panel
	Set Position2 = -2.65 #Left (Secondary) panel

		#Panel back
		CreateWallBox2 elevator, MainPB, ElevPanel, %Position%, 3.05 - 0.025, 0.8, 0.05, 4.25, 2.5, 0, 0, false, true, true, true
		CreateWallBox2 elevator, SecondaryPB, ElevPanel, %Position2%, 3.05 - 0.025, 0.8, 0.05, 4.25, 2.5, 0, 0, false, true, true, true

		#Panels
		CreatePanel , 10, 2, front, %Position%, 3.05 - 0.051, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Right
		CreatePanel , 10, 2, front, %Position2%, 3.05 - 0.051, 0.22, 0.11, 0.35, 0.35, 3.75, 0, 0 #Left

			#Buttons
			BtnPanelE8-11(1)
			BtnPanelE8-11(2)
	#--------------------
	#Elevator number sign
	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 3.05 - 0.001, 0 + 0.25, 3.05 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Indicator sets
		#Right
		AddFloorIndicator Ind_Button, front, %Position%, 3.05 - 0.051, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position% - (0.3 / 2), 3.05 - 0.052, 5.75 + 0.25 - (0.3 / 2), front, 0.3, 0.3, true, 0, 0

		#Left
		AddFloorIndicator Ind_Button, front, %Position2%, 3.05 - 0.051, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
		AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %Position2% - (0.3 / 2), 3.05 - 0.052, 5.75 + 0.25 - (0.3 / 2), front, 0.3, 0.3, true, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.25 - 0.75
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, false, 3.5 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

#FREIGHT ELEVATORS
#Elevator 12: Full floors only
<Elevator 12>
	Name = Freight 1
	Type = Service
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 12
	DisplayFloors = -3 - -2, 0, 2, 4, 6, 8, 10 - 12
	AssignedShaft = 4
	CreateElevator true, 0, -6.25, 0
<EndElevator>

#Elevator 13: All floors
<Elevator 13>
	Name = Freight 2
	Type = Service
	Speed = 5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 12
	AssignedShaft = 4
	CreateElevator true, 0, 6.25, 0
<EndElevator>

<Function BtnPanelE12>
	Set PanelNumber = %param1%
	Set ButtonPrefix = T2Button

	AddButton %PanelNumber%, , %ButtonPrefix%8, %ButtonPrefix%Lit8, 1, 2, 12, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 1, 1, 11, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 2, 2, 10, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 2, 1, 8, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 3, 2, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 3, 1, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 4, 2, 2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 4, 1, 0, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 4, 1, off, 0.4, 0.8, -0.76, 0
	AddButton %PanelNumber%, , %ButtonPrefix%B1, %ButtonPrefix%LitB1, 5, 2, -2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B2, %ButtonPrefix%LitB2, 5, 1, -3, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 7, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 7, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 8, 1, 1, 1, 0, 0, reset, hold, %ButtonPrefix%DH, %ButtonPrefix%LitDH
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 8, 2, alarm, 1, 1
<EndFunction>

<Function BtnPanelE13>
	Set PanelNumber = %param1%
	Set ButtonPrefix = T2Button

	AddButton %PanelNumber%, , %ButtonPrefix%8, %ButtonPrefix%Lit8, 1, 2, 12, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%7, %ButtonPrefix%Lit7, 1, 1, 11, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%6, %ButtonPrefix%Lit6, 2, 2, 10, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5M, %ButtonPrefix%Lit5M, 2, 1, 9, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%5, %ButtonPrefix%Lit5, 3, 2, 8, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4M, %ButtonPrefix%Lit4M, 3, 1, 7, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%4, %ButtonPrefix%Lit4, 4, 2, 6, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3M, %ButtonPrefix%Lit3M, 4, 1, 5, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%3, %ButtonPrefix%Lit3, 5, 2, 4, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2M, %ButtonPrefix%Lit2M, 5, 1, 3, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%2, %ButtonPrefix%Lit2, 6, 2, 2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%1M, %ButtonPrefix%Lit1M, 6, 1, 1, 1, 1
	AddButton %PanelNumber%, , MainFloorStar, MainFloorStar, 7, 2, off, 0.4, 0.8, 0.76, 0
	AddButton %PanelNumber%, , %ButtonPrefix%1, %ButtonPrefix%Lit1, 7, 2, 0, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%LL, %ButtonPrefix%LitLL, 7, 1, -1, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B1, %ButtonPrefix%LitB1, 8, 2, -2, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%B2, %ButtonPrefix%LitB2, 8, 1, -3, 1, 1

	AddButton %PanelNumber%, , %ButtonPrefix%Open, %ButtonPrefix%Open, 10, 1, open, 1, 1
	AddButton %PanelNumber%, , %ButtonPrefix%Close, %ButtonPrefix%Close, 10, 2, close, 1, 1
	if[%PanelNumber% = 1] AddControl %PanelNumber%, , 11, 1, 1, 1, 0, 0, reset, hold, %ButtonPrefix%DH, %ButtonPrefix%LitDH
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %ButtonPrefix%Alarm, %ButtonPrefix%Alarm, 11, 2, alarm, 1, 1
<EndFunction>

<Elevators 12 to 13>
	Set Prefix = Freight
	AutoEnable = false

	#Set textures and dimensions
	M10_ElevCabTex(ElevExt, %Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall)
	M10_ElevDimensions(9.28, 7.5, 8, 0.2, 0.2, true, true, false, true)
	M10_ElevPanels(%Prefix%ElevPanelMain, %Prefix%ElevPanelTop, 0.25, 0.25, 1, 0.2, false, false, true, false)

	#Finish elevator assembly
	M10_ElevInterior()
	#--------------------
	#DETAILED INTERIORS
	#1. Ceiling lights
	CreateWallBox2 elevator, E%elevator%_Light1, %Prefix%ElevCeilingLight, 0, -1.25, 6.5, 0.875, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light2, %Prefix%ElevCeilingLight, 0, 0, 6.5, 0.875, 0.1, 8 - 0.1, 0, 0, false, true, true, true
	CreateWallBox2 elevator, E%elevator%_Light3, %Prefix%ElevCeilingLight, 0, 1.25, 6.5, 0.875, 0.1, 8 - 0.1, 0, 0, false, true, true, true

	#2. Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 3.5

		#Front panel
		CreateWallBox2 elevator, Panel_F1, %WPTex%, 0, -3.55 + 0.005, 9.28 - 0.4, 0.01, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Back panel
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0, 3.55 - 0.005, 9.28 - 0.4, 0.01, %WPanelHeight%, 0, 0, 0, false, true, true, true

		#Left panel
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -4.44 + 0.005, 0, 0.01, 7.5 - 0.4 - 0.02, %WPanelHeight%, 0, 0, 0, false, true, true, true
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	Set InitialDoorPos = 4.64

	WallOrientation = left
	AddDoorComponent 1, FreightDoor1, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.4, 0.3, %InitialDoorPos%, -3.5, %InitialDoorPos%, -3.5 + (1.75 * 1), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor2, %ElevDoorTex%2, %ElevDoorTex%2, 0.15, left, 0.8, 0.6, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 1), %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 2), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor3, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.8, 0.6, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 2), %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 3), 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, FreightDoor4, %ElevDoorTex%, %ElevDoorTex%, 0.15, right, 0.4, 0.3, %InitialDoorPos%, -3.5 + (1.75 * 3), %InitialDoorPos%, -3.5 + (1.75 * 4), 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, %InitialDoorPos%, -3.5 - (1.75 * 1), %InitialDoorPos% + (0.15 * 2), 3.5 + (1.75 * 1), 0, 0, 0, 0

		#Top filler
		FloorOrientation = bottom
		DrawWalls = true, true, true, true, true, true
		TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor TopFiller, %Prefix%ElevPanelTop, 0.05, %InitialDoorPos%, -3.5 + (1.75 * 1), %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 3), 7, 7, 0, 0
	#--------------------
	#Button Panels
	Set Position = -3.55 + 0.051 #Right panel
	Set Position2 = 3.55 - 0.051 #Left panel
	Set PanelCenter = 4.44 - 0.75

		#Panel back
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddWall PanelBack, ElevPanel, 0.05, %PanelCenter% - 0.4, -3.55, %PanelCenter% + 0.4, -3.55, 4.875, 4.875, 2, 2, 0, 0

		#Panels
		Set Rows = 8
		if[%elevator% = 13] Set Rows = 11
		CreatePanel , %Rows%, 2, back, %PanelCenter%, %Position%, 0.22, 0.11, 0.35, 0.35, 3.5, 0, 0

			#Buttons
			if[%elevator% = 12] BtnPanelE12(1)
			if[%elevator% = 13] BtnPanelE13(1)

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712
	Set PScanTex = HIDScanGreen
	if[%elevator% = 13] Set PScanTex = HIDScanRed

	DrawWalls = false, true, false, false, false, false
	AddWall ProximityScanner, %PScanTex%, 0, %PanelCenter% - (%PScanWidth% / 2), %Position%, %PanelCenter% + (%PScanWidth% / 2), %Position%, %PSscanHeight%, %PSscanHeight%, 4.55, 4.55, 0, 0

	#Elevator number sign
	DrawWalls = false, true, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %PanelCenter% - 0.25, %Position%, %PanelCenter% + 0.25, %Position%, 0.5, 0.5, 6.3, 6.3, 0, 0

	#Indicator sets
	AddFloorIndicator Ind_Button, back, %PanelCenter%, %Position% + 0.001, 0.6, 0.3, 5.75 + 0.25 - (0.3 / 2)
	AddDirectionalIndicator true, true, true, Blank, ArrowUp, ArrowUpLit, ArrowDown, ArrowDownLit, %PanelCenter% + (0.3 / 2), %Position% + 0.001, 5.75 + 0.25 - (0.3 / 2), back, 0.3, 0.3, true, 0, 0
	#--------------------
	#Shaft components
	DrawWalls = true, true, true, true, true, true
		#Ropes
		RopePosition = 0, 8 + 0.2, 0
		RopeTexture = Ropes
	
		#Counterweight
		Set Position = -3.75 - 0.8
		if[%elevator% = 13] Set Position = 3.75 + 0.8
		CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5
	
		#Rails
		AddRails ElevRail, ElevRailSide, 0, 0, true, 3.75 + 0.06, 0.1
		AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

########################################

#HALL STATIONS
#Set textures (Passenger elevators)
<Function ElevHallTex>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5%ShaftDoors

	Set 5EX = Express #Override for express elevators (Shaft doors only)
	Set DoorTextureEX = %5EX%ShaftDoors

	Set 5PK = Parking #Override for parking elevators (No. 8-11)
	if[%floor% > 9] Set 5PK = %5% #Override for parking elevators (No. 8-11)
	Set DoorTexturePK = %5PK%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim
		if[%Express% = true & %floor% < 10] Set DoorTrimTexture = %DoorTextureEX%_Trim
		if[%Parking% = true & %floor% < 10] Set DoorTrimTexture = %DoorTexturePK%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%
		if[%floor% > 10 & %floor% < 13] Set DoorTrimTexture_Top = %DoorTexture%_TrimTop

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = T2Button

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = T2Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
<EndFunction>

########################################

#Elevators 1-3 (Express)
<Function E1-3HallStation>
	#Shaft Doors
	Set Express = true
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 1 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.84 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 1.75, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, left, 0.8, 0.6, -1.75, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 1.75, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, left, 0.8, 0.6, -1.75, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTextureEX%, %DoorTextureEX%Side, 0.2, right, 0.8, 0.6, 0, %IDP%, 1.75, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTextureEX%2, %DoorTextureEX%2Side, 0.2, left, 0.8, 0.6, -1.75, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(1, 1, 10 - 3.5, 10 + 3.5, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(2, 1, 0 - 3.5, 0 + 3.5, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(3, 1, -10 - 3.5, -10 + 3.5, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -80 #1st shaft for elevator bank
	Set Shaft1CZ = -115

		#1st shaft
		AddDecoObject(Elev1_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 10, %Shaft1CZ% + 5, 3.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev2_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 0, %Shaft1CZ% + 5, 3.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev3_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 10, %Shaft1CZ% + 5, 3.5, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2, 3
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		if[%floor% > 2] AddBoxSign(E1-3_FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% + 5, %Shaft1CZ% + 5, 1, 1, 5.5, false)
		AddBoxSign(E1-3_FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% - 5, %Shaft1CZ% + 5, 1, 1, 5.5, false)

		#Additional signs
		Set SignCenter1 = %Shaft1CX% + 5
		Set SignCenter2 = %Shaft1CX% - 5
		Set SignOffset = 6 - 0.5
		Set ExtraLatOff = 0

		DrawWalls = false, true, false, false, false, false
		if[%floor% < 3] AddWall E1-3Hall-Sign1, EXElevSign, 0, %SignCenter1% - (2/2), %Shaft1CZ% + 5 + %ExtraLatOff% + 0.001, %SignCenter1% + (2/2), %Shaft1CZ% + 5 + %ExtraLatOff% + 0.001, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false
		#if[%floor% < 3] AddWall E1-3Hall-Sign2, EXElevSign, 0, %SignCenter2% - (2/2), %Shaft1CZ% + 5 + %ExtraLatOff% + 0.001, %SignCenter2% + (2/2), %Shaft1CZ% + 5 + %ExtraLatOff% + 0.001, 1, 1, %SignOffset%, %SignOffset%, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% < 10] Set Offset = 7.75

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, OutsideInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(back, 1, %Shaft1CX% + 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)
		if[%floor% = 0] ACMELobbyInds(back, 2, %Shaft1CX% - 0, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)
		if[%floor% = 0] ACMELobbyInds(back, 3, %Shaft1CX% - 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)

		if[%floor% ! 0] ACMELobbyLanterns(back, 1, %Shaft1CX% + 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)
		if[%floor% ! 0] ACMELobbyLanterns(back, 2, %Shaft1CX% - 0, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)
		if[%floor% ! 0] ACMELobbyLanterns(back, 3, %Shaft1CX% - 10, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 12)
<EndFunction>

########################################

#Elevators 4-7 (Main)
<Function E4-7HallStation>
	#Shaft Doors
	Set Express = false
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 4 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = -3.25 - 0.3

	WallOrientation = right
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 1, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 2, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = right
	AddShaftDoorComponent %StartNo% + 3, 1, right, %DoorTexture%, %DoorTexture%, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(4, 2, -15 - 4, -15 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(5, 2, -5 - 4, -5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(6, 2, 5 - 4, 5 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(7, 2, 15 - 4, 15 + 4, -4.34, -4.14, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -120 #1st shaft for elevator bank
	Set Shaft1CZ = -3

		#1st shaft
		AddDecoObject(Elev4_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 15, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev5_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev6_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev7_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, 0.05, 0.2, %Shaft1CX% + 15, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
	CallButtonElevators = 4, 5, 6, 7
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 10, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 0, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 10, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0

		#Signs
		WallOrientation = right
		DrawWalls = true, false, true, true, true, true
		AddBoxSign(E4-7_FS1, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% - 10, %Shaft1CZ% - 5, 1, 1, 5.5, false)
		AddBoxSign(E4-7_FS2, FlrSign%floorid%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% + 10, %Shaft1CZ% - 5, 1, 1, 5.5, false)

	#Poster above doors
	DrawWalls = true, false, false, false, false, false
	if[%floor% ! -3] AddWall E8-11Poster, Poster%floorid%A, 0, %Shaft1CX% - 16, %Shaft1CZ% - 5 - 0.001, %Shaft1CX% + 16, %Shaft1CZ% - 5 - 0.001, 4, 4, %interfloorheight% + 10, %interfloorheight% + 10, 0, 0, true

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% = -3] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, OutsideInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(front, 4, %Shaft1CX% - 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% = 0] ACMELobbyInds(front, 5, %Shaft1CX% - 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% = 0] ACMELobbyInds(front, 6, %Shaft1CX% + 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% = 0] ACMELobbyInds(front, 7, %Shaft1CX% + 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)

		if[%floor% ! 0] ACMELobbyLanterns(front, 4, %Shaft1CX% - 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% ! 0] ACMELobbyLanterns(front, 5, %Shaft1CX% - 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% ! 0] ACMELobbyLanterns(front, 6, %Shaft1CX% + 5, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
		if[%floor% ! 0] ACMELobbyLanterns(front, 7, %Shaft1CX% + 15, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, -3, 11)
<EndFunction>

<Floors 0 to 2>
	if[%floor% ! 1] E1-3HallStation() #1st controller
	if[%floor% ! 1] E4-7HallStation() #2nd controller
<EndFloors>

<Floors -3 to -2>
	E4-7HallStation()
<EndFloors>

<Floors 4 to 8>
	if[%floor% ! 5 & %floor% ! 7] E4-7HallStation()
<EndFloors>

<Floors 10 to 12>
	E1-3HallStation()
	if[%floor% < 12] E4-7HallStation()
<EndFloors>

########################################

#Elevators 8-11 (Parking)
<Floors -3 to 10>
	#Shaft Doors
	Set Express = false
	Set Parking = true
	ElevHallTex() #Set shaft door and panel textures
	Set StartNo = 8 #Number of the first elevator

	Set ElevDoorTex = %Prefix%ElevDoors
	Set IDP = 3.25 + 0.3

	WallOrientation = left
	AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexturePK%, %DoorTexturePK%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexturePK%2, %DoorTexturePK%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexturePK%, %DoorTexturePK%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexturePK%2, %DoorTexturePK%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexturePK%, %DoorTexturePK%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTexturePK%2, %DoorTexturePK%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	WallOrientation = left
	AddShaftDoorComponent %StartNo% + 3, 1, Left, %DoorTexturePK%, %DoorTexturePK%, 0.2, right, 0.8, 0.6, 0, %IDP%, 2, %IDP%, 7, 0, 0, 0, 0, 0
	AddShaftDoorComponent %StartNo% + 3, 1, Right, %DoorTexturePK%2, %DoorTexturePK%2, 0.2, left, 0.8, 0.6, -2, %IDP%, 0, %IDP%, 7, 0, 0, 0, 0, 0
	FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(8, 3, 15 - 4, 15 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(9, 3, 5 - 4, 5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(10, 3, -5 - 4, -5 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)
	AddShaftTrack(11, 3, -15 - 4, -15 + 4, 4.14, 4.34, ElevDoorTrackZ, ElevExt, 0.05, 1, 7)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 0 #1st shaft for elevator bank
	Set Shaft1CZ = -18

		#1st shaft
		AddDecoObject(Elev8_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 15, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev9_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% + 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev10_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 5, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)
		AddDecoObject(Elev11_Deco, %DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, 0.05, 0.2, %Shaft1CX% - 15, %Shaft1CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#****************************************#

	#Call buttons
		#Button panels
		CreateWallBox2 external, E8-11ExtPanel-A, %BPanelTexture%, %Shaft1CX% + 10, %Shaft1CZ% + 5 + 0.025, 0.6 + 0.2, 0.05, 1 + 0.6 + 0.15, 3.5, 0, 0, false, true, true, true 
		CreateWallBox2 external, E8-11ExtPanel-B, %BPanelTexture%, %Shaft1CX% - 10, %Shaft1CZ% + 5 + 0.025, 0.6 + 0.2, 0.05, 1 + 0.6 + 0.15, 3.5, 0, 0, false, true, true, true 
	
		#Buttons
		Set ButtonPrefix = T2AButton #Override
		CallButtonElevators = 8, 9, 10, 11
		CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 10, %Shaft1CZ% + 5 + 0.051, 4 - 0.35, back, 0.35, 0.7, false, 0, 0
		CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 10, %Shaft1CZ% + 5 + 0.051, 4 - 0.35, back, 0.35, 0.7, false, 0, 0

		#CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 10, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
		#CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 0, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
		#CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 10, %Shaft1CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(E8-11_FS1, FlrSign%Suffix%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% + 10, %Shaft1CZ% + 5, 1, 1, 5.5 + 0.5, false)
		AddBoxSign(E8-11_FS2, FlrSign%Suffix%, FlrSign%floorid%, FSB_Side, 0.01, true, false, false, %Shaft1CX% - 10, %Shaft1CZ% + 5, 1, 1, 5.5 + 0.5, false)

	#Poster above doors
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 10] AddWall E8-11Poster, Poster%floorid%B, 0, %Shaft1CX% - 16, %Shaft1CZ% + 5 + 0.001, %Shaft1CX% + 16, %Shaft1CZ% + 5 + 0.001, 4, 4, %interfloorheight% + 10, %interfloorheight% + 10, 0, 0, true

	#****************************************#

	#Indicators above call buttons
	Set PA = %Shaft1CX% + 10
	Set PB = %Shaft1CX% - 10
	
		#Black bars below indicators
		Set WH = 0.05
		Set WO = 4.5 - 0.05 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall PA-BlackBar, Black, 0, %PA% - 0.3, %Shaft1CZ% + 5 + 0.051, %PA% + 0.3, %Shaft1CZ% + 5 + 0.051, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		AddWall PB-BlackBar, Black, 0, %PB% - 0.3, %Shaft1CZ% + 5 + 0.051, %PB% + 0.3, %Shaft1CZ% + 5 + 0.051, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Black bars above indicators
		Set WH = 0.05
		Set WO = 5.1 - 0.04 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall PA-BlackBar2, Black, 0, %PA% - 0.3, %Shaft1CZ% + 5 + 0.051, %PA% + 0.3, %Shaft1CZ% + 5 + 0.051, %WH%, %WH%, %WO%, %WO%, 0, 0, true
		AddWall PB-BlackBar2, Black, 0, %PB% - 0.3, %Shaft1CZ% + 5 + 0.051, %PB% + 0.3, %Shaft1CZ% + 5 + 0.051, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Directional arrows
		AddDirectionalIndicator 8, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %PA% + 0.15, %Shaft1CZ% + 5 + 0.051, 4.5 + 0.3 - 0.04, back, 0.3, 0.3, true, 0, 0
		AddDirectionalIndicator 9, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %PA% - 0.15, %Shaft1CZ% + 5 + 0.051, 4.5 + 0.3 - 0.04, back, 0.3, 0.3, true, 0, 0
		AddDirectionalIndicator 10, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %PB% + 0.15, %Shaft1CZ% + 5 + 0.051, 4.5 + 0.3 - 0.04, back, 0.3, 0.3, true, 0, 0
		AddDirectionalIndicator 11, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %PB% - 0.15, %Shaft1CZ% + 5 + 0.051, 4.5 + 0.3 - 0.04, back, 0.3, 0.3, true, 0, 0

		#Floor indicators
		AddFloorIndicator 8, false, FEInd_Button, back, %PA% + 0.15, %Shaft1CZ% + 5 + 0.051, 0.3, 0.3, 4.5
		AddFloorIndicator 9, false, FEInd_Button, back, %PA% - 0.15, %Shaft1CZ% + 5 + 0.051, 0.3, 0.3, 4.5
		AddFloorIndicator 10, false, FEInd_Button, back, %PB% + 0.15, %Shaft1CZ% + 5 + 0.051, 0.3, 0.3, 4.5
		AddFloorIndicator 11, false, FEInd_Button, back, %PB% - 0.15, %Shaft1CZ% + 5 + 0.051, 0.3, 0.3, 4.5

	#Indicator sets (above doors, not in use)
	#Set Offset = 7.5
	#if[%floor% > 9] Set Offset = 8

		#Set textures
		#ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, PKOutsideInd_Button)

		#Indicator creation
		#ACMELobbyInds(back, 8, %Shaft1CX% + 15, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 10)
		#ACMELobbyInds(back, 9, %Shaft1CX% + 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 10)
		#ACMELobbyInds(back, 10, %Shaft1CX% - 5, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 10)
		#ACMELobbyInds(back, 11, %Shaft1CX% - 15, %Shaft1CZ% + 5 + %ExtraLateralOffset%, %Offset%, -3, 10)
<EndFloors>

#****************************************#

#Set textures (Freight elevators)
<Function ElevHallTex_FE>
	#Shaft doors
	TexPrefix() #Set prefixes for shaft doors
	Set DoorTexture = %5E%ShaftDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2

	#Call button panels
	Set BPanelTexture = ElevExtPanels
	Set ButtonPrefix = T2Button

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = T2Lantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
<EndFunction>

#Elevator 12: Full floors only
<Function E12HallStation>
	#Shaft Doors
	ElevHallTex_FE() #Set shaft door and panel textures

		#Elevator 12
		Set InitialDoorPos = 4.64 + (0.15 * 2) + 0.1

		WallOrientation = left
		AddShaftDoorComponent 12, 1, FreightDoor1, %DoorTexture%, %DoorTexture%, 0.15, left, 0.4, 0.3, %InitialDoorPos% + (0.15 * 1), -3.5, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 12, 1, FreightDoor2, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %InitialDoorPos%, -3.5 + (1.75 * 1), %InitialDoorPos%, -3.5 + (1.75 * 2), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 12, 1, FreightDoor3, %DoorTexture%2, %DoorTexture%2, 0.15, right, 0.8, 0.6, %InitialDoorPos%, -3.5 + (1.75 * 2), %InitialDoorPos%, -3.5 + (1.75 * 3), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 12, 1, FreightDoor4, %DoorTexture%, %DoorTexture%, 0.15, right, 0.4, 0.3, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 3), %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 4), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 12, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(12, 4, 5.34 - 0.3, 5.34, -6.25 - 3.5 - 1.75, -6.25 + 3.5 + 1.75, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top fillers
	AddShaftTrack(12, 4, 5.34 - 0.15, 5.34, -6.25 - 1.75, -6.25 + 1.75, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = -48 #1st shaft for elevator bank
	Set Shaft1CZ = -10.5

		#1st shaft
		AddDecoObject(Elev12, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% - 6.25, 7, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#Call buttons
		#Button panels
		CreateWallBox2 external, E12ExtPanel, %BPanelTexture%, %Shaft1CX% + 6 + 0.025, %Shaft1CZ% - 6.25 + 3.5 + 1.25, 0.05, 0.3 + 0.2, 1 + 0.6 + 0.15, 3.5, 0, 0, false, true, true, true

		Set ButtonPrefix = T2AButton #Override
		CallButtonElevators = 12
		CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6 + 0.051, %Shaft1CZ% - 6.25 + 3.5 + 1.25, 4 - 0.35, right, 0.35, 0.7, false, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		AddBoxSign(E12_FS1, FlrSign%Suffix%, FlrSign%Suffix%, FSB_Side, 0.01, false, false, false, %Shaft1CX% + 6, %Shaft1CZ%, 1, 1, 5.5 + 0.5, false)

	#****************************************#

	#Indicators above call buttons
	Set PA = %Shaft1CZ% - 6.25 + 3.5 + 1.25
	
		#Black bars below indicators
		Set WH = 0.05
		Set WO = 4.5 - 0.05 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall E12-PA-BlackBar, Black, 0, %Shaft1CX% + 6 + 0.051, %PA% - 0.15, %Shaft1CX% + 6 + 0.051, %PA% + 0.15, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Black bars above indicators
		Set WH = 0.05
		Set WO = 5.1 - 0.04 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall E12-PA-BlackBar2, Black, 0, %Shaft1CX% + 6 + 0.051, %PA% - 0.15, %Shaft1CX% + 6 + 0.051, %PA% + 0.15, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Directional arrows
		AddDirectionalIndicator 12, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %Shaft1CX% + 6 + 0.051, %PA%, 4.5 + 0.3 - 0.04, right, 0.3, 0.3, true, 0, 0

		#Floor indicators
		AddFloorIndicator 12, false, FEInd_Button, right, %Shaft1CX% + 6 + 0.051, %PA%, 0.3, 0.3, 4.5
<EndFunction>

<Floor -3>
	E12HallStation()
<EndFloor>

<Floors -2 to 8>
	#Sets to determine odd/even floors
	Set Mod_Temp = mod(%floor%, 2)
	Set Mod = abs(%Mod_Temp%)

	if[%Mod% = 0] E12HallStation()
<EndFloors>

<Floors 10 to 12>
	E12HallStation()
<EndFloors>

#Elevator 13: All floors
<Floors -3 to 12>
	#Shaft Doors
	ElevHallTex_FE() #Set shaft door and panel textures

		#Elevator 13
		Set InitialDoorPos = 4.64 + (0.15 * 2) + 0.1

		WallOrientation = left
		AddShaftDoorComponent 13, 1, FreightDoor1, %DoorTexture%, %DoorTexture%, 0.15, left, 0.4, 0.3, %InitialDoorPos% + (0.15 * 1), -3.5, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 1), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 13, 1, FreightDoor2, %DoorTexture%, %DoorTexture%, 0.15, left, 0.8, 0.6, %InitialDoorPos%, -3.5 + (1.75 * 1), %InitialDoorPos%, -3.5 + (1.75 * 2), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 13, 1, FreightDoor3, %DoorTexture%2, %DoorTexture%2, 0.15, right, 0.8, 0.6, %InitialDoorPos%, -3.5 + (1.75 * 2), %InitialDoorPos%, -3.5 + (1.75 * 3), 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 13, 1, FreightDoor4, %DoorTexture%, %DoorTexture%, 0.15, right, 0.4, 0.3, %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 3), %InitialDoorPos% + (0.15 * 1), -3.5 + (1.75 * 4), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 13, 1, %AutoFiller%, false

	#Door tracks
	AddShaftTrack(13, 4, 5.34 - 0.3, 5.34, 6.25 - 3.5 - 1.75, 6.25 + 3.5 + 1.75, ElevDoorTrackX, ElevExt, 0.05, 1, 7)

	#Top fillers
	AddShaftTrack(13, 4, 5.34 - 0.15, 5.34, 6.25 - 1.75, 6.25 + 1.75, %DoorTrimTexture%, ElevExt, 0.05, 2, 7)

	#****************************************#

	#Door trims/fillers
	Set Shaft1CX = -48 #1st shaft for elevator bank
	Set Shaft1CZ = -10.5

		#1st shaft
		AddDecoObject(Elev13, %DoorTrimTexture%, %DoorTrimTexture_Top%, right, true, false, 0.05, 0.2, %Shaft1CX% + 6, %Shaft1CZ% + 6.25, 7, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66, floor)

	#Call buttons
		#Button panels
		CreateWallBox2 external, E13ExtPanel, %BPanelTexture%, %Shaft1CX% + 6 + 0.025, %Shaft1CZ% + 6.25 - 3.5 - 1.25, 0.05, 0.3 + 0.2, 1 + 0.6 + 0.15, 3.5, 0, 0, false, true, true, true

		Set ButtonPrefix = T2AButton #Override
		CallButtonElevators = 13
		CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 6 + 0.051, %Shaft1CZ% + 6.25 - 3.5 - 1.25, 4 - 0.35, right, 0.35, 0.7, false, 0, 0

		#Signs
		Set Suffix = %floorid%
		WallOrientation = left
		DrawWalls = false, true, true, true, true, true
		if[%floor% = -1 | %floor% = 1 | %floor% = 3 | %floor% = 5 | %floor% = 7 | %floor% = 9] AddBoxSign(E13_FS1, FlrSign%Suffix%, FlrSign%Suffix%, FSB_Side, 0.01, false, false, false, %Shaft1CX% + 6, %Shaft1CZ% + 6.25 - 3.5 - 1.25, 1, 1, 5.5 + 0.5, false)

	#****************************************#

	#Indicators above call buttons
	Set PA = %Shaft1CZ% + 6.25 - 3.5 - 1.25
	
		#Black bars below indicators
		Set WH = 0.05
		Set WO = 4.5 - 0.05 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall E13-PA-BlackBar, Black, 0, %Shaft1CX% + 6 + 0.051, %PA% - 0.15, %Shaft1CX% + 6 + 0.051, %PA% + 0.15, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Black bars above indicators
		Set WH = 0.05
		Set WO = 5.1 - 0.04 + %interfloorheight%
		DrawWalls = false, true, false, false, false, false
		AddWall E13-PA-BlackBar2, Black, 0, %Shaft1CX% + 6 + 0.051, %PA% - 0.15, %Shaft1CX% + 6 + 0.051, %PA% + 0.15, %WH%, %WH%, %WO%, %WO%, 0, 0, true

		#Directional arrows
		AddDirectionalIndicator 13, false, true, true, true, Black, PKArrowUp, PKArrowUpLit, PKArrowDown, PKArrowDownLit, %Shaft1CX% + 6 + 0.051, %PA%, 4.5 + 0.3 - 0.04, right, 0.3, 0.3, true, 0, 0

		#Floor indicators
		AddFloorIndicator 13, false, FEInd_Button, right, %Shaft1CX% + 6 + 0.051, %PA%, 0.3, 0.3, 4.5
<EndFloors>

#****************************************#

#Global elevator settings
<Elevators 1 to 13>
	#Main settings
	RecallFloor = 0
	NotifyEarly = 2
	if[%elevator% > 7] NotifyEarly = 1
	QueueResets = true
	if[%elevator% < 4] LevelingOpen = 0.2

	#Chimes and beep for TK Traditional II elevators
	UpChimeSound 1 = Other People's Fixtures/TK Traditional II/upchime.wav #Vector, gooper1, et al.
	DownChimeSound 1 = Other People's Fixtures/TK Traditional II/dnchime.wav #Vector, gooper1, et al.
	if[%elevator% < 8] BeepSound = Other People's Fixtures/signa4/tkbeep.wav #Vector, gooper1, et al.

	#Motor movement sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

<Elevators 1 to 7>
	#Door settings
	DoorTimer 1 = 12000
	QuickClose 1 = 8000
<EndElevators>

<Elevators 8 to 11>
	#Door settings
	DoorTimer 1 = 9000
	QuickClose 1 = 6000
<EndElevators>

<Elevators 1 to 3>
	#Door sounds
	OpenSound 1 = EG881Sounds/elevopenairlock.wav #EG881
	CloseSound 1 = EG881Sounds/elevcloseairlock.wav #EG881
	
	#Car movement sounds
	CarStartSound = EG881Sounds/fastelevstart4.wav #EG881
	CarMoveSound = EG881Sounds/fastelevmove4.wav #EG881
	CarStopSound = EG881Sounds/fastelevstop4.wav #EG881
<EndElevators>

<Elevators 4 to 11>
	#Door sounds
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881
	
	#Car movement sounds
	CarStartSound = EG881Sounds/elevstart12.wav #EG881
	CarMoveSound = EG881Sounds/elevmove12.wav #EG881
	CarStopSound = EG881Sounds/elevstop12.wav #EG881
<EndElevators>

<Elevators 12 to 13>
	#Door settings
	DoorTimer 1 = 15000
	QuickClose 1 = 10000
	OpenSound 1 = EG881Sounds/freightelevatoropen3.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose3.wav #EG881
	
	#Car movement sounds
	CarStartSound = EG881Sounds/slowelevstart.wav #EG881
	CarMoveSound = EG881Sounds/slowelevmove.wav #EG881
	CarStopSound = EG881Sounds/slowelevstop.wav #EG881
<EndElevators>

##--------------------------------------------------------------------------------##
#ESCALATORS
#--------------------#

#Set escalator properties
	OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
	OP_EscLanding(EscalatorLandingX, 5.5 + 2, 0, 0, EscalatorLandingX, 5.5 + 3, 0, 0)
	OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
	OP_EscTruss(SilverBalustrade, EscOutsideWall, 0.5, 3.5, 0, 0, 0, 0)

#--------------------#
#ESCALATORS CREATION
#A. EXPRESS ESCALATORS (2-5, non-stop)
<Floor 2>
	OP_Escalator(ExpEsc1-%floorid%, up, %floor% + 6, 1.4, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -94.5, -75 - 4.5, 3.5, 2/3, 1, 90, 0, 0, 0, 0) #EG881
	OP_Escalator(ExpEsc2-%floorid%, down, %floor% + 6, 1.4, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -94.5, -75, 3.5, 2/3, 1, 90, 0, 0, 0, 0) #EG881
<EndFloor>

########################################

#B1. EAST ESCALATORS (1-8)
	#Reset landings' sizes
	OP_EscLanding(EscalatorLandingX, 5.5, 0, 0, EscalatorLandingX, 5.5, 0, 0)

#East escalators 1-6
<Floors 0 to 8>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] OP_Escalator(EastEsc1-%floorid%, up, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -56.65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] OP_Escalator(EastEsc2-%floorid%, down, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -52.15, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

#East escalators 6-7
<Floor 10>
	OP_Escalator(EastEsc1-%floorid%, up, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -56.65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(EastEsc2-%floorid%, down, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -52.15, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#East escalators 7-8
<Floor 11>
	OP_Escalator(EastEsc1-%floorid%, down, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, right, 65, -70.75, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(EastEsc2-%floorid%, up, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, right, 65, -66.25, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

########################################

#B2. WEST ESCALATORS (1-8)
#West escalators 1-6
<Floors 0 to 8>
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] OP_Escalator(WestEsc1-%floorid%, down, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -56.65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7] OP_Escalator(WestEsc2-%floorid%, up, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -52.15, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

#West escalators 6-8
<Floors 10 to 11>
	OP_Escalator(WestEsc1-%floorid%, down, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -56.65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(WestEsc2-%floorid%, up, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -52.15, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloors>

########################################

#C. WEST AND EAST ESCALATORS (B2-1)
	#Reset outside texture for escalators from B1 to 1
	OP_EscTruss(SilverBalustrade, LevelB1Wall2, 0.5, 3.5, 0, 0, 0, 0)

<Floor -2>
	#West escalators B1-1
	OP_Escalator(WestEsc1-%floorid%, up, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, -25, -70.75, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(WestEsc2-%floorid%, down, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3XB, left, -25, -66.25, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881

	#East escalators B1-1
	OP_Escalator(EastEsc1-%floorid%, down, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, 65, -70.75, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(EastEsc2-%floorid%, up, %floor% + 2, 1.2, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, 65, -66.25, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

#Reset outside texture for escalators from B2 to B1
OP_EscTruss(SilverBalustrade, ParkingLobbyWall2A, 0.5, 3.5, 0, 0, 0, 0)

<Floor -3>
	#West escalators B2-B1
	OP_Escalator(WestEsc1-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -75.75, 3.5, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(WestEsc2-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3X, right, -55, -80.25, 3.5, 2/3, 1, 15, 0, 0, 0, 0) #EG881

	#East escalators B2-B1
	OP_Escalator(EastEsc1-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -75.75, 3.5, 2/3, 1, 15, 0, 0, 0, 0) #EG881
	OP_Escalator(EastEsc2-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator5.wav, Escalator3Z_Unmarked, Escalator3XB, left, 95, -80.25, 3.5, 2/3, 1, 15, 0, 0, 0, 0) #EG881
<EndFloor>

########################################

#D. NORTH ESCALATORS (6-8)
	#Reset textures for north escalators from 6 to 8
	OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)
	OP_EscTruss(SilverBalustrade, UpperShopWall, 0.5, 3.5, 0, 0, 0, 0)

<Floor 10>
	OP_Escalator(NorthEsc1-%floorid%, up, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 16.25, 65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(NorthEsc2-%floorid%, down, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, 11.75, 65, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

<Floor 11>
	OP_Escalator(NorthEsc1-%floorid%, up, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -16.25, 35, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
	OP_Escalator(NorthEsc2-%floorid%, down, %floor% + 1, 1.2, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -11.75, 35, 3.5, 2/3, 1, 30, 0, 0, 0, 0) #EG881
<EndFloor>

##--------------------------------------------------------------------------------##

#STAIRWELLS
#Mall side: Name ending with A.
#Parking garage side: Name ending with B.

<Function StairwellSets>
	#Set Values
	Set NumSteps = 10 #Total: 20 steps

	#Floors with double stairs (40 steps instead of the usual 20)
	Set DblStairs = false
	if[%floor% > 9 & %floor% < 13] Set DblStairs = true
<EndFunction>

#Central Stairwell A
CreateStairwell 1, -25, -10.5, -3, 13
CutStairwell 1, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 13>
	StairwellSets() #Determine stairs' size

	Set 21 = -25 #Center X
	Set 22 = -10.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 13] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, %24% - 5 - %NumSteps%, -%23% + 4, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 13] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 13] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = -%23% + 4
	if[%floor% > 0] Set SignCenterPoint = %23% - 4

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, %SignCenterPoint% - 0.225, -%24% + 0.001, %SignCenterPoint% + 0.225, -%24% + 0.001, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight - 0.5
		if[%floor% = 9] Set WO = -%interfloorheight%
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0
		if[%floor% = 13] Set WH = %height%
		if[%floor% = 13] Set WO = %interfloorheight%

		Set BackTex = %5%Wall
		if[%floor% > -3 & %floor% < 0] Set BackTex = ParkingWall
		if[%floor% > -1 & %floor% < 10] Set BackTex = ExtFacade2

		Set ISExt = false
		if[%floor% = 13] Set ISExt = true
		Set ShowBack = true
		#if[%floor% -3 | %floor% > 9] Set ShowBack = true
		Set ShowTop = false
		if[%floor% = 13] Set ShowTop = true

		if[%floor% < 13] CreateShaftWall(%5%Wall, %5S%Wall, %5PE2%Wall, %BackTex%, %5%Wall, %5%Wall, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, true, %ShowBack%, %ShowTop%, false, %ISExt%)
		if[%floor% = 13] CreateShaftWall(%ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, true, true, %ShowTop%, false, %ISExt%)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, %23% - 2, -%24%, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < -1] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, -%23% + 2, -%24%, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, -%23% + 2, -%24% - 0.5, 3, 7, 0, 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = 13] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% - 2, %22% - %24%, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% = 13] AddBoxSign(Stair%25%_ExitFromRF, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% - 0.55, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8 | (%floor% > 9 & %floor% < 13)] AddBoxSign(Stair%25%_UpperExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% - 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% < -1] AddBoxSign(Stair%25%_LowerExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% - 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% + 0.05, 1.8, 0.9, 7.2, false)
<EndFloors>

#Central Stairwell B
CreateStairwell 2, 25, -10.5, -3, 12
CutStairwell 2, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 12>
	StairwellSets() #Determine stairs' size

	Set 21 = 25 #Center X
	Set 22 = -10.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 12] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 12] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = %23% - 4
	if[%floor% > 0] Set SignCenterPoint = -%23% + 4

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, %SignCenterPoint% - 0.225, %24% - 0.001, %SignCenterPoint% + 0.225, %24% - 0.001, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight - 0.5
		if[%floor% = 9] Set WO = -%interfloorheight%
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0
		
		Set BackTex = %5%Wall
		if[%floor% > -3 & %floor% < 0] Set BackTex = ParkingWall
		if[%floor% > -1 & %floor% < 10] Set BackTex = ExtFacade2

		Set ISExt = false
		#Set ShowBack = false
		Set ShowBack = true
		#if[%floor% -3 | %floor% > 9] Set ShowBack = true
		Set ShowTop = false

		CreateShaftWall(%5%Wall, %5PE2%Wall, %5%Wall, %BackTex%, %5%Wall, %5%Wall, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, true, %ShowBack%, %ShowTop%, false, %ISExt%)

	#Doors
	Set DoorOpen = true
	if[%floor% = 0 | %floor% > 9] Set DoorOpen = false

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% > 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% < 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 5, 75, %23% - 2, %24%, 3, 7, 0, 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 7, 75, %23% - 2, %24% + 0.5, 3, 7, 0, 0, 0

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% > 0] AddBoxSign(Stair%25%_UpperExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% < 0] AddBoxSign(Stair%25%_LowerExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% + 0.55, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% + %24% - 0.05, 1.8, 0.9, 7.2, false)
<EndFloors>

#West Stairwell A
	#Interior wall/floor cuts for shaft walls
	<Floors -3 to 12>
		CutAll -139 - 0.1, 0, -73.5 - 12, -139 + 0.1, %fullheight%, -73.5 + 12, true, false #Left wall cuts, stairwell 3
	<EndFloors>

CreateStairwell 3, -135, -73.5, -3, 13
CutStairwell 3, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 13>
	StairwellSets() #Determine stairs' size

	Set 21 = -135 #Center X
	Set 22 = -73.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 3 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 13] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, -%24% + 5 + %NumSteps%, -%23% + 4, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 13] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 13] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = %24% - 4

	DrawWalls = true, false, false, false, false, false
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, %23% - 0.001, %SignCenterPoint% - 0.225, %23% - 0.001, %SignCenterPoint% + 0.225, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade
		Set WT = %5%Wall #WT = Wall Texture
		if[%floor% = 13] Set WT = ExtFacade #WT = Wall Texture

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0
		if[%floor% = 13] Set WH = %fullheight%
		if[%floor% = 13] Set WO = 0
		
		Set ISExt = false
		if[%floor% = 13] Set ISExt = true
		Set ShowLeft = false
		if[%floor% = 13] Set ShowLeft = true
		Set ShowTop = false
		if[%floor% = 13] Set ShowTop = true

		CreateShaftWall(%WT%, %WT%, %WT%, %WT%, %WT%, %WT%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, %ShowLeft%, true, true, %ShowTop%, false, %ISExt%)

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, %23%, %24% - 2, 3, 7, 0, 0, 0

		#Emergency exit door
		SetLock 1, 0
		WallOrientation = left
		TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
		if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 4, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0
		SetLock 0, 0

		#Filler walls
		WallOrientation = left
		if[%floor% = 13] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23%, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% - 0.5, %22% + %24% - 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_MainExits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, 7.2, false)
<EndFloors>

#East Stairwell A
	#Interior wall/floor cuts for shaft walls
	<Floors -3 to 12>
		CutAll 139 - 0.1, 0, -43.5 - 12, 139 + 0.1, %fullheight%, -43.5 + 12, true, false #Left wall cuts, stairwell 3
	<EndFloors>
	
CreateStairwell 4, 135, -43.5, -3, 13
CutStairwell 4, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 13>
	StairwellSets() #Determine stairs' size

	Set 21 = 135 #Center X
	Set 22 = -43.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 4 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 13] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, %24% - 5 - %NumSteps%, %23%, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 13] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 13] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 13] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = -%24% + 4

	DrawWalls = false, true, false, false, false, false
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 0.225, -%23% + 0.001, %SignCenterPoint% + 0.225, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade
		Set WT = %5%Wall #WT = Wall Texture
		if[%floor% = 13] Set WT = ExtFacade #WT = Wall Texture

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0
		if[%floor% = 13] Set WH = %fullheight%
		if[%floor% = 13] Set WO = 0

		Set BackTex = %5%Wall
		if[%floor% > -3 & %floor% < 0] Set BackTex = ParkingWall
		if[%floor% > -1 & %floor% < 10] Set BackTex = ExtFacade2

		Set ISExt = false
		if[%floor% = 13] Set ISExt = true
		Set ShowRight = false
		if[%floor% = 13] Set ShowRight = true
		Set ShowTop = false
		if[%floor% = 13] Set ShowTop = truetrue

		CreateShaftWall(%WT%, %WT%, %WT%, %WT%, %WT%, %WT%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, %ShowRight%, true, %ShowTop%, false, %ISExt%)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, -%23%, -%24% + 2, 3, 7, 0, 0, 0

		#Emergency exit door
		SetLock 2, 0
		WallOrientation = right
		TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
		if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 2, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0
		SetLock 0, 0

		#Filler walls
		WallOrientation = right
		if[%floor% = 13] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23%, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true
		if[%floor% = 0] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% + 0.5, %22% - %24% + 2, 3, 7 - 0.001, %interfloorheight%, false, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! -1 & %floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddBoxSign(Stair%25%_MainExits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, 7.2, false)
<EndFloors>

#West Stairwell B
CreateStairwell 5, -96, 41.5, -3, 12
CutStairwell 5, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 12>
	StairwellSets() #Determine stairs' size

	Set 21 = -96 #Center X
	Set 22 = 41.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 5 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, -%24% + 5, 0, -%24% + 5 + %NumSteps%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 12] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 4, -%24% + 5 + %NumSteps%, %23%, -%24% + 5 + %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 12] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, %23% - 4, %23%, back, -%24% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, -%23%, -%23% + 4, front, -%24% + 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5,-%23%, -%24%, %23%, -%24% + 5, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24% + 5 + %NumSteps%, %23%, %24%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, -%24%, %23%, -%24% + 5, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = %24% - 4

	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 0.225, -%23% + 0.001, %SignCenterPoint% + 0.225, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight - 0.5
		if[%floor% = 9] Set WO = -%interfloorheight%
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0

		Set ISExt = false
		Set ShowTop = false

		CreateShaftWall(%5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, true, true, %ShowTop%, false, %ISExt%)

	#Doors
	Set DoorOpen = true
	if[%floor% = 0 | %floor% > 9] Set DoorOpen = false

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 3, 75, -%23%, %24% - 2, 3, 7, 0, 0, 0
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 1, 75, -%23% - 0.5, %24% - 2, 3, 7, 0, 0, 0

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_Exits, %SignTex%, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% - %23% - 0.55, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, StainlessSteel, ExitSign, StainlessSteel, 0.1, false, true, true, %21% - %23% + 0.05, %22% + %24% - 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#East Stairwell B	
CreateStairwell 6, 96, 41.5, -3, 12
CutStairwell 6, -4.5, -12, 4.5, 12, 0, 5

<Floors -3 to 12>
	StairwellSets() #Determine stairs' size

	Set 21 = 96 #Center X
	Set 22 = 41.5 #Center Z
	Set 23 = 4.5 #Cut X
	Set 24 = 12 #Cut Z
	Set 25 = 6 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	WallOrientation = left
	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, 0, %24% - 5 - %NumSteps%, 0, %24% - 5, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 12] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23%, %24% - 5 - %NumSteps%, -%23% + 4, %24% - 5 - %NumSteps%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 12] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	Set NumStepsU2 = %NumSteps% * 2
	Set NumStepsU3 = %NumSteps% * 3

	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_LowerStairsEX, Stairs, -%23%, -%23% + 4, front, %24% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * %NumStepsU2%, 0.5)
	if[%DblStairs% = true & %floor% < 12] OP_OrthoStair(%25%, ST%25%_UpperStairsEX, Stairs, %23% - 4, %23%, back, %24% - 5, %NumSteps%, 1, %26%, %26% * %NumStepsU3%, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, 0, 0, false, false, 0, 0
	if[%floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingLowerEX, StairsFloor, 0.5, -%23%, -%24%, %23%, %24% - 5 - %NumSteps%, %26% * %NumStepsU2%, %26% * %NumStepsU2%, false, false, 0, 0
	if[%DblStairs% = true & %floor% < 12] AddStairsFloor %25%, Stairs%25%LandingUpperEX, StairsFloor, 0.5, -%23%, %24% - 5, %23%, %24%, %26% * %NumStepsU3%, %26% * %NumStepsU3%, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = -%24% + 4

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, %Suffix%, 0, %23% - 0.001, %SignCenterPoint% - 0.225, %23% - 0.001, %SignCenterPoint% + 0.225, 0.45, 0.45, 3.55, 3.55, 0, 0

	#External walls
		#Set textures
		TexPrefix()
		Set ExtTex = ExtFacade

		#Wall heights/offsets
		TexPrefix()
		Set WH = %fullheight%
		Set WO = -%interfloorheight%
		if[%floor% = -3] Set WH = %height% + Floor(-2).InterfloorHeight - 0.5
		if[%floor% = -3] Set WO = 0
		if[%floor% = 9] Set WH = %fullheight% + Floor(10).InterfloorHeight - 0.5
		if[%floor% = 9] Set WO = -%interfloorheight%
		if[%floor% = -2 | %floor% = 10] Set WH = %height%
		if[%floor% = -2 | %floor% = 10] Set WO = 0

		Set ISExt = false
		Set ShowTop = false

		CreateShaftWall(%5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, %5A%Wall, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %WH%, %WO%, true, true, true, true, %ShowTop%, false, %ISExt%)

	#Doors
	Set DoorOpen = true
	if[%floor% = 0 | %floor% > 9] Set DoorOpen = false

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , %DoorOpen%, ServiceDoor2, 0.2, 1, 75, %23%, -%24% + 2, 3, 7, 0, 0, 0
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 3, 75, %23% + 0.5, -%24% + 2, 3, 7, 0, 0, 0

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_Exits, StainlessSteel, %SignTex%, StainlessSteel, 0.1, false, true, true, %21% + %23% + 0.55, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SLExit, ExitSign, StainlessSteel, StainlessSteel, 0.1, false, true, true, %21% + %23% - 0.05, %22% - %24% + 2, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>