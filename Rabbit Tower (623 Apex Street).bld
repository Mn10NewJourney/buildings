#Rabbit Tower
#Copyright (c) 2023-Present - Mn10

#Updated 2 March 2025:
	#Modified the "Mechanical Mezzanine" area on level 46A (formerly the 47th floor).

#Include ObjectPlus and SROC (credit to EG881)
<Include ObjectPlus/Scripts/OP_Script2.txt> #EG881
#<Include SROC/Scripts/r1_script.txt> #EG881

#Include my scripts
<Include Deco2011/Scripts/r4_script.txt>
<Include CustomObjects2018/Scripts/r1_script.txt>
<Include Shaft Wall Creator/Scripts/r1_script.txt>
<Include data/ACME Floor Indicator/Scripts/Indicators.txt>

##--------------------------------------------------------------------------------##

#Globals
<Globals>
	Name = Rabbit Tower
	Designer = Mn10 (Fixtures originally created by Vector and Windows446)
	Location = 623 Apex Street, Tranquility City
	Description = An office building with 632 parking spaces (600 standard and 32 executive) on its lower levels.
	Version = 1
	CameraFloor = 0
	CameraPosition = -30, -75
	CameraRotation = 0, 0, 0
<EndGlobals>

##--------------------------------------------------------------------------------##

#Textures
<Textures>
	#Landscapes
	Load data/downtown.jpg, Downtown, 1, 1
	Load data/walkway.jpg, Sidewalk, 0.03125, 0.03125

		#Plants
		#Load data/ogrebullet/textures/grass.jpg, Grass, 0.005, 0.005
		Load data/EG881/Trees_Summer/BradfordPear1.png, Tree1, 1, 1, false #EG881
		Load data/EG881/tree1.gif, Tree2, 1, 1, false #EG881

		#Roads
		Load data/grndroad1mid.jpg, Road, 0.04, 0.04
		Load data/Melvin/Roads/2lane-oneway.png, AccessRoadway, 0.05, 0.041667

		#Road markings
		Load data/EG881/parkingspacex.png, ParkingSpaceX, 1, 1, false #EG881
		Load data/EG881/parkingspacez.png, ParkingSpaceZ, 1, 1, false #EG881
		Load data/EG881Mod/NoParkingX.png, NoParkingX, 1, 1, false #EG881 #Yellow islands
		#Load data/EG881Mod/NoParkingZ.png, NoParkingZ, 1, 1, false #EG881
		#Load data/EG881Mod/WhiteIslandX.png, WhiteIslandX, 1, 1, false #EG881
		#Load data/EG881Mod/WhiteIslandZ.png, WhiteIslandZ, 1, 1, false #EG881

	#Concrete
	Load data/EG881/Concrete/smoothconcrete1_white.jpg, ExtFacade, 0.0625, 0.0625 #EG881 #Main external walls
	Load data/EG881/Concrete/smoothconcrete1.jpg, ExtFacade2, 0.0625, 0.0625 #EG881
	Load data/stone.jpg, ExtFacade3, 0.088, 0.088, true #EG881 #External walls around entrance doors

	#Windows and vents
		#Windows
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3g.jpg, MainWindows, true, 0.05, 1 #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsInt, 0.05, 1 #EG881
		LoadAlphaBlend data/EG881/windows11h_black2.jpg, data/windows11ispec.png, data/sky3g.jpg, MainWindowsB, true, 1, 1, false #EG881
		Load data/EG881/windows11h_insideblack.png, MainWindowsIntB, 1, 1, false #EG881
		LoadAlphaBlend data/windows11h_black.jpg, data/windows11ispec.png, data/sky1.jpg, AltWindowsB, true, 1, 1, false #EG881
		Load data/windows11h_inside.gif, AltWindowsIntB, 1, 1, false #EG881

		#Vents
		Load data/vents1b.jpg, VentsExt, 1, 1, false
		Load data/vents1b.jpg, VentsInt, 1, 1, false

	#Main textures
		#Shopping
		Load data/EG881/eg881_Carpet1.jpg, ShoppingFloor, 0.2, 0.2 #EG881
		Load data/MarbleWhite0047b_S.jpg, FoodCourtFloor, 0.1, 0.2
		Load data/EG881/ceilingtile2.jpg, ShoppingCeiling, 0.125, 0.125 #EG881
		Load data/EG881/lopacwall3stripe.jpg, ShoppingWall, 0.15, 0.3 #EG881

		#Lobby
		Load data/floor065.jpg, LobbyFloor, 0.25, 0.25
		Load data/EG881/eg881_Carpet1.jpg, LobbyCarpet1, 0.2, 0.2 #EG881
		Load data/Carpet0013b_S.jpg, LobbyCarpet2, 0.2, 0.2
		Load data/EG881/ceilingtile3x3.jpg, LobbyCeiling, 0.125, 0.125 #EG881
		Load data/EG881/lopacwall2stripe.jpg, LobbyWall, 0.15, 0.3 #EG881
		Load data/rose_marble.jpg, LobbyEscWall, 0.15, 0.15 #Escalator deco walls

			#Entrance from Executive Parking
			Load data/checker08.jpg, ExecutiveLobbyFloor, 0.5, 0.5
			Load data/checker12.jpg, ExecutiveLobbyFloor2, 0.5, 0.5
			Load data/marb148.jpg, ExecutiveLobbyWall, 0.2, 0.2 #Outside
			Load data/granite_0008b.jpg, ExecutiveLobbyWall2, 0.111, 0.111 #Inside

		#Parking levels
		Load data/EG881/cem_tr2b.jpg, PGConcreteFloor, 0.075225, 0.0625 #EG881
		Load data/Carpet0021b_S.jpg, ParkingLobbyFloor, 0.2, 0.2
		Load data/Carpet0013b_S.jpg, ParkingLobbyFloor2, 0.2, 0.2
		Load data/stucco1.jpg, ParkingWall, 0.25, 0.25
		Load data/stucco1b.jpg, ParkingWall2, 0.25, 0.25
		Load data/wall5.jpg, ParkingLobbyWall, 0.25, 0.25
		Load data/EG881/cem_tr2c.jpg, ParkingCeiling, 0.075225, 0.0625 #EG881
		Load data/EG881/ceilingtile2b.jpg, ParkingLobbyCeiling, 0.125, 0.125 #EG881 #Passenger
		Load data/EG881/ceilingtile3x3.jpg, ParkingLobbyCeiling2, 0.125, 0.125 #EG881 #Service

		#Office levels 11-22
		Load data/Carpet0012_S.jpg, LowerOfficeFloor, 0.2, 0.2
		Load data/stucco22b.jpg, LowerOfficeWall, 0.125, 0.125
		Load data/EG881/ceilingtile3x3.jpg, LowerOfficeCeiling, 0.125, 0.125 #EG881

		#Office levels 23-34
		Load data/Carpet0021d_S.jpg, MiddleOfficeFloor, 0.2, 0.2
		Load data/st_wall2.jpg, MiddleOfficeWall, 0.13635, 0.09765
		Load data/EG881/ceilingtile2.jpg, MiddleOfficeCeiling, 0.125, 0.125 #EG881

		#Office levels 35-45
		Load data/Carpet0012_S.jpg, UpperOfficeFloor, 0.2, 0.2
		Load data/wall5.jpg, UpperOfficeWall, 0.25, 0.25
		Load data/EG881/ceilingtile2b.jpg, UpperOfficeCeiling, 0.125, 0.125 #EG881

		#Dropped ceiling for restrooms
		Load data/EG881/Ceilings/ceilingtile4single.jpg, DropCeiling, 0.5, 0.5 #EG881

		#Service elevator lobby
		Load data/stucco1.jpg, ServiceLobbyWall, 0.25, 0.25
		Load data/stucco5.jpg, ServiceLobbyWall2, 0.25, 0.25
		Load data/stucco1b.jpg, ServiceLobbyWall3, 0.25, 0.25

		#Service levels & roof
		Load data/EG881/cem_tr2c.jpg, ServiceFloor, 0.075225, 0.0625 #EG881
		Load data/brick040+.jpg, TopsideMechFloor, 0.125, 0.125
		Load data/stucco2.jpg, ServiceWall, 0.1, 0.1
		Load data/EG881/cem_tr2b.jpg, ServiceCeiling, 0.075225, 0.0625 #EG881
		Load data/EG881/cem_tr2b.jpg, RoofFloor, 0.075225, 0.0625 #EG881
	
			#Mechanical Mezzanine
			Load data/brick1.jpg, MMEFloor, 0.25, 0.25 #EG881
			Load data/EG881/cem_tr3.jpg, MMEUnderside, 0.075225, 0.0625 #EG881
			Load data/EG881/Concrete/smoothconcrete1_white.jpg, MMEWall, 0.075, 0.075 #EG881

	#Automatic Doors
		#Doors
		Load data/Automatic_Doors/generic.png, AutoDoors, 1, 1, false
		LoadCropped data/glassdoor_trans.gif, AutoDoors_Side, 236, 0, 20, 512, 1, 1, false
		Load data/EG881/stainlesssteel4.jpg, AD_Deco, 1, 1, false #EG881

		#Sensors
		Load data/black.jpg, W1Ent_SensorUnlit, 1, 1, false
		Load data/yellow.jpg, W1Ent_SensorLit, 1, 1, false
		Load data/black.jpg, W2Ent_SensorUnlit, 1, 1, false
		Load data/yellow.jpg, W2Ent_SensorLit, 1, 1, false

		#Windows around automatic doors
		Load data/windows11e_inside2.gif, ADWindows, 1, 1, false
		LoadCropped data/windows11e_inside2.gif, ADWindows_Side, 150, 0, 10, 177, 1, 1, false

	#Doors
		#Door trims
		Load data/EG881/blackdoortrim.jpg, BlackTrim, 1, 1, false #EG881
		#Load data/gray2-sm.jpg, ConnectionWall, 1, 1, true

		#Service doors
		Load data/servicedoor1.jpg, ServiceDoor1, -1, 1, false
		LoadCropped data/servicedoor1.jpg, ServiceDoor1Side, 0, 0, 10, 256, 1, 1, false
		Load data/EG881/Doors/servicedoor2_graynovents.jpg, ServiceDoor2, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2back_graynovents.jpg, ServiceDoor2B, 1, 1, false #EG881
		Load data/EG881/Doors/servicedoor2_graynovents_side.jpg, ServiceDoor2Side, 1, 1, false #EG881
		Load data/servicedoor3.jpg, ServiceDoor3, 1, 1, false
		LoadCropped data/servicedoor3.jpg, ServiceDoor3Side, 236, 0, 20, 512, 1, 1, false

		#Main doors
		Load data/miscdoor6.jpg, Door6, 1, 1, false
		LoadCropped data/miscdoor6.jpg, Door6Side, 236, 0, 20, 512, 1, 1, false
		Load data/miscdoor8.jpg, Door8, 1, 1, false
		LoadCropped data/miscdoor8.jpg, Door8Side, 236, 0, 20, 512, 1, 1, false

		#Load data/miscdoor88.gif, Door88, 1, 1, false
		#LoadCropped data/miscdoor88.gif, Door88Side, 236, 0, 20, 512, 1, 1, false

		Load data/EG881/miscdoor8_blacktrans.png, EntranceDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881/miscdoor8_blacktranstinted.jpg, data/EG881/miscdoor8_blacktranspec.png, data/sky3g.jpg, EntranceDoorExt, true, 1, 1, false #EG881
		LoadCropped data/EG881/miscdoor8_blacktrans.png, EntranceDoorSide, 236, 0, 20, 512, 1, 1, false #EG881

		Load data/EG881/Doors/exteriordoor1_int.png, AltEntranceDoorInt, 1, 1, false #EG881
		LoadAlphaBlend data/EG881Mod/exteriordoor1_bw.png, data/EG881/Doors/exteriordoor1_spec.png, data/sky1.jpg, AltEntranceDoorExt, true, 1, 1, false #EG881
		LoadAlphaBlend data/EG881Mod/exteriordoor1_withkey_bw.png, data/EG881/Doors/exteriordoor1_withkey_spec.png, data/sky1.jpg, AltEntranceDoorExt_Key, true, 1, 1, false #EG881
		Load data/EG881Mod/exteriordoor1_side.png, AltEntranceDoorSide, 1, 1, false

		Load data/miscdoor9b.jpg, Door9b, 1, 1, false
		Load data/EG881/Doors/miscdoor9bside.jpg, Door9bSide, 1, 1, false #EG881

	#Stairwells
	Load data/EG881/cem_tr2b.jpg, Stairs, 0.075225, 0.0625 #EG881
	Load data/EG881/cem_tr2b.jpg, StairsFloor, 0.075225, 0.0625 #EG881
	Load data/stucco1.jpg, StairsWall, 0.25, 0.25
	Load data/stucco3.jpg, StairsWall2, 0.25, 0.25
	Load data/EG881/cem_tr2b.jpg, StairsCeiling, 0.075225, 0.0625 #EG881

	#Escalators
	#Load data/panel-back3.jpg, SilverBalustrade, 1, 1, false
	Load data/EG881_Otis/Walls_and_Panels/otisstainlesssteel1.jpg, SilverBalustrade2, 1, 1, false #EG881
	Load data/MT/blank.gif, GlassBalustrade, 1, 1, false

	#Shafts
	Load data/EG881/cem_tr3.jpg, ShaftIntWall, 0.075225, 0.0625 #EG881

		#Glass Elevator Shaft
		#Load data/EG881/blackdoortrim.jpg, GLEShaftWall, 0.05, 0.05 #EG881
		Load data/cutston.jpg, GLEShaftWall2, 0.18, 0.18

	#Elevators
		#Main components
		Load data/metal1.jpg, ElevExt, 0.25, 0.25, true
		Load data/metal080.jpg, ElevExt2, 0.5, 0.5, true
		Load data/counterweight.png, CWeight, 1, 1, false
		Load data/counterweight_frame.png, CWeight_Frame, 1, 1, false
		Load data/ropes.png, Ropes, 1, 1, false
		Load data/metal080.jpg, ElevRail, 0.5, 0.5
		Load data/metal1.jpg, ElevRailSide, 0.25, 0.25
		Load data/EG881/elevatordoortrackx.jpg, ElevDoorTrackX, 1, 1, false #EG881
		Load data/EG881/elevatordoortrackz.jpg, ElevDoorTrackZ, 1, 1, false #EG881

		#Elevator Bank 1
		Load data/Carpet0012_S.jpg, Bank1ElevFloor, 0.2, 0.2
		Load data/EG881/otis4_weaveceiling_1x1.jpg, Bank1ElevCeiling, 3, 2, false #EG881
		Load data/marbl3.jpg, Bank1ElevWall, 0.36, 0.36
		Load data/Other People's Textures/marb044.png, Bank1ElevWallPanel, 0.3, 0.3
		Load data/Other People's Textures/marb045.png, Bank1ElevWallPanel2, 0.3, 0.3
		Load data/EG881/stainlesssteel.jpg, Bank1ElevPanelMain, 1, 1, false #EG881
		Load data/EG881/stainlesssteel.jpg, Bank1ElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881/stainlesssteeldoor.jpg, Bank1ElevDoors, 1, 1, false #EG881
		Load data/EG881/stainlesssteeldoor.jpg, Bank1ElevDoors2, -1, 1, false #EG881

		#Elevator Bank 2
		Load data/Carpet0021d_S.jpg, Bank2ElevFloor, 0.2, 0.2
		Load data/EG881/elevint1_ceilingtile.jpg, Bank2ElevCeiling, 3, 2, false #EG881
		Load data/EG881/stucco2f_white.jpg, Bank2ElevWall, 0.25, 0.25 #EG881
		Load data/diamond18g.jpg, Bank2ElevWallPanel, 0.5, 0.5
		Load data/diamond18d.jpg, Bank2ElevWallPanel2, 0.5, 0.5
		Load data/elevpanelsilver.jpg, Bank2ElevPanelMain, 1, 1, false #EG881
		Load data/elevpanelsilver.jpg, Bank2ElevPanelTop, 1, 0.125, false #EG881
		Load data/door1.jpg, Bank2ElevDoors, 1, 1, false #EG881
		Load data/door1.jpg, Bank2ElevDoors2, -1, 1, false #EG881

		#Elevator Bank 3
		Load data/Carpet0012_S.jpg, Bank3ElevFloor, 0.2, 0.2
		Load data/Otis_Series_4_and_5/B_ElevCeiling2.png, Bank3ElevCeiling, 1, 1, false #EG881
		Load data/EG881/stucco2f_white.jpg, Bank3ElevWall, 0.25, 0.25 #EG881
		Load data/marb148.jpg, Bank3ElevWallPanel, 0.25, 0.25
		Load data/panel-back3.jpg, Bank3ElevPanelMain, 1, 1, false #EG881
		Load data/panel-back3.jpg, Bank3ElevPanelTop, 1, 0.125, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, Bank3ElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, Bank3ElevDoors2, 1, 1, false #EG881

		#Parking Elevators
		Load data/Carpet0021b_S.jpg, ParkingElevFloor, 0.2, 0.2
		Load data/EG881/otis4_weaveceiling_2x2.jpg, ParkingElevCeiling, 1, 1, false #EG881
		Load data/EG881/blackdoortrim.jpg, ParkingElevWall, 1, 1, false #EG881
		Load data/diamond18i.jpg, ParkingElevWallPanel, 0.5, 0.5
		Load data/EG881/brass3.jpg, ParkingElevWall2, 1, 1, false #EG881
		Load data/glasselevator2b.gif, ParkingElevWallGlass, 1, 1, false
		Load data/panel-back4.jpg, ParkingElevPanelMain, 1, 1, false #EG881
		Load data/panel-back4.jpg, ParkingElevPanelTop, 1, 0.0667, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ParkingElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisbrassdoorright.jpg, ParkingElevDoors2, 1, 1, false #EG881

			#Shaft doors (All passenger)
			Load data/EG881/elevdoorleft_tan.jpg, LowerElevDoors, 1, 1, false #EG881
			Load data/EG881/elevdoorright_tan.jpg, LowerElevDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_tan.jpg, LowerElevDoors_Trim, 1, 1, false #EG881

			Load data/EG881/stainlesssteeldoor.jpg, LobbyElevDoors, 1, 1, false #EG881
			Load data/EG881/stainlesssteeldoor.jpg, LobbyElevDoors2, -1, 1, false #EG881
			Load data/EG881/stainlesssteel.jpg, LobbyElevDoors_Trim, 1, 1, false #EG881
			Load data/EG881/stainlesssteel2.jpg, LobbyElevDoors_Trim2, 1, 1, false #EG881

			Load data/EG881_Otis/Doors/otisstnlsteeldoorleft.jpg, ParkingLevelElevDoors, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ParkingLevelElevDoors2, 1, 1, false #EG881
			Load data/panel-back3.jpg, ParkingLevelElevDoors_Trim, 1, 1, false #EG881

			Load data/EG881/elevdoorleft_white.jpg, LowerOfficeElevDoors, 1, 1, false #EG881
			Load data/EG881/elevdoorright_white.jpg, LowerOfficeElevDoors2, 1, 1, false #EG881
			Load data/EG881/elevdoortrim_white.jpg, LowerOfficeElevDoors_Trim, 1, 1, false #EG881

			Load data/Melvin/SRH/st_doors_blackedge.jpg, MiddleOfficeElevDoors, 1, 1, false #Levels 23-34
			Load data/Melvin/SRH/st_doors_blackedge.jpg, MiddleOfficeElevDoors2, -1, 1, false
			#Load data/Melvin/st_panel.jpg, MiddleOfficeElevDoors_Trim, 1, 1, false

			Load data/EG881_Otis/Doors/otiswhitedoorright.jpg, UpperOfficeElevDoors, -1, 1, false #EG881 #Levels 35-45
			Load data/EG881_Otis/Doors/otiswhitedoorleft.jpg, UpperOfficeElevDoors2, -1, 1, false #EG881
			#Load data/EG881_Otis/Doors/otiswhitedoortrim1.jpg, UpperOfficeElevDoors_Trim, 1, 1, false #EG881

		#Service elevators
		Load data/metal072.jpg, ServiceElevFloor, 0.25, 0.25
		Load data/MT/CeilingD.jpg, ServiceElevCeiling, 1, 1, false
		Load data/MT/CeilingD.jpg, ServiceElevCeiling2, 1, 1, false
		Rotate ServiceElevCeiling, 270
		Rotate ServiceElevCeiling2, 90
		Load data/EG881/blackdoortrim.jpg, ServiceElevWall, 1, 1, false #EG881
		Load data/metal080.jpg, ServiceElevWallPanel, 0.5, 0.5
		Load data/panel-back3.jpg, ServiceElevPanelMain, 1, 1, false
		Load data/panel-back3.jpg, ServiceElevPanelTop, 1, 0.125, false
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors, -1, 1, false #EG881
		Load data/EG881_Otis/Doors/otisstnlsteeldoorright.jpg, ServiceElevDoors2, 1, 1, false #EG881

			#Shaft doors (Service)
			### Flipped left/right to make the keyhole matches with the shaft doors' "tw" value. ###
			Load data/EG881_Otis/Doors/otisgraydoorleft.jpg, ElevDoorsA, 1, 1, false #EG881 #Most floors
			Load data/EG881_Otis/Doors/otisgraydoorright.jpg, ElevDoorsA2, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otisgraydoortrim1.jpg, ElevDoorsA_Trim, 1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoorleft.jpg, ElevDoorsB, 1, 1, false #EG881 #Office levels 23-45, and service/mechanical floors
			Load data/EG881_Otis/Doors/otiswhitedoorright.jpg, ElevDoorsB2, -1, 1, false #EG881
			Load data/EG881_Otis/Doors/otiswhitedoortrim1.jpg, ElevDoorsB_Trim, 1, 1, false #EG881

	#TK Studio fixtures
		#Call buttons
		Load data/EG881/stainlesssteel4.jpg, ElevExtPanels-Studio, 1, 1, false #EG881 #Hall buttons and lanterns
		Load data/Other People's Fixtures/ThyssenKrupp Studio/CallButtons/tkstudiocallunlit.png, StudioButtonUp, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/CallButtons/tkstudiocalllit.png, StudioButtonUpLit, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/CallButtons/tkstudiocallunlit.png, StudioButtonDown, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/CallButtons/tkstudiocalllit.png, StudioButtonDownLit, 1, 1, false #Vector

		#Lanterns
		Load data/EG881/stainlesssteel4.jpg, ElevIntPanels-Studio, 1, 1, false #EG881 #Door jamb lanterns
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioarrowunlit.png, StudioLanternUp, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioarrowlit.png, StudioLanternUpLit, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiodnarrowunlit.png, StudioLanternDown, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiodnarrowlit.png, StudioLanternDownLit, 1, 1, false #Vector

		#Fire service cabinet
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiofirecab2.png, StudioFireCab, 1, 1, false #Vector
		AddTextRange 1, 18, StudioFireCab, StudioFireCabE%number%, nimbus_sans_bold.ttf, 40, Elev.%number%, 0, 153, 256, 217, center, center, 0, 0, 0, false
		AddTextRange 21, 23, StudioFireCab, StudioFireCabE%number%, nimbus_sans_bold.ttf, 40, Elev.%number%, 0, 153, 256, 217, center, center, 0, 0, 0, false

		#Car buttons
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioalarm.png, StudioButtonAlarm, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiohelp.png, StudioButtonPhone, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioblink.png, StudioButtonBlink, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiodopen.png, StudioButtonOpen, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudiodclose.png, StudioButtonClose, 1, 1, false #Vector

		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioblankunlit.png, StudioButton, 1, 1, false #Vector
		Load data/Other People's Fixtures/ThyssenKrupp Studio/tkstudioblanklit.png, StudioButtonLit, 1, 1, false #Vector

		AddTextRange 1, 2, StudioButton, StudioButtonB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 0, 0, 134, 128, center, center, 255, 255, 255, false
		AddTextRange 1, 45, StudioButton, StudioButton%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 0, 0, 134, 128, center, center, 255, 255, 255, false

		AddTextRange 1, 2, StudioButtonLit, StudioButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 0, 0, 134, 128, center, center, 255, 255, 255, false
		AddTextRange 1, 45, StudioButtonLit, StudioButtonLit%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 0, 0, 134, 128, center, center, 255, 255, 255, false

		#Inside floor indicators
		Load data/Other People's Fixtures/signa4/signa4ind.png, StudioIntIndBack, 1, 1, false
		AddText StudioIntIndBack, StudioIntInd_ButtonX, Mitsubishi-Modern-V2.ttf, 50, X, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower

		AddTextRange 1, 2, StudioIntIndBack, StudioIntInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 50, B%number%, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower
		AddTextRange 1, 45, StudioIntIndBack, StudioIntInd_Button%number%, Mitsubishi-Modern-V2.ttf, 50, %number%, 40, 75, 215, 163, center, center, 0, 212, 255 #Test Tower

		#Outside floor indicators
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, StudioIndBack, 1, 1, false
		AddText StudioIndBack, StudioInd_ButtonX, Mitsubishi-Modern-V2.ttf, 135, X, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower
		AddTextRange 1, 2, StudioIndBack, StudioInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 135, B%number%, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower
		AddTextRange 1, 45, StudioIndBack, StudioInd_Button%number%, Mitsubishi-Modern-V2.ttf, 135, %number%, -1, -1, -1, -1, center, center, 0, 212, 255 #Test Tower

	#MAD BS fixtures
		#Call buttons
		Load data/Melvin/SDT_Signs/SDTCallPanel.png, ElevExtPanels-MA, 1, 1, false #EG881 #Hall buttons
		Load data/panel-back3.jpg, ElevExtPanels-MA2, 1, 1, false #EG881 #Hall lanterns
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonUp, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litgreen.gif, MAButtonUpLit, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_unlit.gif, MAButtonDown, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/callbutton_litred.gif, MAButtonDownLit, 1, 1, false #Windows446

		#Lanterns
		Load data/darrow_unlit.gif, MALanternUp, 1, 1, false
		Load data/darrow_lit.gif, MALanternUpLit, 1, 1, false
		Load data/darrow_unlit_red.gif, MALanternDown, 1, -1, false
		Load data/darrow_lit_red.gif, MALanternDownLit, 1, -1, false

		#Car buttons
		Load data/Other People's Fixtures/MAD BS/button_alarm.gif, MAButtonAlarm, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_phone.gif, MAButtonPhone, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_cancel.gif, MAButtonCancel, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_open.gif, MAButtonOpen, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_close.gif, MAButtonClose, 1, 1, false #Windows446

		Load data/Other People's Fixtures/MAD BS/button_unlit.gif, MAButton, 1, 1, false #Windows446
		Load data/Other People's Fixtures/MAD BS/button_litred.gif, MAButtonLit, 1, 1, false #Windows446

		AddText MAButton, MAButtonSB, nimbus_sans_bold_condensed.ttf, 48, SB, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 2, MAButton, MAButtonB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 46, MAButton, MAButton%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false

		AddText MAButtonLit, MAButtonLitSB, nimbus_sans_bold_condensed.ttf, 48, SB, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 2, MAButtonLit, MAButtonLitB%number%, nimbus_sans_bold_condensed.ttf, 48, B%number%, 42, 63, 105, 163, center, center, 255, 255, 255, false
		AddTextRange 1, 46, MAButtonLit, MAButtonLit%number%, nimbus_sans_bold_condensed.ttf, 48, %number%, 42, 63, 105, 163, center, center, 255, 255, 255, false

		#Floor indicators (Both inside and outside)
		Load data/ACME Floor Indicator/Resized/ACME Floor Indicator.jpg, MAIndBack, 1, 1, false
		AddText MAIndBack, MAInd_ButtonSB, Mitsubishi-Modern-V2.ttf, 122, SB, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 2, MAIndBack, MAInd_ButtonB%number%, Mitsubishi-Modern-V2.ttf, 122, B%number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower
		AddTextRange 1, 46, MAIndBack, MAInd_Button%number%, Mitsubishi-Modern-V2.ttf, 122, %number%, -1, -1, -1, -1, center, center, 255, 0, 0 #Test Tower

	#Signs
		#Elevator bank signs
		LoadRange 1, 3, data/Melvin/RBT/OfficeElevBank%number%.png, SignOfficeBank_%number%, 1, 1, false
		Load data/Melvin/RBT/ParkingElev.png, SignParkingElev, 1, 1, false
		Load data/panel-back4.jpg, SignOfficeBankSide, 1, 1, false
		Load data/panel-back3.jpg, ParkingElevBankSide, 1, 1, false

		#Elevator number signs (Inside)
		Load data/Melvin/transparent128.png, IN_ElevNoBack, 1, 1, false
		#AddTextRange 1, 23, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 19, 20, IN_ElevNoBack, IN_ElevNo%number%, nimbus_sans_bold.ttf, 55, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Floor signs (Passenger elevators)
		Load data/Melvin/RBT/FloorSignBack.png, FlrSignBack, 1, 1, false #All floors
		AddTextRange 1, 2, FlrSignBack, FlrSignB%number%, nimbus_sans.ttf, 120, B%number%, 0, 0, 256, 198, center, center, 0, 0, 0, false
		AddTextRange 1, 45, FlrSignBack, FlrSign%number%, nimbus_sans.ttf, 120, %number%, 0, 0, 256, 198, center, center, 0, 0, 0, false

		#Floor signs (Service elevators)
		Load data/graygradient.jpg, ServFlrSignBack, 1, 1, false #Service
		AddText ServFlrSignBack, ServFlrSignSB, nimbus_sans.ttf, 120, SB, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 2, ServFlrSignBack, ServFlrSignB%number%, nimbus_sans.ttf, 120, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 46, ServFlrSignBack, ServFlrSign%number%, nimbus_sans.ttf, 120, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Floor signs (Stairwells)
		Load data/Melvin/transparent128.png, Blank, 1, 1, false
		AddText Blank, BlankSignSB, nimbus_sans_bold.ttf, 72, SB, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 2, Blank, BlankSignB%number%, nimbus_sans_bold.ttf, 72, B%number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddTextRange 1, 46, Blank, BlankSign%number%, nimbus_sans_bold.ttf, 72, %number%, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSign46A, nimbus_sans_bold_condensed.ttf, 65, 46A, -1, -1, -1, -1, center, center, 0, 0, 0, false
		AddText Blank, BlankSignR, nimbus_sans_bold.ttf, 72, R, -1, -1, -1, -1, center, center, 0, 0, 0, false

		#Restrooms
		Load data/text16.jpg, WoodSign2, 1, 1, false
		Load data/signs_mod/Restroom1A.png, Sign_Restroom, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1A.png, Sign_RestroomW, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3A.png, Sign_RestroomM, 1, 1, false
		Load data/signs_mod/Sign_Restroom_1.png, Sign_RestroomW_Gray, 1, 1, false
		Load data/signs_mod/Sign_Restroom_3.png, Sign_RestroomM_Gray, 1, 1, false

		#Parking level signs
		LoadRange 3, 10, data/Melvin/RBT/Parking/ElevLbySign%number%.png, Floor%number%Reminder, 1, 1, false #Color-coded floor signs
		Load data/Melvin/RBT/Parking/ParkingNotice.png, ParkingNotice, 1, 1, false

		#Exit signs
		Load data/panel-back3.jpg, StainlessSteel, 1, 1, false
		Load data/Melvin/ExitSignDown.png, ExitSign, 1, 1, false
		Load data/Melvin/ExitSignUp.png, ExitSignUp, 1, 1, false
		Load data/Melvin/ExitSignLeft.png, ExitSignLeft, 1, 1, false
		Load data/Melvin/ExitSignRight.png, ExitSignRight, 1, 1, false
		#Load data/Melvin/ExitSignBoth.png, ExitSignBoth, 1, 1, false

		#Miscellaneous
		Load data/MT/blank.gif, Connection, 1, 1, false
		Load data/signs_mod/elevhallsign1.png, ElevHallSign, 1, 1, false
		Load data/EG881/proxscan1.jpg, ProxScan, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannergreen.jpg, HIDScanGreen, 1, 1, false #EG881
		Load data/EG881/Miscellaneous/HIDbadgescannerred.jpg, HIDScanRed, 1, 1, false #EG881
<EndTextures>

##--------------------------------------------------------------------------------##

#Floor assignments
<Floor -1>
	ID = B(0 - %floor%)
	Name = Basement Level ((0 - %floor%))
	Type = Basement
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -13.5
	Group = -2, 0, 1
<EndFloor>

<Floor -2>
	ID = B(0 - %floor%)
	Name = Basement Level ((0 - %floor%))
	Type = Basement
	Height = 10.5
	InterfloorHeight = 1.5
	Group = -1 - 1
<EndFloor>

<Floor -3>
	ID = SB
	Name = Service Basement
	Type = Basement
	Height = 10.5
	InterfloorHeight = 1.5
	Group = -2 #Group SB with B2 to see the escalators' undersides.
<EndFloor>

<Floor -4>
	ID = %floor%
	Name = Shaft Pit
	Type = Basement
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloor>

<Floor 0>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Lobby
	Height = 10.5
	InterfloorHeight = 1.5
	Altitude = -1.5
	Group = -2, -1, 1
<EndFloor>

<Floor 1>
	ID = %floor% + 1
	Name = Level %floorid%
	Type = Recreation
	Height = 10.5
	InterfloorHeight = 1.5
	Group = -2 - 0
<EndFloor>

<Floors 2 to 8>
	ID = %floor% + 1
	Name = Parking Level %floorid%
	Type = Recreation
	Height = 8.5
	InterfloorHeight = 1.5
<EndFloors>

<Floor 9>
	ID = %floor% + 1
	Name = Parking Level %floorid%
	Type = Recreation
	#Height = 10.5
	Height = 22.5 #More height for utility space
	InterfloorHeight = 1.5
<EndFloor>

<Floors 10 to 44>
	ID = %floor% + 1
	Name = Office Level %floorid%
	Type = Office
	Height = 10.5
	InterfloorHeight = 1.5
<EndFloors>

<Floors 45 to 46>
	if[%floor% = 45] ID = %floor% + 1
	if[%floor% = 46] ID = 46A
	Name = Mechanical Level %floorid%
	Type = Service
	Height = 10.5
	InterfloorHeight = 1.5
	if[%floor% = 45] Group = 46
	if[%floor% = 46] Group = 45
<EndFloors>

<Floor 47>
	ID = R
	Name = Roof
	Type = Roof
	Height = 9.5
	InterfloorHeight = 1.5
<EndFloor>

##--------------------------------------------------------------------------------##

#Landscape
	#Downtown ground
	#AddGround Ground, Downtown, -158400, -158400, 158400, 158400, 0, 7920, 7920

	#Coordinate Set
	Set MainX = -548 + 95
	Set MainZ = 548
	Set InRabbitTower = true

	#Tranquility City Landscape
	<Include buildings/KW_Maps/Tranquility City.txt>

###************###

Set 1 = 80 #Building Dimension X
Set 2 = 120 #Building Dimension Z
Cut Landscape, -%1% - 15, -1, -%2% - 15 - 24, %1% + 15, 1, %2% + 15 + 24, false, true

Cut Landscape, -%1% - 15 - 45, -1, %2% + 15, -%1% - 15, 1, %2% + 15 + 24, false, true #Exit road
Cut Landscape, -%1% - 15 - 45, -1, -%2% - 15 - 24, -%1% - 15, 1, -%2% - 15, false, true #Entrance road

	#Roads
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, ExitRoad, AccessRoadway, 0, -%1% - 15 - 45, %2% + 15, 15, %2% + 15 + 24, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, ExitRoad2, Road, 0, 15, %2%, %1%, %2% + 15 + 24, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, EntranceRoad, AccessRoadway, 0, -%1% - 15 - 45, -%2% - 15 - 24, 15, -%2% - 15, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, EntranceRoad2, Road, 0,15, -%2% - 15 - 24, %1%, -%2%, Floor(0).Base, Floor(0).Base, 0, 0	

###************###

#Entrance paths
Cut Landscape, -140, -1, -40, -95, 1, 40, false, true
Cut Landscape, -140, -1, -95, -95, 1, -85, false, true
Cut Landscape, -140, -1, 85, -95, 1, 95, false, true

	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, MainEntPath, Sidewalk, 0, -140, -40, -95, 40, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, AuxEntPath-SW, Sidewalk, 0, -140, -95, -95, -85, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, AuxEntPath-NW, Sidewalk, 0, -140, 85, -95, 95, Floor(0).Base, Floor(0).Base, 0, 0	

###************###

#Sidewalk cuts for exit roadway
Cut Landscape, -155, -1, 135, -140, 1, 135 + 24, false, true
Cut Landscape, -155 - 0.1, -1, 135, -155 + 0.1, 1, 135 + 24, true, false
Cut Landscape, -140 - 0.1, -1, 135, -140 + 0.1, 1, 135 + 24, true, false

DrawWalls = false, true, false, false, false, false
AddFloor landscape, ExitRoadStreetLink, Road, 0, -155, %2% + 15, -140, %2% + 15 + 24, Floor(0).Base - 0.5, Floor(0).Base, true, false, 0, 0	

	#Sidewalk fillers
	DrawWalls = false, true, false, false, false, false
	AddWall landscape, ExitRd_SidewalkFiller1, Sidewalk, 0, -155, %2% + 15, -140, %2% + 15, 0.5, 0.5, -0.5, -0.5, 0, 0
	DrawWalls = true, false, false, false, false, false
	AddWall landscape, ExitRd_SidewalkFiller2, Sidewalk, 0, -155, %2% + 15 + 24, -140, %2% + 15 + 24, 0.5, 0.5, -0.5, -0.5, 0, 0

###************###

#Sidewalk cuts for entrance roadway
Cut Landscape, -155, -1, -135 - 24, -140, 1, -135, false, true
Cut Landscape, -155 - 0.1, -1, -135 - 24, -155 + 0.1, 1, -135, true, false
Cut Landscape, -140 - 0.1, -1, -135 - 24, -140 + 0.1, 1, -135, true, false

DrawWalls = false, true, false, false, false, false
AddFloor landscape, EntranceRoadStreetLink, Road, 0, -155, -%2% - 15 - 24, -140, -%2% - 15, Floor(0).Base - 0.5, Floor(0).Base, true, false, 0, 0	

	#Sidewalk fillers
	DrawWalls = false, true, false, false, false, false
	AddWall landscape, EntranceRd_SidewalkFiller1, Sidewalk, 0, -155, -%2% - 15 - 24, -140, -%2% - 15 - 24, 0.5, 0.5, -0.5, -0.5, 0, 0
	DrawWalls = true, false, false, false, false, false
	AddWall landscape, EntranceRd_SidewalkFiller2, Sidewalk, 0, -155, -%2% - 15, -140, -%2% - 15, 0.5, 0.5, -0.5, -0.5, 0, 0

###************###

	#Sidewalk around the building
	DrawWalls = false, true, false, false, false, false
	AddFloor landscape, PerimeterSidewalk, Sidewalk, 0, -%1% - 15, -%2% - 15, 15, %2% + 15, Floor(0).Base, Floor(0).Base, 0, 0	
	#AddFloor landscape, ExtraSidewalk1, Sidewalk, 0, %1%, %2% + 15, %1% + 15, %2% + 15 + 24, Floor(0).Base, Floor(0).Base, 0, 0	
	#AddFloor landscape, ExtraSidewalk2, Sidewalk, 0, %1%, -%2% - 15 - 24, %1% + 15, -%2% - 15, Floor(0).Base, Floor(0).Base, 0, 0	
	AddFloor landscape, EastSidewalk, Sidewalk, 0, %1%, -%2% - 15 - 24, %1% + 15, %2% + 15 + 24, Floor(0).Base, Floor(0).Base, 0, 0	
	Cut Landscape, -%1%, Floor(0).Base - 1, -%2%, %1%, Floor(0).Base + 1, %2%, false, true

##--------------------------------------------------------------------------------##

#Set textures
<Function FloorTex>
	if[%floor% = -2 | %floor% = -1] Set 5 = ShoppingFloor
	if[%floor% = 0 | %floor% = 1] Set 5 = LobbyFloor
	if[%floor% > 1 & %floor% < 10] Set 5 = Road
	if[%floor% > 9 & %floor% < 22] Set 5 = LowerOfficeFloor
	if[%floor% > 21 & %floor% < 34] Set 5 = MiddleOfficeFloor
	if[%floor% > 33 & %floor% < 45] Set 5 = UpperOfficeFloor
	if[%floor% = -3 | %floor% = 45 | %floor% = 46] Set 5 = ServiceFloor

	Set 5B = RoofFloor #Roof

		#Parking elevator lobby
		Set 5P = %5%
		if[%floor% > 1 & %floor% < 6] Set 5P = ParkingLobbyFloor
		if[%floor% > 5 & %floor% < 10] Set 5P = ParkingLobbyFloor2
<EndFunction>

<Function WallTex>
	if[%floor% = -2 | %floor% = -1] Set 6 = ShoppingWall
	if[%floor% = 0 | %floor% = 1] Set 6 = LobbyWall
	if[%floor% > 1 & %floor% < 10] Set 6 = ParkingWall
	if[%floor% > 9 & %floor% < 22] Set 6 = LowerOfficeWall
	if[%floor% > 21 & %floor% < 34] Set 6 = MiddleOfficeWall
	if[%floor% > 33 & %floor% < 45] Set 6 = UpperOfficeWall
	if[%floor% = -3 | %floor% = 45 | %floor% = 46] Set 6 = ServiceWall
	if[%floor% = 47] Set 6 = ExtFacade

		#Override for support columns at the parking entrance on G and 2
		Set 6A = %6%
		if[%floor% = 0 | %floor% = 1] Set 6A = ParkingWall

		#Entrance from Executive Parking (G and 2)
		Set 6EX = %6%
		if[%floor% = 0 | %floor% = 1] Set 6EX = ExecutiveLobbyWall
		Set 6EX2 = %6%
		if[%floor% = 0 | %floor% = 1] Set 6EX2 = ExecutiveLobbyWall2

		#Parking ramp railings
		Set 6B = %6%
		if[%floor% > -1 & %floor% < 10] Set 6B = ParkingWall2

		#Parking elevator lobby
		Set 6P = %6%
		if[%floor% > 1 & %floor% < 10] Set 6P = ParkingLobbyWall

		#Service elevator lobby
		Set 6S = ServiceLobbyWall
		if[%floor% > 1 & %floor% < 10] Set 6S = ServiceLobbyWall2
		if[%floor% > 21 & %floor% < 45] Set 6S = ServiceLobbyWall3
		if[%floor% = -3 | %floor% > 44] Set 6S = %6%

	###************###

	#Set heights for External Shaft/Stairwell walls
	Set SHeight = %height%
	Set SOffset = 0
	if[%floor% = 1] Set SHeight = %fullheight% #Double volume lobby
	if[%floor% = 1] Set SOffset = -%interfloorheight%

	if[%floor% > 1 & %floor% < 10] Set SHeight = %fullheight% #Parking levels (External mesh)
	if[%floor% > 1 & %floor% < 10] Set SOffset = 0
	if[%floor% = 9] Set SHeight = %fullheight% + Floor(10).InterfloorHeight - 0.5 #Parking/office transition
	if[%floor% = 9] Set SOffset = 0

	if[%floor% = 46] Set SHeight = %fullheight% #Mechanical
	if[%floor% = 46] Set SOffset = -%interfloorheight%
	if[%floor% = 47] Set SHeight = %height% #Roof
	if[%floor% = 47] Set SOffset = %interfloorheight%

	Set IsExternal = false
	if[%floor% > 1 & %floor% < 10] Set IsExternal = true #Parking levels
	if[%floor% = 47] Set IsExternal = true #Roof

		#Alternate height for main lobby
		Set SHeight2 = %SHeight%
		Set SOffset2 = %SOffset%
		if[%floor% = 0] Set SHeight2 = %height% + Floor(1).FullHeight
		if[%floor% = 0] Set SOffset2 = 0
<EndFunction>

<Function CeilingTex>
	if[%floor% = -2 | %floor% = -1] Set 7 = ShoppingCeiling
	if[%floor% = 0 | %floor% = 1] Set 7 = LobbyCeiling
	if[%floor% > 1 & %floor% < 10] Set 7 = ParkingCeiling
	if[%floor% > 9 & %floor% < 22] Set 7 = LowerOfficeCeiling
	if[%floor% > 21 & %floor% < 34] Set 7 = MiddleOfficeCeiling
	if[%floor% > 33 & %floor% < 45] Set 7 = UpperOfficeCeiling
	if[%floor% = -3 | %floor% = 45 | %floor% = 46] Set 7 = ServiceCeiling
<EndFunction>

##--------------------------------------------------------------------------------##

#Customized functions
#Add windows with interfloor covers
<Function AddCustomWin2>
	Set WinName = %param1% #Windows' name
	Set MainNeg = %param2% #Main negative texture
	Set MainPos = %param3% #Main positive texture
	Set x1 = %param4% #Coordinates, as in the AddWall code
	Set z1 = %param5%
	Set x2 = %param6%
	Set z2 = %param7%
	Set MainHeight = %param8%
	Set tw = %param9%
	Set th = %param10%
	Set IFloorType = %param11% #1 for "Concrete", 2 for "Glass windows", 3 for none.
	Set MainNegIF = %param12% #Main negative texture for interfloor - Only if Type = 1
	Set MainPosIF = %param13% #Main positive texture for interfloor - Only if Type = 1

	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNeg%, %MainPos%, Blank, Blank, Blank, Blank
	AddWall %WinName%, %MainNeg%, 0, %x1%, %z1%, %x2%, %z2%, %MainHeight%, %MainHeight%, %interfloorheight%, %interfloorheight%, %tw%, %th%, true

	TextureOverride %MainNegIF%, %MainPosIF%, Blank, Blank, Blank, Blank
	if[%IFloorType% = 1] AddWall %WinName%_IFloor, %MainNeg%, 0, %x1%, %z1%, %x2%, %z2%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0, true

	TextureOverride %MainNeg%, %MainPos%, Blank, Blank, Blank, Blank
	if[%IFloorType% = 2] AddWall %WinName%_IFloor, %MainNeg%, 0, %x1%, %z1%, %x2%, %z2%, %interfloorheight%, %interfloorheight%, 0, 0, %tw%, %th%, true
<EndFunction>

#Windows functions
<Function Windows3>
	Set Name = %param1%
	Set PositionX = %param2%
	Set PositionZ = %param3%
	Set Direction = %param4%
	Set Width = %param5%
	Set Height = %param6%
	Set Offset = %param7%
	Set MainNegativeTexture = %param8%
	Set MainPositiveTexture = %param9%
	Set FillerWallTexture = %param10%
	Set FillerDepth = %param11%
	Set TitleX = %param12%
	Set TitleZ = %param13%

	Set FillerDepth2 = %FillerDepth% / 2

	#Determine direction value for windows' placement
	if[%Direction% = left | %Direction% = Left | %Direction% = right | %Direction% = Right] Set WinPlacement = 1
	if[%Direction% = front | %Direction% = Front | %Direction% = back | %Direction% = Back] Set WinPlacement = 2
	if[%Direction% = centerx | %Direction% = CenterX] Set WinPlacement = 1
	if[%Direction% = centerz | %Direction% = CenterZ] Set WinPlacement = 2
	if[%WinPlacement% = 1] Set FillerDirection = false
	if[%WinPlacement% = 2] Set FillerDirection = true

	#Filler Walls
	if[%Direction% = front | %Direction% = Front] WallOrientation = Left
	if[%Direction% = left | %Direction% = Left] WallOrientation = Left
	if[%Direction% = right | %Direction% = Right] WallOrientation = Right
	if[%Direction% = back | %Direction% = Back] WallOrientation = Right
	if[%Direction% = centerx | %Direction% = CenterX | %Direction% = centerz | %Direction% = CenterZ] WallOrientation = Center

	AddFillerWalls %FillerWallTexture%, %FillerDepth%, %PositionX%, %PositionZ%, %Width%, %Height%, %Offset% + %interfloorheight%, %FillerDirection%, 0, 0, true

	#Filler Floor
	DrawWalls = false, true, false, false, false, false
	if[%Direction% = front | %Direction% = Front] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ% + %FillerDepth%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = left | %Direction% = Left] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX% + %FillerDepth%, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = right | %Direction% = Right] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - %FillerDepth%, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = back | %Direction% = Back] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ% - %FillerDepth%, %PositionX% + (%Width% / 2), %PositionZ%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	if[%Direction% = centerx | %Direction% = CenterX] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - %FillerDepth2%, %PositionZ% - (%Width% / 2), %PositionX% + %FillerDepth2%, %PositionZ% + (%Width% / 2), %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true
	if[%Direction% = centerz | %Direction% = CenterZ] AddFloor (%Name%)_FillerFloor, %FillerWallTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ% - %FillerDepth2%, %PositionX% + (%Width% / 2), %PositionZ% + %FillerDepth2%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, 0, 0, true

	#Windows
	DrawWalls = true, true, false, false, false, false
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, Windows_Blank, Windows_Blank, Windows_Blank, Windows_Blank
	if[%WinPlacement% = 1] AddWall %Name%, %MainPositiveTexture%, 0, %PositionX%, %PositionZ% - (%Width% / 2), %PositionX%, %PositionZ% + (%Width% / 2), %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
	TextureOverride %MainNegativeTexture%, %MainPositiveTexture%, Windows_Blank, Windows_Blank, Windows_Blank, Windows_Blank
	if[%WinPlacement% = 2] AddWall %Name%, %MainPositiveTexture%, 0, %PositionX% - (%Width% / 2), %PositionZ%, %PositionX% + (%Width% / 2), %PositionZ%, %Height%, %Height%, %Offset% + %interfloorheight%, %Offset% + %interfloorheight%, %TitleX%, %TitleZ%, true
<EndFunction>

########################################

#Shaft function (Elevator shafts)
<Function CreateShaft>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set MROffset = %param8% #Machine Room Offset
	Set SHWallTex = %param9% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, %SHWallTex%, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

<Function CreateShaft_Office>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set MROffset = %param8% #Machine Room Offset
	Set SHWallTex = %param9% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, %SHWallTex%, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	Set ShaftWallHeight = %fullheight%
	if[%floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set ShaftWallHeight = %fullheight% + Floor(%floor% + 1).FullHeight

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5 & %floor% ! 7 & %floor% ! 9] AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

<Function CreateShaft_Service>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set 2ndHighestFloor = %param7% - 1 #2nd Highest Floor
	Set MROffset = %param8% #Machine Room Offset
	Set SHWallTex = %param9% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, %SHWallTex%, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls (Pit walls and and walls on SB)
	Set ShaftWallHeight = %fullheight%
	if[%floor% = -4] Set ShaftWallHeight = %fullheight% + Floor(-3).FullHeight

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% < -2 & %floor% ! -3] AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	if[%floor% < -2 & %floor% ! -3] AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% < -2 & %floor% ! -3] AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0

	#This wall is created on all floors.
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>

<Floors -2 to %2ndHighestFloor%>
	#Sets to determine odd/even floors
	Set Mod = mod(%floor%, 2)

	Set ShaftWallHeight = %fullheight%
	if[%floor% = -3] Set ShaftWallHeight = %fullheight%
	if[%Mod% = 0] Set ShaftWallHeight = %fullheight% + Floor(%floor% + 1).FullHeight

	#Shaft Walls (B2 and up)
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	if[%floor% > -3 & %Mod% ! 1] AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	if[%floor% > -3 & %Mod% ! 1] AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	WallOrientation = right
	if[%floor% > -3 & %Mod% ! 1] AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	#AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

<Function CreateShaft_Parking>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set MROffset = %param8% #Machine Room Offset
	Set SHWallTex = %param9% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% - 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%MRBase, %SHWallTex%, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %MROffset%, %MROffset%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	Set ShaftWallHeight = %fullheight%
	if[%floor% = -3] Set ShaftWallHeight = %fullheight% + Floor(%floor% + 1).FullHeight + Floor(%floor% + 2).FullHeight
	if[%floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] Set ShaftWallHeight = %fullheight% + Floor(%floor% + 1).FullHeight

	#Shaft Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	if[%floor% = -3 | %floor% = 0 | %floor% = 2 | %floor% = 4 | %floor% = 6 | %floor% = 8] AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	if[%floor% > 9] AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

#Shaft function (MRL elevator shafts)
<Function CreateShaftMRL>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set TopHeight = %param8% #Top Height
	Set SHWallTex = %param9% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %TopHeight%, %TopHeight%, 0, 0

	#Shaft Walls
	if[%floor% ! %HighestFloor%] Set ShaftWallHeight = %fullheight%
	if[%floor% = %HighestFloor%] Set ShaftWallHeight = %TopHeight%

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	WallOrientation = right
	AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
	AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %ShaftWallHeight%, %ShaftWallHeight%, 0, 0, 0, 0
<EndFloors>
<EndFunction>

#Shaft function (Utility shafts)
<Function CreateShaft2>
	Set 8 = %param2% #Center X
	Set 9 = %param3% #Center Z
	Set 10 = %param4% #Cut X
	Set 11 = %param5% #Cut Z
	Set 12 = %param1% #Shaft Number
	Set LowestFloor = %param6% #Lowest Floor
	Set HighestFloor = %param7% #Highest Floor
	Set SHWallTex = %param8% #Wall Texture

	AddShaft %12%, %8%, %9%, %LowestFloor%, %HighestFloor%
	ShaftCut %12%, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, 0, 5

<Floors %LowestFloor% to %HighestFloor%>
	#Shaft Floor
	FloorOrientation = bottom
	DrawWalls = false, true, false, false, false, false
	if[%floor% = %LowestFloor%] AddShaftFloor %12%, Shaft%12%Base, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, 0, 0, 0, 0

	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% > %LowestFloor%] AddShaftFloor %12%, Shaft%12%UtilityBase, %SHWallTex%, 0.5, -%10% + 0.33, -%11% + 0.33, %10% - 0.33, %11% - 0.33, %interfloorheight%, %interfloorheight%, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%floor% = %HighestFloor%] AddShaftFloor %12%, Shaft%12%Top, %SHWallTex%, 0.5, -%10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0

	#Shaft Walls
	#WallOrientation = left
	#DrawWalls = true, true, false, false, false, false
	#AddShaftWall %12%, Shaft%12%Front, %SHWallTex%, 0.33, -%10%, -%11%, %10%, -%11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	#AddShaftWall %12%, Shaft%12%Left, %SHWallTex%, 0.33, -%10%, -%11%, -%10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	#WallOrientation = right
	#AddShaftWall %12%, Shaft%12%Right, %SHWallTex%, 0.33, %10%, -%11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0
	#AddShaftWall %12%, Shaft%12%Back, %SHWallTex%, 0.33, -%10%, %11%, %10%, %11%, %fullheight%, %fullheight%, 0, 0, 0, 0

	CreateWallBox2 Shaft %12%, Shaft%12%IntWall, %SHWallTex%, 0, 0, (%10% * 2) - 0.66, (%11% * 2) - 0.66, %fullheight%, 0, 0, 0, true, true, false, false
<EndFloors>
<EndFunction>

########################################

#Elevator interior function
<Function ElevInterior>
	Set FloorTex = %param1%
	Set CeilingTex = %param2%
	Set WallTex_X = %param3%
	Set WallTex_Z = %param4%
	Set WidthX = %param5%
	Set LengthZ = %param6%
	Set Direction = %param7%
	Set ElevHeight = %param8%

	Set ElevWidth = %WidthX% / 2
	Set ElevLength = %LengthZ% / 2

	Set ExtTex = ElevExt
	if[%elevator% > 20] Set ExtTex = ElevExt2

	#Floor
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride %ExtTex%, %FloorTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	AddFloor Floor, %FloorTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, 0, 0, 0, 0

	#Ceiling
	FloorOrientation = bottom
	TextureOverride %CeilingTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	AddFloor Ceiling, %CeilingTex%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0

	#Walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %ExtTex%, %WallTex_Z%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	if[%Direction% ! Front & %Direction% ! front] AddWall Front, %WallTex_Z%, 0.2, -%ElevWidth%, -%ElevLength%, %ElevWidth%, -%ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride %ExtTex%, %WallTex_X%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	if[%Direction% ! Left & %Direction% ! left & %elevator% < 21] AddWall Left, %WallTex_X%, 0.2, -%ElevWidth%, -%ElevLength%, -%ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	WallOrientation = right
	TextureOverride %WallTex_X%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	if[%Direction% ! Right & %Direction% ! right] AddWall Right, %WallTex_X%, 0.2, %ElevWidth%, -%ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
	TextureOverride %WallTex_Z%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%, %ExtTex%
	if[%Direction% ! Back & %Direction% ! back] AddWall Back, %WallTex_Z%, 0.2, -%ElevWidth%, %ElevLength%, %ElevWidth%, %ElevLength%, %ElevHeight%, %ElevHeight%, 0, 0, 0, 0
<EndFunction>

########################################

#Door track and top filler functions
<Function AddDoorTrack>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set Texture = %param7% #Door Track Texture

	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, %Texture%, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Track, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight%, %interfloorheight%, 0, 0
<EndFunction>

<Function AddTopFiller>
	Set ElevNo = %param1% #Elevator Number
	Set ShaftNo = %param2% #Shaft Number
	Set X1 = %param3% #Door Track Position X1
	Set X2 = %param4% #Door Track Position X2
	Set Z1 = %param5% #Door Track Position Z1
	Set Z2 = %param6% #Door Track Position Z2
	Set DoorHeight = %param7% #Door Height
	Set Texture = %param8% #Top Filler Texture

	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Texture%, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddShaftFloor %ShaftNo%, Elev(%ElevNo%)_Filler, %Texture%, 0.05, %X1%, %Z1%, %X2%, %Z2%, %interfloorheight% + %DoorHeight%, %interfloorheight% + %DoorHeight%, 0, 0
<EndFunction>

##--------------------------------------------------------------------------------##

#Exterior & interior
#Underground levels
<Floors -3 to -1>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% ! -2] AddFloor Floor, %5%, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false
	if[%floor% = -2] AddFloor ShopFloor1, %5%, 0.5, -%1%, -%2%, -15, %2%, 0, 0, 0, 0, false
	if[%floor% = -2] AddFloor ShopFloor2, %5%, 0.5, -15, 75, 15, %2%, 0, 0, 0, 0, false
	if[%floor% = -2] AddFloor FCFloor1, FoodCourtFloor, 0.5, -15, -%2%, %1%, 75, 0, 0, 0, 0, false
	if[%floor% = -2] AddFloor FCFloor2, FoodCourtFloor, 0.5, 15, 75, %1%, %2%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor Ceiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	#Perimeter walls
	Set WallHeight = %height%
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = false, true, false, false, false, false
	AddWall FrontPerimeter, %6%, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPerimeter1, %6%, 0.5, -%1%, -%2%, -%1%, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LeftPerimeter2, %6%, 0.5, -%1%, 75, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = Right
	DrawWalls = true, false, false, false, false, false
	AddWall RightPerimeter, %6%, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall BackPerimeter, %6%, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Divider walls for shops
	WallOrientation = center
	DrawWalls = true, true, true, false, false, false
	if[%floor% = -1] AddWall EastShopDiv1, %6%, 1, 40 - 5, 80, %1%, 80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = -1] AddWall EastShopDiv2, %6%, 1, 40 - 5, 40, %1%, 40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = -1] AddWall EastShopDiv3, %6%, 1, 40 - 5, 0, %1%, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = -1] AddWall EastShopDiv4, %6%, 1, 40 - 5, -40, %1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = -1] AddWall EastShopDiv5, %6%, 1, 40 - 5, -80, %1%, -80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#AddWall WestShopDiv1, %6%, 1, -%1%, 80, -40, 80, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#if[%floor% = -1] AddWall WestShopDiv2, %6%, 1, -%1%, 40, -40, 40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#AddWall WestShopDiv3, %6%, 1, -%1%, 0, -40, 0, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#if[%floor% = -1] AddWall WestShopDiv4, %6%, 1, -%1%, -40, -40, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#DrawWalls = true, true, false, true, false, false
	#if[%floor% = -2] AddWall WestShopDiv3A, %6%, 1, -%1%, -30, -40, -30, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	#if[%floor% = -2] AddWall WestShopDiv5, %6%, 1, -%1%, -85, -40, -85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

<Floor -2>
	#Food court
	WallTex() #Set wall texture
	
	#Food court walls
	Set WallHeight = %height%
	Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall FCWall1, %6%, 0.5, -15, -%2%, -15, -85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall FCWall2, %6%, 0.5, -15, -75, -15, -15.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall FCWall3, %6%, 0.5, -15, 37.5, -15, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = Right
	AddWall FCWall4, %6%, 0.5, 15, 85, 15, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Food court doors
	Set Texture = EntranceDoor

		#Access point 1
		Set MainZ = -102.5
		WallOrientation = left
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -15, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -15, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6%, 0.5, -15, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Windows3(FCEnt1_WinTop, -15, %MainZ%, left, 7, %height% - 8.5, 8.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(FCEnt1_WinSide1, -15, %MainZ% - 3.5 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
		Windows3(FCEnt1_WinSide2, -15, %MainZ% + 3.5 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)

		#Access point 2
		Set MainZ = -60
		WallOrientation = left
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -15, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -15, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6%, 0.5, -15, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Windows3(FCEnt2_WinTop, -15, %MainZ%, left, 7, %height% - 8.5, 8.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(FCEnt2_WinSide1, -15, %MainZ% - 3.5 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
		#Windows3(FCEnt2_WinSide2, -15, %MainZ% + 3.5 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)

			#Windows between entrances 2 and 3
			Windows3(FCEnt2-3_WinMid, -15, -45, left, 22.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 5/4, 1)

		#Access point 3
		Set MainZ = -30
		WallOrientation = left
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -15, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -15, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6%, 0.5, -15, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Windows3(FCEnt3_WinTop, -15, %MainZ%, left, 7, %height% - 8.5, 8.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		#Windows3(FCEnt3_WinSide1, -15, %MainZ% - 3.5 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
		Windows3(FCEnt3_WinSide2, -15, %MainZ% + 3.5 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)

		#Access point 4
		Set MainZ = 60
		WallOrientation = left
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -15, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -15, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6%, 0.5, -15, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Windows3(FCEnt2_WinTop, -15, %MainZ%, left, 7, %height% - 8.5, 8.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(FCEnt2_WinSide1, -15, %MainZ% - 3.5 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
		Windows3(FCEnt2_WinSide2, -15, %MainZ% + 3.5 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)

		#Access point 5
		Set MainZ = 102.5
		WallOrientation = left
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, 14.5, %MainZ% + 1.75, 3.5, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, 14.5, %MainZ% - 1.75, 3.5, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6%, 0.5, 14.5, %MainZ%, 7, 8, %interfloorheight%, false, 0, 0, true

		Windows3(FCEnt2_WinTop, 14.5, %MainZ%, left, 7, %height% - 8.5, 8.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(FCEnt2_WinSide1, 14.5, %MainZ% - 3.5 - 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
		Windows3(FCEnt2_WinSide2, 14.5, %MainZ% + 3.5 + 4.25, left, 8, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsIntB, %6%, 0.5, 2/4, 1)
<EndFloor>

#Lobby
<Floors 0 to 1>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor LobbyFloor, %5%, 0.5, -%1%, -%2%, 15, %2%, 0, 0, 0, 0, false
	AddFloor PGFloor, Road, 0.5, 15, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Carpeted walkways on level G
		if[%floor% = 0] AddFloor Carpetway_West1, LobbyCarpet1, 0.5, -%1%, -20 - 9, -40 + 5, -20 + 9, 0.001, 0.001, 0, 0, false
		if[%floor% = 0] AddFloor Carpetway_West2, LobbyCarpet1, 0.5, -%1%, 20 - 9, -40 + 5, 20 + 9, 0.001, 0.001, 0, 0, false
		#if[%floor% = 0] AddFloor Carpetway_West, LobbyCarpet1, 0.5, -%1%, -20 - 9, -40 + 5, 20 + 9, 0.001, 0.001, 0, 0, false
		if[%floor% = 0] AddFloor Carpetway_Main, LobbyCarpet2, 0.5, -40 + 5, -65 + 1.5, -15 - 5, 65 - 1.5, 0.001, 0.001, 0, 0, false
		if[%floor% = 0] AddFloor Carpetway_ElevBank1, LobbyCarpet2, 0.5, -15 - 5, 55 + 1.5, 14.5, 65 - 1.5, 0.001, 0.001, 0, 0, false
		if[%floor% = 0] AddFloor Carpetway_ElevBank2, LobbyCarpet2, 0.5, -15 - 5, -65 + 1.5, 14.5, -55 - 1.5, 0.001, 0.001, 0, 0, false
		if[%floor% = 0] AddFloor Carpetway_ElevBank3, LobbyCarpet2, 0.5, -15 - 5, -35 + 1.5, 14.5, -25 - 1.5, 0.001, 0.001, 0, 0, false

		#Executive Parking Lobby Floor
		CutAll 10, %interfloorheight% - 0.1, 102.5, 15, %interfloorheight% + 0.1, %2%, false, true
		CutAll 10, %interfloorheight% - 0.1, -%2%, 15, %interfloorheight% + 0.1, -85 - 8.5, false, true

		FloorOrientation = top
		DrawWalls = false, true, false, false, false, false
		AddFloor ExecParkingLobbyNorth, ExecutiveLobbyFloor, 0.5, 10, 102.5, 15, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true
		AddFloor ExecParkingLobbySouth, ExecutiveLobbyFloor2, 0.5, 10, -%2%, 15, -85 - 8.5, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceilings
	Set OffsetFromWalls = 0.5
	if[%floor% = 0] Set OffsetFromWalls = 0

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor LobbyCeiling, %7%, 0.5, -%1% + %OffsetFromWalls%, -%2% + %OffsetFromWalls%, 15, %2% - %OffsetFromWalls%, %height%, %height%, 0, 0, false
	AddFloor PGCeiling, ParkingCeiling, 0.5, 15, -%2%, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true

	#Cuts for double volume lobby
	Set WestEnd = -40 - 15

	if[%floor% = 1] CutAll %WestEnd%, %interfloorheight% - 0.1, -75, -15, %interfloorheight% + 0.1, 27, false, true
	if[%floor% = 1] CutAll %WestEnd%, %interfloorheight% - 0.1, 37, -15, %interfloorheight% + 0.1, 75 + 0.5, false, true
	if[%floor% = 1] CutAll -15, %interfloorheight% - 0.1, -75, 15, %interfloorheight% + 0.1, 15, false, true
	if[%floor% = 1] CutAll -15, %interfloorheight% - 0.1, 45, 15, %interfloorheight% + 0.1, 75, false, true

	if[%floor% = 0] CutAll %WestEnd%, %fullheight% - 0.1, -75, -15, %fullheight% + 0.1, 27, false, true
	if[%floor% = 0] CutAll %WestEnd%, %fullheight% - 0.1, 37, -15, %fullheight% + 0.1, 75, false, true
	if[%floor% = 0] CutAll -15, %fullheight% - 0.1, -75, 15, %fullheight% + 0.1, 15, false, true
	if[%floor% = 0] CutAll -15, %fullheight% - 0.1, 45, 15, %fullheight% + 0.1, 75, false, true

	#Lobby railings
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 1] AddWall NorthOpening_Front, %6%, 0.5, %WestEnd%, 37, -15, 37, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = 1] AddWall NorthOpening_Left, %6%, 0.5, %WestEnd%, 37 - 0.5, %WestEnd%, 75 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% = 1] AddWall NorthOpening_Back, %6%, 0.5, %WestEnd% + 8, 75, -15, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 1] AddWall SouthOpening_Front, %6%, 0.5, %WestEnd% + 8, -75, -15, -75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = 1] AddWall SouthOpening_Left, %6%, 0.5, %WestEnd%, -75 - 0.5, %WestEnd%, 27 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	if[%floor% = 1] AddWall SouthOpening_Back, %6%, 0.5, %WestEnd%, 27, -15, 27, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Railings at parking ramps
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 0] DrawWalls = true, true, true, true, true, false
	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	if[%floor% = 1] AddWall PRampBack_FrontRail, ExtFacade, 0.5, 15, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	#if[%floor% = 0] AddWall PRampBack_FrontRail, ExtFacade, 0.5, 15 + 25, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PRampBack_RightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	if[%floor% = 1] AddWall PRampBack_BackRail, ExtFacade, 0.5, 15, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Windows
	Set IFloorType = 2
	if[%floor% = 0] Set IFloorType = 3

	SetAutoSize = true, false
	AddCustomWin2(FrontWin1, MainWindows, MainWindowsInt, -%1%, -%2%, -15 - 5, -%2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(FrontWin2, MainWindows, MainWindowsInt, -15 + 5, -%2%, 15 - 5, -%2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)

	AddCustomWin2(LeftWin1, MainWindows, MainWindowsInt, -%1%, -%2%, -%1%, 45, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(LeftWin2, MainWindows, MainWindowsInt, -%1%, 75, -%1%, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)

	AddCustomWin2(BackWin1, MainWindowsInt, MainWindows, -%1%, %2%, -15 - 5, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(BackWin2, MainWindowsInt, MainWindows, -15 + 5, %2%, 15 - 5, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	SetAutoSize = true, true

	#Cuts for north, south, and west perimeter walls
	if[%floor% = 0] CutAll -55, %interfloorheight%, %2% - 0.5, -45, %fullheight%, %2% + 0.5, true, false #North
	if[%floor% = 0] CutAll -55, %interfloorheight%, -%2% - 0.5, -45, %fullheight%, -%2% + 0.5, true, false #South
	if[%floor% = 0] CutAll -%1% - 0.5, %interfloorheight%, -95, -%1% + 0.5, %fullheight%, -85, true, false #South
	if[%floor% = 0] CutAll -%1% - 0.5, %interfloorheight%, -40, -%1% + 0.5, %fullheight%, 40, true, false #South
	if[%floor% = 0] CutAll -%1% - 0.5, %interfloorheight%, 85, -%1% + 0.5, %fullheight%, 95, true, false #South

	#Perimeter walls
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0
		if[%floor% = 0] Set WallHeight = %height%
		if[%floor% = 0] Set WallOffset = %interfloorheight%

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade3, %6%, %6%, %6%, %6%, %6%
		if[%floor% = 0] AddWall GroundLobby-FrontWall1A, ExtFacade, 0.5, -55, -%2%, -45, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall GroundLobby-FrontWall1, ExtFacade, 0.5, -15 - 5, -%2%, -15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, false, true, false, false
		TextureOverride ExtFacade, %6EX%, %6%, %6EX%, %6%, %6%
		AddWall GroundLobby-FrontWall2, ExtFacade, 0.5, 15 - 5, -%2%, 15, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Left walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade3, %6%, %6%, %6%, %6%, %6%
		if[%floor% = 0] AddWall GroundLobby-LeftWall1, ExtFacade, 0.5, -%1%, -95, -%1%, -85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade3, %6%, %6%, %6%, %6%, %6%
		if[%floor% = 0] AddWall GroundLobby-LeftWall2, ExtFacade, 0.5, -%1%, -40, -%1%, 40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade3, %6%, %6%, %6%, %6%, %6%
		if[%floor% = 0] AddWall GroundLobby-LeftWall3, ExtFacade, 0.5, -%1%, 85, -%1%, 95, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, true, true, false, false
		TextureOverride %6%, ExtFacade3, %6%, %6%, %6%, %6%
		if[%floor% = 0] AddWall GroundLobby-BackWall1A, ExtFacade, 0.5, -55, %2%, -45, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall GroundLobby-BackWall1, ExtFacade, 0.5, -15 - 5, %2%, -15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, true, false, true, false, false
		TextureOverride %6EX%, ExtFacade, %6%, %6EX%, %6%, %6%
		AddWall GroundLobby-BackWall2, ExtFacade, 0.5, 15 - 5, %2%, 15, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 1>
	#Restrooms on G and 2
	DrawWalls = true, true, false, false, false, false
	WallTex() #Set wall texture

	#Restroom walls
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall NorthRestroomLeft, %6%, 0.5, -10, 85, -10, 85 + 17.5, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = center
	AddWall NorthRestroomCenter, %6%, 1, 2.5, 85, 2.5, 85 + 17.5, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	AddWall NorthRestroomBack1, %6%, 0.5, -10, 85 + 17.5, 15 - 5, 85 + 17.5, %height%, %height%, 0, 0, 0, 0, false
	#TextureOverride %6%, %6EX%, Blank, Blank, Blank, Blank
	DrawWalls = true, false, false, false, false, false
	AddWall NorthRestroomBack2, %6%, 0.5, 15 - 5, 85 + 17.5, 15, 85 + 17.5, %height%, %height%, 0, 0, 0, 0, false

		#Extra walls to provide privacy
		#WallOrientation = right
		#DrawWalls = true, true, true, true, false, false
		#AddWall NorthRestroomBack_Extra, %6%, 0.75, -10, 85 + 17.5 + 9, 15, 85 + 17.5 + 9, %height%, %height%, 0, 0, 0, 0, false

	#Restroom ceiling
	Set RestroomHeight = 8.5
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_NorthRestrmCeil, DropCeiling, 0.5, -10, 85, 15, 85 + 17.5, %RestroomHeight%, %RestroomHeight%, 0, 0, false

	#Restroom doors
	Set DTex = Door8
	Set DSTex = %DTex%Side
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddDoor , , false, %DTex%, 0.2, 5, 75, 2.5 - 2.5, 85 + 17.5 - 0.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddDoor , , false, %DTex%, 0.2, 8, 75, 2.5 + 2.5, 85 + 17.5 - 0.5, 3, 7, 0, 0, 0

		AddFillerWalls ConnectionWall, 0.5, 2.5 - 2.5, 85 + 17.5 - 0.5, 3, 7, 0, true, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, 2.5 + 2.5, 85 + 17.5 - 0.5, 3, 7, 0, true, 0, 0, false

	#Signs
		#Sign above doors
		AddBoxSign(NorthRestroom1, BlackTrim, Sign_RestroomM_Gray, BlackTrim, 0.05, true, true, true, 2.5 - 2.5, 85 + 17.5 + 0.025, 1.25, 1.25, 7.25, false)
		AddBoxSign(NorthRestroom2, BlackTrim, Sign_RestroomW_Gray, BlackTrim, 0.05, true, true, true, 2.5 + 2.5, 85 + 17.5 + 0.025, 1.25, 1.25, 7.25, false)
<EndFloors>

<Floor 0>
	WallTex() #Set wall texture

	#Entrance doors
	Set Texture = EntranceDoor

		#### South Doors ###
		#South Auxiliary Entrance
		Set MainX = -50
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 5, 75, %MainX% + 1.5, -%2%, 3, 7.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 8, 75, %MainX% - 1.5, -%2%, 3, 7.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, %MainX%, -%2%, 6, 7.5, %interfloorheight%, true, 0, 0, true

		Windows3(SouthAuxEnt1_WinTop, %MainX%, -%2%, front, 6, %height% - 8, 7.75, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(SouthAuxEnt1_WinSide1, %MainX% - 3 - 1, -%2%, front, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(SouthAuxEnt1_WinSide2, %MainX% + 3 + 1, -%2%, front, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#North Auxiliary Entrance
		Set MainX = -50
		WallOrientation = right
		TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 6, 75, %MainX% + 1.5, %2%, 3, 7.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 7, 75, %MainX% - 1.5, %2%, 3, 7.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, %MainX%, %2%, 6, 7.5, %interfloorheight%, true, 0, 0, true

		Windows3(NorthEnt1_WinTop, %MainX%, %2%, back, 6, %height% - 8, 7.75, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
		Windows3(NorthEnt1_WinSide1, %MainX% - 3 - 1, %2%, back, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)
		Windows3(NorthEnt1_WinSide2, %MainX% + 3 + 1, %2%, back, 1.5, %height% - 0.5, 0.25, MainWindowsIntB, MainWindowsB, %6%, 0.5, 1/4, 1)

		#### West Doors ###
		#West Auxiliary Entrance 1
		Set MainZ = -90
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.5, 3, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.5, 3, 8, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 6, 8, %interfloorheight%, false, 0, 0, true

		Windows3(WestAuxEnt1_WinTop, -%1%, %MainZ%, left, 6, %height% - 8.5, 8.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(WestAuxEnt1_WinSide1, -%1%, %MainZ% - 3 - 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(WestAuxEnt1_WinSide2, -%1%, %MainZ% + 3 + 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#West Auxiliary Entrance 2
		Set MainZ = 90
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.5, 3, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.5, 3, 8, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 6, 8, %interfloorheight%, false, 0, 0, true

		Windows3(WestAuxEnt2_WinTop, -%1%, %MainZ%, left, 6, %height% - 8.5, 8.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(WestAuxEnt2_WinSide1, -%1%, %MainZ% - 3 - 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
		Windows3(WestAuxEnt2_WinSide2, -%1%, %MainZ% + 3 + 1, left, 1.5, %height% - 0.5, 0.25, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#West Main Entrance 1A
		Set MainZ = 28 + 5.5
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 7, 8.5, %interfloorheight%, false, 0, 0, true

		Windows3(WestMainEnt1A_WinTop, -%1%, %MainZ%, left, 7, %height% - 9, 8.75, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#West Main Entrance 1B
		Set MainZ = 12 - 5.5
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 7, 8.5, %interfloorheight%, false, 0, 0, true

		Windows3(WestMainEnt1B_WinTop, -%1%, %MainZ%, left, 7, %height% - 9, 8.75, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#West Main Entrance 2A
		Set MainZ = -12 + 5.5
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 7, 8.5, %interfloorheight%, false, 0, 0, true

		Windows3(WestMainEnt2A_WinTop, -%1%, %MainZ%, left, 7, %height% - 9, 8.75, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)

		#West Main Entrance 2B
		Set MainZ = -28 - 5.5
		WallOrientation = left
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 4, 75, -%1%, %MainZ% + 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		TextureOverride %Texture%Ext, %Texture%Int, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 1, 75, -%1%, %MainZ% - 1.75, 3.5, 8.5, %interfloorheight%, 0, 0
		AddFillerWalls %6%, 0.5, -%1%, %MainZ%, 7, 8.5, %interfloorheight%, false, 0, 0, true

		Windows3(WestMainEnt2B_WinTop, -%1%, %MainZ%, left, 7, %height% - 9, 8.75, MainWindowsB, MainWindowsIntB, %6%, 0.5, 1/4, 1)
<EndFloor>

#Parking levels
<Floors 2 to 9>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor PGFloor, %5%, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Elevator lobby
		CutAll -71 - 0.66, %interfloorheight% - 0.1, 45, -79.5 + 18, %interfloorheight% + 0.1, 75, false, true
		AddFloor PGLobbyFloor, %5P%, 0.5, -71 - 0.66, 45, -79.5 + 18, 75, %interfloorheight%, %interfloorheight%, 0, 0, true

		#Concrete floors inside core area
		CutAll -41 + 18, %interfloorheight% - 0.1, -85, 15, %interfloorheight% + 0.1, 85, false, true
		AddFloor ConcreteFloor, PGConcreteFloor, 0.5, -41 + 18, -85, 15, 85, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Ceilings
	Set PGCLHeight = %fullheight% #Parking lobby ceiling height
	if[%floor% = 9] Set PGCLHeight = %interfloorheight% + 9.5

	Set PGServHeight = %fullheight%
	if[%floor% = 9] Set PGServHeight = %interfloorheight% + 12

	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor PGCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %ParkingHeight%, %ParkingHeight%, 0, 0, true
	AddFloor PGElevCeiling, ParkingLobbyCeiling, 0.5, -71, 45, -79.5 + 18, 75, %PGCLHeight%, %PGCLHeight%, 0, 0, true
	AddFloor PGServElevCeiling, ParkingLobbyCeiling2, 0.5, -15, 27, 15, 45, %PGServHeight%, %PGServHeight%, 0, 0, true

	#Elevator lobby wall
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 2] Set WallHeight = %height%
	if[%floor% = 2] Set WallOffset = %interfloorheight%
	if[%floor% = 9] Set WallHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)
	if[%floor% = 9] Set WallOffset = 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %6%, %6P%, Blank, Blank, Blank, Blank
	AddWall ElevLobbyFront, %6A%, 0.5, -71, 45, -79.5 + 18, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = right
	TextureOverride %6P%, %6%, Blank, Blank, Blank, Blank
	AddWall ElevLobbyLeft, %6A%, 0.5, -79.5 + 18, 45, -79.5 + 18, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %6P%, %6%, Blank, Blank, Blank, Blank
	AddWall ElevLobbyBack, %6A%, 0.5, -71, 75, -79.5 + 18, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		Set PGLHeight = %height% #Parking lobby height
		if[%floor% = 9] Set PGLHeight = 9.5
		Set OutWinTex = MainWindowsIntB

		#Windows on walls
		Windows3(PGLby_WinFront, -71 + 4.5, 45, front, 9 - 0.5, %PGLHeight% - 3.75, 3.5, MainWindowsIntB, %OutWinTex%, %6P%, 0.5, 2/4, 1)
		Windows3(PGLby_WinBack, -71 + 4.5, 75, back, 9 - 0.5, %PGLHeight% - 3.75, 3.5, MainWindowsIntB, %OutWinTex%, %6P%, 0.5, 2/4, 1)

		#Doors
		Set DOutTex = EntranceDoorInt

		Set MainZ = 60
		WallOrientation = left
		TextureOverride EntranceDoorInt, %DOutTex%, EntranceDoorSide, EntranceDoorSide, EntranceDoorSide, EntranceDoorSide
		AddExternalDoor , , false, EntranceDoorInt, 0.2, 4, 75, -62, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride EntranceDoorInt, %DOutTex%, EntranceDoorSide, EntranceDoorSide, EntranceDoorSide, EntranceDoorSide
		AddExternalDoor , , false, EntranceDoorInt, 0.2, 1, 75, -62, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0

		AddFillerWalls %6P%, 0.5, -62, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

			#Windows around doors
			Windows3(ParkingLobby_WinTop, -61.5, %MainZ%, right, 6, %PGLHeight% - 7.5, 7.25, MainWindowsIntB, %OutWinTex%, %6P%, 0.5, 1/4, 1)
			Windows3(ParkingLobby_WinSide1, -61.5, %MainZ% - 3 - 5.75, right, 11, %PGLHeight% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, %6P%, 0.5, 3/4, 1)
			Windows3(ParkingLobby_WinSide2, -61.5, %MainZ% + 3 + 5.75, right, 11, %PGLHeight% - 0.5, 0.25, MainWindowsIntB, %OutWinTex%, %6P%, 0.5, 3/4, 1)

	#Railings
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0
	if[%floor% = 9] Set WallHeight = %interfloorheight% + 5.5
	if[%floor% = 9] Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, true

	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGFrontRail1, ExtFacade, 0.5, -%1% + 0.5, -%2%, -15 - 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	#AddWall PGFrontRail2, ExtFacade, 0.5, -15 + 5, -%2%, 15 - 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGFrontRail3, ExtFacade, 0.5, 15 + 5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	#AddWall PGLeftRail, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGLeftRail1, ExtFacade, 0.5, -%1%, -%2%, -%1%, -40, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2
	#AddWall PGLeftRail2A, ExtFacade, 0.5, -%1%, 40, -%1%, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGLeftRail2B, ExtFacade, 0.5, -%1%, 75, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGRightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGBackRail1, ExtFacade, 0.5, -%1% + 0.5, %2%, -15 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	#TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	#AddWall PGBackRail2, ExtFacade, 0.5, -15 + 5, %2%, 15 - 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall PGBackRail3, ExtFacade, 0.5, 15 + 5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Perimeter walls
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0
		if[%floor% = 9] Set WallHeight = %fullheight% - 5.5
		if[%floor% = 9] Set WallOffset = 0

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, true
		TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
		AddWall PGFrontWall1, ExtFacade, 0.5, -15 - 5, -%2%, 15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		#AddWall PGFrontWall1, ExtFacade, 0.5, -15 - 5, -%2%, -15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		#TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
		#AddWall PGFrontWall2, ExtFacade, 0.5, 15 - 5, -%2%, 15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Left walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, true
		TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
		AddWall PGLeftWall, ExtFacade, 0.5, -%1%, -40, -%1%, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		if[%floor% ! 2] Set WallHeight-Alt = %WallHeight%
		if[%floor% ! 2] Set WallOffset-Alt = %WallOffset%
		if[%floor% = 2] Set WallHeight-Alt = %WallHeight% - 5
		if[%floor% = 2] Set WallOffset-Alt = %WallOffset% + 5
		DrawWalls = true, false, true, true, true, true
		AddWall PGLeftWall_Extra, ExtFacade2, 0.5, -%1% - 0.5, -40 + 10, -%1% - 0.5, 45 - 10, %WallHeight-Alt%, %WallHeight-Alt%, %WallOffset-Alt%, %WallOffset-Alt%, 0, 0, true

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, true, true, false, true
		TextureOverride ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
		AddWall PGBackWall1, ExtFacade, 0.5, -15 - 5, %2%, 15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		#AddWall PGBackWall1, ExtFacade, 0.5, -15 - 5, %2%, -15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		#TextureOverride ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2, ExtFacade2
		#AddWall PGBackWall2, ExtFacade, 0.5, 15 - 5, %2%, 15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		
	#Utility rooms
	DrawWalls = true, true, false, false, false, false
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 9] Set WallHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5) #Parking/office transition
	if[%floor% = 9] Set WallOffset = 0

		WallOrientation = left
		AddWall NorthUtilLeft, %6%, 0.5, -15, 55, -15, 65, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall South1UtilLeft, %6%, 0.5, -15, -35, -15, -25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		AddWall South2UtilLeft, %6%, 0.5, -15, -65, -15, -55, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Utility room doors
		Set Texture = ServiceDoor3

		Set MainZ = 60 #North
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 1, 75, -15, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 4, 75, -15, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -15, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		Set MainZ = -30 #South 1
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 1, 75, -15, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 4, 75, -15, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -15, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

		Set MainZ = -60 #South 2
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 1, 75, -15, %MainZ% - 1.5, 3, 7, %interfloorheight%, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%, 0.2, 4, 75, -15, %MainZ% + 1.5, 3, 7, %interfloorheight%, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -15, %MainZ%, 6, 7, %interfloorheight%, false, 0, 0, true

	#Road markings
	DrawWalls = false, true, false, false, false, false
	Set Offset = %interfloorheight% + 0.001

		#Parking spaces
			#North
			AddFloor N-Parking1, ParkingSpaceZ, 0, -60, 119.5 - 16.5, -60 + (8.5 * 2), 119.5, %Offset%, %Offset%, 2, 1, true
			AddFloor N-Parking2, ParkingSpaceZ, 0, -20 - (8.5 * 2), 119.5 - 16.5, -20 + (8.5 * 2), 119.5, %Offset%, %Offset%, 4, 1, true
			AddFloor N-Parking3, ParkingSpaceZ, 0, 20 - (8.5 * 2), 119.5 - 16.5, 20 + (8.5 * 2), 119.5, %Offset%, %Offset%, 4, 1, true
			AddFloor N-Parking4, ParkingSpaceZ, 0, 60 - (8.5 * 2), 119.5 - 16.5, 60 + (8.5 * 2), 119.5, %Offset%, %Offset%, 4, 1, true

			#South
			AddFloor S-Parking1, ParkingSpaceZ, 0, -60, -119.5, -60 + (8.5 * 2), -119.5 + 16.5, %Offset%, %Offset%, 2, -1, true
			AddFloor S-Parking2, ParkingSpaceZ, 0, -20 - (8.5 * 2), -119.5, -20 + (8.5 * 2), -119.5 + 16.5, %Offset%, %Offset%, 4, -1, true
			AddFloor S-Parking3, ParkingSpaceZ, 0, 20 - (8.5 * 2), -119.5, 20 + (8.5 * 2), -119.5 + 16.5, %Offset%, %Offset%, 4, -1, true
			AddFloor S-Parking4, ParkingSpaceZ, 0, 60 - (8.5 * 2), -119.5, 60 + (8.5 * 2), -119.5 + 16.5, %Offset%, %Offset%, 4, -1, true

			#West, Row 1
			AddFloor W1-Parking1, ParkingSpaceX, 0, -79.5, -100, -79.5 + 18, -100 + (8.5 * 2), %Offset%, %Offset%, -1, 2, true
			AddFloor W1-Parking2, ParkingSpaceX, 0, -79.5, -60 - (8.5 * 2), -79.5 + 18, -60 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor W1-Parking3, ParkingSpaceX, 0, -79.5, -20 - (8.5 * 2), -79.5 + 18, -20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor W1-Parking4, ParkingSpaceX, 0, -79.5, 20 - (8.5 * 2), -79.5 + 18, 20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor W1-Parking5, ParkingSpaceX, 0, -79.5, 100 - (8.5 * 2), -79.5 + 18, 100, %Offset%, %Offset%, -1, 2, true
	
			#West, Row 2
			AddFloor W2-Spacer1, NoParkingX, 0, -41, -85, -41 + 18, -60 - (8.5 * 2), %Offset%, %Offset%, 1, 1, true
			AddFloor W2-Parking1, ParkingSpaceX, 0, -41, -60 - (8.5 * 2), -41 + 18, -60 + (8.5 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor W2-Parking2, ParkingSpaceX, 0, -41, -20 - (8.5 * 2), -41 + 18, -20 + (8.5 * 2), %Offset%, %Offset%, 1, 4, true
			#AddFloor W2-Parking3, ParkingSpaceX, 0, -41, 20 - (8.5 * 2), -41 + 18, 20 + (8.5 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor W2-Spacer2, NoParkingX, 0, -41, 20 + (8.5 * 1), -41 + 18, 60 - (8.5 * 2), %Offset%, %Offset%, 1, 2, true
			AddFloor W2-Parking3, ParkingSpaceX, 0, -41, 20 - (8.5 * 2), -41 + 18, 20 + (8.5 * 1), %Offset%, %Offset%, 1, 3, true
			AddFloor W2-Parking4, ParkingSpaceX, 0, -41, 60 - (8.5 * 2), -41 + 18, 60 + (8.5 * 2), %Offset%, %Offset%, 1, 4, true
			AddFloor W2-Spacer3, NoParkingX, 0, -41, 60 + (8.5 * 2), -41 + 18, 85, %Offset%, %Offset%, 1, 1, true

			#East
			AddFloor E-Parking1, ParkingSpaceX, 0, 40.5, -60 - (8.5 * 2), 40.5 + 16.5, -60 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor E-Parking2, ParkingSpaceX, 0, 40.5, -20 - (8.5 * 2), 40.5 + 16.5, -20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor E-Parking3, ParkingSpaceX, 0, 40.5, 20 - (8.5 * 2), 40.5 + 16.5, 20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
			AddFloor E-Parking4, ParkingSpaceX, 0, 40.5, 60 - (8.5 * 2), 40.5 + 16.5, 60 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true

			#These spacers are painted for the drivers' safety, due to the position of the pillars around these parking spaces.
			AddFloor E-Spacer1, NoParkingX, 0, 40.5, -85, 40.5 + 16.5, -60 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			#AddFloor E-Spacer2, NoParkingX, 0, 40.5, -60 + (8.5 * 2), 40.5 + 16.5, -40 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor E-Spacer3, NoParkingX, 0, 40.5, -60 + (8.5 * 2), 40.5 + 16.5, -20 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor E-Spacer4, NoParkingX, 0, 40.5, -20 + (8.5 * 2), 40.5 + 16.5, 20 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor E-Spacer5, NoParkingX, 0, 40.5, 20 + (8.5 * 2), 40.5 + 16.5, 60 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor E-Spacer6, NoParkingX, 0, 40.5, 60 + (8.5 * 2), 40.5 + 16.5, 85, %Offset%, %Offset%, -1, 1, true
<EndFloors>

<Floors 0 to 1>
	#Road markings
	DrawWalls = false, true, false, false, false, false
	Set Offset = %interfloorheight% + 0.001

		#Executive parking spaces
		AddFloor ExecutiveParking1, ParkingSpaceX, 0, 40.5, -60 - (8.5 * 2), 40.5 + 16.5, -60 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
		AddFloor ExecutiveParking2, ParkingSpaceX, 0, 40.5, -20 - (8.5 * 2), 40.5 + 16.5, -20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
		AddFloor ExecutiveParking3, ParkingSpaceX, 0, 40.5, 20 - (8.5 * 2), 40.5 + 16.5, 20 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true
		AddFloor ExecutiveParking4, ParkingSpaceX, 0, 40.5, 60 - (8.5 * 2), 40.5 + 16.5, 60 + (8.5 * 2), %Offset%, %Offset%, -1, 4, true

			#These spacers are painted for the drivers' safety, due to the position of the pillars around these parking spaces.
			AddFloor ExecutiveSpacer1, NoParkingX, 0, 40.5, -85, 40.5 + 16.5, -60 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			#AddFloor ExecutiveSpacer2, NoParkingX, 0, 40.5, -60 + (8.5 * 2), 40.5 + 16.5, -40 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor ExecutiveSpacer3, NoParkingX, 0, 40.5, -60 + (8.5 * 2), 40.5 + 16.5, -20 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor ExecutiveSpacer4, NoParkingX, 0, 40.5, -20 + (8.5 * 2), 40.5 + 16.5, 20 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor ExecutiveSpacer5, NoParkingX, 0, 40.5, 20 + (8.5 * 2), 40.5 + 16.5, 60 - (8.5 * 2), %Offset%, %Offset%, -1, 1, true
			AddFloor ExecutiveSpacer6, NoParkingX, 0, 40.5, 60 + (8.5 * 2), 40.5 + 16.5, 85, %Offset%, %Offset%, -1, 1, true
<EndFloors>

<Floor 10>
	#Railings
	Set WallHeight = %interfloorheight% + 5.5
	Set WallOffset = -5.5

	WallOrientation = Left
	DrawWalls = true, true, true, true, false, true

	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall UpperFrontRail, ExtFacade, 0.5, -%1% + 0.5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	TextureOverride ExtFacade, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2, ExtFacade2
	AddWall UpperLeftRail1, ExtFacade, 0.5, -%1%, -%2%, -%1%, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, ExtFacade2, ExtFacade2, ExtFacade, ExtFacade2, ExtFacade2
	AddWall UpperLeftRail2, ExtFacade, 0.5, -%1%, 75, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	WallOrientation = Right
	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall UpperRightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	TextureOverride ExtFacade2, ExtFacade, ExtFacade, ExtFacade, ExtFacade2, ExtFacade2
	AddWall UpperBackRail, ExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

<Floors 0 to 9>
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Parking divider walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%
	if[%floor% = 9] Set WallHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5) #Parking/office transition
	if[%floor% = 9] Set WallOffset = 0

	Set SpecialHeight = %WallHeight%
	Set SpecialOffset = %WallOffset%
	if[%floor% = 1] Set SpecialHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)
	if[%floor% = 1] Set SpecialOffset = 0

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %6EX2%, %6EX%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_South1, %6A%, 0.5, 15 - 5, -%2%, 15 - 5, -85 - 8.5 + 0.5, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true
	TextureOverride %6EX%, %6EX2%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_South2, %6A%, 0.5, 15 - 5, -85 - 8.5, 15, -85 - 8.5, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true
	WallOrientation = right
	TextureOverride %6EX2%, %6A%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_South3, %6A%, 0.5, 15, -85 - 8.5, 15, -85, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true

	WallOrientation = right
	TextureOverride %6%, %6A%, Blank, Blank, Blank, Blank
	if[%floor% = 1 | %floor% = 2] AddWall ParkingDiv_SouthIFloor, %6A%, 0.5, 15, -%2%, 15, -85 - 8.5, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0, true

	WallOrientation = right
	TextureOverride %6%, %6A%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_North1, %6A%, 0.5, 15, 85, 15, 102.5, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true
	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	#TextureOverride %6%, %6EX%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_North2, %6EX%, 0.5, 15 - 5, 102.5, 15, 102.5, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true
	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	TextureOverride %6EX2%, %6EX%, Blank, Blank, Blank, Blank
	if[%floor% < 2] AddWall ParkingDiv_North3, %6A%, 0.5, 15 - 5, 102.5, 15 - 5, %2%, %SpecialHeight%, %SpecialHeight%, %SpecialOffset%, %SpecialOffset%, 0, 0, true

	WallOrientation = right
	TextureOverride %6%, %6A%, Blank, Blank, Blank, Blank
	if[%floor% = 1 | %floor% = 2] AddWall ParkingDiv_NorthIFloor, %6A%, 0.5, 15, 102.5, 15, %2%, %interfloorheight%, %interfloorheight%, 0, 0, 0, 0, true

	WallOrientation = right
	DrawWalls = false, true, false, false, false, false
	AddWall ParkingDiv_Right, %6A%, 0.5, 15, -85, 15, 85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	DrawWalls = true, false, false, false, false, false
	AddWall ParkingDiv_LeftA, %6%, 0.5, 15, 55, 15, 65, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall ParkingDiv_LeftB, %6S%, 0.5, 15, 27, 15, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall ParkingDiv_LeftC, %6%, 0.5, 15, -15, 15, 15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall ParkingDiv_LeftD, %6%, 0.5, 15, -35, 15, -25, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall ParkingDiv_LeftE, %6%, 0.5, 15, -65, 15, -55, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 1>
	#Entrance from Executive Parking
	WallTex() #Set wall texture
	Set Texture = AltEntranceDoor

		#Entrance 1 (North)
		Set MainZ = 111
		WallOrientation = right
		TextureOverride %Texture%Int, %Texture%Ext_Key, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 3, 75, 10.5, %MainZ% + 1.5, 3, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 2, 75, 10.5, %MainZ% - 1.5, 3, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6EX2%, 0.5, 10.5, %MainZ%, 6, 8, %interfloorheight%, false, 0, 0, true

		Windows3(ExecParking1_WinTop, 10.5, %MainZ%, right, 6, %height% - 8.5, 8.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)
		Windows3(ExecParking1_WinSide1, 10.5, %MainZ% - 3 - 1.75, right, 3, %height% - 0.5, 0.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)
		Windows3(ExecParking1_WinSide2, 10.5, %MainZ% + 3 + 1.75, right, 3, %height% - 0.5, 0.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)

		#Entrance 2 (South)
		Set MainZ = -106.5
		WallOrientation = right
		TextureOverride %Texture%Int, %Texture%Ext_Key, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 3, 75, 10.5, %MainZ% + 1.5, 3, 8, %interfloorheight%, 0, 0
		TextureOverride %Texture%Int, %Texture%Ext, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddExternalDoor , , false, %Texture%Int, 0.2, 2, 75, 10.5, %MainZ% - 1.5, 3, 8, %interfloorheight%, 0, 0

		AddFillerWalls %6EX2%, 0.5, 10.5, %MainZ%, 6, 8, %interfloorheight%, false, 0, 0, true

		Windows3(ExecParking2_WinTop, 10.5, %MainZ%, right, 6, %height% - 8.5, 8.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)
		Windows3(ExecParking2_WinSide1, 10.5, %MainZ% - 3 - 1.75, right, 3, %height% - 0.5, 0.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)
		Windows3(ExecParking2_WinSide2, 10.5, %MainZ% + 3 + 1.75, right, 3, %height% - 0.5, 0.25, AltWindowsIntB, AltWindowsB, %6EX2%, 0.5, 1/4, 1)
<EndFloors>

########################################

#Parking Ramp Cuts
Cut External, 15, Floor(0).Base + 1, -85, 15 + 25, Floor(9).Base + 1, 85, false, true

	#Auto area for ramp
	AddFloorAutoArea 15, Floor(0).Base, -85, 15 + 25, Floor(9).Base + 5, 85

<Floors 0 to 9>
	FloorTex() #Set floor Texture
	Set 6 = ParkingWall #Override
	CeilingTex() #Ceiling Texture

	#Parking Ramps
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	TextureOverride ParkingCeiling, Road, Blank, %6%, Blank, Blank
	if[%floor% < 9] AddFloor Ramp1, %5%, 0.5, 15, -85, 15 + 12.5, 85, %interfloorheight%, %fullheight% + Floor(%floor% + 1).InterfloorHeight, false, false, 0, 0, true
	TextureOverride ParkingCeiling, Road, Blank, %6%, Blank, Blank
	if[%floor% < 9] AddFloor Ramp2, %5%, 0.5, 15 + 12.5, -85, 15 + 25, 85, %fullheight% + Floor(%floor% + 1).InterfloorHeight, %interfloorheight%, false, false, 0, 0, true

	#Railings
	WallTex() #Set wall texture for railings
	WallOrientation = left
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = 0
	Set WallOffset2 = %fullheight%

		DrawWalls = true, true, true, true, true, true
		if[%floor% > 0] AddWall PRampRail_North, %6B%, 0.5, 15 + 25, -85, 15 + 25, 85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		if[%floor% < 9] AddWall PRampRail_Inner1, %6B%, 0.5, 15 + 12.5, -85, 15 + 12.5, 85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset2%, 0, 0, true
		if[%floor% < 9] AddWall PRampRail_Inner2, %6B%, 0.5, 15 + 25, -85, 15 + 25, 85, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
		WallOrientation = left
		if[%floor% < 9] AddWall PRampRail_Inner3, %6B%, 0.5, 15 + 12.5, -85, 15 + 12.5, 85, %WallHeight%, %WallHeight%, %WallOffset2%, %WallOffset%, 0, 0, true
		WallOrientation = left
		if[%floor% = 9] AddWall PRampRail_East, %6B%, 0.5, 15, -85, 15 + 12.5, -85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		WallOrientation = right
		if[%floor% = 9] AddWall PRampRail_West, %6B%, 0.5, 15 + 12.5, 85, 15 + 25, 85, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

########################################

#Tower levels
<Floors 10 to 44>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Floor, %5%, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor Ceiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	#Windows
	Set IFloorType = 2
	if[%floor% = 10] Set IFloorType = 3

	SetAutoSize = true, false
	AddCustomWin2(FrontWin1, MainWindows, MainWindowsInt, -%1%, -%2%, -15 - 5, -%2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(FrontWin2, MainWindows, MainWindowsInt, -15 + 5, -%2%, 15 - 5, -%2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(FrontWin3, MainWindows, MainWindowsInt, 15 + 5, -%2%, %1%, -%2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)

	AddCustomWin2(LeftWin, MainWindows, MainWindowsInt, -%1%, -%2%, -%1%, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(RightWin, MainWindowsInt, MainWindows, %1%, -%2%, %1%, %2%, %height%, 0, 0, %IFloorType%, %6%, ExtFacade)

	AddCustomWin2(BackWin1, MainWindowsInt, MainWindows, -%1%, %2%, -15 - 5, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(BackWin2, MainWindowsInt, MainWindows, -15 + 5, %2%, 15 - 5, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	AddCustomWin2(BackWin3, MainWindowsInt, MainWindows, 15 + 5, %2%, %1%, %2%, %height%, 0, 0, %IFloorType%, ExtFacade, %6%)
	SetAutoSize = true, true

	#Perimeter walls
		WallTex() #Set wall texture
		Set WallHeight = %fullheight%
		Set WallOffset = 0
		if[%floor% = 10] Set WallHeight = %height%
		if[%floor% = 10] Set WallOffset = %interfloorheight%

		#Front walls
		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall FrontWall1, ExtFacade, 0.5, -15 - 5, -%2%, -15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride ExtFacade, %6%, %6%, %6%, %6%, %6%
		AddWall FrontWall2, ExtFacade, 0.5, 15 - 5, -%2%, 15 + 5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

		#Back walls
		WallOrientation = right
		DrawWalls = true, true, true, true, false, false
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall BackWall1, ExtFacade, 0.5, -15 - 5, %2%, -15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		TextureOverride %6%, ExtFacade, %6%, %6%, %6%, %6%
		AddWall BackWall2, ExtFacade, 0.5, 15 - 5, %2%, 15 + 5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

<Floors 0 to 9>
	#Left wall (At the parking elevators' shaft)
	Set WallHeight = %fullheight%
	Set WallOffset = 0
	if[%floor% = 0] Set WallHeight = %height%
	if[%floor% = 0] Set WallOffset = %interfloorheight%

		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall LeftWall_ParkingElev, ExtFacade, 0.5, -%1%, 45, -%1%, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloors>

#Cut external interfloor walls for parking elevators' shaft
Cut external, -%1% - 0.5, Floor(10).Altitude, 45, -%1% + 0.5, Floor(11).Base, 75, true, false

<Floor 10>
	#Left wall (At the parking elevators' shaft)
	Set WallHeight = %fullheight% + Floor(11).InterfloorHeight
	Set WallOffset = 0

	#Specials for 11th-12th floors
	Set WallHeight2 = %height% + Floor(11).InterfloorHeight - 2
	Set WallOffset2 = %interfloorheight%

		WallOrientation = left
		DrawWalls = true, false, false, false, false, false
		AddWall LeftWall_ParkingElev, ExtFacade, 0.5, -%1%, 45, -%1%, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
		DrawWalls = true, false, true, true, true, true
		AddWall LeftWall_ParkingElev_Extra, ExtFacade2, 0.5, -%1% - 0.5, 45 + 2.5, -%1% - 0.5, 75 - 2.5, %WallHeight2%, %WallHeight2%, %WallOffset2%, %WallOffset2%, 0, 0, true
<EndFloor>

<Floors -2 to 44>
	#Service elevator lobby
	DrawWalls = true, true, false, false, false, false

		WallTex() #Set wall texture
		Set WallHeight = %height%
		Set WallOffset = 0
		if[%floor% > 1 & %floor% < 10] Set WallHeight = %height% + (Floor(%floor% + 1).InterfloorHeight - 0.5)
		if[%floor% > 1 & %floor% < 10] Set WallOffset = 0
		if[%floor% = 1] Set WallHeight = %fullheight%
		if[%floor% = 1] Set WallOffset = -%interfloorheight%

		#Elevator lobby enclosure
		Set NorthEnd = 45
		if[%floor% < -1 | %floor% > 23] Set NorthEnd = 37
		
		WallOrientation = left
		TextureOverride %6%, %6S%, Blank, Blank, Blank, Blank
		AddWall LeftServLobby, %6%, 0.5, -15, 27, -15, %NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		WallOrientation = right
		TextureOverride %6S%, %6%, Blank, Blank, Blank, Blank
		if[%floor% < 0 | %floor% > 9] AddWall RightServLobby, %6%, 0.5, 15, 27, 15, %NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		TextureOverride %6S%, %6%, %6%, %6%, Blank, Blank
		if[%floor% < -1 | %floor% > 23] AddWall BackServLobby, %6%, 0.5, -15, %NorthEnd%, 15, %NorthEnd%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Left doors
		Set Texture = ServiceDoor2
		if[%floor% > 1 & %floor% < 10] Set Texture = ServiceDoor1
		if[%floor% > 33 & %floor% < 45] Set Texture = ServiceDoor3

		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 2, 75, -14.5, 32 - 1.5, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		AddDoor , , false, %Texture%, 0.2, 3, 75, -14.5, 32 + 1.5, 3, 7, 0, 0, 0
		AddFillerWalls ConnectionWall, 0.5, -14.5, 32, 6, 7, 0, false, 0, 0, false
		
		#Right doors
		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% < 0 | %floor% > 9] AddDoor , , false, %Texture%, 0.2, 1, 75, 14.5, 32 - 1.5, 3, 7, 0, 0, 0
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% < 0 | %floor% > 9] AddDoor , , false, %Texture%, 0.2, 4, 75, 14.5, 32 + 1.5, 3, 7, 0, 0, 0
		if[%floor% < 0 | %floor% > 9] AddFillerWalls ConnectionWall, 0.5, 14.5, 32, 6, 7, 0, false, 0, 0, false
<EndFloors>

<Function CentralRestrooms>
	#Restrooms on level B2-B1, parking levels, and office floors
	DrawWalls = true, true, false, false, false, false
	WallTex() #Set wall texture

	#Restroom walls
	WallOrientation = right
	DrawWalls = true, true, true, true, false, false
	if[%floor% < -1] AddWall CtrRestroomFront, %6%, 0.5, -15, -15, 15, -15, %height%, %height%, 0, 0, 0, 0, false

	WallOrientation = left
	DrawWalls = true, true, false, false, false, false
	AddWall CtrRestroomLeft, %6%, 0.5, -15, -15, -15, 15, %height%, %height%, 0, 0, 0, 0, false
	if[%floor% > 1 & %floor% < 10] AddWall CtrRestroomLeft_Above, %6%, 0.5, -15, -15, -15, 15, Floor(%floor% + 1).InterfloorHeight, Floor(%floor% + 1).InterfloorHeight, %height%, %height%, 0, 0, false
	WallOrientation = center
	AddWall CtrRestroomCenter, %6%, 1, -15, 0, 15, 0, %height%, %height%, 0, 0, 0, 0, false
	WallOrientation = right
	if[%floor% < 0 | %floor% > 9] AddWall CtrRestroomRight, %6%, 0.5, 15, -15, 15, 15, %height%, %height%, 0, 0, 0, 0, false

		#Extra walls to provide privacy (Parking levels only)
		Set WallHeight = %height% + (Floor(%floor% + 1).InterfloorHeight - 0.5)
		Set WallOffset = %interfloorheight%

		WallOrientation = left
		DrawWalls = true, true, true, true, false, false
		if[%floor% > 1 & %floor% < 10] AddWall CtrRestroomLeft_Extra, %6%, 0.5, -21, -15, -21, 15, %height%, %height%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Restroom ceiling
	Set RestroomHeight = 8.5
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	AddFloor F%floorid%_CentralRestrmCeil, DropCeiling, 0.5, -15, -15, 15, 15, %RestroomHeight%, %RestroomHeight%, 0, 0, false #All other floors

	#DrawWalls = true, false, true, false, false, false
	#TextureOverride DropCeiling, DropCeiling, %6%, %6%, Blank, Blank
	#if[%floor% > 1 & %floor% < 10] AddFloor F%floorid%_CentralRestrmCeil, DropCeiling, 1, -15, -15, 15, 15, %RestroomHeight%, %RestroomHeight%, 0, 0, false #Parking levels

	#Restroom doors
	Set DTex = Door6
	Set DSTex = %DTex%Side
	if[%floor% < 2] Set DTex = Door8
	if[%floor% < 2] Set DSTex = %DTex%Side
	if[%floor% > 1 & %floor% < 10] Set DTex = ServiceDoor2
	if[%floor% > 1 & %floor% < 10] Set DSTex = %DTex%Side
	if[%floor% > 21] Set DTex = Door9b
	if[%floor% > 21] Set DSTex = %DTex%Side

		#West doors
		WallOrientation = right
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddDoor , , false, %DTex%, 0.2, 3, 75, -14.5, 0 - 2.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		AddDoor , , false, %DTex%, 0.2, 2, 75, -14.5, 0 + 2.5, 3, 7, 0, 0, 0

		AddFillerWalls ConnectionWall, 0.5, -14.5, 0 - 2.5, 3, 7, 0, false, 0, 0, false
		AddFillerWalls ConnectionWall, 0.5, -14.5, 0 + 2.5, 3, 7, 0, false, 0, 0, false

		#East doors
		WallOrientation = left
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		if[%floor% < 0 | %floor% > 9] AddDoor , , false, %DTex%, 0.2, 4, 75, 14.5, 0 - 2.5, 3, 7, 0, 0, 0
		TextureOverride %DTex%, %DTex%, %DSTex%, %DSTex%, %DSTex%, %DSTex%
		if[%floor% < 0 | %floor% > 9] AddDoor , , false, %DTex%, 0.2, 1, 75, 14.5, 0 + 2.5, 3, 7, 0, 0, 0

		if[%floor% < 0 | %floor% > 9] AddFillerWalls ConnectionWall, 0.5, 14.5, 0 - 2.5, 3, 7, 0, false, 0, 0, false
		if[%floor% < 0 | %floor% > 9] AddFillerWalls ConnectionWall, 0.5, 14.5, 0 + 2.5, 3, 7, 0, false, 0, 0, false

	#Signs
		#Sign above doors
		AddBoxSign(CentralRestroom1A, Sign_RestroomW, WoodSign2, WoodSign2, 0.05, false, true, true, -15 - 0.025, 0 - 2.5, 1.25, 1.25, 7.25, false)
		AddBoxSign(CentralRestroom2A, Sign_RestroomM, WoodSign2, WoodSign2, 0.05, false, true, true, -15 - 0.025, 0 + 2.5, 1.25, 1.25, 7.25, false)
		if[%floor% < 0 | %floor% > 9] AddBoxSign(CentralRestroom1B, WoodSign2, Sign_RestroomW, WoodSign2, 0.05, false, true, true, 15 + 0.025, 0 - 2.5, 1.25, 1.25, 7.25, false)
		if[%floor% < 0 | %floor% > 9] AddBoxSign(CentralRestroom2B, WoodSign2, Sign_RestroomM, WoodSign2, 0.05, false, true, true, 15 + 0.025, 0 + 2.5, 1.25, 1.25, 7.25, false)
<EndFunction>

<Floors -2 to -1>
	CentralRestrooms()
<EndFloors>

<Floors 2 to 44>
	CentralRestrooms()
<EndFloors>

########################################

#Mechanical levels
<Floors 45 to 46>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture
	WallTex() #Set wall texture
	CeilingTex() #Ceiling Texture
	Set ParkingHeight = %fullheight% + (Floor(%floor% + 1).InterfloorHeight - 0.5)

	#Floors
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	if[%floor% = 45] AddFloor MechBaseFloor, TopsideMechFloor, 0.5, -%1%, -%2%, %1%, %2%, 0, 0, 0, 0, false
	#if[%floor% = 46] AddFloor MechFloor, %5%, 0.5, -30, -%2%, 30, %2%, 0, 0, 0, 0, false

		#Mechanical mezzanine
		FloorOrientation = top
		DrawWalls = true, true, false, false, false, false
		TextureOverride MMEUnderside, MMEFloor, Blank, Blank, Blank, Blank
		if[%floor% = 46] AddFloor MechFloor1, MMEFloor, %interfloorheight%, -25, -%2%, 25, -15, 0, 0, 0, 0, false
		TextureOverride MMEUnderside, MMEFloor, Blank, Blank, Blank, Blank
		if[%floor% = 46] AddFloor MechFloor2, MMEFloor, %interfloorheight%, 14.5, -15, 25, 85, 0, 0, 0, 0, false
		TextureOverride MMEUnderside, MMEFloor, Blank, Blank, Blank, Blank
		if[%floor% = 46] AddFloor MechFloor3, MMEFloor, %interfloorheight%, -15, 85, 25, %2%, 0, 0, 0, 0, false

	#Ceilings
	FloorOrientation = bottom
	DrawWalls = true, false, false, false, false, false
	#if[%floor% = 45] AddFloor MechCeiling, %7%, 0.5, -30, -%2%, 30, %2%, %height%, %height%, 0, 0, false
	if[%floor% = 46] AddFloor MechCeiling, %7%, 0.5, -%1%, -%2%, %1%, %2%, %height%, %height%, 0, 0, false

	#Railings
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	WallOrientation = left
	DrawWalls = true, true, false, true, true, false
	if[%floor% = 46] AddWall LeftRailA, MMEWall, 0.5, -25, -%2%, -25, -15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	DrawWalls = true, true, true, false, true, false
	if[%floor% = 46] AddWall LeftRailB, MMEWall, 0.5, -15, 85, -15, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = right
	if[%floor% = 46] AddWall RightRail, MMEWall, 0.5, 25, -%2%, 25, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

		#Inner railings
		WallOrientation = right
		DrawWalls = true, true, true, true, true, false
		if[%floor% = 46] AddWall WestInnerRail, MMEWall, 0.5, -24.5, -15, -15, -15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		if[%floor% = 46] AddWall EastInnerRailA, MMEWall, 0.5, 15, -15, 15, 15, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
		if[%floor% = 46] AddWall EastInnerRailB, MMEWall, 0.5, 15, 27, 15, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false

	#Perimeter walls
	Set WallHeight = %fullheight%
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, false, false, false, false
	TextureOverride ExtFacade, %6%, Blank, Blank, Blank, Blank
	AddWall FrontPerimeter, %6%, 0.5, -%1%, -%2%, %1%, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride ExtFacade, %6%, Blank, Blank, Blank, Blank
	AddWall LeftPerimeter, %6%, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	TextureOverride %6%, ExtFacade, Blank, Blank, Blank, Blank
	AddWall RightPerimeter, %6%, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	TextureOverride %6%, ExtFacade, Blank, Blank, Blank, Blank
	AddWall BackPerimeter, %6%, 0.5, -%1%, %2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true

	#Vents
	Set winheight = %height% - 1 #Named "win (Short for windows)" for compatibility reasons
	Set winoffset = 0.5

		#Left
		#Windows3(LeftVents1, -%1%, -100, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)
		Windows3(LeftVents2, -%1%, -60, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)
		if[%floor% ! 45] Windows3(LeftVents3, -%1%, -20, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)
		if[%floor% ! 45] Windows3(LeftVents4, -%1%, 20, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)
		Windows3(LeftVents5, -%1%, 60, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)
		#Windows3(LeftVents6, -%1%, 100, left, 30, %winheight%, %winoffset%, VentsExt, VentsInt, %6%, 0.5, 2, 1)

		#Right
		#Windows3(RightVents1, %1%, -100, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
		Windows3(RightVents2, %1%, -60, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
		if[%floor% ! 45] Windows3(RightVents3, %1%, -20, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
		if[%floor% ! 45] Windows3(RightVents4, %1%, 20, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
		Windows3(RightVents5, %1%, 60, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
		#Windows3(RightVents6, %1%, 100, right, 30, %winheight%, %winoffset%, VentsInt, VentsExt, %6%, 0.5, 2, 1)
<EndFloors>

########################################

#Supports
<Floors -3 to 45>
	#Set Values
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 40 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#Special heights at mechanical levels
	if[%floor% = 45] Set SupportHeight = %fullheight% + Floor(46).FullHeight
	if[%floor% = 45] Set SupportOffset = -%interfloorheight%

	#Special heights for parking/office transition
	if[%floor% = 9] Set SupportHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% = 9] Set SupportOffset = -%interfloorheight%
	if[%floor% = 10] Set SupportHeight = %height%
	if[%floor% = 10] Set SupportOffset = 0

	Set ShowTop = false
	#--------------------
	#Corner Supports
	CreateWallBox2 external, SupportNW, %6%, -%1% + 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportNE, %6A%, %1% - 1.25, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportSW, %6%, -%1% + 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportSE, %6A%, %1% - 1.25, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#--------------------
	#North Supports
	CreateWallBox2 external, SupportN-West1, %6%, 0 - (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportN-Center, %6%, 0, %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportN-East1, %6A%, 0 + (%DistanceX% * 1), %2% - 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#South Supports
	CreateWallBox2 external, SupportS-West1, %6%, 0 - (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportS-Center, %6%, 0, -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportS-East1, %6A%, 0 + (%DistanceX% * 1), -%2% + 1.25, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#West Supports
	CreateWallBox2 external, SupportW-South2, %6%, -%1% + 1.25, 0 - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportW-South1, %6%, -%1% + 1.25, 0 - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportW-Center, %6%, -%1% + 1.25, 0, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportW-North1, %6%, -%1% + 1.25, 0 + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportW-North2, %6%, -%1% + 1.25, 0 + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#East Supports
	CreateWallBox2 external, SupportE-South2, %6A%, %1% - 1.25, 0 - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportE-South1, %6A%, %1% - 1.25, 0 - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportE-Center, %6A%, %1% - 1.25, 0, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportE-South1, %6A%, %1% - 1.25, 0 + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, SupportE-North2, %6A%, %1% - 1.25, 0 + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

########################################

#Inner Supports
<Floors -3 to 9>
	#Set Values
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	WallTex() #Set wall texture
	Set DistanceX = 40 #Distance between supports X
	Set DistanceZ = 40 #Distance between supports Z
	Set SupportHeight = %fullheight%
	Set SupportOffset = -%interfloorheight%

	#Special heights for parking/office transition
	if[%floor% = 9] Set SupportHeight = %fullheight% + Floor(%floor% + 1).InterfloorHeight
	if[%floor% = 9] Set SupportOffset = -%interfloorheight%
	if[%floor% = 10] Set SupportHeight = %height%
	if[%floor% = 10] Set SupportOffset = 0

	Set ShowTop = false
	#--------------------
	#Row A
	Set SupportX = 0 - (%DistanceX% * 1)
	CreateWallBox2 external, InnerSupportA1, %6%, %SupportX%, 0 - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportA2, %6%, %SupportX%, 0 - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportA3, %6%, %SupportX%, 0, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportA4, %6%, %SupportX%, 0 + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportA5, %6%, %SupportX%, 0 + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row B
	Set SupportX = 0
	#CreateWallBox2 external, InnerSupportB1, %6%, %SupportX%, 0 - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, InnerSupportB2, %6%, %SupportX%, 0 - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportB3, %6%, %SupportX%, 0, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, InnerSupportB4, %6%, %SupportX%, 0 + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	#CreateWallBox2 external, InnerSupportB5, %6%, %SupportX%, 0 + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false

	#Row C
	Set SupportX = 0 + (%DistanceX% * 1)
	CreateWallBox2 external, InnerSupportC1, %6A%, %SupportX%, 0 - (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportC2, %6A%, %SupportX%, 0 - (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportC3, %6A%, %SupportX%, 0, 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportC4, %6A%, %SupportX%, 0 + (%DistanceZ% * 1), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
	CreateWallBox2 external, InnerSupportC5, %6A%, %SupportX%, 0 + (%DistanceZ% * 2), 2, 2, %SupportHeight%, %SupportOffset%, 0, 0, false, true, %ShowTop%, false
<EndFloors>

########################################

#Roof
<Floor 47>
	Set 1 = 80 #Building Dimension X
	Set 2 = 120 #Building Dimension Z
	FloorTex() #Set floor Texture

	#Roof floor
	FloorOrientation = top
	DrawWalls = false, true, false, false, false, false
	AddFloor Roof, %5B%, 0.5, -%1%, -%2%, %1%, %2%, %interfloorheight%, %interfloorheight%, 0, 0, true

	#Roof railings
	Set WallHeight = %interfloorheight% + 4.5
	Set WallOffset = 0

	WallOrientation = Left
	DrawWalls = true, true, true, true, true, false
	AddWall FrontRail, ExtFacade, 0.5, -%1% + 0.5, -%2%, %1% - 0.5, -%2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall LeftRail, ExtFacade, 0.5, -%1%, -%2%, -%1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	WallOrientation = Right
	AddWall RightRail, ExtFacade, 0.5, %1%, -%2%, %1%, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
	AddWall BackRail, ExtFacade, 0.5, -%1% + 0.5, %2%, %1% - 0.5, %2%, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, true
<EndFloor>

##--------------------------------------------------------------------------------##

#SHAFTS
#Office Elevators, Bank 1 (11-22)
CreateShaft_Office(1, 0, 70, 14.67, 4.67, -1, 23, %interfloorheight%, ShaftIntWall)
CreateShaft_Office(2, 0, 50, 14.67, 4.67, -1, 23, %interfloorheight%, ShaftIntWall)

<Floors -1 to 23>
	WallTex()
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, 70, 15, 5, 1, %SHeight2%, %SOffset2%, true, true, %ShowRight%, true, false, false, %IsExternal%)
	if[%floor% ! 1] CreateShaftWall(%6S%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, 50, 15, 5, 2, %SHeight2%, %SOffset2%, true, true, %ShowRight%, true, false, false, %IsExternal%)
<EndFloors>

<Floor 23>
	#Machine room doors
	Set Texture = ServiceDoor1
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, 0 - 1.5, 65, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, 0 + 1.5, 65, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, 65, 6, 7, 0, true, 0, 0, false

	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 0 - 1.5, 55, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 0 + 1.5, 55, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, 55, 6, 7, 0, true, 0, 0, false
<EndFloor>

#Office Elevators, Bank 2 (23-34)
CreateShaft_Office(3, 0, -50, 14.67, 4.67, -1, 35, %interfloorheight%, ShaftIntWall)
CreateShaft_Office(4, 0, -70, 14.67, 4.67, -1, 35, %interfloorheight%, ShaftIntWall)

<Floors -1 to 35>
	WallTex()
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, -50, 15, 5, 3, %SHeight2%, %SOffset2%, true, true, %ShowRight%, false, false, false, %IsExternal%)
	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, -70, 15, 5, 4, %SHeight2%, %SOffset2%, false, true, %ShowRight%, true, false, false, %IsExternal%)
<EndFloors>

<Floor 35>
	#Machine room doors
	Set Texture = ServiceDoor1
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, 0 - 1.5, -55, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, 0 + 1.5, -55, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, -55, 6, 7, 0, true, 0, 0, false

	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 0 - 1.5, -65, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 0 + 1.5, -65, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, -65, 6, 7, 0, true, 0, 0, false
<EndFloor>

#Office Elevators, Bank 3 (35-45)
CreateShaft_Office(5, 0, -20, 14.67, 4.67, -1, 46, %interfloorheight%, ShaftIntWall)
CreateShaft_Office(6, 0, -40, 14.67, 4.67, -1, 46, %interfloorheight%, ShaftIntWall)

<Floors -1 to 46>
	WallTex()
	Set ShowFront = false
	if[%floor% > 35] Set ShowFront = true
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, -20, 15, 5, 5, %SHeight2%, %SOffset2%, true, true, %ShowRight%, true, false, false, %IsExternal%)
	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 0, -40, 15, 5, 6, %SHeight2%, %SOffset2%, %ShowFront%, true, %ShowRight%, true, false, false, %IsExternal%)
<EndFloors>

<Floor 46>
	#Machine room doors
	Set Texture = ServiceDoor3
	WallOrientation = left
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 8, 75, 0 - 1.5, -25, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 5, 75, 0 + 1.5, -25, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, -25, 6, 7, 0, true, 0, 0, false

	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 7, 75, 0 - 1.5, -35, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 6, 75, 0 + 1.5, -35, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 0, -35, 6, 7, 0, true, 0, 0, false
<EndFloor>

#Service Elevators
CreateShaft_Service(7, 5, 21, 9.67, 5.67, -4, 47, %interfloorheight%, ShaftIntWall)

<Floors -3 to 47>
	WallTex()
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true
	Set ShowTop = false
	if[%floor% = 47] Set ShowTop = true

	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6%, %6S%, %6%, %6%, 0.33, 5, 21, 10, 6, 7A, %SHeight2%, %SOffset2%, true, false, %ShowRight%, false, %ShowTop%, false, %IsExternal%)
	CreateShaftWall(%6%, %6%, %6%, %6S%, %6%, %6%, 0.33, 5, 21, 10, 6, 7B, %SHeight%, %SOffset%, false, false, false, true, %ShowTop%, false, %IsExternal%)
<EndFloors>

<Floor 47>
	#Machine room doors
	Set Texture = ServiceDoor2
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 7, 75, 5 - 1.5, 27, 3, 7, %interfloorheight%, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddExternalDoor , , false, %Texture%, 0.2, 6, 75, 5 + 1.5, 27, 3, 7, %interfloorheight%, 0, 0
	AddFillerWalls ConnectionWall, 0.66, 5, 27, 6, 7, %interfloorheight%, true, 0, 0, true
<EndFloor>

#Utility Shafts
CreateShaft2(8, 12.5, 80, 2.17, 4.67, -3, 47, ShaftIntWall) #North
CreateShaft2(9, -10, 21, 4.67, 5.67, -3, 47, ShaftIntWall) #Center
CreateShaft2(10, -12.5, -80, 2.17, 4.67, -3, 46, ShaftIntWall) #South

<Floors -3 to 47>
	WallTex()
	Set ShowFront = false
	if[%floor% < -1 | %floor% > 23] Set ShowFront = true
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true

	Set ShowTop = false
	if[%floor% = 47] Set ShowTop = true
	
	#North shaft
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, 12.5, 80, 2.5, 5, 8, %SHeight%, %SOffset%, %ShowFront%, true, %ShowRight%, true, %ShowTop%, false, %IsExternal%)

		#Access door
		Set Texture = ServiceDoor1

		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% ! 0 & %floor% ! 1 & %floor% ! 47] AddDoor , , false, %Texture%, 0.2, 6, 75, 12.5, 85, 2.5, 6.5, 0, 0, 0
		if[%floor% ! 0 & %floor% ! 1 & %floor% ! 47] AddFillerWalls ConnectionWall, 0.66, 12.5, 85, 2.5, 6.5, 0, true, 0, 0, false
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% = 47] AddExternalDoor , , false, %Texture%, 0.2, 6, 75, 12.5, 85, 2.5, 6.5, %interfloorheight%, 0, 0
		if[%floor% = 47] AddFillerWalls ConnectionWall, 0.66, 12.5, 85, 2.5, 6.5, %interfloorheight%, true, 0, 0, true

	#Central shaft
	CreateShaftWall(%6%, %6%, %6%, %6S%, %6%, %6%, 0.33, -10, 21, 5, 6, 9, %SHeight%, %SOffset%, true, true, true, true, %ShowTop%, false, %IsExternal%)

		#Access door
		Set Texture = ServiceDoor3
		#if[%floor% = 47] Set Texture = ServiceDoor3

		WallOrientation = right
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% ! 46 & %floor% ! 47] AddDoor , , false, %Texture%, 0.2, 6, 75, -5.66 - 2, 27, 3, 7, 0, 0, 0
		if[%floor% ! 46 & %floor% ! 47] AddFillerWalls ConnectionWall, 0.66, -5.66 - 2, 27, 3, 7, 0, true, 0, 0, false
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% = 47] AddExternalDoor , , false, %Texture%, 0.2, 6, 75, -5.66 - 2, 27, 3, 7, %interfloorheight%, 0, 0
		if[%floor% = 47] AddFillerWalls ConnectionWall, 0.66, -5.66 - 2, 27, 3, 7, %interfloorheight%, true, 0, 0, true

	#South shaft
	Set ShowBack = false
	if[%floor% < -1 | %floor% > 35] Set ShowBack = true
	if[%floor% < 47] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.33, -12.5, -80, 2.5, 5, 10, %SHeight%, %SOffset%, true, true, %ShowRight%, %ShowBack%, false, false, %IsExternal%)

		#Access door
		Set Texture = ServiceDoor1

		WallOrientation = left
		TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
		if[%floor% ! 47] AddDoor , , false, %Texture%, 0.2, 8, 75, -12.5, -85, 2.5, 6.5, 0, 0, 0
		if[%floor% ! 47] AddFillerWalls ConnectionWall, 0.66, -12.5, -85, 2.5, 6.5, 0, true, 0, 0, false
<EndFloors>

#Parking/Shopping Elevators
CreateShaft_Parking(11, -75.5, 60, 4.17, 14.67, -3, 10, %interfloorheight%, GLEShaftWall2)
ShaftShowOutside 11 = 0 - 9

<Floors -3 to 10>
	WallTex()
	if[%floor% ! 1] CreateShaftWall(%6%, %6%, %6P%, %6%, %6%, %6%, 0.33, -75.5, 60, 4.5, 15, 11A, %SHeight2%, %SOffset2%, true, false, false, true, false, false, %IsExternal%)
	CreateShaftWall(%6%, %6%, %6P%, %6%, %6%, %6%, 0.33, -75.5, 60, 4.5, 15, 11B, %SHeight%, %SOffset%, false, false, true, false, false, false, %IsExternal%)
<EndFloors>

<Floors 0 to 6>
	Set FlrDblHeight = %height% + Floor(%floor% + 1).FullHeight
	Set WinHeight = %FlrDblHeight% - 2
	Set WinOffset = 1

	if[%floor% ! 1 & %floor% ! 3 & %floor% ! 5] Windows3(Shaft11_Windows, -%1%, 60, left, 27, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, GLEShaftWall2, 0.66 + 0.01, 5/4, 2)
<EndFloors>

<Floor 8>
	#Set WinHeight = %height% - 2
	Set WinHeight = %height% + 11 - 2
	#if[%floor% = 9] Set WinHeight = 9.5 - 2
	Set WinOffset = 1

	Windows3(Shaft11_Windows, -%1%, 60, left, 27, %WinHeight%, %WinOffset%, MainWindowsB, MainWindowsIntB, GLEShaftWall2, 0.66 + 0.01, 5/4, 2)
<EndFloor>

<Floor -1>
	#Divider between elevators and escalators
	#SetAutoSize = true, false
	WallOrientation = right
	DrawWalls = true, true, true, true, false, false
	TextureOverride AltWindowsIntB, AltWindowsIntB, ElevExt, ElevExt, ElevExt, ElevExt
	AddWall ElevEscDivider, %6%, 0.2, -59.5, 45 + 5, -59.5, 75, %height%, %height%, 0, 0, 5/4, 0, false
	#SetAutoSize = true, true
<EndFloor>

#Moved machine rooms from 12th floor to 11th floor.
<Floor 10>
	#Machine room doors
	Set Texture = ServiceDoor1
	WallOrientation = right
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 2, 75, -71, 60 - 1.5, 3, 7, 0, 0, 0
	TextureOverride %Texture%, %Texture%, %Texture%Side, %Texture%Side, %Texture%Side, %Texture%Side
	AddDoor , , false, %Texture%, 0.2, 3, 75, -71, 60 + 1.5, 3, 7, 0, 0, 0
	AddFillerWalls ConnectionWall, 0.66, -71, 60, 6, 7, 0, false, 0, 0, false
<EndFloor>

##--------------------------------------------------------------------------------##

#ELEVATORS
#Office Elevators, Bank 1 (11-22)
<Elevator 1>
	Name = Bank 1 Elevator 1
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 1
	CreateElevator true, 10, -1.34, 0
<EndElevator>

<Elevator 2>
	Name = Bank 1 Elevator 2
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 1
	CreateElevator true, 0, -1.34, 0
<EndElevator>

<Elevator 3>
	Name = Bank 1 Elevator 3
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 1
	CreateElevator true, -10, -1.34, 0
<EndElevator>

#Button creation function
<Function BtnPanelE1-6>
	Set PanelNumber = %param1%
	Set BtnPrefix = StudioButton

	AddButton %PanelNumber%, , %BtnPrefix%22, %BtnPrefix%Lit22, 1, 3, 21, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%21, %BtnPrefix%Lit21, 1, 2, 20, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%20, %BtnPrefix%Lit20, 1, 1, 19, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%19, %BtnPrefix%Lit19, 2, 3, 18, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%18, %BtnPrefix%Lit18, 2, 2, 17, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%17, %BtnPrefix%Lit17, 2, 1, 16, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%16, %BtnPrefix%Lit16, 3, 3, 15, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%15, %BtnPrefix%Lit15, 3, 2, 14, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%14, %BtnPrefix%Lit14, 3, 1, 13, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%13, %BtnPrefix%Lit13, 4, 3, 12, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%12, %BtnPrefix%Lit12, 4, 2, 11, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%11, %BtnPrefix%Lit11, 4, 1, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 2, 0, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 7, 1, open, 1, 1, 0.55, 0
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 7, 2, close, 1, 1, 0.55, 0

	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 8, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 9, 1, off, 1, 1, 0.55, 0
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 9, 2, off, 1, 1, 0.55, 0
<EndFunction>

<Elevator 4>
	Name = Bank 1 Elevator 4
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 2
	CreateElevator true, 10, 1.34, 21
<EndElevator>

<Elevator 5>
	Name = Bank 1 Elevator 5
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 2
	CreateElevator true, 0, 1.34, 21
<EndElevator>

<Elevator 6>
	Name = Bank 1 Elevator 6
	Speed = 15
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 10 - 21
	AssignedShaft = 2
	CreateElevator true, -10, 1.34, 21
<EndElevator>

<Elevators 1 to 6>
	FloorSkipText = X
	#--------------------
	#Interiors
	Set Prefix = Bank1
	if[%elevator% < 4] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, front, 8)
	if[%elevator% > 3] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, back, 8)
	#--------------------
	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	if[%elevator% > 3] Set WPTex = %Prefix%ElevWallPanel2
	Set WPanelHeight = 8
	
	Set CenterZ = 0.1
	if[%elevator% > 3] Set CenterZ = -0.1

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	if[%elevator% > 3] AddWall FrontPanel, %WPTex%, 0.05, -2, -2.3, 2, -2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	AddWall LeftPanel, %WPTex%, 0.05, -3.55, %CenterZ% - 1, -3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall RightPanel, %WPTex%, 0.05, 3.55, %CenterZ% - 1, 3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	if[%elevator% < 4] AddWall BackPanel, %WPTex%, 0.05, -2, 2.3, 2, 2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	#--------------------
	#Elevator number sign
	#DrawWalls = false, true, false, false, false, false
	#if[%elevator% < 4] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -2.1 + 0.001, 0 + 0.25, -2.1 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#DrawWalls = true, false, false, false, false, false
	#if[%elevator% > 3] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 2.1 - 0.001, 0 + 0.25, 2.1 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Button Panels
	if[%elevator% < 4] Set Position = -2.775 #Right panel
	if[%elevator% < 4] Set Position2 = 2.775 #Left panel
	if[%elevator% > 3] Set Position = 2.775
	if[%elevator% > 3] Set Position2 = -2.775

		#Right panel
		if[%elevator% < 4] CreatePanel , 9, 3, back, %Position%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 3] CreatePanel , 9, 3, front, %Position%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

		#Left panel
		if[%elevator% < 4] CreatePanel , 9, 3, back, %Position2%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 3] CreatePanel , 9, 3, front, %Position2%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

			#Buttons
			BtnPanelE1-6(1)
			BtnPanelE1-6(2)
	#--------------------
	#Proximity scanner
	Set PSscanHeight = 0.3826
	#Set PScanWidth = %PScanHeight% * 0.78
	Set PScanWidth = 0.3

	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 4] AddWall ProximityScanner, ProxScan, 0, %Position% - (%PScanWidth% / 2), -2.1 + 0.001, %Position% + (%PScanWidth% / 2), -2.1 + 0.001, %PSscanHeight%, %PSscanHeight%, 4.65, 4.65, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 3] AddWall ProximityScanner, ProxScan, 0, %Position% - (%PScanWidth% / 2), 2.1 - 0.001, %Position% + (%PScanWidth% / 2), 2.1 - 0.001, %PSscanHeight%, %PSscanHeight%, 4.65, 4.65, 0, 0
	#--------------------
	#Indicators
	if[%elevator% < 4] AddFloorIndicator StudioIntInd_Button, back, %Position%, -2.1 + 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	if[%elevator% > 3] AddFloorIndicator StudioIntInd_Button, front, %Position%, 2.1 - 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	#--------------------
	#Fire service cabinet
	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 4] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, -2.1 + 0.001, %Position% + 0.25, -2.1 + 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 3] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, 2.1 - 0.001, %Position% + 0.25, 2.1 - 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	if[%elevator% < 4] Set Position = 2.5 + 0.5
	if[%elevator% > 3] Set Position = -2.5 - 0.5

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.75 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevators 1 to 3>
	#Panels
	WallOrientation = left
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, 2, -2.5, 3.75, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, -3.75, -2.5, -2, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, -2.5, 2, -2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, -2.5 + 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, -2.5 + 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.6, 0, -2.5, 2, -2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.6, -2, -2.5, 0, -2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, -2.7, 4, -2.5, 0, 0, 0, 0
<EndElevators>

<Elevators 4 to 6>
	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, -3.75, 2.5, -2, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, 2, 2.5, 3.75, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, 2.5, 2, 2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, 2.5 - 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, 2.5 - 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -2, 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, 2, 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, 2.5, 4, 2.7, 0, 0, 0, 0
<EndElevators>

########################################

#Office Elevators, Bank 2 (23-34)
<Elevator 7>
	Name = Bank 2 Elevator 1
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 3
	CreateElevator true, 10, -1.34, 0
<EndElevator>

<Elevator 8>
	Name = Bank 2 Elevator 2
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 3
	CreateElevator true, 0, -1.34, 0
<EndElevator>

<Elevator 9>
	Name = Bank 2 Elevator 3
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 3
	CreateElevator true, -10, -1.34, 0
<EndElevator>

#Button creation function
<Function BtnPanelE7-12>
	Set PanelNumber = %param1%
	Set BtnPrefix = StudioButton

	AddButton %PanelNumber%, , %BtnPrefix%34, %BtnPrefix%Lit34, 1, 3, 33, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%33, %BtnPrefix%Lit33, 1, 2, 32, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%32, %BtnPrefix%Lit32, 1, 1, 31, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%31, %BtnPrefix%Lit31, 2, 3, 30, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%30, %BtnPrefix%Lit30, 2, 2, 29, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%29, %BtnPrefix%Lit29, 2, 1, 28, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%28, %BtnPrefix%Lit28, 3, 3, 27, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%27, %BtnPrefix%Lit27, 3, 2, 26, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%26, %BtnPrefix%Lit26, 3, 1, 25, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%25, %BtnPrefix%Lit25, 4, 3, 24, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%24, %BtnPrefix%Lit24, 4, 2, 23, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%23, %BtnPrefix%Lit23, 4, 1, 22, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 2, 0, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 7, 1, open, 1, 1, 0.55, 0
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 7, 2, close, 1, 1, 0.55, 0

	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 8, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 9, 1, off, 1, 1, 0.55, 0
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 9, 2, off, 1, 1, 0.55, 0
<EndFunction>

<Elevator 10>
	Name = Bank 2 Elevator 4
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 4
	CreateElevator true, 10, 1.34, 33
<EndElevator>

<Elevator 11>
	Name = Bank 2 Elevator 5
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 4
	CreateElevator true, 0, 1.34, 33
<EndElevator>

<Elevator 12>
	Name = Bank 2 Elevator 6
	Speed = 20
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 22 - 33
	AssignedShaft = 4
	CreateElevator true, -10, 1.34, 33
<EndElevator>

<Elevators 7 to 12>
	FloorSkipText = X
	#--------------------
	#Interiors
	Set Prefix = Bank2
	if[%elevator% < 10] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, front, 8)
	if[%elevator% > 9] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, back, 8)
	#--------------------
	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	if[%elevator% > 9] Set WPTex = %Prefix%ElevWallPanel2
	Set WPanelHeight = 8

	Set CenterZ = 0.1
	if[%elevator% > 9] Set CenterZ = -0.1

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	if[%elevator% > 9] AddWall FrontPanel, %WPTex%, 0.05, -2, -2.3, 2, -2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	AddWall LeftPanel, %WPTex%, 0.05, -3.55, %CenterZ% - 1, -3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall RightPanel, %WPTex%, 0.05, 3.55, %CenterZ% - 1, 3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	if[%elevator% < 10] AddWall BackPanel, %WPTex%, 0.05, -2, 2.3, 2, 2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	#--------------------
	#Elevator number sign
	#DrawWalls = false, true, false, false, false, false
	#if[%elevator% < 10] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -2.1 + 0.001, 0 + 0.25, -2.1 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#DrawWalls = true, false, false, false, false, false
	#if[%elevator% > 9] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 2.1 - 0.001, 0 + 0.25, 2.1 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Button Panels
	if[%elevator% < 10] Set Position = -2.775 #Right panel
	if[%elevator% < 10] Set Position2 = 2.775 #Left panel
	if[%elevator% > 9] Set Position = 2.775
	if[%elevator% > 9] Set Position2 = -2.775

		#Right panel
		if[%elevator% < 10] CreatePanel , 9, 3, back, %Position%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 9] CreatePanel , 9, 3, front, %Position%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

		#Left panel
		if[%elevator% < 10] CreatePanel , 9, 3, back, %Position2%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 9] CreatePanel , 9, 3, front, %Position2%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

			#Buttons
			BtnPanelE7-12(1)
			BtnPanelE7-12(2)
	#--------------------
	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 10] AddWall ProximityScanner, HIDScanGreen, 0, %Position% - (%PScanWidth% / 2), -2.1 + 0.001, %Position% + (%PScanWidth% / 2), -2.1 + 0.001, %PSscanHeight%, %PSscanHeight%, 4.6, 4.6, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 9] AddWall ProximityScanner, HIDScanGreen, 0, %Position% - (%PScanWidth% / 2), 2.1 - 0.001, %Position% + (%PScanWidth% / 2), 2.1 - 0.001, %PSscanHeight%, %PSscanHeight%, 4.6, 4.6, 0, 0
	#--------------------
	#Indicators
	if[%elevator% < 10] AddFloorIndicator StudioIntInd_Button, back, %Position%, -2.1 + 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	if[%elevator% > 9] AddFloorIndicator StudioIntInd_Button, front, %Position%, 2.1 - 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	#--------------------
	#Fire service cabinet
	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 10] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, -2.1 + 0.001, %Position% + 0.25, -2.1 + 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 9] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, 2.1 - 0.001, %Position% + 0.25, 2.1 - 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	if[%elevator% < 10] Set Position = 2.5 + 0.5
	if[%elevator% > 9] Set Position = -2.5 - 0.5

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.75 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevators 7 to 9>
	#Panels
	WallOrientation = left
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, 2, -2.5, 3.75, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, -3.75, -2.5, -2, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, -2.5, 2, -2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, -2.5 + 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, -2.5 + 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.6, 0, -2.5, 2, -2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.6, -2, -2.5, 0, -2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, -2.7, 4, -2.5, 0, 0, 0, 0
<EndElevators>

<Elevators 10 to 12>
	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, -3.75, 2.5, -2, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, 2, 2.5, 3.75, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, 2.5, 2, 2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, 2.5 - 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, 2.5 - 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -2, 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, 2, 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, 2.5, 4, 2.7, 0, 0, 0, 0
<EndElevators>

########################################

#Office Elevators, Bank 3 (35-45)
<Elevator 13>
	Name = Bank 3 Elevator 1
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 5
	CreateElevator true, 10, -1.34, 0
<EndElevator>

<Elevator 14>
	Name = Bank 3 Elevator 2
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 5
	CreateElevator true, 0, -1.34, 0
<EndElevator>

<Elevator 15>
	Name = Bank 3 Elevator 3
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 5
	CreateElevator true, -10, -1.34, 0
<EndElevator>

#Button creation function
<Function BtnPanelE13-18>
	Set PanelNumber = %param1%
	Set BtnPrefix = StudioButton

	AddButton %PanelNumber%, , %BtnPrefix%45, %BtnPrefix%Lit45, 1, 3, 44, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%44, %BtnPrefix%Lit44, 1, 2, 43, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%43, %BtnPrefix%Lit43, 1, 1, 42, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%42, %BtnPrefix%Lit42, 2, 3, 41, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%41, %BtnPrefix%Lit41, 2, 2, 40, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%40, %BtnPrefix%Lit40, 2, 1, 39, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%39, %BtnPrefix%Lit39, 3, 3, 38, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%38, %BtnPrefix%Lit38, 3, 2, 37, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%37, %BtnPrefix%Lit37, 3, 1, 36, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%36, %BtnPrefix%Lit36, 4, 3, 35, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%35, %BtnPrefix%Lit35, 4, 2, 34, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 4, 1, 0, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 6, 1, open, 1, 1, 0.55, 0
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 6, 2, close, 1, 1, 0.55, 0

	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 7, 2, alarm, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 8, 1, off, 1, 1, 0.55, 0
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 8, 2, off, 1, 1, 0.55, 0
<EndFunction>

<Elevator 16>
	Name = Bank 3 Elevator 4
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 6
	CreateElevator true, 10, 1.34, 44
<EndElevator>

<Elevator 17>
	Name = Bank 3 Elevator 5
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 6
	CreateElevator true, 0, 1.34, 44
<EndElevator>

<Elevator 18>
	Name = Bank 3 Elevator 6
	Speed = 25
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = 0, 34 - 44
	AssignedShaft = 6
	CreateElevator true, -10, 1.34, 44
<EndElevator>

<Elevators 13 to 18>
	FloorSkipText = X
	#--------------------
	#Interiors
	Set Prefix = Bank3
	if[%elevator% < 16] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, front, 8)
	if[%elevator% > 15] ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 7.5, 5, back, 8)
	#--------------------
	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
	Set WPanelHeight = 8
	
	Set CenterZ = 0.1
	if[%elevator% > 15] Set CenterZ = -0.1

	WallOrientation = left
	DrawWalls = false, true, true, true, false, false
	if[%elevator% > 15] AddWall FrontPanel, %WPTex%, 0.05, -2, -2.3, 2, -2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	AddWall LeftPanel, %WPTex%, 0.05, -3.55, %CenterZ% - 1, -3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	WallOrientation = right
	DrawWalls = true, false, true, true, false, false
	AddWall RightPanel, %WPTex%, 0.05, 3.55, %CenterZ% - 1, 3.55, %CenterZ% + 1, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	if[%elevator% < 16] AddWall BackPanel, %WPTex%, 0.05, -2, 2.3, 2, 2.3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	#--------------------
	#Elevator number sign
	#DrawWalls = false, true, false, false, false, false
	#if[%elevator% < 16] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, -2.1 + 0.001, 0 + 0.25, -2.1 + 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0

	#DrawWalls = true, false, false, false, false, false
	#if[%elevator% > 15] AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 0 - 0.25, 2.1 - 0.001, 0 + 0.25, 2.1 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Button Panels
	if[%elevator% < 16] Set Position = -2.775 #Right panel
	if[%elevator% < 16] Set Position2 = 2.775 #Left panel
	if[%elevator% > 15] Set Position = 2.775
	if[%elevator% > 15] Set Position2 = -2.775

		#Right panel
		if[%elevator% < 16] CreatePanel , 8, 3, back, %Position%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 15] CreatePanel , 8, 3, front, %Position%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

		#Left panel
		if[%elevator% < 16] CreatePanel , 8, 3, back, %Position2%, -2.1 + 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0
		if[%elevator% > 15] CreatePanel , 8, 3, front, %Position2%, 2.1 - 0.001, 0.25, 0.125, 0.2, 0.2, 3.75, 0, 0

			#Buttons
			BtnPanelE13-18(1)
			BtnPanelE13-18(2)
	#--------------------
	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 16] AddWall ProximityScanner, HIDScanGreen, 0, %Position% - (%PScanWidth% / 2), -2.1 + 0.001, %Position% + (%PScanWidth% / 2), -2.1 + 0.001, %PSscanHeight%, %PSscanHeight%, 4.6, 4.6, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 15] AddWall ProximityScanner, HIDScanGreen, 0, %Position% - (%PScanWidth% / 2), 2.1 - 0.001, %Position% + (%PScanWidth% / 2), 2.1 - 0.001, %PSscanHeight%, %PSscanHeight%, 4.6, 4.6, 0, 0
	#--------------------
	#Indicators
	if[%elevator% < 16] AddFloorIndicator StudioIntInd_Button, back, %Position%, -2.1 + 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	if[%elevator% > 15] AddFloorIndicator StudioIntInd_Button, front, %Position%, 2.1 - 0.001, 0.5, 0.5, 6 + 0.25 - 0.25
	#--------------------
	#Fire service cabinet
	DrawWalls = false, true, false, false, false, false
	if[%elevator% < 16] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, -2.1 + 0.001, %Position% + 0.25, -2.1 + 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	DrawWalls = true, false, false, false, false, false
	if[%elevator% > 15] AddWall FireCab, StudioFireCabE%elevator%, 0, %Position% - 0.25, 2.1 - 0.001, %Position% + 0.25, 2.1 - 0.001, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	if[%elevator% < 16] Set Position = 2.5 + 0.5
	if[%elevator% > 15] Set Position = -2.5 - 0.5

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3.75 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

<Elevators 13 to 15>
	#Panels
	WallOrientation = left
	DrawWalls = true, true, true, false, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, 2, -2.5, 3.75, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride ElevExt, %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, -3.75, -2.5, -2, -2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride ElevExt, %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, -2.5, 2, -2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, -2.5 + 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, -2.5 + 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = right
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.6, 0, -2.5, 2, -2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.6, -2, -2.5, 0, -2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, -2.7, 4, -2.5, 0, 0, 0, 0
<EndElevators>

<Elevators 16 to 18>
	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, -3.75, 2.5, -2, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, 2, 2.5, 3.75, 2.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, -2, 2.5, 2, 2.5, 1, 1, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 2 - 0.001, 2.5 - 0.2, 5.5, left, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, -2 + 0.001, 2.5 - 0.2, 5.5, right, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, left, 0.6, -2, 2.5, 0, 2.5, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, right, 0.6, 0, 2.5, 2, 2.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -4, 2.5, 4, 2.7, 0, 0, 0, 0
<EndElevators>

########################################

#Service Elevators
<Elevator 19>
	Name = Service 1
	Type = Service
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 45
	AssignedShaft = 7
	CreateElevator true, 5 - 0.5, 0, 0
<EndElevator>

<Elevator 20>
	Name = Service 2
	Type = Service
	Speed = 18
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -3 - 45
	AssignedShaft = 7
	CreateElevator true, -5 + 0.5, 0, 0
<EndElevator>

#Button creation function
<Function BtnPanelE19-20>
	Set PanelNumber = %param1%
	Set BtnPrefix = MAButton

	AddButton %PanelNumber%, , %BtnPrefix%46, %BtnPrefix%Lit46, 1, 2, 45, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%45, %BtnPrefix%Lit45, 2, 4, 44, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%44, %BtnPrefix%Lit44, 2, 3, 43, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%43, %BtnPrefix%Lit43, 2, 2, 42, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%42, %BtnPrefix%Lit42, 2, 1, 41, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%41, %BtnPrefix%Lit41, 3, 4, 40, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%40, %BtnPrefix%Lit40, 3, 3, 39, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%39, %BtnPrefix%Lit39, 3, 2, 38, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%38, %BtnPrefix%Lit38, 3, 1, 37, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%37, %BtnPrefix%Lit37, 4, 4, 36, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%36, %BtnPrefix%Lit36, 4, 3, 35, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%35, %BtnPrefix%Lit35, 4, 2, 34, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%34, %BtnPrefix%Lit34, 4, 1, 33, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%33, %BtnPrefix%Lit33, 5, 4, 32, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%32, %BtnPrefix%Lit32, 5, 3, 31, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%31, %BtnPrefix%Lit31, 5, 2, 30, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%30, %BtnPrefix%Lit30, 5, 1, 29, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%29, %BtnPrefix%Lit29, 6, 4, 28, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%28, %BtnPrefix%Lit28, 6, 3, 27, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%27, %BtnPrefix%Lit27, 6, 2, 26, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%26, %BtnPrefix%Lit26, 6, 1, 25, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%25, %BtnPrefix%Lit25, 7, 4, 24, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%24, %BtnPrefix%Lit24, 7, 3, 23, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%23, %BtnPrefix%Lit23, 7, 2, 22, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%22, %BtnPrefix%Lit22, 7, 1, 21, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%21, %BtnPrefix%Lit21, 8, 4, 20, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%20, %BtnPrefix%Lit20, 8, 3, 19, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%19, %BtnPrefix%Lit19, 8, 2, 18, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%18, %BtnPrefix%Lit18, 8, 1, 17, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%17, %BtnPrefix%Lit17, 9, 4, 16, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%16, %BtnPrefix%Lit16, 9, 3, 15, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%15, %BtnPrefix%Lit15, 9, 2, 14, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%14, %BtnPrefix%Lit14, 9, 1, 13, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%13, %BtnPrefix%Lit13, 10, 4, 12, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%12, %BtnPrefix%Lit12, 10, 3, 11, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%11, %BtnPrefix%Lit11, 10, 2, 10, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%10, %BtnPrefix%Lit10, 10, 1, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%9, %BtnPrefix%Lit9, 11, 4, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%8, %BtnPrefix%Lit8, 11, 3, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%7, %BtnPrefix%Lit7, 11, 2, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 11, 1, 5, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 12, 4, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 12, 3, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 12, 2, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 12, 1, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 13, 4, 0, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 13, 3, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 13, 2, -2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%SB, %BtnPrefix%LitSB, 13, 1, -3, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 15, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 15, 4, close, 1, 1

	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Cancel, %BtnPrefix%Cancel, 16, 1, cancel, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 16, 3, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 16, 4, alarm, 1, 1
<EndFunction>

<Elevators 19 to 20>
	#Interiors
	Set Prefix = Service
	Set CLSuffix = Ceiling
	if[%elevator% = 20] Set CLSuffix = Ceiling2
	ElevInterior(%Prefix%ElevFloor, %Prefix%Elev%CLSuffix%, %Prefix%ElevWall, %Prefix%ElevWall, 6, 9, back, 8)
	#--------------------
	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel
		#Front panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, 0 - (5.6 * 1/4), -4.3 + 0.01, (5.6 * 1/2) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, 0 + (5.6 * 1/4), -4.3 + 0.01, (5.6 * 1/2) - 0.3, 0.02, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Left panels
		CreateWallBox2 elevator, Panel_L1, %WPTex%, -2.8 + 0.01, 0 - (8.6 * 1/3), 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L2, %WPTex%, -2.8 + 0.01, 0, 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_L3, %WPTex%, -2.8 + 0.01, 0 + (8.6 * 1/3), 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true

		#Right panels
		CreateWallBox2 elevator, Panel_R1, %WPTex%, 2.8 - 0.01, 0 - (8.6 * 1/3), 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R2, %WPTex%, 2.8 - 0.01, 0, 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_R3, %WPTex%, 2.8 - 0.01, 0 + (8.6 * 1/3), 0.02, (8.6 * 1/3) - 0.3, 8 - 0.5, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Panels
	if[%elevator% = 19] Set P1Width = 1.25
	if[%elevator% = 19] Set P2Width = 0.25
	if[%elevator% = 20] Set P1Width = 0.25
	if[%elevator% = 20] Set P2Width = 1.25

	WallOrientation = right
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall LeftPanel, ElevPanelMain, 0.2, 3, 4.5, 3 - %P1Width%, 4.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall RightPanel, ElevPanelMain, 0.2, -3, 4.5, -3 + %P2Width%, 4.5, 8, 8, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall TopPanel, ElevPanelTop, 0.2, -3 + %P2Width%, 4.5, 3 - %P1Width%, 4.5, 1, 1, 7, 7, 0, 0
	#--------------------
	#Elevator number sign
	if[%elevator% = 19] Set CenterX = -0.5
	if[%elevator% = 20] Set CenterX = 0.5

	DrawWalls = true, false, false, false, false, false
	AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, %CenterX% - 0.25, 4.3 - 0.001, %CenterX% + 0.25, 4.3 - 0.001, 0.5, 0.5, 7.05, 7.05, 0, 0
	#--------------------
	#Button Panels
	if[%elevator% = 19] Set Position = 2.275
	if[%elevator% = 20] Set Position = -2.275

		#Panel creation
		CreatePanel , 16, 4, front, %Position%, 4.3 - 0.001, 0.2, 0.2, 0.15, -0.3, 3.5, 0, 0

			#Buttons
			BtnPanelE19-20(1)

	#Proximity scanner
	Set PSscanHeight = 0.45
	Set PScanWidth = %PSscanHeight% * 0.712

	DrawWalls = true, false, false, false, false, false
	AddWall ProximityScanner, HIDScanRed, 0, %Position% - (%PScanWidth% / 2), 4.3 - 0.001, %Position% + (%PScanWidth% / 2), 4.3 - 0.001, %PSscanHeight%, %PSscanHeight%, 4.75, 4.75, 0, 0
	#--------------------
	#Indicators
	AddFloorIndicator MAInd_Button, front, %Position%, 4.3 - 0.001, 0.5, 0.286, 5.75 + 0.25 - 0.143
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 8 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	if[%elevator% = 19] Set Position = 3 + 0.8
	if[%elevator% = 20] Set Position = -3 - 0.8

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, %Position%, 0, 0.5, 6, 2, 0.5

	#Rails
	#AddRails ElevRail, ElevRailSide, 0, 0, false, 3 + 0.06, 0.1
	#AddRails ElevRail, ElevRailSide, %Position%, 0, true, 1 + 0.06, 0.1
<EndElevators>

<Elevator 19>
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.8, 0.6, -0.5 - 2.25, 4.5 + 0.18, -0.5, 4.5 + 0.18, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%2, %ElevDoorTex%2, 0.18, right, 0.4, 0.3, -0.5, 4.5, -0.5 + 2.25, 4.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall GapFiller, ElevPanelMain, 0.36, -3 + 0.25 - 0.05, 4.5, -3 + 0.25, 4.5, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, -0.5 - 2.25, 4.5, -0.5 + 4.5, 4.5 + 0.36, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller, ElevPanelTop, 0.05, -0.5 - 2.25, 4.5, -0.5, 4.5 + 0.18, 7, 7, 0, 0
<EndElevator>

<Elevator 20>
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors
	WallOrientation = left
	AddDoorComponent 1, 2Speed_Fast, %ElevDoorTex%, %ElevDoorTex%, 0.18, left, 0.8, 0.6, 0.5, 4.5 + 0.18, 0.5 + 2.25, 4.5 + 0.18, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, 2Speed_Slow, %ElevDoorTex%, %ElevDoorTex%, 0.18, left, 0.4, 0.3, 0.5 - 2.25, 4.5, 0.5, 4.5, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

	#Gap filler
	WallOrientation = left
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall GapFiller, ElevPanelMain, 0.36, 3 - 0.25, 4.5, 3 - 0.25 + 0.05, 4.5, 7, 7, 0, 0, 0, 0

	#Door track
	FloorOrientation = top
	DrawWalls = true, true, true, true, true, true
	TextureOverride ElevExt, ElevDoorTrackZ, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor DoorTrack, ElevDoorTrackZ, 0.05, 0.5 - 4.5, 4.5, 0.5 + 2.25, 4.5 + 0.36, 0, 0, 0, 0

	#Top filler
	FloorOrientation = bottom
	DrawWalls = true, true, true, true, true, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, ElevExt
	AddFloor TopFiller, ElevPanelTop, 0.05, 0.5, 4.5, 0.5 + 2.25, 4.5 + 0.18, 7, 7, 0, 0
<EndElevator>

########################################

#Parking Elevators
<Elevator 21>
	Name = Parking Elevator 1
	Speed = 7.5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 9
	AssignedShaft = 11
	CreateElevator true, 0, -10, 0
<EndElevator>

<Elevator 22>
	Name = Parking Elevator 2
	Speed = 7.5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 9
	AssignedShaft = 11
	CreateElevator true, 0, 0, 0
<EndElevator>

<Elevator 23>
	Name = Parking Elevator 3
	Speed = 7.5
	Acceleration = 0.6
	Deceleration = 0.6
	ServicedFloors = -2 - 9
	AssignedShaft = 11
	CreateElevator true, 0, 10, 0
<EndElevator>

#Button creation function
<Function BtnPanelE21-23>
	Set PanelNumber = %param1%
	Set BtnPrefix = StudioButton

	AddButton %PanelNumber%, , %BtnPrefix%10, %BtnPrefix%Lit10, 1, 2, 9, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%9, %BtnPrefix%Lit9, 1, 1, 8, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%8, %BtnPrefix%Lit8, 2, 2, 7, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%7, %BtnPrefix%Lit7, 2, 1, 6, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%6, %BtnPrefix%Lit6, 3, 2, 5, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%5, %BtnPrefix%Lit5, 3, 1, 4, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%4, %BtnPrefix%Lit4, 4, 2, 3, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%3, %BtnPrefix%Lit3, 4, 1, 2, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%2, %BtnPrefix%Lit2, 5, 2, 1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%1, %BtnPrefix%Lit1, 5, 1, 0, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B1, %BtnPrefix%LitB1, 6, 2, -1, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%B2, %BtnPrefix%LitB2, 6, 1, -2, 1, 1

	AddButton %PanelNumber%, , %BtnPrefix%Open, %BtnPrefix%Open, 8, 1, open, 1, 1
	AddButton %PanelNumber%, , %BtnPrefix%Close, %BtnPrefix%Close, 8, 2, close, 1, 1

	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Alarm, %BtnPrefix%Alarm, 9, 1, alarm, 1, 1, 0.55, 0
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Phone, %BtnPrefix%Phone, 10, 1, off, 1, 1
	if[%PanelNumber% = 1] AddButton %PanelNumber%, , %BtnPrefix%Blink, %BtnPrefix%Blink, 10, 2, off, 1, 1
<EndFunction>

<Elevators 21 to 23>
	#Interiors
	Set Prefix = Parking
	ElevInterior(%Prefix%ElevFloor, %Prefix%ElevCeiling, %Prefix%ElevWall, %Prefix%ElevWall, 6.68, 6, right, 7.5)
	#--------------------
	#Glass walls
	Set WPTex = %Prefix%ElevWall2
	Set GlassTex = %Prefix%ElevWallGlass
	Set WPanelHeight = 7.5

	WallOrientation = left
	DrawWalls = true, true, false, true, false, false
	AddWall GlassWallLink1, %WPTex%, 0.2, -3.34, -3, -3.34, -3 + 0.35, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	AddWall GlassWallLink2, %WPTex%, 0.2, -3.34, 3 - 0.35, -3.34, 3, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	DrawWalls = true, true, false, false, false, false
	AddWall GlassWall, %GlassTex%, 0, -3.34, -3 + 0.35, -3.34, 3 - 0.35, %WPanelHeight%, %WPanelHeight%, 0, 0, 0, 0

	#Panels on walls
	Set WPTex = %Prefix%ElevWallPanel

		#Front panels
		CreateWallBox2 elevator, Panel_F1, %WPTex%, -0.1 - (6.08 * 1/4), -2.8 + 0.01, (6.08 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_F2, %WPTex%, -0.1 + (6.08 * 1/4), -2.8 + 0.01, (6.08 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true

		#Back panels
		CreateWallBox2 elevator, Panel_B1, %WPTex%, -0.1 - (6.08 * 1/4), 2.8 - 0.01, (6.08 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
		CreateWallBox2 elevator, Panel_B2, %WPTex%, -0.1 + (6.08 * 1/4), 2.8 - 0.01, (6.08 * 1/2) - 0.3, 0.02, 7.5 - 0.5, 0.25, 0, 0, false, true, true, true
	#--------------------
	#Panels
	WallOrientation = right
	DrawWalls = true, true, false, true, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt
	AddWall PN-Left, ElevPanelMain, 0.4, 3.34, -3, 3.34, -1.75, 7.5, 7.5, 0, 0, 0, 0
	DrawWalls = true, true, true, false, false, false
	TextureOverride %Prefix%ElevPanelMain, ElevExt, %Prefix%ElevPanelMain, ElevExt, ElevExt, ElevExt
	AddWall PN-Right, ElevPanelMain, 0.4, 3.34, 1.75, 3.34, 3, 7.5, 7.5, 0, 0, 0, 0
	DrawWalls = true, true, false, false, false, true
	TextureOverride %Prefix%ElevPanelTop, ElevExt, ElevExt, ElevExt, ElevExt, %Prefix%ElevPanelTop
	AddWall PN-Top, ElevPanelTop, 0.4, 3.34, -1.75, 3.34, 1.75, 0.5, 0.5, 7, 7, 0, 0

	#Door jamb lanterns
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 3.34 - 0.2, 1.75 - 0.001, 5.5, front, 0.4, 0.8, true, 0, 0
	AddDirectionalIndicator false, false, true, ElevIntPanels-Studio, StudioLanternUp, StudioLanternUpLit, StudioLanternDown, StudioLanternDownLit, 3.34 - 0.2, -1.75 + 0.001, 5.5, back, 0.4, 0.8, true, 0, 0
	#--------------------
	#Car Doors
	Set ElevDoorTex = %Prefix%ElevDoors

	WallOrientation = left
	AddDoorComponent 1, Left, %ElevDoorTex%, %ElevDoorTex%, 0.2, right, 0.6, 3.34, 0, 3.34, 1.75, 7, 0, 0, 0, 0, 0
	AddDoorComponent 1, Right, %ElevDoorTex%2, %ElevDoorTex%2, 0.2, left, 0.6, 3.34, -1.75, 3.34, 0, 7, 0, 0, 0, 0, 0
	FinishDoors 1, false, false

		#Door Track
		FloorOrientation = top
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevDoorTrackX, ElevExt, ElevExt, ElevExt, ElevExt
		AddFloor DoorTrack, ElevDoorTrackX, 0.05, 3.34, -3.5, 3.54, 3.5, 0, 0, 0, 0
	#--------------------
	#Button Panels
	Set Position = -2.275 #Right panel
	Set Position2 = 2.275 #Left panel

		#Right panel
		CreatePanel , 10, 2, left, 2.94 - 0.001, %Position%, 0.25, 0.125, 0.2, 0.2, 3.65, 0, 0

		#Left panel
		CreatePanel , 10, 2, left, 2.94 - 0.001, %Position2%, 0.25, 0.125, 0.2, 0.2, 3.65, 0, 0

			#Buttons
			BtnPanelE21-23(1)
			BtnPanelE21-23(2)
	#--------------------
	#Elevator number sign
	#DrawWalls = true, false, false, false, false, false
	#AddWall ElevNo%elevator%_Inside, IN_ElevNo%elevator%, 0, 2.94 - 0.001, %Position% - 0.25, 2.94 - 0.001, %Position% + 0.25, 0.5, 0.5, 7.05 - 0.5, 7.05 - 0.5, 0, 0
	#--------------------
	#Indicators
	AddFloorIndicator StudioIntInd_Button, left, 2.94 - 0.001, %Position%, 0.5, 0.5, 6 + 0.25 - 0.25
	#--------------------
	#Fire service cabinet
	DrawWalls = true, false, false, false, false, false
	AddWall FireCab, StudioFireCabE%elevator%, 0, 2.94 - 0.001, %Position% - 0.25, 2.94 - 0.001, %Position% + 0.25, 0.6, 0.6, 6 - 0.03 - 0.6, 6 - 0.03 - 0.6, 0, 0
	#--------------------
	DrawWalls = true, true, true, true, true, true
	#Ropes
	RopePosition = 0, 7.5 + 0.2, 0
	RopeTexture = Ropes

	#Counterweight
	Set Position = -3 - 0.75
	if[%elevator% = 23] Set Position = 3 + 0.75

	DrawWalls = true, true, true, true, true, true
	CreateCounterweight CWeight_Frame, CWeight, 0, %Position%, 2, 6, 0.5, 0.5

	#Rails
	AddRails ElevRail, ElevRailSide, 0, 0, true, 3 + 0.06, 0.1
	AddRails ElevRail, ElevRailSide, 0, %Position%, false, 1 + 0.06, 0.1
<EndElevators>

########################################

#HALL STATIONS (PASSENGER)
#Set textures
<Function ElevHallTex>
	#Shaft doors
		#Passenger elevator
		Set DoorTexture = LowerOfficeElevDoors
		if[%floor% < 0] Set DoorTexture = LowerElevDoors
		if[%floor% = 0 | %floor% = 1] Set DoorTexture = LobbyElevDoors
		if[%floor% > 1 & %floor% < 10] Set DoorTexture = ParkingLevelElevDoors
		if[%floor% > 21 & %floor% < 34] Set DoorTexture = MiddleOfficeElevDoors
		if[%floor% > 33 & %floor% < 45] Set DoorTexture = UpperOfficeElevDoors

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set DoorTrimTexture = %DoorTexture%_Trim

		#Top
		Set DoorTrimTexture_Top = %DoorTrimTexture%
		Set DoorTrimTexture_TopAlt = %DoorTrimTexture%
		if[%floor% = 0 | %floor% = 1] Set DoorTrimTexture_TopAlt = %DoorTexture%_Trim2 #Used for parking elevators

	#Deco dimensions
		Set SideDecoH = 7.2
		Set TopDecoH = 0.2
		if[%floor% = 0] Set SideDecoH = %height% + Floor(%floor% + 1).FullHeight
		if[%floor% = 0] Set TopDecoH = %SideDecoH% - 7
		if[%floor% < 0] Set SideDecoH = %height%
		if[%floor% < 0] Set TopDecoH = %height% - 7

	#Deco dimensions (Parking elevators)
		Set SideDecoH-Alt = %SideDecoH%
		Set TopDecoH-Alt = %TopDecoH%
		if[%floor% = 0 | %floor% = 1] Set SideDecoH-Alt = %height%
		if[%floor% = 0 | %floor% = 1] Set TopDecoH-Alt = %SideDecoH-Alt% - 7

	#Call button panels
	Set BPanelTexture = ElevExtPanels-Studio
	Set ButtonPrefix = StudioButton

	#Lantern panels
	Set LPanelTexture = %BPanelTexture%
	Set LanternPrefix = StudioLantern

		#Lateral offset for lantern panels
		Set ExtraLateralOffset = 0
		if[%floor% < 2] Set ExtraLateralOffset = 0.05
<EndFunction>

#****************************************#

#Elevator Bank 1
<Function Bank1ElevLby>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures

		Set StartNo = 1
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 3, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 3, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false
	
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 4, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 4, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 4, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 5, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 5, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 5, 1, %AutoFiller%, false

	#Door tracks
	AddDoorTrack(1, 1, 10 - 4, 10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(2, 1, 0 - 4, 0 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(3, 1, -10 - 4, -10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)

	AddDoorTrack(4, 2, 10 - 4, 10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(5, 2, 0 - 4, 0 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(6, 2, -10 - 4, -10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 0 #1st shaft for elevator bank
	Set Shaft1CZ = 70
	Set Shaft2CX = 0 #2nd shaft for elevator bank
	Set Shaft2CZ = 50

		#1st shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = left
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false

		#2nd shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = right
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false

	#****************************************#

	#Call buttons
	CallButtonElevators = 1, 2, 3, 4, 5, 6
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% + 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1AX = %Shaft1CX% + 5 #1st shaft for elevator bank
		Set Sign1BX = %Shaft1CX% - 5
		Set Sign1Z = %Shaft1CZ% - 5

		Set Sign2AX = %Shaft2CX% + 5 #2nd shaft for elevator bank
		Set Sign2BX = %Shaft2CX% - 5
		Set Sign2Z = %Shaft2CZ% + 5

		DrawWalls = true, false, false, false, false, false
		#AddWall Bank1HallSign1, ElevHallSign, 0, %Sign1AX% - 0.375, %Sign1Z% - 0.001, %Sign1AX% + 0.375, %Sign1Z% - 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank1FloorSign1, FlrSign%floorid%, 0, %Sign1AX% - 0.5, %Sign1Z% - 0.001, %Sign1AX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank1FloorSign2, FlrSign%floorid%, 0, %Sign1BX% - 0.5, %Sign1Z% - 0.001, %Sign1BX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false

		DrawWalls = false, true, false, false, false, false
		#AddWall Bank1HallSign2, ElevHallSign, 0, %Sign2AX% - 0.375, %Sign2Z% + 0.001, %Sign2AX% + 0.375, %Sign2Z% + 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank1FloorSign3, FlrSign%floorid%, 0, %Sign2AX% - 0.5, %Sign2Z% + 0.001, %Sign2AX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank1FloorSign4, FlrSign%floorid%, 0, %Sign2BX% - 0.5, %Sign2Z% + 0.001, %Sign2BX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, StudioInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(front, 1, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% = 0] ACMELobbyInds(front, 2, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% = 0] ACMELobbyInds(front, 3, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% = 0] ACMELobbyInds(back, 4, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% = 0] ACMELobbyInds(back, 5, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% = 0] ACMELobbyInds(back, 6, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)

		if[%floor% ! 0] ACMELobbyLanterns(front, 1, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% ! 0] ACMELobbyLanterns(front, 2, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% ! 0] ACMELobbyLanterns(front, 3, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% ! 0] ACMELobbyLanterns(back, 4, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% ! 0] ACMELobbyLanterns(back, 5, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)
		if[%floor% ! 0] ACMELobbyLanterns(back, 6, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 21)
<EndFunction>

#Elevator Bank 2
<Function Bank2ElevLby>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures

		Set StartNo = 7
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 3, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 3, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false
	
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 4, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 4, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 4, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 5, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 5, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 5, 1, %AutoFiller%, false

	#Door tracks
	AddDoorTrack(7, 3, 10 - 4, 10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(8, 3, 0 - 4, 0 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(9, 3, -10 - 4, -10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)

	AddDoorTrack(10, 4, 10 - 4, 10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(11, 4, 0 - 4, 0 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(12, 4, -10 - 4, -10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 0 #1st shaft for elevator bank
	Set Shaft1CZ = -50
	Set Shaft2CX = 0 #2nd shaft for elevator bank
	Set Shaft2CZ = -70

		#1st shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = left
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false

		#2nd shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = right
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false

	#****************************************#

	#Call buttons
	CallButtonElevators = 7, 8, 9, 10, 11, 12
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% + 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1AX = %Shaft1CX% + 5 #1st shaft for elevator bank
		Set Sign1BX = %Shaft1CX% - 5
		Set Sign1Z = %Shaft1CZ% - 5

		Set Sign2AX = %Shaft2CX% + 5 #2nd shaft for elevator bank
		Set Sign2BX = %Shaft2CX% - 5
		Set Sign2Z = %Shaft2CZ% + 5

		DrawWalls = true, false, false, false, false, false
		#AddWall Bank2HallSign1, ElevHallSign, 0, %Sign1AX% - 0.375, %Sign1Z% - 0.001, %Sign1AX% + 0.375, %Sign1Z% - 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank2FloorSign1, FlrSign%floorid%, 0, %Sign1AX% - 0.5, %Sign1Z% - 0.001, %Sign1AX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank2FloorSign2, FlrSign%floorid%, 0, %Sign1BX% - 0.5, %Sign1Z% - 0.001, %Sign1BX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false

		DrawWalls = false, true, false, false, false, false
		#AddWall Bank2HallSign2, ElevHallSign, 0, %Sign2AX% - 0.375, %Sign2Z% + 0.001, %Sign2AX% + 0.375, %Sign2Z% + 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank2FloorSign3, FlrSign%floorid%, 0, %Sign2AX% - 0.5, %Sign2Z% + 0.001, %Sign2AX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank2FloorSign4, FlrSign%floorid%, 0, %Sign2BX% - 0.5, %Sign2Z% + 0.001, %Sign2BX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, StudioInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(front, 7, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% = 0] ACMELobbyInds(front, 8, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% = 0] ACMELobbyInds(front, 9, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% = 0] ACMELobbyInds(back, 10, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% = 0] ACMELobbyInds(back, 11, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% = 0] ACMELobbyInds(back, 12, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)

		if[%floor% ! 0] ACMELobbyLanterns(front, 7, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% ! 0] ACMELobbyLanterns(front, 8, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% ! 0] ACMELobbyLanterns(front, 9, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% ! 0] ACMELobbyLanterns(back, 10, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% ! 0] ACMELobbyLanterns(back, 11, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)
		if[%floor% ! 0] ACMELobbyLanterns(back, 12, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 33)
<EndFunction>

#Elevator Bank 3
<Function Bank3ElevLby>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures

		Set StartNo = 13
		WallOrientation = right
		AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = right
		AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, -2, -2.8, 0, -2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, right, 0.6, 0, -2.8, 2, -2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 3, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 3, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 3, 1, %AutoFiller%, false
	
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 4, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 4, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 4, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 5, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, right, 0.6, 0, 2.8, 2, 2.8, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 5, 1, Right, (%DoorTexture%)2, (%DoorTexture%)2, 0.2, left, 0.6, -2, 2.8, 0, 2.8, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 5, 1, %AutoFiller%, false

	#Door tracks
	AddDoorTrack(13, 5, 10 - 4, 10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(14, 5, 0 - 4, 0 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)
	AddDoorTrack(15, 5, -10 - 4, -10 + 4, -4.67 + 0.33, -4.67 + 0.33 + 0.2, ElevDoorTrackZ)

	AddDoorTrack(16, 6, 10 - 4, 10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(17, 6, 0 - 4, 0 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(18, 6, -10 - 4, -10 + 4, 4.67 - 0.33 - 0.2, 4.67 - 0.33, ElevDoorTrackZ)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 0 #1st shaft for elevator bank
	Set Shaft1CZ = -20
	Set Shaft2CX = 0 #2nd shaft for elevator bank
	Set Shaft2CZ = -40

		#1st shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, front, true, false, floor, 0.05, 0.2, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = left
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% + 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX%, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft1CX% - 10, %Shaft1CZ% - 5, 4, 7, 0, true, 0, 0, false

		#2nd shaft
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)
		if[%floor% = 0] AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, %SideDecoH%, %TopDecoH%, 0, true, %DoorTrimTexture%, 0.66)

		WallOrientation = right
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% + 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX%, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false
		if[%floor% ! 0] AddFillerWalls %6%, 0.66, %Shaft2CX% - 10, %Shaft2CZ% + 5, 4, 7, 0, true, 0, 0, false

	#****************************************#

	#Call buttons
	CallButtonElevators = 13, 14, 15, 16, 17, 18
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% - 5, %Shaft1CZ% - 5 - 0.001, 3.5, front, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% + 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft2CX% - 5, %Shaft2CZ% + 5 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1AX = %Shaft1CX% + 5 #1st shaft for elevator bank
		Set Sign1BX = %Shaft1CX% - 5
		Set Sign1Z = %Shaft1CZ% - 5

		Set Sign2AX = %Shaft2CX% + 5 #2nd shaft for elevator bank
		Set Sign2BX = %Shaft2CX% - 5
		Set Sign2Z = %Shaft2CZ% + 5

		DrawWalls = true, false, false, false, false, false
		#AddWall Bank3HallSign1, ElevHallSign, 0, %Sign1AX% - 0.375, %Sign1Z% - 0.001, %Sign1AX% + 0.375, %Sign1Z% - 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank3FloorSign1, FlrSign%floorid%, 0, %Sign1AX% - 0.5, %Sign1Z% - 0.001, %Sign1AX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank3FloorSign2, FlrSign%floorid%, 0, %Sign1BX% - 0.5, %Sign1Z% - 0.001, %Sign1BX% + 0.5, %Sign1Z% - 0.001, 1, 1, 5.5, 5.5, 0, 0, false

		DrawWalls = false, true, false, false, false, false
		#AddWall Bank3HallSign2, ElevHallSign, 0, %Sign2AX% - 0.375, %Sign2Z% + 0.001, %Sign2AX% + 0.375, %Sign2Z% + 0.001, 1, 1, 2.4, 2.4, 0, 0, false

		#AddWall Bank3FloorSign3, FlrSign%floorid%, 0, %Sign2AX% - 0.5, %Sign2Z% + 0.001, %Sign2AX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false
		AddWall Bank3FloorSign4, FlrSign%floorid%, 0, %Sign2BX% - 0.5, %Sign2Z% + 0.001, %Sign2BX% + 0.5, %Sign2Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, StudioInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(front, 13, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% = 0] ACMELobbyInds(front, 14, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% = 0] ACMELobbyInds(front, 15, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% = 0] ACMELobbyInds(back, 16, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% = 0] ACMELobbyInds(back, 17, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% = 0] ACMELobbyInds(back, 18, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)

		if[%floor% ! 0] ACMELobbyLanterns(front, 13, %Shaft1CX% + 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% ! 0] ACMELobbyLanterns(front, 14, %Shaft1CX%, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% ! 0] ACMELobbyLanterns(front, 15, %Shaft1CX% - 10, %Shaft1CZ% - 5 - %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% ! 0] ACMELobbyLanterns(back, 16, %Shaft1CX% + 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% ! 0] ACMELobbyLanterns(back, 17, %Shaft1CX%, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)
		if[%floor% ! 0] ACMELobbyLanterns(back, 18, %Shaft1CX% - 10, %Shaft2CZ% + 5 + %ExtraLateralOffset%, %Offset%, 0, 44)
<EndFunction>

#Hall stations creation for office elevators
<Floor 0>
	Bank1ElevLby()
	Bank2ElevLby()
	Bank3ElevLby()
<EndFloor>

<Floors 10 to 21>
	Bank1ElevLby()
<EndFloors>

<Floors 22 to 33>
	Bank2ElevLby()
<EndFloors>

<Floors 34 to 44>
	Bank3ElevLby()
<EndFloors>

#Parking elevators
<Floors -2 to 9>
	#Shaft Doors
	ElevHallTex() #Set shaft door and panel textures

		Set StartNo = 21
		WallOrientation = left
		AddShaftDoorComponent %StartNo%, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, 3.64, -1.75, 3.64, 0, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo%, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.6, 3.64, 0, 3.64, 1.75, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo%, 1, %AutoFiller%, false
		
		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 1, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, 3.64, -1.75, 3.64, 0, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 1, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.6, 3.64, 0, 3.64, 1.75, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 1, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent %StartNo% + 2, 1, Left, %DoorTexture%, %DoorTexture%, 0.2, left, 0.6, 3.64, -1.75, 3.64, 0, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent %StartNo% + 2, 1, Right, %DoorTexture%2, %DoorTexture%2, 0.2, right, 0.6, 3.64, 0, 3.64, 1.75, 7, 0, 0, 0, 0, 0
		FinishShaftDoor %StartNo% + 2, 1, %AutoFiller%, false

	#Door tracks
	AddDoorTrack(21, 11, 4.17 - 0.33 - 0.2, 4.17 - 0.33, -10 - 3.5, -10 + 3.5, ElevDoorTrackX)
	AddDoorTrack(22, 11, 4.17 - 0.33 - 0.2, 4.17 - 0.33, 0 - 3.5, 0 + 3.5, ElevDoorTrackX)
	AddDoorTrack(23, 11, 4.17 - 0.33 - 0.2, 4.17 - 0.33, 10 - 3.5, 10 + 3.5, ElevDoorTrackX)

	#****************************************#

	#Door trims/fillers
	#WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = -75.5 #1st shaft for elevator bank
	Set Shaft1CZ = 60

		#1st shaft
		AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_TopAlt%, right, true, false, floor, 0.05, 0.2, %Shaft1CX% + 4.5, %Shaft1CZ% - 10, 3.5, 7, %SideDecoH-Alt%, %TopDecoH-Alt%, 0, true, %DoorTrimTexture%, 0.66)
		AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_TopAlt%, right, true, false, floor, 0.05, 0.2, %Shaft1CX% + 4.5, %Shaft1CZ%, 3.5, 7, %SideDecoH-Alt%, %TopDecoH-Alt%, 0, true, %DoorTrimTexture%, 0.66)
		AddDeco4(%DoorTrimTexture%, %DoorTrimTexture_TopAlt%, right, true, false, floor, 0.05, 0.2, %Shaft1CX% + 4.5, %Shaft1CZ% + 10, 3.5, 7, %SideDecoH-Alt%, %TopDecoH-Alt%, 0, true, %DoorTrimTexture%, 0.66)

	#****************************************#

	#Call buttons
	CallButtonElevators = 21, 22, 23
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 4.5 + 0.001, %Shaft1CZ% - 5, 3.5, right, 0.5, 1, true, 0, 0
	CreateCallButtons %BPanelTexture%, %ButtonPrefix%Up, %ButtonPrefix%UpLit, %ButtonPrefix%Down, %ButtonPrefix%DownLit, %Shaft1CX% + 4.5 + 0.001, %Shaft1CZ% + 5, 3.5, right, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1X = %Shaft1CX% + 4.5
		Set Sign1AZ = %Shaft1CZ% - 5 #1st shaft for elevator bank
		Set Sign1BZ = %Shaft1CZ% + 5

		DrawWalls = false, true, false, false, false, false
		if[%floor% > 1] AddWall ParkingHallSign1, ElevHallSign, 0, %Sign1X% + 0.001, %Sign1AZ% - 0.375, %Sign1X% + 0.001, %Sign1AZ% + 0.375, 1, 1, 2.4, 2.4, 0, 0, false

		if[%floor% < 2] AddWall ParkingFloorSign1, FlrSign%floorid%, 0, %Sign1X% + 0.001, %Sign1AZ% - 0.5, %Sign1X% + 0.001, %Sign1AZ% + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		if[%floor% > 1] AddWall ParkedFloorReminder, Floor%floorid%Reminder, 0, %Sign1X% + 0.001, %Sign1AZ% - 0.9, %Sign1X% + 0.001, %Sign1AZ% + 0.9, 1.2, 1.2, 5.5 + 0.5 - 0.6, 5.5 + 0.5 - 0.6, 0, 0, false
		#AddWall ParkingFloorSign2, FlrSign%floorid%, 0, %Sign1X% + 0.001, %Sign1BZ% - 0.5, %Sign1X% + 0.001, %Sign1BZ% + 0.5, 1, 1, 5.5, 5.5, 0, 0, false
		if[%floor% > 1] AddWall ParkingNotice, ParkingNotice, 0, %Sign1X% + 0.001, %Sign1BZ% - 0.8, %Sign1X% + 0.001, %Sign1BZ% + 0.8, 2.4, 2.4, 4.6, 4.6, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8
	if[%floor% > 1 & %floor% < 9] Set Offset = 7.5
	if[%floor% = 9] Set Offset = 7.75

		#Set textures
		ACMEInd_LanternTex(%LanternPrefix%Up, %LanternPrefix%UpLit, %LanternPrefix%Down, %LanternPrefix%DownLit, %LPanelTexture%, StudioInd_Button)

		#Indicator creation
		if[%floor% = 0] ACMELobbyInds(right, 21, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ% - 10, %Offset%, -2, 9)
		if[%floor% = 0] ACMELobbyInds(right, 22, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ%, %Offset%, -2, 9)
		if[%floor% = 0] ACMELobbyInds(right, 23, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ% + 10, %Offset%, -2, 9)

		if[%floor% ! 0] ACMELobbyLanterns(right, 21, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ% - 10, %Offset%, -2, 9)
		if[%floor% ! 0] ACMELobbyLanterns(right, 22, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ%, %Offset%, -2, 9)
		if[%floor% ! 0] ACMELobbyLanterns(right, 23, %Shaft1CX% + 4.5 + %ExtraLateralOffset%, %Shaft1CZ% + 10, %Offset%, -2, 9)
<EndFloors>

#****************************************#

#HALL STATIONS (SERVICE)
#Set textures
<Function SE_HallTx>
	#Shaft doors
	Set SDoorTexture = ElevDoorsA
	if[%floor% = -3 | %floor% = 45] Set SDoorTexture = ElevDoorsB
	if[%floor% > 21 & %floor% < 45] Set SDoorTexture = ElevDoorsB

	#Use automatic filler walls or not
	Set AutoFiller = false

	#Door trims
		#Sides
		Set SDoorTrimTexture = %SDoorTexture%_Trim

		#Top
		Set SDoorTrimTexture_Top = %SDoorTrimTexture%

	#Deco dimensions
		Set SSideDecoH = 7.2
		Set STopDecoH = 0.2

	#Call button panels
	Set SBPanelTexture = ElevExtPanels-MA
	Set SButtonPrefix = MAButton

	#Lantern panels
	#Set SLPanelTexture = %SBPanelTexture%
	Set SLPanelTexture = ElevExtPanels-MA2
	Set SLanternPrefix = MALantern
<EndFunction>

#Hall stations creation on all floors
<Floors -3 to 45>
	#Shaft Doors
	SE_HallTx() #Set shaft door and panel textures
	Set InitialDoorPos = 4.5 + (0.18 * 2) + 0.12

		WallOrientation = left
		AddShaftDoorComponent 19, 1, 2Speed_Fast, %SDoorTexture%, %SDoorTexture%, 0.18, right, 0.8, 0.6, -0.5 - 2.25, %InitialDoorPos%, -0.5, %InitialDoorPos%, 7, 0, 0, 0, 0, 0
		AddShaftDoorComponent 19, 1, 2Speed_Slow, %SDoorTexture%2, %SDoorTexture%2, 0.18, right, 0.4, 0.3, -0.5, %InitialDoorPos% + (0.18 * 1), -0.5 + 2.25, %InitialDoorPos% + (0.18 * 1), 7, 0, 0, 0, 0, 0
		FinishShaftDoor 19, 1, %AutoFiller%, false

		WallOrientation = left
		AddShaftDoorComponent 20, 1, 2Speed_Fast, %SDoorTexture%, %SDoorTexture%, 0.18, left, 0.8, 0.6, 0.5, %InitialDoorPos%, 0.5 + 2.25, %InitialDoorPos%, 7, 0, -1, 0, -1, 0
		AddShaftDoorComponent 20, 1, 2Speed_Slow, %SDoorTexture%2, %SDoorTexture%2, 0.18, left, 0.4, 0.3, 0.5 - 2.25, %InitialDoorPos% + (0.18 * 1), 0.5, %InitialDoorPos% + (0.18 * 1), 7, 0, -1, 0, -1, 0
		FinishShaftDoor 20, 1, %AutoFiller%, false

	#Gap filler
		WallOrientation = right
		DrawWalls = true, true, true, true, true, true
		TextureOverride ElevExt, ElevExt, ElevExt, %SDoorTrimTexture%, ElevExt, ElevExt
		AddShaftWall 7, GapFiller_Elev19, ElevExt, 0.36, 4 - 2.25 - 0.05, 5.67 - 0.33, 4 - 2.25, 5.67 - 0.33, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0
		TextureOverride ElevExt, ElevExt, %SDoorTrimTexture%, ElevExt, ElevExt, ElevExt
		AddShaftWall 7, GapFiller_Elev20, ElevExt, 0.36, -4 + 2.25, 5.67 - 0.33, -4 + 2.25 + 0.05, 5.67 - 0.33, 7, 7, %interfloorheight%, %interfloorheight%, 0, 0

	#Door tracks
	AddDoorTrack(19, 7, 4 - 2.25, 4 + 4.5, 5.67 - 0.33 - 0.36, 5.67 - 0.33, ElevDoorTrackZ)
	AddDoorTrack(20, 7, -4 - 4.5, -4 + 2.25, 5.67 - 0.33 - 0.36, 5.67 - 0.33, ElevDoorTrackZ)

	#Top filler
	AddTopFiller(19, 7, 4 - 2.25, 4, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 7, %SDoorTrimTexture%)
	AddTopFiller(20, 7, -4, -4 + 2.25, 5.67 - 0.33 - 0.18, 5.67 - 0.33, 7, %SDoorTrimTexture%)

	#****************************************#

	#Door trims/fillers
	WallTex() #Set filler textures to match with shaft walls
	Set Shaft1CX = 5 #1st shaft for elevator bank
	Set Shaft1CZ = 21

		#1st shaft
		if[(%floor% > -3 & %floor% < 2) | (%floor% > 9 & %floor% < 45)] AddDeco4(%SDoorTrimTexture%, %SDoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft1CX% + 5 - 1, %Shaft1CZ% + 6, 4.5, 7, %SSideDecoH%, %STopDecoH%, 0, true, %SDoorTrimTexture%, 0.66)
		if[(%floor% > -3 & %floor% < 2) | (%floor% > 9 & %floor% < 45)] AddDeco4(%SDoorTrimTexture%, %SDoorTrimTexture_Top%, back, true, false, floor, 0.05, 0.2, %Shaft1CX% - 5 + 1, %Shaft1CZ% + 6, 4.5, 7, %SSideDecoH%, %STopDecoH%, 0, true, %SDoorTrimTexture%, 0.66)

		WallOrientation = right
		if[%floor% = -3 | (%floor% > 1 & %floor% < 10) | %floor% = 45] AddFillerWalls %6S%, 0.66, %Shaft1CX% + 5 - 1, %Shaft1CZ% + 6, 4.5, 7, 0, true, 0, 0, false
		if[%floor% = -3 | (%floor% > 1 & %floor% < 10) | %floor% = 45] AddFillerWalls %6S%, 0.66, %Shaft1CX% - 5 + 1, %Shaft1CZ% + 6, 4.5, 7, 0, true, 0, 0, false

	#****************************************#

	#Call buttons
	CallButtonElevators = 19, 20
	CreateCallButtons %SBPanelTexture%, %SButtonPrefix%Up, %SButtonPrefix%UpLit, %SButtonPrefix%Down, %SButtonPrefix%DownLit, %Shaft1CX%, %Shaft1CZ% + 6 + 0.001, 3.5, back, 0.5, 1, true, 0, 0

		#Signs
		Set Sign1AX = %Shaft1CX% #1st shaft for elevator bank
		Set Sign1Z = %Shaft1CZ% + 6

		DrawWalls = false, true, false, false, false, false
		#AddWall ServHallSign, ElevHallSign, 0, %Sign1AX% - 0.375, %Sign1Z% + 0.001, %Sign1AX% + 0.375, %Sign1Z% + 0.001, 1, 1, 2.4, 2.4, 0, 0, false
		AddWall ServFloorSign, ServFlrSign%floorid%, 0, %Sign1AX% - 0.5, %Sign1Z% + 0.001, %Sign1AX% + 0.5, %Sign1Z% + 0.001, 1, 1, 5.5, 5.5, 0, 0, false

	#****************************************#

	#Indicator sets
	Set Offset = 8
	#if[%floor% > 1 & %floor% < 10] Set Offset = 7.5
	if[%floor% > 1 & %floor% < 9] Set Offset = 7.5

		#Set textures
		ACMEInd_LanternTex(%SLanternPrefix%Up, %SLanternPrefix%UpLit, %SLanternPrefix%Down, %SLanternPrefix%DownLit, %SLPanelTexture%, MAInd_Button)

		#Indicator creation
		ACMELobbyInds(back, 19, %Shaft1CX% + 5 - 1, %Shaft1CZ% + 6, %Offset%, -3, 45)
		ACMELobbyInds(back, 20, %Shaft1CX% - 5 + 1, %Shaft1CZ% + 6, %Offset%, -3, 45)
<EndFloors>

#****************************************#

#Global Settings for All Elevators
<Elevators 1 to 23>
	NotifyEarly = 2
	RecallFloor = 0

	#Motor movement sounds
	MotorStartSound = EG881Sounds/motor_start3.wav #EG881
	MotorRunSound = EG881Sounds/motor_running3.wav #EG881
	MotorStopSound = EG881Sounds/motor_stop3.wav #EG881
<EndElevators>

<Elevators 1 to 18>
	#Chimes and beep for TK Studio elevators
	UpChimeSound 1 = Other People's Fixtures/ThyssenKrupp Studio/tkstudioding.wav #Vector, gooper1, et al.
	DownChimeSound 1 = Other People's Fixtures/ThyssenKrupp Studio/tkstudiodings.wav #Vector, gooper1, et al.
	BeepSound = Other People's Fixtures/ThyssenKrupp Studio/tkstudiobeep.wav #Vector, gooper1, et al.

	#Door timer
	DoorTimer 1 = 10000
	QuickClose 1 = 7500

	#Door sounds
	OpenSound 1 = EG881Sounds/elevopen2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclose2.wav #EG881
<EndElevators>

<Elevators 1 to 6>
	LevelingOpen = 0.2

	#Car movement sounds
	CarStartSound = EG881Sounds/elevstart12.wav #EG881
	CarMoveSound = EG881Sounds/elevmove12.wav #EG881
	CarStopSound = EG881Sounds/elevstop12.wav #EG881
<EndElevators>

<Elevators 7 to 12>
	LevelingOpen = 0.2

	#Car movement sounds
	CarStartSound = EG881Sounds/fastelevstart4.wav #EG881
	CarMoveSound = EG881Sounds/fastelevmove4.wav #EG881
	CarStopSound = EG881Sounds/fastelevstop4.wav #EG881
<EndElevators>

<Elevators 13 to 18>
	LevelingOpen = 0.3

	#Car movement sounds
	CarStartSound = EG881Sounds/fastelevstart2.wav #EG881
	CarMoveSound = EG881Sounds/fastelevmove2.wav #EG881
	CarStopSound = EG881Sounds/fastelevstop2.wav #EG881
<EndElevators>

<Elevators 19 to 20>
	LevelingOpen = 0.3

	#Chimes for TK MAD BS elevators
	UpChimeSound 1 = KW_Sounds/tk_us_upchime.wav
	DownChimeSound 1 = KW_Sounds/tk_us_downchime.wav

	#Door timer
	DoorTimer 1 = 12000
	QuickClose 1 = 8000

	#Door sounds
	OpenSound 1 = EG881Sounds/freightelevatoropen1.wav #EG881
	CloseSound 1 = EG881Sounds/freightelevatorclose1.wav #EG881

	#Car movement sounds
	CarStartSound = EG881Sounds/elevstart12.wav #EG881
	CarMoveSound = EG881Sounds/elevmove12.wav #EG881
	CarStopSound = EG881Sounds/elevstop12.wav #EG881
<EndElevators>

<Elevators 21 to 23>
	#Chimes and beep for TK Studio elevators
	UpChimeSound 1 = Other People's Fixtures/ThyssenKrupp Studio/tkstudioding.wav #Vector, gooper1, et al.
	DownChimeSound 1 = Other People's Fixtures/ThyssenKrupp Studio/tkstudiodings.wav #Vector, gooper1, et al.
	BeepSound = Other People's Fixtures/ThyssenKrupp Studio/tkstudiobeep.wav #Vector, gooper1, et al.

	#Door timer
	DoorTimer 1 = 8000
	QuickClose 1 = 5000

	#Door sounds
	OpenSound 1 = EG881Sounds/elevopenquick2.wav #EG881
	CloseSound 1 = EG881Sounds/elevclosequick2.wav #EG881

	#Car movement sounds
	CarStartSound = EG881Sounds/elevstart11.wav #EG881
	CarMoveSound = EG881Sounds/elevmove11.wav #EG881
	CarStopSound = EG881Sounds/elevstop11.wav #EG881
<EndElevators>

#--- Elevator bank signs ---#
<Function ElevBankSigns>
	Set Prefix = %param1%
	Set SignSideTex = SignOfficeBankSide

	ElevHallTex() #Set signs' sides to match with lantern panels

	WallOrientation = center
	DrawWalls = true, true, true, true, true, true

	#Office elevators
	AddBoxSign(SignOFElev1, %Prefix%_1, %Prefix%_1, %SignSideTex%, 0.1, true, true, true, -15 - 1.25, 55 - 0.5, 2.5, 1.25, 8.5, false) #Low Zone
	AddBoxSign(SignOFElev2, %Prefix%_2, %Prefix%_2, %SignSideTex%, 0.1, true, true, true, -15 - 1.25, -65 - 0.5, 2.5, 1.25, 8.5, false) #Mid Zone
	AddBoxSign(SignOFElev3, %Prefix%_3, %Prefix%_3, %SignSideTex%, 0.1, true, true, true, -15 - 1.25, -35 - 0.5, 2.5, 1.25, 8.5, false) #High Zone

	#Parking elevators
	AddBoxSign(SignPKElev, SignParkingElev, SignParkingElev, ParkingElevBankSide, 0.1, true, true, true, -71 + 1.5625, 45 + 0.5, 1.25 * 2.5, 1.25, 8.5, false)
<EndFunction>

<Floor 0>
	ElevBankSigns(SignOfficeBank)
<EndFloor>

##--------------------------------------------------------------------------------##

#ESCALATORS

#Floor cuts for escalators
<Floors -2 to 0>
	#South (B2-G)
		if[%floor% > -2] Cut -55 - 4, %interfloorheight% - 0.1, -75, -47 + 4, %interfloorheight% + 0.1, -75 + 18, false, true
		if[%floor% < 0] Cut -55 - 4, %fullheight% - 0.1, -75, -47 + 4, %fullheight% + 0.1, -75 + 18, false, true
<EndFloors>

<Floors -1 to 0>
	#North (B1-G)
		if[%floor% > -1] Cut -55 - 4, %interfloorheight% - 0.1, 75 - 18, -47 + 4, %interfloorheight% + 0.1, 75, false, true
		if[%floor% < 0] Cut -55 - 4, %fullheight% - 0.1, 75 - 18, -47 + 4, %fullheight% + 0.1, 75, false, true
<EndFloors>

<Floors -2 to -1>
	#North (B2-B1)
		if[%floor% > -2] Cut -35 - 6, %interfloorheight% - 0.1, 45, -35 + 6, %interfloorheight% + 0.1, 45 + 18, false, true
		if[%floor% < -1] Cut -35 - 6, %fullheight% - 0.1, 45, -35 + 6, %fullheight% + 0.1, 45 + 18, false, true
<EndFloors>

#Railings around escalators
<Floors -1 to 0>
	WallTex() #Set wall texture
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	if[%floor% = 0] AddWall SouthEscRail_Front, %6%, 0.5, -59, -75, -43, -75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall SouthEscRail_Left, %6%, 0.5, -59, -75 - 0.5, -59, -75 + 18 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	AddWall SouthEscRail_Right, %6%, 0.5, -43, -75 - 0.5, -43, -75 + 18 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	if[%floor% = -1] AddWall SouthEscRail_Back, %6%, 0.5, -59, -75 + 18, -43, -75 + 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloors>

<Floor -1>
	WallTex() #Set wall texture
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	AddWall %floorid%EscRail_Front, %6%, 0.5, -35 - 6, 45, -35 + 6, 45, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall %floorid%EscRail_Left, %6%, 0.5, -35 - 6, 45 - 0.5, -35 - 6, 45 + 18 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	AddWall %floorid%EscRail_Right, %6%, 0.5, -35 + 6, 45 - 0.5, -35 + 6, 45 + 18 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall %floorid%EscRail_Back1, %6%, 0.5, -35 - 6, 45 + 18, -35 - 4, 45 + 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall %floorid%EscRail_Back2, %6%, 0.5, -35 + 4, 45 + 18, -35 + 6, 45 + 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloor>

<Floor 0>
	#Railings
	WallTex() #Set wall texture
	Set WallHeight = %interfloorheight% + 3.5
	Set WallOffset = -%interfloorheight%

	WallOrientation = right
	DrawWalls = true, true, true, true, true, false
	#AddWall LobbyEscRail_Front, %6%, 0.5, -59, 75 - 18, -43, 75 - 18, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LobbyEscRail_Left, %6%, 0.5, -59, 75 - 18 - 0.5, -59, 75 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	WallOrientation = left
	AddWall LobbyEscRail_Right, %6%, 0.5, -43, 75 - 18, -43, 75 + 0.5, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
	AddWall LobbyEscRail_Back, %6%, 0.5, -59, 75, -43, 75, %WallHeight%, %WallHeight%, %WallOffset%, %WallOffset%, 0, 0, false
<EndFloor>

#Set escalator properties
	OP_EscBalustrades(GlassBalustrade, 0, 3.5, 0, 0)
	OP_EscLanding(EscalatorLandingZ, 5.5, 0, 0, EscalatorLandingZ, 5.5, 0, 0)
	OP_EscHandrails(Handrail1, 0.22, 0.125, 0, 0)
	OP_EscTruss(SilverBalustrade2, LobbyEscWall, 0.5, 3.5, 0, 0, 0, 0)

#Escalators from B2 to B1
<Floor -2>
	OP_Escalator(NEscalator1-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -35 + 2, 45 + 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(NEscalator2-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -35 - 2, 45 + 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881

	OP_Escalator(SEscalator1-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -53, -75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(SEscalator2-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -49, -75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

#Escalators from B1 to G
<Floor -1>
	OP_Escalator(NEscalator3-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -57, 75 - 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(NEscalator4-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -45, 75 - 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881

	OP_Escalator(SEscalator3-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -57, -75 + 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(SEscalator4-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -45, -75 + 18, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

#Escalators from G to 2
<Floor 0>
	OP_Escalator(NEscalator5-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -53, 75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(NEscalator6-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3ZB, front, -49, 75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881

	OP_Escalator(SEscalator5-%floorid%, up, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -53, -75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
	OP_Escalator(SEscalator6-%floorid%, down, %floor% + 1, 1.1, EG881Sounds2/Escalators/otisescalator1.wav, Escalator3Z_Unmarked, Escalator3Z, back, -49, -75, 3, 2/3, 1, 18, 0, 0, 0, 0) #EG881
<EndFloor>

##--------------------------------------------------------------------------------##

#STAIRWELLS
<Function StairwellSets>
	#Set Values
	Set NumSteps = 12 #Total: 20 steps
	if[%floor% > 1 & %floor% < 9] Set NumSteps = 10 #Total: 20 steps

	#Extra sets at transition points
	Set NumStepsAlt = %NumSteps%
	if[%floor% = 2] Set NumStepsAlt = 12
	Set NumStepsAlt2 = %NumSteps%
	if[%floor% = 9] Set NumStepsAlt2 = 10
<EndFunction>

#North Stairwell
CreateStairwell 1, -2.5, 80, -3, 47
CutStairwell 1, -12, -4.5, 12, 4.5, 0, 5
ShowFullStairs 1 = always

<Floors -3 to 47>
	StairwellSets() #Determine stairs' size

	Set 21 = -2.5 #Center X
	Set 22 = 80 #Center Z
	Set 23 = 12 #Cut X
	Set 24 = 4.5 #Cut Z
	Set 25 = 1 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	#WallOrientation = right
	#DrawWalls = false, true, false, false, false, false
	#AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#WallOrientation = left
	#DrawWalls = true, false, false, false, false, false
	#AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	CreateWallBox2 Stairwell %25%, Stair%25%Inside, StairsWall, 0, 0, %23% * 2, %24% * 2, %fullheight%, -%interfloorheight%, 0, 0, true, false, false, false

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, %23% - 5 - %NumSteps%, 0, %23% - 5, 0, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 2] AddStairsWall %25%, Stair%25%Center2, StairsWall2, 1, %23% - 5 - %NumStepsAlt%, 0, %23% - 5 - %NumSteps%, 0, %interfloorheight% + 3, %interfloorheight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = left
	DrawWalls = true, true, true, false, true, true
	if[%floor% = 47] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, %23% - 5 - %NumSteps%, -%24%, %23% - 5 - %NumSteps%, %24% - 4 - 1, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 47] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 47] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, -%24%, -%24% + 4, left, %23% - 5 - %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 47] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, %24% - 4, %24%, right, %23% - 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%floor% = 9] OP_OrthoStair(%25%, ST%25%_DBLLowerStairs, Stairs, -%24%, -%24% + 4, left, %23% - 5 - %NumSteps%, %NumSteps%, 1, %26%, %26% * 24, 0.5)
	if[%floor% = 9] OP_OrthoStair(%25%, ST%25%_DBLUpperStairs, Stairs, %24% - 4, %24%, right, %23% - 5, %NumSteps%, 1, %26%, %26% * 36, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23% - 5 - %NumStepsAlt%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 2] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, %23% - 5 - %NumStepsAlt%, -%24%, %23% - 5 - %NumSteps%, -%24% + 4, 0, 0, false, false, 0, 0
	if[%floor% = 9] AddStairsFloor %25%, Stairs%25%Transition2, StairsFloor, 0.5, %23% - 5 - %NumSteps%, %24% - 4, %23% - 5 - %NumStepsAlt2%, %24%,0, 0, false, false, 0, 0
	if[%floor% < 47] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, %23% - 5, -%24%, %23%, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

		#Extra landings for double-height floor
		if[%floor% = 9] AddStairsFloor %25%, Stairs%25%_DBLLandingLower, StairsFloor, 0.5, -%23%, -%24%, %23% - 5 - %NumStepsAlt%, %24%, %26% * 24, %26% * 24, false, false, 0, 0
		if[%floor% = 9] AddStairsFloor %25%, Stairs%25%_DBLLandingUpper, StairsFloor, 0.5, %23% - 5, -%24%, %23%, %24%, %26% * 36, %26% * 36, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = false, true, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, -%23% + 0.001, %SignCenterPoint% - 1, -%23% + 0.001, %SignCenterPoint% + 1, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#External walls
	WallTex()
	Set ShowFront = false
	if[%floor% < -1 | %floor% > 23] Set ShowFront = true

	WallTex()
	if[%floor% < 47] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %SHeight%, %SOffset%, %ShowFront%, true, false, true, false, false, %IsExternal%)
	#Set 6 = ExtFacade #Override
	if[%floor% = 47] CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%_Roof, %height%, %interfloorheight%, true, true, false, true, true, false, true)

	#Doors
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, %24%, 3, 7, 0, 0, 0

	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, -%23% + 2, %24% + 0.5, 3, 7, 0, 0, 0

	#Exit to Roof and Service Elevators' Machine Room
	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 47] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 8, 75, -%23% + 2, -%24% - 0.5, 3, 7, 0, 0, 0

		#Filler walls for external mesh
		WallOrientation = right
		if[(%floor% > 1 & %floor% < 10) | %floor% = 47] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% + %24% + 0.5, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true
		WallOrientation = left
		if[%floor% = 47] AddFillerWalls ServiceDoor2Side, 0.5, %21% - %23% + 2, %22% - %24% - 0.5, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0 & %floor% ! 47] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.5 + 0.05, 1.8, 0.9, 7.2, false)
	if[%floor% = 47] AddBoxSign(Stair%25%_SignMain, StainlessSteel, %SignTex%, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% + 0.5 + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 47] AddBoxSign(Stair%25%_SignRoof, StainlessSteel, ExitSignUp, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% - %24% + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGroundLevel, ExitSign, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% - %23% + 2, %22% + %24% - 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

#South Stairwell
CreateStairwell 2, 2.5, -80, -3, 46
CutStairwell 2, -12, -4.5, 12, 4.5, 0, 5

<Floors -3 to 46>
	StairwellSets() #Determine stairs' size

	Set 21 = 2.5 #Center X
	Set 22 = -80 #Center Z
	Set 23 = 12 #Cut X
	Set 24 = 4.5 #Cut Z
	Set 25 = 2 #Stairwell Number
	Set 26 = 0.5 #Riser Size

	#Walls
	#WallOrientation = right
	#DrawWalls = false, true, false, false, false, false
	#AddStairsWall %25%, Stair%25%Front, StairsWall, 0.5, -%23%, -%24%, %23%, -%24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#AddStairsWall %25%, Stair%25%Left, StairsWall, 0.5, -%23%, -%24%, -%23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#WallOrientation = left
	#DrawWalls = true, false, false, false, false, false
	#AddStairsWall %25%, Stair%25%Right, StairsWall, 0.5, %23%, -%24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	#AddStairsWall %25%, Stair%25%Back, StairsWall, 0.5, -%23%, %24%, %23%, %24%, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0

	CreateWallBox2 Stairwell %25%, Stair%25%Inside, StairsWall, 0, 0, %23% * 2, %24% * 2, %fullheight%, -%interfloorheight%, 0, 0, true, false, false, false

	WallOrientation = center
	DrawWalls = true, true, true, true, false, true
	AddStairsWall %25%, Stair%25%Center, StairsWall2, 1, -%23% + 5, 0, -%23% + 5 + %NumSteps%, 0, %fullheight%, %fullheight%, -%interfloorheight%, -%interfloorheight%, 0, 0
	DrawWalls = true, true, true, true, true, true
	if[%floor% = 2] AddStairsWall %25%, Stair%25%Center2, StairsWall2, 1, -%23% + 5 + %NumSteps%, 0, -%23% + 5 + %NumStepsAlt%, 0, %interfloorheight% + 3, %interfloorheight% + 3, -%interfloorheight%, -%interfloorheight%, 0, 0

	#Railing
	WallOrientation = right
	DrawWalls = true, true, true, false, true, true
	if[%floor% = 46] AddStairsWall %25%, Stair%25%Rail, StairsWall2, 0.5, -%23% + 5 + %NumSteps%, -%24% + 4 + 1, -%23% + 5 + %NumSteps%, %24%, 0.5 + 3.5, 0.5 + 3.5, -0.5, -0.5, 0, 0

	#Ceiling
	FloorOrientation = top
	DrawWalls = true, false, false, false, false, false
	if[%floor% = 46] AddStairsFloor %25%, Stairs%25%Ceiling, StairsCeiling, 0.5, -%23%, -%24%, %23%, %24%, %height%, %height%, false, false, 0, 0

	#Stairs
	OP_Draw(true, true, true, true, true, true)
	if[%floor% < 46] OP_OrthoStair(%25%, ST%25%_LowerStairs, Stairs, %24% - 4, %24%, right, -%23% + 5 + %NumSteps%, %NumSteps%, 1, %26%, 0, 0.5)
	if[%floor% < 46] OP_OrthoStair(%25%, ST%25%_UpperStairs, Stairs, -%24%, -%24% + 4, left, -%23% + 5, %NumSteps%, 1, %26%, %26% * %NumSteps%, 0.5)
	if[%floor% = 9] OP_OrthoStair(%25%, ST%25%_DBLLowerStairs, Stairs, %24% - 4, %24%, right, -%23% + 5 + %NumSteps%, %NumSteps%, 1, %26%, %26% * 24, 0.5)
	if[%floor% = 9] OP_OrthoStair(%25%, ST%25%_DBLUpperStairs, Stairs, -%24%, -%24% + 4, left, -%23% + 5, %NumSteps%, 1, %26%, %26% * 36, 0.5)

	#Landings
	FloorOrientation = top
	DrawWalls = true, true, false, false, false, false
	if[%floor% = -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% > -3] AddStairsFloor %25%, Stairs%25%LandingLower, StairsFloor, 0.5, -%23% + 5 + %NumStepsAlt%, -%24%, %23%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 2] AddStairsFloor %25%, Stairs%25%Transition1, StairsFloor, 0.5, -%23% + 5 + %NumSteps%, %24% - 4, -%23% + 5 + %NumStepsAlt%, %24%, 0, 0, false, false, 0, 0
	if[%floor% = 9] AddStairsFloor %25%, Stairs%25%Transition2, StairsFloor, 0.5, -%23% + 5 + %NumStepsAlt2%, -%24%, -%23% + 5 + %NumSteps%, -%24% + 4, 0, 0, false, false, 0, 0
	if[%floor% < 46] AddStairsFloor %25%, Stairs%25%LandingUpper, StairsFloor, 0.5, -%23%, -%24%, -%23% + 5, %24%, %26% * %NumSteps%, %26% * %NumSteps%, false, false, 0, 0

		#Extra landings for double-height floor
		if[%floor% = 9] AddStairsFloor %25%, Stairs%25%_DBLLandingLower, StairsFloor, 0.5, -%23% + 5 + %NumStepsAlt%, -%24%, %23%, %24%, %26% * 24, %26% * 24, false, false, 0, 0
		if[%floor% = 9] AddStairsFloor %25%, Stairs%25%_DBLLandingUpper, StairsFloor, 0.5, -%23%, -%24%, -%23% + 5, %24%, %26% * 36, %26% * 36, false, false, 0, 0

	#Floor Signs
	Set Suffix = %floorid%
	Set SignCenterPoint = 0

	DrawWalls = true, false, false, false, false, false
	AddStairsWall %25%, ST%25%FloorSign, BlankSign%Suffix%, 0, %23% - 0.001, %SignCenterPoint% - 1, %23% - 0.001, %SignCenterPoint% + 1, 2, 2, 4 - 0.5, 4 - 0.5, 0, 0

	#External walls
	WallTex()
	Set ShowBack = false
	if[%floor% < -1 | %floor% > 35] Set ShowBack = true
	Set ShowRight = false
	if[%floor% < 0 | %floor% > 9] Set ShowRight = true

	WallTex()
	CreateShaftWall(%6%, %6%, %6%, %6%, %6%, %6%, 0.5, %21%, %22%, %23% + 0.5, %24% + 0.5, ST%25%, %SHeight%, %SOffset%, true, false, %ShowRight%, %ShowBack%, false, false, %IsExternal%)

	#Doors
	WallOrientation = right
	TextureOverride ServiceDoor2B, ServiceDoor2, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% ! 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 6, 75, %23% - 2, -%24%, 3, 7, 0, 0, 0

	WallOrientation = left
	TextureOverride ServiceDoor2, ServiceDoor2B, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side, ServiceDoor2Side
	if[%floor% = 0] AddStairsDoor %25%, , , false, ServiceDoor2, 0.2, 5, 75, %23% - 2, -%24% - 0.5, 3, 7, 0, 0, 0

		#Filler walls for external mesh
		WallOrientation = left
		if[%floor% > 1 & %floor% < 10] AddFillerWalls ServiceDoor2Side, 0.5, %21% + %23% - 2, %22% - %24% - 0.5, 3, 7 - 0.001, %interfloorheight%, true, 0, 0, true

	#Exit Signs
	Set SignTex = ExitSign
	if[%floor% < 0] Set SignTex = ExitSignUp

	if[%floor% ! 0] AddBoxSign(Stair%25%_SignMain, %SignTex%, StainlessSteel, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% - 0.5 - 0.05, 1.8, 0.9, 7.2, false)
	if[%floor% = 0] AddBoxSign(Stair%25%_SignGroundLevel, StainlessSteel, ExitSign, StainlessSteel, 0.1, true, true, true, %21% + %23% - 2, %22% - %24% + 0.05, 1.8, 0.9, %interfloorheight% + 7.2, true)
<EndFloors>

##--------------------------------------------------------------------------------##

#Automatic doors
	#Include script
	<Include AutomaticDoor2013/Scripts/r3_script.txt>

	#West Entrances
	WallOrientation = right
	AddAutomaticDoor3(24, 1, 0, -79.5, 20, AutoDoors, AutoDoors_Side, 2, 0.15, left, left, 8, 8.5, 0.75, 12000, elevopenquick.wav, elevclosequick.wav, , true, true, 5, W1Ent_SensorUnlit, W1Ent_SensorLit)
	AddAutomaticDoor3(25, 1, 0, -79.5, -20, AutoDoors, AutoDoors_Side, 2, 0.15, left, left, 8, 8.5, 0.75, 12000, elevopenquick.wav, elevclosequick.wav, , true, true, 5, W2Ent_SensorUnlit, W2Ent_SensorLit)

	<Floor 0>
		WallTex() #Set wall texture

		#Create filler walls and windows
			#Filler walls
			WallOrientation = left
			AddFillerWalls %6%, 0.5, -80, -20, (8 * 2) + 0.3, 8.5 + 1.5, %interfloorheight%, false, 0, 0, true
			AddFillerWalls %6%, 0.5, -80, 20, (8 * 2) + 0.3, 8.5 + 1.5, %interfloorheight%, false, 0, 0, true

			#Decos
			AddDeco4(AD_Deco, AD_Deco, right, true, false, external, 0.5, 0.15, -80, -20, 8 * 2, 8.5, 8.5 + 1.5, 1.5, 0, false, Blank, 0)
			AddDeco4(AD_Deco, AD_Deco, right, true, false, external, 0.5, 0.15, -80, 20, 8 * 2, 8.5, 8.5 + 1.5, 1.5, 0, false, Blank, 0)

			#Windows around doors
			WallOrientation = right
			SetAutoSize = false, false
			DrawWalls = true, true, true, true, false, false
			TextureOverride ADWindows, ADWindows, ADWindows_Side, ADWindows_Side, ADWindows_Side, ADWindows_Side
			AddWall W1Ent_Windows1, ADWindows, 0.15, -79.65, 20 - 8, -79.65, 20 - 4, 8.5, 8.5, %interfloorheight%, %interfloorheight%, 0, 0, true
			TextureOverride ADWindows, ADWindows, ADWindows_Side, ADWindows_Side, ADWindows_Side, ADWindows_Side
			AddWall W1Ent_Windows2, ADWindows, 0.15, -79.65, 20 + 4, -79.65, 20 + 8, 8.5, 8.5, %interfloorheight%, %interfloorheight%, 0, 0, true

			TextureOverride ADWindows, ADWindows, ADWindows_Side, ADWindows_Side, ADWindows_Side, ADWindows_Side
			AddWall W2Ent_Windows1, ADWindows, 0.15, -79.65, -20 - 8, -79.65, -20 - 4, 8.5, 8.5, %interfloorheight%, %interfloorheight%, 0, 0, true
			TextureOverride ADWindows, ADWindows, ADWindows_Side, ADWindows_Side, ADWindows_Side, ADWindows_Side
			AddWall W2Ent_Windows2, ADWindows, 0.15, -79.65, -20 + 4, -79.65, -20 + 8, 8.5, 8.5, %interfloorheight%, %interfloorheight%, 0, 0, true
			SetAutoSize = true, true

			#Sensors
			FloorOrientation = top
			DrawWalls = true, true, true, true, false, false		
			AddFloor W1Ent_Sensor, W1Ent_SensorUnlit, 0, -79.75 - 0.05, 20 - 0.05, -79.75 + 0.05, 20 + 0.05, 8.5 - 0.001, 8.5 - 0.001, 0, 0, false
			AddFloor W2Ent_Sensor, W2Ent_SensorUnlit, 0, -79.75 - 0.05, -20 - 0.05, -79.75 + 0.05, -20 + 0.05, 8.5 - 0.001, 8.5 - 0.001, 0, 0, false
	<EndFloor>